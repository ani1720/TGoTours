(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Xc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function yf(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var ym={exports:{}},_c={},wm={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function Rx(){if(aw)return et;aw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=I&&G[I]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function M(G,se,Ee){this.props=G,this.context=se,this.refs=N,this.updater=Ee||b}M.prototype.isReactComponent={},M.prototype.setState=function(G,se){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,se,"setState")},M.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function j(){}j.prototype=M.prototype;function Q(G,se,Ee){this.props=G,this.context=se,this.refs=N,this.updater=Ee||b}var te=Q.prototype=new j;te.constructor=Q,O(te,M.prototype),te.isPureReactComponent=!0;var oe=Array.isArray,me=Object.prototype.hasOwnProperty,Ce={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function D(G,se,Ee){var Re,xe={},Ie=null,Ke=null;if(se!=null)for(Re in se.ref!==void 0&&(Ke=se.ref),se.key!==void 0&&(Ie=""+se.key),se)me.call(se,Re)&&!H.hasOwnProperty(Re)&&(xe[Re]=se[Re]);var Qe=arguments.length-2;if(Qe===1)xe.children=Ee;else if(1<Qe){for(var gt=Array(Qe),zt=0;zt<Qe;zt++)gt[zt]=arguments[zt+2];xe.children=gt}if(G&&G.defaultProps)for(Re in Qe=G.defaultProps,Qe)xe[Re]===void 0&&(xe[Re]=Qe[Re]);return{$$typeof:n,type:G,key:Ie,ref:Ke,props:xe,_owner:Ce.current}}function F(G,se){return{$$typeof:n,type:G.type,key:se,ref:G.ref,props:G.props,_owner:G._owner}}function q(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function $(G){var se={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ee){return se[Ee]})}var K=/\/+/g;function U(G,se){return typeof G=="object"&&G!==null&&G.key!=null?$(""+G.key):se.toString(36)}function ut(G,se,Ee,Re,xe){var Ie=typeof G;(Ie==="undefined"||Ie==="boolean")&&(G=null);var Ke=!1;if(G===null)Ke=!0;else switch(Ie){case"string":case"number":Ke=!0;break;case"object":switch(G.$$typeof){case n:case e:Ke=!0}}if(Ke)return Ke=G,xe=xe(Ke),G=Re===""?"."+U(Ke,0):Re,oe(xe)?(Ee="",G!=null&&(Ee=G.replace(K,"$&/")+"/"),ut(xe,se,Ee,"",function(zt){return zt})):xe!=null&&(q(xe)&&(xe=F(xe,Ee+(!xe.key||Ke&&Ke.key===xe.key?"":(""+xe.key).replace(K,"$&/")+"/")+G)),se.push(xe)),1;if(Ke=0,Re=Re===""?".":Re+":",oe(G))for(var Qe=0;Qe<G.length;Qe++){Ie=G[Qe];var gt=Re+U(Ie,Qe);Ke+=ut(Ie,se,Ee,gt,xe)}else if(gt=S(G),typeof gt=="function")for(G=gt.call(G),Qe=0;!(Ie=G.next()).done;)Ie=Ie.value,gt=Re+U(Ie,Qe++),Ke+=ut(Ie,se,Ee,gt,xe);else if(Ie==="object")throw se=String(G),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return Ke}function fn(G,se,Ee){if(G==null)return G;var Re=[],xe=0;return ut(G,Re,"","",function(Ie){return se.call(Ee,Ie,xe++)}),Re}function ht(G){if(G._status===-1){var se=G._result;se=se(),se.then(function(Ee){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ee)},function(Ee){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ee)}),G._status===-1&&(G._status=0,G._result=se)}if(G._status===1)return G._result.default;throw G._result}var st={current:null},ae={transition:null},Oe={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:ae,ReactCurrentOwner:Ce};function ue(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:fn,forEach:function(G,se,Ee){fn(G,function(){se.apply(this,arguments)},Ee)},count:function(G){var se=0;return fn(G,function(){se++}),se},toArray:function(G){return fn(G,function(se){return se})||[]},only:function(G){if(!q(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},et.Component=M,et.Fragment=t,et.Profiler=o,et.PureComponent=Q,et.StrictMode=r,et.Suspense=m,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,et.act=ue,et.cloneElement=function(G,se,Ee){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Re=O({},G.props),xe=G.key,Ie=G.ref,Ke=G._owner;if(se!=null){if(se.ref!==void 0&&(Ie=se.ref,Ke=Ce.current),se.key!==void 0&&(xe=""+se.key),G.type&&G.type.defaultProps)var Qe=G.type.defaultProps;for(gt in se)me.call(se,gt)&&!H.hasOwnProperty(gt)&&(Re[gt]=se[gt]===void 0&&Qe!==void 0?Qe[gt]:se[gt])}var gt=arguments.length-2;if(gt===1)Re.children=Ee;else if(1<gt){Qe=Array(gt);for(var zt=0;zt<gt;zt++)Qe[zt]=arguments[zt+2];Re.children=Qe}return{$$typeof:n,type:G.type,key:xe,ref:Ie,props:Re,_owner:Ke}},et.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:a,_context:G},G.Consumer=G},et.createElement=D,et.createFactory=function(G){var se=D.bind(null,G);return se.type=G,se},et.createRef=function(){return{current:null}},et.forwardRef=function(G){return{$$typeof:d,render:G}},et.isValidElement=q,et.lazy=function(G){return{$$typeof:w,_payload:{_status:-1,_result:G},_init:ht}},et.memo=function(G,se){return{$$typeof:_,type:G,compare:se===void 0?null:se}},et.startTransition=function(G){var se=ae.transition;ae.transition={};try{G()}finally{ae.transition=se}},et.unstable_act=ue,et.useCallback=function(G,se){return st.current.useCallback(G,se)},et.useContext=function(G){return st.current.useContext(G)},et.useDebugValue=function(){},et.useDeferredValue=function(G){return st.current.useDeferredValue(G)},et.useEffect=function(G,se){return st.current.useEffect(G,se)},et.useId=function(){return st.current.useId()},et.useImperativeHandle=function(G,se,Ee){return st.current.useImperativeHandle(G,se,Ee)},et.useInsertionEffect=function(G,se){return st.current.useInsertionEffect(G,se)},et.useLayoutEffect=function(G,se){return st.current.useLayoutEffect(G,se)},et.useMemo=function(G,se){return st.current.useMemo(G,se)},et.useReducer=function(G,se,Ee){return st.current.useReducer(G,se,Ee)},et.useRef=function(G){return st.current.useRef(G)},et.useState=function(G){return st.current.useState(G)},et.useSyncExternalStore=function(G,se,Ee){return st.current.useSyncExternalStore(G,se,Ee)},et.useTransition=function(){return st.current.useTransition()},et.version="18.3.1",et}var lw;function Qg(){return lw||(lw=1,wm.exports=Rx()),wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function Lx(){if(uw)return _c;uw=1;var n=Qg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,m,_){var w,I={},S=null,b=null;_!==void 0&&(S=""+_),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(b=m.ref);for(w in m)r.call(m,w)&&!a.hasOwnProperty(w)&&(I[w]=m[w]);if(d&&d.defaultProps)for(w in m=d.defaultProps,m)I[w]===void 0&&(I[w]=m[w]);return{$$typeof:e,type:d,key:S,ref:b,props:I,_owner:o.current}}return _c.Fragment=t,_c.jsx=u,_c.jsxs=u,_c}var cw;function Nx(){return cw||(cw=1,ym.exports=Lx()),ym.exports}var A=Nx(),B=Qg();const Su=Xc(B);var vd={},Em={exports:{}},gr={},Tm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function Ox(){return hw||(hw=1,function(n){function e(ae,Oe){var ue=ae.length;ae.push(Oe);e:for(;0<ue;){var G=ue-1>>>1,se=ae[G];if(0<o(se,Oe))ae[G]=Oe,ae[ue]=se,ue=G;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var Oe=ae[0],ue=ae.pop();if(ue!==Oe){ae[0]=ue;e:for(var G=0,se=ae.length,Ee=se>>>1;G<Ee;){var Re=2*(G+1)-1,xe=ae[Re],Ie=Re+1,Ke=ae[Ie];if(0>o(xe,ue))Ie<se&&0>o(Ke,xe)?(ae[G]=Ke,ae[Ie]=ue,G=Ie):(ae[G]=xe,ae[Re]=ue,G=Re);else if(Ie<se&&0>o(Ke,ue))ae[G]=Ke,ae[Ie]=ue,G=Ie;else break e}}return Oe}function o(ae,Oe){var ue=ae.sortIndex-Oe.sortIndex;return ue!==0?ue:ae.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],_=[],w=1,I=null,S=3,b=!1,O=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(ae){for(var Oe=t(_);Oe!==null;){if(Oe.callback===null)r(_);else if(Oe.startTime<=ae)r(_),Oe.sortIndex=Oe.expirationTime,e(m,Oe);else break;Oe=t(_)}}function oe(ae){if(N=!1,te(ae),!O)if(t(m)!==null)O=!0,ht(me);else{var Oe=t(_);Oe!==null&&st(oe,Oe.startTime-ae)}}function me(ae,Oe){O=!1,N&&(N=!1,j(D),D=-1),b=!0;var ue=S;try{for(te(Oe),I=t(m);I!==null&&(!(I.expirationTime>Oe)||ae&&!$());){var G=I.callback;if(typeof G=="function"){I.callback=null,S=I.priorityLevel;var se=G(I.expirationTime<=Oe);Oe=n.unstable_now(),typeof se=="function"?I.callback=se:I===t(m)&&r(m),te(Oe)}else r(m);I=t(m)}if(I!==null)var Ee=!0;else{var Re=t(_);Re!==null&&st(oe,Re.startTime-Oe),Ee=!1}return Ee}finally{I=null,S=ue,b=!1}}var Ce=!1,H=null,D=-1,F=5,q=-1;function $(){return!(n.unstable_now()-q<F)}function K(){if(H!==null){var ae=n.unstable_now();q=ae;var Oe=!0;try{Oe=H(!0,ae)}finally{Oe?U():(Ce=!1,H=null)}}else Ce=!1}var U;if(typeof Q=="function")U=function(){Q(K)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,fn=ut.port2;ut.port1.onmessage=K,U=function(){fn.postMessage(null)}}else U=function(){M(K,0)};function ht(ae){H=ae,Ce||(Ce=!0,U())}function st(ae,Oe){D=M(function(){ae(n.unstable_now())},Oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){O||b||(O=!0,ht(me))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(ae){switch(S){case 1:case 2:case 3:var Oe=3;break;default:Oe=S}var ue=S;S=Oe;try{return ae()}finally{S=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,Oe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ue=S;S=ae;try{return Oe()}finally{S=ue}},n.unstable_scheduleCallback=function(ae,Oe,ue){var G=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?G+ue:G):ue=G,ae){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ue+se,ae={id:w++,callback:Oe,priorityLevel:ae,startTime:ue,expirationTime:se,sortIndex:-1},ue>G?(ae.sortIndex=ue,e(_,ae),t(m)===null&&ae===t(_)&&(N?(j(D),D=-1):N=!0,st(oe,ue-G))):(ae.sortIndex=se,e(m,ae),O||b||(O=!0,ht(me))),ae},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(ae){var Oe=S;return function(){var ue=S;S=Oe;try{return ae.apply(this,arguments)}finally{S=ue}}}}(Im)),Im}var dw;function Mx(){return dw||(dw=1,Tm.exports=Ox()),Tm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function Dx(){if(fw)return gr;fw=1;var n=Qg(),e=Mx();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,l){u(i,l),u(i+"Capture",l)}function u(i,l){for(o[i]=l,i=0;i<l.length;i++)r.add(l[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},I={};function S(i){return m.call(I,i)?!0:m.call(w,i)?!1:_.test(i)?I[i]=!0:(w[i]=!0,!1)}function b(i,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function O(i,l,h,g){if(l===null||typeof l>"u"||b(i,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function N(i,l,h,g,y,T,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=i,this.type=l,this.sanitizeURL=T,this.removeEmptyString=P}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){M[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];M[l]=new N(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){M[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){M[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){M[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){M[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){M[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){M[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){M[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function Q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(j,Q);M[l]=new N(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(j,Q);M[l]=new N(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(j,Q);M[l]=new N(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){M[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),M.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){M[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function te(i,l,h,g){var y=M.hasOwnProperty(l)?M[l]:null;(y!==null?y.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(O(l,h,y,g)&&(h=null),g||y===null?S(l)&&(h===null?i.removeAttribute(l):i.setAttribute(l,""+h)):y.mustUseProperty?i[y.propertyName]=h===null?y.type===3?!1:"":h:(l=y.attributeName,g=y.attributeNamespace,h===null?i.removeAttribute(l):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,g?i.setAttributeNS(g,l,h):i.setAttribute(l,h))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),$=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),fn=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),st=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Oe(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,G;function se(i){if(G===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+i}var Ee=!1;function Re(i,l){if(!i||Ee)return"";Ee=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(re){var g=re}Reflect.construct(i,[],l)}else{try{l.call()}catch(re){g=re}i.call(l.prototype)}else{try{throw Error()}catch(re){g=re}i()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var y=re.stack.split(`
`),T=g.stack.split(`
`),P=y.length-1,V=T.length-1;1<=P&&0<=V&&y[P]!==T[V];)V--;for(;1<=P&&0<=V;P--,V--)if(y[P]!==T[V]){if(P!==1||V!==1)do if(P--,V--,0>V||y[P]!==T[V]){var W=`
`+y[P].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=P&&0<=V);break}}}finally{Ee=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?se(i):""}function xe(i){switch(i.tag){case 5:return se(i.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Ie(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case Ce:return"Portal";case F:return"Profiler";case D:return"StrictMode";case U:return"Suspense";case ut:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case $:return(i.displayName||"Context")+".Consumer";case q:return(i._context.displayName||"Context")+".Provider";case K:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case fn:return l=i.displayName||null,l!==null?l:Ie(i.type)||"Memo";case ht:l=i._payload,i=i._init;try{return Ie(i(l))}catch{}}return null}function Ke(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(l);case 8:return l===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Qe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gt(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function zt(i){var l=gt(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,T=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return y.call(this)},set:function(P){g=""+P,T.call(this,P)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Tr(i){i._valueTracker||(i._valueTracker=zt(i))}function Ur(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return i&&(g=gt(i)?i.checked?"true":"false":i.value),i=g,i!==h?(l.setValue(i),!0):!1}function zr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function us(i,l){var h=l.checked;return ue({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function cs(i,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Qe(l.value!=null?l.value:h),i._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function po(i,l){l=l.checked,l!=null&&te(i,"checked",l,!1)}function hs(i,l){po(i,l);var h=Qe(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?mo(i,l.type,h):l.hasOwnProperty("defaultValue")&&mo(i,l.type,Qe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function ds(i,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,h||l===i.value||(i.value=l),i.defaultValue=l}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function mo(i,l,h){(l!=="number"||zr(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var Br=Array.isArray;function Ir(i,l,h,g){if(i=i.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<i.length;h++)y=l.hasOwnProperty("$"+i[h].value),i[h].selected!==y&&(i[h].selected=y),y&&g&&(i[h].defaultSelected=!0)}else{for(h=""+Qe(h),l=null,y=0;y<i.length;y++){if(i[y].value===h){i[y].selected=!0,g&&(i[y].defaultSelected=!0);return}l!==null||i[y].disabled||(l=i[y])}l!==null&&(l.selected=!0)}}function go(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function fs(i,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(Br(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}i._wrapperState={initialValue:Qe(h)}}function _o(i,l){var h=Qe(l.value),g=Qe(l.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),l.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),g!=null&&(i.defaultValue=""+g)}function Fa(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Ot(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Ot(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Hr,ja=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,g,y){MSApp.execUnsafeLocalFunction(function(){return i(l,h,g,y)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Hr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function ui(i,l){if(l){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=l;return}}i.textContent=l}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ps=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(i){ps.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),bi[l]=bi[i]})});function vo(i,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||bi.hasOwnProperty(i)&&bi[i]?(""+l).trim():l+"px"}function ms(i,l){i=i.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,y=vo(h,l[h],g);h==="float"&&(h="cssFloat"),g?i.setProperty(h,y):i[h]=y}}var yo=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(i,l){if(l){if(yo[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function ci(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gs=null;function wo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _s=null,Wn=null,Sr=null;function Eo(i){if(i=Fs(i)){if(typeof _s!="function")throw Error(t(280));var l=i.stateNode;l&&(l=Ql(l),_s(i.stateNode,i.type,l))}}function qr(i){Wn?Sr?Sr.push(i):Sr=[i]:Wn=i}function za(){if(Wn){var i=Wn,l=Sr;if(Sr=Wn=null,Eo(i),l)for(i=0;i<l.length;i++)Eo(l[i])}}function vs(i,l){return i(l)}function Ba(){}var hi=!1;function ys(i,l,h){if(hi)return i(l,h);hi=!0;try{return vs(i,l,h)}finally{hi=!1,(Wn!==null||Sr!==null)&&(Ba(),za())}}function Mt(i,l){var h=i.stateNode;if(h===null)return null;var g=Ql(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var To=!1;if(d)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){To=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{To=!1}function ws(i,l,h,g,y,T,P,V,W){var re=Array.prototype.slice.call(arguments,3);try{l.apply(h,re)}catch(fe){this.onError(fe)}}var pn=!1,be=null,Jn=!1,Io=null,Nl={onError:function(i){pn=!0,be=i}};function Es(i,l,h,g,y,T,P,V,W){pn=!1,be=null,ws.apply(Nl,arguments)}function So(i,l,h,g,y,T,P,V,W){if(Es.apply(this,arguments),pn){if(pn){var re=be;pn=!1,be=null}else throw Error(t(198));Jn||(Jn=!0,Io=re)}}function er(i){var l=i,h=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(h=l.return),i=l.return;while(i)}return l.tag===3?h:null}function tr(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function nr(i){if(er(i)!==i)throw Error(t(188))}function Ol(i){var l=i.alternate;if(!l){if(l=er(i),l===null)throw Error(t(188));return l!==i?null:i}for(var h=i,g=l;;){var y=h.return;if(y===null)break;var T=y.alternate;if(T===null){if(g=y.return,g!==null){h=g;continue}break}if(y.child===T.child){for(T=y.child;T;){if(T===h)return nr(y),i;if(T===g)return nr(y),l;T=T.sibling}throw Error(t(188))}if(h.return!==g.return)h=y,g=T;else{for(var P=!1,V=y.child;V;){if(V===h){P=!0,h=y,g=T;break}if(V===g){P=!0,g=y,h=T;break}V=V.sibling}if(!P){for(V=T.child;V;){if(V===h){P=!0,h=T,g=y;break}if(V===g){P=!0,g=T,h=y;break}V=V.sibling}if(!P)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:l}function Ha(i){return i=Ol(i),i!==null?Co(i):null}function Co(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Co(i);if(l!==null)return l;i=i.sibling}return null}var xo=e.unstable_scheduleCallback,Ao=e.unstable_cancelCallback,Ml=e.unstable_shouldYield,Po=e.unstable_requestPaint,wt=e.unstable_now,Dl=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,ki=e.unstable_UserBlockingPriority,rr=e.unstable_NormalPriority,Is=e.unstable_LowPriority,Ri=e.unstable_IdlePriority,Li=null,Pn=null;function Ni(i){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Li,i,void 0,(i.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:di,_t=Math.log,Ss=Math.LN2;function di(i){return i>>>=0,i===0?32:31-(_t(i)/Ss|0)|0}var xr=64,Oi=4194304;function Ue(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function vt(i,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,T=i.pingedLanes,P=h&268435455;if(P!==0){var V=P&~y;V!==0?g=Ue(V):(T&=P,T!==0&&(g=Ue(T)))}else P=h&~y,P!==0?g=Ue(P):T!==0&&(g=Ue(T));if(g===0)return 0;if(l!==0&&l!==g&&(l&y)===0&&(y=g&-g,T=l&-l,y>=T||y===16&&(T&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)h=31-He(l),y=1<<h,g|=i[h],l&=~y;return g}function qa(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(i,l){for(var h=i.suspendedLanes,g=i.pingedLanes,y=i.expirationTimes,T=i.pendingLanes;0<T;){var P=31-He(T),V=1<<P,W=y[P];W===-1?((V&h)===0||(V&g)!==0)&&(y[P]=qa(V,l)):W<=l&&(i.expiredLanes|=V),T&=~V}}function xt(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cs(){var i=xr;return xr<<=1,(xr&4194240)===0&&(xr=64),i}function Ar(i){for(var l=[],h=0;31>h;h++)l.push(i);return l}function bn(i,l,h){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-He(l),i[l]=h}function qe(i,l){var h=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<h;){var y=31-He(h),T=1<<y;l[y]=0,g[y]=-1,i[y]=-1,h&=~T}}function kn(i,l){var h=i.entangledLanes|=l;for(i=i.entanglements;h;){var g=31-He(h),y=1<<g;y&l|i[g]&l&&(i[g]|=l),h&=~y}}var Ye=0;function sr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var bo,Wr,ko,Ro,xs,As=!1,or=[],Ht=null,ar=null,$n=null,Mi=new Map,Me=new Map,Yt=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(i,l){switch(i){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Mi.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(l.pointerId)}}function mn(i,l,h,g,y,T){return i===null||i.nativeEvent!==T?(i={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:T,targetContainers:[y]},l!==null&&(l=Fs(l),l!==null&&Wr(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),i)}function $a(i,l,h,g,y){switch(l){case"focusin":return Ht=mn(Ht,i,l,h,g,y),!0;case"dragenter":return ar=mn(ar,i,l,h,g,y),!0;case"mouseover":return $n=mn($n,i,l,h,g,y),!0;case"pointerover":var T=y.pointerId;return Mi.set(T,mn(Mi.get(T)||null,i,l,h,g,y)),!0;case"gotpointercapture":return T=y.pointerId,Me.set(T,mn(Me.get(T)||null,i,l,h,g,y)),!0}return!1}function Lo(i){var l=Vs(i.target);if(l!==null){var h=er(l);if(h!==null){if(l=h.tag,l===13){if(l=tr(h),l!==null){i.blockedOn=l,xs(i.priority,function(){ko(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function En(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var h=ks(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);gs=g,h.target.dispatchEvent(g),gs=null}else return l=Fs(h),l!==null&&Wr(l),i.blockedOn=h,!1;l.shift()}return!0}function fi(i,l,h){En(i)&&h.delete(l)}function Di(){As=!1,Ht!==null&&En(Ht)&&(Ht=null),ar!==null&&En(ar)&&(ar=null),$n!==null&&En($n)&&($n=null),Mi.forEach(fi),Me.forEach(fi)}function yt(i,l){i.blockedOn===l&&(i.blockedOn=null,As||(As=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Di)))}function ln(i){function l(y){return yt(y,i)}if(0<or.length){yt(or[0],i);for(var h=1;h<or.length;h++){var g=or[h];g.blockedOn===i&&(g.blockedOn=null)}}for(Ht!==null&&yt(Ht,i),ar!==null&&yt(ar,i),$n!==null&&yt($n,i),Mi.forEach(l),Me.forEach(l),h=0;h<Yt.length;h++)g=Yt[h],g.blockedOn===i&&(g.blockedOn=null);for(;0<Yt.length&&(h=Yt[0],h.blockedOn===null);)Lo(h),h.blockedOn===null&&Yt.shift()}var $r=oe.ReactCurrentBatchConfig,pi=!0;function At(i,l,h,g){var y=Ye,T=$r.transition;$r.transition=null;try{Ye=1,Ps(i,l,h,g)}finally{Ye=y,$r.transition=T}}function Vl(i,l,h,g){var y=Ye,T=$r.transition;$r.transition=null;try{Ye=4,Ps(i,l,h,g)}finally{Ye=y,$r.transition=T}}function Ps(i,l,h,g){if(pi){var y=ks(i,l,h,g);if(y===null)s(i,l,g,bs,h),Wa(i,g);else if($a(y,i,l,h,g))g.stopPropagation();else if(Wa(i,g),l&4&&-1<dt.indexOf(i)){for(;y!==null;){var T=Fs(y);if(T!==null&&bo(T),T=ks(i,l,h,g),T===null&&s(i,l,g,bs,h),T===y)break;y=T}y!==null&&g.stopPropagation()}else s(i,l,g,null,h)}}var bs=null;function ks(i,l,h,g){if(bs=null,i=wo(g),i=Vs(i),i!==null)if(l=er(i),l===null)i=null;else if(h=l.tag,h===13){if(i=tr(l),i!==null)return i;i=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return bs=i,null}function Xe(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dl()){case Ts:return 1;case ki:return 4;case rr:case Is:return 16;case Ri:return 536870912;default:return 16}default:return 16}}var Gn=null,gn=null,Jt=null;function No(){if(Jt)return Jt;var i,l=gn,h=l.length,g,y="value"in Gn?Gn.value:Gn.textContent,T=y.length;for(i=0;i<h&&l[i]===y[i];i++);var P=h-i;for(g=1;g<=P&&l[h-g]===y[T-g];g++);return Jt=y.slice(i,1<g?1-g:void 0)}function Oo(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Ga(){return!1}function en(i){function l(h,g,y,T,P){this._reactName=h,this._targetInst=y,this.type=g,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(h=i[V],this[V]=h?h(T):T[V]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?lr:Ga,this.isPropagationStopped=Ga,this}return ue(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),l}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=en(Pr),ur=ue({},Pr,{view:0,detail:0}),qu=en(ur),Tn,mi,gi,Rn=ue({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(Tn=i.screenX-gi.screenX,mi=i.screenY-gi.screenY):mi=Tn=0,gi=i),Tn)},movementY:function(i){return"movementY"in i?i.movementY:mi}}),Rs=en(Rn),Do=ue({},Rn,{dataTransfer:0}),Vo=en(Do),Fo=ue({},ur,{relatedTarget:0}),Ls=en(Fo),Za=ue({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=en(Za),Fl=ue({},Pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jo=en(Fl),jl=ue({},Pr,{data:0}),Uo=en(jl),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Gr[i])?!!l[i]:!1}function Ln(){return Ul}var f=ue({},ur,{key:function(i){if(i.key){var l=Ns[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Oo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(i){return i.type==="keypress"?Oo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Oo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),E=en(f),x=ue({},Rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=en(x),Y=ue({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln}),ie=en(Y),ve=ue({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=en(ve),qt=ue({},Rn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=en(qt),ft=[9,13,27,32],It=d&&"CompositionEvent"in window,cr=null;d&&"documentMode"in document&&(cr=document.documentMode);var Dt=d&&"TextEvent"in window&&!cr,Os=d&&(!It||cr&&8<cr&&11>=cr),br=" ",Th=!1;function zo(i,l){switch(i){case"keyup":return ft.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vi=!1;function cp(i,l){switch(i){case"compositionend":return Wu(l);case"keypress":return l.which!==32?null:(Th=!0,br);case"textInput":return i=l.data,i===br&&Th?null:i;default:return null}}function Vi(i,l){if(vi)return i==="compositionend"||!It&&zo(i,l)?(i=No(),Jt=gn=Gn=null,vi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Os&&l.locale!=="ko"?null:l.data;default:return null}}var zl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!zl[i.type]:l==="textarea"}function Bl(i,l,h,g){qr(g),l=p(l,"onChange"),0<l.length&&(h=new Mo("onChange","change",null,h,g),i.push({event:h,listeners:l}))}var Ka=null,Zn=null;function hp(i){ec(i,0)}function yi(i){var l=js(i);if(Ur(l))return i}function dp(i,l){if(i==="change")return l}var Zr=!1;if(d){var Bo;if(d){var Hl="oninput"in document;if(!Hl){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),Hl=typeof ql.oninput=="function"}Bo=Hl}else Bo=!1;Zr=Bo&&(!document.documentMode||9<document.documentMode)}function Ya(){Ka&&(Ka.detachEvent("onpropertychange",Wl),Zn=Ka=null)}function Wl(i){if(i.propertyName==="value"&&yi(Zn)){var l=[];Bl(l,Zn,i,wo(i)),ys(hp,l)}}function $l(i,l,h){i==="focusin"?(Ya(),Ka=l,Zn=h,Ka.attachEvent("onpropertychange",Wl)):i==="focusout"&&Ya()}function Ho(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yi(Zn)}function Gl(i,l){if(i==="click")return yi(l)}function $u(i,l){if(i==="input"||i==="change")return yi(l)}function Sh(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var kr=typeof Object.is=="function"?Object.is:Sh;function Fi(i,l){if(kr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var h=Object.keys(i),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var y=h[g];if(!m.call(l,y)||!kr(i[y],l[y]))return!1}return!0}function Ch(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gu(i,l){var h=Ch(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=l&&g>=l)return{node:h,offset:l-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Ch(h)}}function xh(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?xh(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Zu(){for(var i=window,l=zr();l instanceof i.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)i=l.contentWindow;else break;l=zr(i.document)}return l}function Ku(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Kr(i){var l=Zu(),h=i.focusedElem,g=i.selectionRange;if(l!==h&&h&&h.ownerDocument&&xh(h.ownerDocument.documentElement,h)){if(g!==null&&Ku(h)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(i,h.value.length);else if(i=(l=h.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var y=h.textContent.length,T=Math.min(g.start,y);g=g.end===void 0?T:Math.min(g.end,y),!i.extend&&T>g&&(y=g,g=T,T=y),y=Gu(h,T);var P=Gu(h,g);y&&P&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),i.removeAllRanges(),T>g?(i.addRange(l),i.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),i.addRange(l)))}}for(l=[],i=h;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)i=l[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Zl=d&&"documentMode"in document&&11>=document.documentMode,qo=null,Wo=null,Qa=null,Kl=!1;function Ah(i,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Kl||qo==null||qo!==zr(g)||(g=qo,"selectionStart"in g&&Ku(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Qa&&Fi(Qa,g)||(Qa=g,g=p(Wo,"onSelect"),0<g.length&&(l=new Mo("onSelect","select",null,l,h),i.push({event:l,listeners:g}),l.target=qo)))}function ji(i,l){var h={};return h[i.toLowerCase()]=l.toLowerCase(),h["Webkit"+i]="webkit"+l,h["Moz"+i]="moz"+l,h}var $o={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},Ui={},Yu={};d&&(Yu=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Xa(i){if(Ui[i])return Ui[i];if(!$o[i])return i;var l=$o[i],h;for(h in l)if(l.hasOwnProperty(h)&&h in Yu)return Ui[i]=l[h];return i}var Ph=Xa("animationend"),Yr=Xa("animationiteration"),Qu=Xa("animationstart"),Xu=Xa("transitionend"),Go=new Map,bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(i,l){Go.set(i,l),a(l,[i])}for(var Ms=0;Ms<bh.length;Ms++){var Yl=bh[Ms],kh=Yl.toLowerCase(),fp=Yl[0].toUpperCase()+Yl.slice(1);Rr(kh,"on"+fp)}Rr(Ph,"onAnimationEnd"),Rr(Yr,"onAnimationIteration"),Rr(Qu,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Xu,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function Ju(i,l,h){var g=i.type||"unknown-event";i.currentTarget=h,So(g,l,void 0,i),i.currentTarget=null}function ec(i,l){l=(l&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],y=g.event;g=g.listeners;e:{var T=void 0;if(l)for(var P=g.length-1;0<=P;P--){var V=g[P],W=V.instance,re=V.currentTarget;if(V=V.listener,W!==T&&y.isPropagationStopped())break e;Ju(y,V,re),T=W}else for(P=0;P<g.length;P++){if(V=g[P],W=V.instance,re=V.currentTarget,V=V.listener,W!==T&&y.isPropagationStopped())break e;Ju(y,V,re),T=W}}}if(Jn)throw i=Io,Jn=!1,Io=null,i}function Et(i,l){var h=l[Xo];h===void 0&&(h=l[Xo]=new Set);var g=i+"__bubble";h.has(g)||(Lh(l,i,2,!1),h.add(g))}function tc(i,l,h){var g=0;l&&(g|=4),Lh(h,i,g,l)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function Ko(i){if(!i[Ja]){i[Ja]=!0,r.forEach(function(h){h!=="selectionchange"&&(Rh.has(h)||tc(h,!1,i),tc(h,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Ja]||(l[Ja]=!0,tc("selectionchange",!1,l))}}function Lh(i,l,h,g){switch(Xe(l)){case 1:var y=At;break;case 4:y=Vl;break;default:y=Ps}h=y.bind(null,l,h,i),y=void 0,!To||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),g?y!==void 0?i.addEventListener(l,h,{capture:!0,passive:y}):i.addEventListener(l,h,!0):y!==void 0?i.addEventListener(l,h,{passive:y}):i.addEventListener(l,h,!1)}function s(i,l,h,g,y){var T=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var V=g.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(P===4)for(P=g.return;P!==null;){var W=P.tag;if((W===3||W===4)&&(W=P.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;P=P.return}for(;V!==null;){if(P=Vs(V),P===null)return;if(W=P.tag,W===5||W===6){g=T=P;continue e}V=V.parentNode}}g=g.return}ys(function(){var re=T,fe=wo(h),pe=[];e:{var de=Go.get(i);if(de!==void 0){var Te=Mo,Pe=i;switch(i){case"keypress":if(Oo(h)===0)break e;case"keydown":case"keyup":Te=E;break;case"focusin":Pe="focus",Te=Ls;break;case"focusout":Pe="blur",Te=Ls;break;case"beforeblur":case"afterblur":Te=Ls;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ie;break;case Ph:case Yr:case Qu:Te=_i;break;case Xu:Te=ct;break;case"scroll":Te=qu;break;case"wheel":Te=nt;break;case"copy":case"cut":case"paste":Te=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=R}var ke=(l&4)!==0,Qt=!ke&&i==="scroll",J=ke?de!==null?de+"Capture":null:de;ke=[];for(var Z=re,ee;Z!==null;){ee=Z;var _e=ee.stateNode;if(ee.tag===5&&_e!==null&&(ee=_e,J!==null&&(_e=Mt(Z,J),_e!=null&&ke.push(c(Z,_e,ee)))),Qt)break;Z=Z.return}0<ke.length&&(de=new Te(de,Pe,null,h,fe),pe.push({event:de,listeners:ke}))}}if((l&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",Te=i==="mouseout"||i==="pointerout",de&&h!==gs&&(Pe=h.relatedTarget||h.fromElement)&&(Vs(Pe)||Pe[pt]))break e;if((Te||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,Te?(Pe=h.relatedTarget||h.toElement,Te=re,Pe=Pe?Vs(Pe):null,Pe!==null&&(Qt=er(Pe),Pe!==Qt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Te=null,Pe=re),Te!==Pe)){if(ke=Rs,_e="onMouseLeave",J="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(ke=R,_e="onPointerLeave",J="onPointerEnter",Z="pointer"),Qt=Te==null?de:js(Te),ee=Pe==null?de:js(Pe),de=new ke(_e,Z+"leave",Te,h,fe),de.target=Qt,de.relatedTarget=ee,_e=null,Vs(fe)===re&&(ke=new ke(J,Z+"enter",Pe,h,fe),ke.target=ee,ke.relatedTarget=Qt,_e=ke),Qt=_e,Te&&Pe)t:{for(ke=Te,J=Pe,Z=0,ee=ke;ee;ee=v(ee))Z++;for(ee=0,_e=J;_e;_e=v(_e))ee++;for(;0<Z-ee;)ke=v(ke),Z--;for(;0<ee-Z;)J=v(J),ee--;for(;Z--;){if(ke===J||J!==null&&ke===J.alternate)break t;ke=v(ke),J=v(J)}ke=null}else ke=null;Te!==null&&C(pe,de,Te,ke,!1),Pe!==null&&Qt!==null&&C(pe,Qt,Pe,ke,!0)}}e:{if(de=re?js(re):window,Te=de.nodeName&&de.nodeName.toLowerCase(),Te==="select"||Te==="input"&&de.type==="file")var Le=dp;else if(Ih(de))if(Zr)Le=$u;else{Le=Ho;var Fe=$l}else(Te=de.nodeName)&&Te.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Le=Gl);if(Le&&(Le=Le(i,re))){Bl(pe,Le,h,fe);break e}Fe&&Fe(i,de,re),i==="focusout"&&(Fe=de._wrapperState)&&Fe.controlled&&de.type==="number"&&mo(de,"number",de.value)}switch(Fe=re?js(re):window,i){case"focusin":(Ih(Fe)||Fe.contentEditable==="true")&&(qo=Fe,Wo=re,Qa=null);break;case"focusout":Qa=Wo=qo=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,Ah(pe,h,fe);break;case"selectionchange":if(Zl)break;case"keydown":case"keyup":Ah(pe,h,fe)}var je;if(It)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else vi?zo(i,h)&&(We="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(We="onCompositionStart");We&&(Os&&h.locale!=="ko"&&(vi||We!=="onCompositionStart"?We==="onCompositionEnd"&&vi&&(je=No()):(Gn=fe,gn="value"in Gn?Gn.value:Gn.textContent,vi=!0)),Fe=p(re,We),0<Fe.length&&(We=new Uo(We,i,null,h,fe),pe.push({event:We,listeners:Fe}),je?We.data=je:(je=Wu(h),je!==null&&(We.data=je)))),(je=Dt?cp(i,h):Vi(i,h))&&(re=p(re,"onBeforeInput"),0<re.length&&(fe=new Uo("onBeforeInput","beforeinput",null,h,fe),pe.push({event:fe,listeners:re}),fe.data=je))}ec(pe,l)})}function c(i,l,h){return{instance:i,listener:l,currentTarget:h}}function p(i,l){for(var h=l+"Capture",g=[];i!==null;){var y=i,T=y.stateNode;y.tag===5&&T!==null&&(y=T,T=Mt(i,h),T!=null&&g.unshift(c(i,T,y)),T=Mt(i,l),T!=null&&g.push(c(i,T,y))),i=i.return}return g}function v(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function C(i,l,h,g,y){for(var T=l._reactName,P=[];h!==null&&h!==g;){var V=h,W=V.alternate,re=V.stateNode;if(W!==null&&W===g)break;V.tag===5&&re!==null&&(V=re,y?(W=Mt(h,T),W!=null&&P.unshift(c(h,W,V))):y||(W=Mt(h,T),W!=null&&P.push(c(h,W,V)))),h=h.return}P.length!==0&&i.push({event:l,listeners:P})}var k=/\r\n?/g,z=/\u0000|\uFFFD/g;function X(i){return(typeof i=="string"?i:""+i).replace(k,`
`).replace(z,"")}function ne(i,l,h){if(l=X(l),X(i)!==l&&h)throw Error(t(425))}function he(){}var ye=null,Ve=null;function Ze(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var un=typeof setTimeout=="function"?setTimeout:void 0,nn=typeof clearTimeout=="function"?clearTimeout:void 0,Kn=typeof Promise=="function"?Promise:void 0,Nn=typeof queueMicrotask=="function"?queueMicrotask:typeof Kn<"u"?function(i){return Kn.resolve(null).then(i).catch(Yo)}:un;function Yo(i){setTimeout(function(){throw i})}function nc(i,l){var h=l,g=0;do{var y=h.nextSibling;if(i.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(g===0){i.removeChild(y),ln(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=y}while(h);ln(l)}function zi(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Nh(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return i;l--}else h==="/$"&&l++}i=i.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Ds,Qo="__reactProps$"+Ds,pt="__reactContainer$"+Ds,Xo="__reactEvents$"+Ds,pp="__reactListeners$"+Ds,mp="__reactHandles$"+Ds;function Vs(i){var l=i[Qr];if(l)return l;for(var h=i.parentNode;h;){if(l=h[pt]||h[Qr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(i=Nh(i);i!==null;){if(h=i[Qr])return h;i=Nh(i)}return l}i=h,h=i.parentNode}return null}function Fs(i){return i=i[Qr]||i[pt],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function js(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ql(i){return i[Qo]||null}var gp=[],Xl=-1;function Jo(i){return{current:i}}function Rt(i){0>Xl||(i.current=gp[Xl],gp[Xl]=null,Xl--)}function Pt(i,l){Xl++,gp[Xl]=i.current,i.current=l}var ea={},On=Jo(ea),hr=Jo(!1),el=ea;function Jl(i,l){var h=i.type.contextTypes;if(!h)return ea;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y={},T;for(T in h)y[T]=l[T];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=y),y}function dr(i){return i=i.childContextTypes,i!=null}function Oh(){Rt(hr),Rt(On)}function bv(i,l,h){if(On.current!==ea)throw Error(t(168));Pt(On,l),Pt(hr,h)}function kv(i,l,h){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var y in g)if(!(y in l))throw Error(t(108,Ke(i)||"Unknown",y));return ue({},h,g)}function Mh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ea,el=On.current,Pt(On,i),Pt(hr,hr.current),!0}function Rv(i,l,h){var g=i.stateNode;if(!g)throw Error(t(169));h?(i=kv(i,l,el),g.__reactInternalMemoizedMergedChildContext=i,Rt(hr),Rt(On),Pt(On,i)):Rt(hr),Pt(hr,h)}var Us=null,Dh=!1,_p=!1;function Lv(i){Us===null?Us=[i]:Us.push(i)}function YC(i){Dh=!0,Lv(i)}function ta(){if(!_p&&Us!==null){_p=!0;var i=0,l=Ye;try{var h=Us;for(Ye=1;i<h.length;i++){var g=h[i];do g=g(!0);while(g!==null)}Us=null,Dh=!1}catch(y){throw Us!==null&&(Us=Us.slice(i+1)),xo(Ts,ta),y}finally{Ye=l,_p=!1}}return null}var eu=[],tu=0,Vh=null,Fh=0,Xr=[],Jr=0,tl=null,zs=1,Bs="";function nl(i,l){eu[tu++]=Fh,eu[tu++]=Vh,Vh=i,Fh=l}function Nv(i,l,h){Xr[Jr++]=zs,Xr[Jr++]=Bs,Xr[Jr++]=tl,tl=i;var g=zs;i=Bs;var y=32-He(g)-1;g&=~(1<<y),h+=1;var T=32-He(l)+y;if(30<T){var P=y-y%5;T=(g&(1<<P)-1).toString(32),g>>=P,y-=P,zs=1<<32-He(l)+y|h<<y|g,Bs=T+i}else zs=1<<T|h<<y|g,Bs=i}function vp(i){i.return!==null&&(nl(i,1),Nv(i,1,0))}function yp(i){for(;i===Vh;)Vh=eu[--tu],eu[tu]=null,Fh=eu[--tu],eu[tu]=null;for(;i===tl;)tl=Xr[--Jr],Xr[Jr]=null,Bs=Xr[--Jr],Xr[Jr]=null,zs=Xr[--Jr],Xr[Jr]=null}var Lr=null,Nr=null,Nt=!1,wi=null;function Ov(i,l){var h=ri(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=i,l=i.deletions,l===null?(i.deletions=[h],i.flags|=16):l.push(h)}function Mv(i,l){switch(i.tag){case 5:var h=i.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Lr=i,Nr=zi(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Lr=i,Nr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=tl!==null?{id:zs,overflow:Bs}:null,i.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=ri(18,null,null,0),h.stateNode=l,h.return=i,i.child=h,Lr=i,Nr=null,!0):!1;default:return!1}}function wp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ep(i){if(Nt){var l=Nr;if(l){var h=l;if(!Mv(i,l)){if(wp(i))throw Error(t(418));l=zi(h.nextSibling);var g=Lr;l&&Mv(i,l)?Ov(g,h):(i.flags=i.flags&-4097|2,Nt=!1,Lr=i)}}else{if(wp(i))throw Error(t(418));i.flags=i.flags&-4097|2,Nt=!1,Lr=i}}}function Dv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Lr=i}function jh(i){if(i!==Lr)return!1;if(!Nt)return Dv(i),Nt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Ze(i.type,i.memoizedProps)),l&&(l=Nr)){if(wp(i))throw Vv(),Error(t(418));for(;l;)Ov(i,l),l=zi(l.nextSibling)}if(Dv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(l===0){Nr=zi(i.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}i=i.nextSibling}Nr=null}}else Nr=Lr?zi(i.stateNode.nextSibling):null;return!0}function Vv(){for(var i=Nr;i;)i=zi(i.nextSibling)}function nu(){Nr=Lr=null,Nt=!1}function Tp(i){wi===null?wi=[i]:wi.push(i)}var QC=oe.ReactCurrentBatchConfig;function rc(i,l,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,i));var y=g,T=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(P){var V=y.refs;P===null?delete V[T]:V[T]=P},l._stringRef=T,l)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function Uh(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Fv(i){var l=i._init;return l(i._payload)}function jv(i){function l(J,Z){if(i){var ee=J.deletions;ee===null?(J.deletions=[Z],J.flags|=16):ee.push(Z)}}function h(J,Z){if(!i)return null;for(;Z!==null;)l(J,Z),Z=Z.sibling;return null}function g(J,Z){for(J=new Map;Z!==null;)Z.key!==null?J.set(Z.key,Z):J.set(Z.index,Z),Z=Z.sibling;return J}function y(J,Z){return J=ua(J,Z),J.index=0,J.sibling=null,J}function T(J,Z,ee){return J.index=ee,i?(ee=J.alternate,ee!==null?(ee=ee.index,ee<Z?(J.flags|=2,Z):ee):(J.flags|=2,Z)):(J.flags|=1048576,Z)}function P(J){return i&&J.alternate===null&&(J.flags|=2),J}function V(J,Z,ee,_e){return Z===null||Z.tag!==6?(Z=fm(ee,J.mode,_e),Z.return=J,Z):(Z=y(Z,ee),Z.return=J,Z)}function W(J,Z,ee,_e){var Le=ee.type;return Le===H?fe(J,Z,ee.props.children,_e,ee.key):Z!==null&&(Z.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ht&&Fv(Le)===Z.type)?(_e=y(Z,ee.props),_e.ref=rc(J,Z,ee),_e.return=J,_e):(_e=cd(ee.type,ee.key,ee.props,null,J.mode,_e),_e.ref=rc(J,Z,ee),_e.return=J,_e)}function re(J,Z,ee,_e){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ee.containerInfo||Z.stateNode.implementation!==ee.implementation?(Z=pm(ee,J.mode,_e),Z.return=J,Z):(Z=y(Z,ee.children||[]),Z.return=J,Z)}function fe(J,Z,ee,_e,Le){return Z===null||Z.tag!==7?(Z=cl(ee,J.mode,_e,Le),Z.return=J,Z):(Z=y(Z,ee),Z.return=J,Z)}function pe(J,Z,ee){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=fm(""+Z,J.mode,ee),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case me:return ee=cd(Z.type,Z.key,Z.props,null,J.mode,ee),ee.ref=rc(J,null,Z),ee.return=J,ee;case Ce:return Z=pm(Z,J.mode,ee),Z.return=J,Z;case ht:var _e=Z._init;return pe(J,_e(Z._payload),ee)}if(Br(Z)||Oe(Z))return Z=cl(Z,J.mode,ee,null),Z.return=J,Z;Uh(J,Z)}return null}function de(J,Z,ee,_e){var Le=Z!==null?Z.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Le!==null?null:V(J,Z,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case me:return ee.key===Le?W(J,Z,ee,_e):null;case Ce:return ee.key===Le?re(J,Z,ee,_e):null;case ht:return Le=ee._init,de(J,Z,Le(ee._payload),_e)}if(Br(ee)||Oe(ee))return Le!==null?null:fe(J,Z,ee,_e,null);Uh(J,ee)}return null}function Te(J,Z,ee,_e,Le){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return J=J.get(ee)||null,V(Z,J,""+_e,Le);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case me:return J=J.get(_e.key===null?ee:_e.key)||null,W(Z,J,_e,Le);case Ce:return J=J.get(_e.key===null?ee:_e.key)||null,re(Z,J,_e,Le);case ht:var Fe=_e._init;return Te(J,Z,ee,Fe(_e._payload),Le)}if(Br(_e)||Oe(_e))return J=J.get(ee)||null,fe(Z,J,_e,Le,null);Uh(Z,_e)}return null}function Pe(J,Z,ee,_e){for(var Le=null,Fe=null,je=Z,We=Z=0,yn=null;je!==null&&We<ee.length;We++){je.index>We?(yn=je,je=null):yn=je.sibling;var lt=de(J,je,ee[We],_e);if(lt===null){je===null&&(je=yn);break}i&&je&&lt.alternate===null&&l(J,je),Z=T(lt,Z,We),Fe===null?Le=lt:Fe.sibling=lt,Fe=lt,je=yn}if(We===ee.length)return h(J,je),Nt&&nl(J,We),Le;if(je===null){for(;We<ee.length;We++)je=pe(J,ee[We],_e),je!==null&&(Z=T(je,Z,We),Fe===null?Le=je:Fe.sibling=je,Fe=je);return Nt&&nl(J,We),Le}for(je=g(J,je);We<ee.length;We++)yn=Te(je,J,We,ee[We],_e),yn!==null&&(i&&yn.alternate!==null&&je.delete(yn.key===null?We:yn.key),Z=T(yn,Z,We),Fe===null?Le=yn:Fe.sibling=yn,Fe=yn);return i&&je.forEach(function(ca){return l(J,ca)}),Nt&&nl(J,We),Le}function ke(J,Z,ee,_e){var Le=Oe(ee);if(typeof Le!="function")throw Error(t(150));if(ee=Le.call(ee),ee==null)throw Error(t(151));for(var Fe=Le=null,je=Z,We=Z=0,yn=null,lt=ee.next();je!==null&&!lt.done;We++,lt=ee.next()){je.index>We?(yn=je,je=null):yn=je.sibling;var ca=de(J,je,lt.value,_e);if(ca===null){je===null&&(je=yn);break}i&&je&&ca.alternate===null&&l(J,je),Z=T(ca,Z,We),Fe===null?Le=ca:Fe.sibling=ca,Fe=ca,je=yn}if(lt.done)return h(J,je),Nt&&nl(J,We),Le;if(je===null){for(;!lt.done;We++,lt=ee.next())lt=pe(J,lt.value,_e),lt!==null&&(Z=T(lt,Z,We),Fe===null?Le=lt:Fe.sibling=lt,Fe=lt);return Nt&&nl(J,We),Le}for(je=g(J,je);!lt.done;We++,lt=ee.next())lt=Te(je,J,We,lt.value,_e),lt!==null&&(i&&lt.alternate!==null&&je.delete(lt.key===null?We:lt.key),Z=T(lt,Z,We),Fe===null?Le=lt:Fe.sibling=lt,Fe=lt);return i&&je.forEach(function(kx){return l(J,kx)}),Nt&&nl(J,We),Le}function Qt(J,Z,ee,_e){if(typeof ee=="object"&&ee!==null&&ee.type===H&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case me:e:{for(var Le=ee.key,Fe=Z;Fe!==null;){if(Fe.key===Le){if(Le=ee.type,Le===H){if(Fe.tag===7){h(J,Fe.sibling),Z=y(Fe,ee.props.children),Z.return=J,J=Z;break e}}else if(Fe.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ht&&Fv(Le)===Fe.type){h(J,Fe.sibling),Z=y(Fe,ee.props),Z.ref=rc(J,Fe,ee),Z.return=J,J=Z;break e}h(J,Fe);break}else l(J,Fe);Fe=Fe.sibling}ee.type===H?(Z=cl(ee.props.children,J.mode,_e,ee.key),Z.return=J,J=Z):(_e=cd(ee.type,ee.key,ee.props,null,J.mode,_e),_e.ref=rc(J,Z,ee),_e.return=J,J=_e)}return P(J);case Ce:e:{for(Fe=ee.key;Z!==null;){if(Z.key===Fe)if(Z.tag===4&&Z.stateNode.containerInfo===ee.containerInfo&&Z.stateNode.implementation===ee.implementation){h(J,Z.sibling),Z=y(Z,ee.children||[]),Z.return=J,J=Z;break e}else{h(J,Z);break}else l(J,Z);Z=Z.sibling}Z=pm(ee,J.mode,_e),Z.return=J,J=Z}return P(J);case ht:return Fe=ee._init,Qt(J,Z,Fe(ee._payload),_e)}if(Br(ee))return Pe(J,Z,ee,_e);if(Oe(ee))return ke(J,Z,ee,_e);Uh(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,Z!==null&&Z.tag===6?(h(J,Z.sibling),Z=y(Z,ee),Z.return=J,J=Z):(h(J,Z),Z=fm(ee,J.mode,_e),Z.return=J,J=Z),P(J)):h(J,Z)}return Qt}var ru=jv(!0),Uv=jv(!1),zh=Jo(null),Bh=null,iu=null,Ip=null;function Sp(){Ip=iu=Bh=null}function Cp(i){var l=zh.current;Rt(zh),i._currentValue=l}function xp(i,l,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===h)break;i=i.return}}function su(i,l){Bh=i,Ip=iu=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(fr=!0),i.firstContext=null)}function ei(i){var l=i._currentValue;if(Ip!==i)if(i={context:i,memoizedValue:l,next:null},iu===null){if(Bh===null)throw Error(t(308));iu=i,Bh.dependencies={lanes:0,firstContext:i}}else iu=iu.next=i;return l}var rl=null;function Ap(i){rl===null?rl=[i]:rl.push(i)}function zv(i,l,h,g){var y=l.interleaved;return y===null?(h.next=h,Ap(l)):(h.next=y.next,y.next=h),l.interleaved=h,Hs(i,g)}function Hs(i,l){i.lanes|=l;var h=i.alternate;for(h!==null&&(h.lanes|=l),h=i,i=i.return;i!==null;)i.childLanes|=l,h=i.alternate,h!==null&&(h.childLanes|=l),h=i,i=i.return;return h.tag===3?h.stateNode:null}var na=!1;function Pp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bv(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qs(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function ra(i,l,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,Hs(i,h)}return y=g.interleaved,y===null?(l.next=l,Ap(g)):(l.next=y.next,y.next=l),g.interleaved=l,Hs(i,h)}function Hh(i,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,h|=g,l.lanes=h,kn(i,h)}}function Hv(i,l){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var y=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};T===null?y=T=P:T=T.next=P,h=h.next}while(h!==null);T===null?y=T=l:T=T.next=l}else y=T=l;h={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:T,shared:g.shared,effects:g.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=l:i.next=l,h.lastBaseUpdate=l}function qh(i,l,h,g){var y=i.updateQueue;na=!1;var T=y.firstBaseUpdate,P=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var W=V,re=W.next;W.next=null,P===null?T=re:P.next=re,P=W;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,V=fe.lastBaseUpdate,V!==P&&(V===null?fe.firstBaseUpdate=re:V.next=re,fe.lastBaseUpdate=W))}if(T!==null){var pe=y.baseState;P=0,fe=re=W=null,V=T;do{var de=V.lane,Te=V.eventTime;if((g&de)===de){fe!==null&&(fe=fe.next={eventTime:Te,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Pe=i,ke=V;switch(de=l,Te=h,ke.tag){case 1:if(Pe=ke.payload,typeof Pe=="function"){pe=Pe.call(Te,pe,de);break e}pe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=ke.payload,de=typeof Pe=="function"?Pe.call(Te,pe,de):Pe,de==null)break e;pe=ue({},pe,de);break e;case 2:na=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,de=y.effects,de===null?y.effects=[V]:de.push(V))}else Te={eventTime:Te,lane:de,tag:V.tag,payload:V.payload,callback:V.callback,next:null},fe===null?(re=fe=Te,W=pe):fe=fe.next=Te,P|=de;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;de=V,V=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);if(fe===null&&(W=pe),y.baseState=W,y.firstBaseUpdate=re,y.lastBaseUpdate=fe,l=y.shared.interleaved,l!==null){y=l;do P|=y.lane,y=y.next;while(y!==l)}else T===null&&(y.shared.lanes=0);ol|=P,i.lanes=P,i.memoizedState=pe}}function qv(i,l,h){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],y=g.callback;if(y!==null){if(g.callback=null,g=h,typeof y!="function")throw Error(t(191,y));y.call(g)}}}var ic={},Bi=Jo(ic),sc=Jo(ic),oc=Jo(ic);function il(i){if(i===ic)throw Error(t(174));return i}function bp(i,l){switch(Pt(oc,l),Pt(sc,i),Pt(Bi,ic),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Bt(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Bt(l,i)}Rt(Bi),Pt(Bi,l)}function ou(){Rt(Bi),Rt(sc),Rt(oc)}function Wv(i){il(oc.current);var l=il(Bi.current),h=Bt(l,i.type);l!==h&&(Pt(sc,i),Pt(Bi,h))}function kp(i){sc.current===i&&(Rt(Bi),Rt(sc))}var Vt=Jo(0);function Wh(i){for(var l=i;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Rp=[];function Lp(){for(var i=0;i<Rp.length;i++)Rp[i]._workInProgressVersionPrimary=null;Rp.length=0}var $h=oe.ReactCurrentDispatcher,Np=oe.ReactCurrentBatchConfig,sl=0,Ft=null,cn=null,_n=null,Gh=!1,ac=!1,lc=0,XC=0;function Mn(){throw Error(t(321))}function Op(i,l){if(l===null)return!1;for(var h=0;h<l.length&&h<i.length;h++)if(!kr(i[h],l[h]))return!1;return!0}function Mp(i,l,h,g,y,T){if(sl=T,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$h.current=i===null||i.memoizedState===null?nx:rx,i=h(g,y),ac){T=0;do{if(ac=!1,lc=0,25<=T)throw Error(t(301));T+=1,_n=cn=null,l.updateQueue=null,$h.current=ix,i=h(g,y)}while(ac)}if($h.current=Yh,l=cn!==null&&cn.next!==null,sl=0,_n=cn=Ft=null,Gh=!1,l)throw Error(t(300));return i}function Dp(){var i=lc!==0;return lc=0,i}function Hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Ft.memoizedState=_n=i:_n=_n.next=i,_n}function ti(){if(cn===null){var i=Ft.alternate;i=i!==null?i.memoizedState:null}else i=cn.next;var l=_n===null?Ft.memoizedState:_n.next;if(l!==null)_n=l,cn=i;else{if(i===null)throw Error(t(310));cn=i,i={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},_n===null?Ft.memoizedState=_n=i:_n=_n.next=i}return _n}function uc(i,l){return typeof l=="function"?l(i):l}function Vp(i){var l=ti(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=cn,y=g.baseQueue,T=h.pending;if(T!==null){if(y!==null){var P=y.next;y.next=T.next,T.next=P}g.baseQueue=y=T,h.pending=null}if(y!==null){T=y.next,g=g.baseState;var V=P=null,W=null,re=T;do{var fe=re.lane;if((sl&fe)===fe)W!==null&&(W=W.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:i(g,re.action);else{var pe={lane:fe,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};W===null?(V=W=pe,P=g):W=W.next=pe,Ft.lanes|=fe,ol|=fe}re=re.next}while(re!==null&&re!==T);W===null?P=g:W.next=V,kr(g,l.memoizedState)||(fr=!0),l.memoizedState=g,l.baseState=P,l.baseQueue=W,h.lastRenderedState=g}if(i=h.interleaved,i!==null){y=i;do T=y.lane,Ft.lanes|=T,ol|=T,y=y.next;while(y!==i)}else y===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function Fp(i){var l=ti(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=h.dispatch,y=h.pending,T=l.memoizedState;if(y!==null){h.pending=null;var P=y=y.next;do T=i(T,P.action),P=P.next;while(P!==y);kr(T,l.memoizedState)||(fr=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),h.lastRenderedState=T}return[T,g]}function $v(){}function Gv(i,l){var h=Ft,g=ti(),y=l(),T=!kr(g.memoizedState,y);if(T&&(g.memoizedState=y,fr=!0),g=g.queue,jp(Yv.bind(null,h,g,i),[i]),g.getSnapshot!==l||T||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,cc(9,Kv.bind(null,h,g,y,l),void 0,null),vn===null)throw Error(t(349));(sl&30)!==0||Zv(h,l,y)}return y}function Zv(i,l,h){i.flags|=16384,i={getSnapshot:l,value:h},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.stores=[i]):(h=l.stores,h===null?l.stores=[i]:h.push(i))}function Kv(i,l,h,g){l.value=h,l.getSnapshot=g,Qv(l)&&Xv(i)}function Yv(i,l,h){return h(function(){Qv(l)&&Xv(i)})}function Qv(i){var l=i.getSnapshot;i=i.value;try{var h=l();return!kr(i,h)}catch{return!0}}function Xv(i){var l=Hs(i,1);l!==null&&Si(l,i,1,-1)}function Jv(i){var l=Hi();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:i},l.queue=i,i=i.dispatch=tx.bind(null,Ft,i),[l.memoizedState,i]}function cc(i,l,h,g){return i={tag:i,create:l,destroy:h,deps:g,next:null},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.lastEffect=i.next=i):(h=l.lastEffect,h===null?l.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,l.lastEffect=i)),i}function ey(){return ti().memoizedState}function Zh(i,l,h,g){var y=Hi();Ft.flags|=i,y.memoizedState=cc(1|l,h,void 0,g===void 0?null:g)}function Kh(i,l,h,g){var y=ti();g=g===void 0?null:g;var T=void 0;if(cn!==null){var P=cn.memoizedState;if(T=P.destroy,g!==null&&Op(g,P.deps)){y.memoizedState=cc(l,h,T,g);return}}Ft.flags|=i,y.memoizedState=cc(1|l,h,T,g)}function ty(i,l){return Zh(8390656,8,i,l)}function jp(i,l){return Kh(2048,8,i,l)}function ny(i,l){return Kh(4,2,i,l)}function ry(i,l){return Kh(4,4,i,l)}function iy(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function sy(i,l,h){return h=h!=null?h.concat([i]):null,Kh(4,4,iy.bind(null,l,i),h)}function Up(){}function oy(i,l){var h=ti();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Op(l,g[1])?g[0]:(h.memoizedState=[i,l],i)}function ay(i,l){var h=ti();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Op(l,g[1])?g[0]:(i=i(),h.memoizedState=[i,l],i)}function ly(i,l,h){return(sl&21)===0?(i.baseState&&(i.baseState=!1,fr=!0),i.memoizedState=h):(kr(h,l)||(h=Cs(),Ft.lanes|=h,ol|=h,i.baseState=!0),l)}function JC(i,l){var h=Ye;Ye=h!==0&&4>h?h:4,i(!0);var g=Np.transition;Np.transition={};try{i(!1),l()}finally{Ye=h,Np.transition=g}}function uy(){return ti().memoizedState}function ex(i,l,h){var g=aa(i);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},cy(i))hy(l,h);else if(h=zv(i,l,h,g),h!==null){var y=Qn();Si(h,i,g,y),dy(h,l,g)}}function tx(i,l,h){var g=aa(i),y={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(cy(i))hy(l,y);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var P=l.lastRenderedState,V=T(P,h);if(y.hasEagerState=!0,y.eagerState=V,kr(V,P)){var W=l.interleaved;W===null?(y.next=y,Ap(l)):(y.next=W.next,W.next=y),l.interleaved=y;return}}catch{}finally{}h=zv(i,l,y,g),h!==null&&(y=Qn(),Si(h,i,g,y),dy(h,l,g))}}function cy(i){var l=i.alternate;return i===Ft||l!==null&&l===Ft}function hy(i,l){ac=Gh=!0;var h=i.pending;h===null?l.next=l:(l.next=h.next,h.next=l),i.pending=l}function dy(i,l,h){if((h&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,h|=g,l.lanes=h,kn(i,h)}}var Yh={readContext:ei,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},nx={readContext:ei,useCallback:function(i,l){return Hi().memoizedState=[i,l===void 0?null:l],i},useContext:ei,useEffect:ty,useImperativeHandle:function(i,l,h){return h=h!=null?h.concat([i]):null,Zh(4194308,4,iy.bind(null,l,i),h)},useLayoutEffect:function(i,l){return Zh(4194308,4,i,l)},useInsertionEffect:function(i,l){return Zh(4,2,i,l)},useMemo:function(i,l){var h=Hi();return l=l===void 0?null:l,i=i(),h.memoizedState=[i,l],i},useReducer:function(i,l,h){var g=Hi();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=ex.bind(null,Ft,i),[g.memoizedState,i]},useRef:function(i){var l=Hi();return i={current:i},l.memoizedState=i},useState:Jv,useDebugValue:Up,useDeferredValue:function(i){return Hi().memoizedState=i},useTransition:function(){var i=Jv(!1),l=i[0];return i=JC.bind(null,i[1]),Hi().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,h){var g=Ft,y=Hi();if(Nt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),vn===null)throw Error(t(349));(sl&30)!==0||Zv(g,l,h)}y.memoizedState=h;var T={value:h,getSnapshot:l};return y.queue=T,ty(Yv.bind(null,g,T,i),[i]),g.flags|=2048,cc(9,Kv.bind(null,g,T,h,l),void 0,null),h},useId:function(){var i=Hi(),l=vn.identifierPrefix;if(Nt){var h=Bs,g=zs;h=(g&~(1<<32-He(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=lc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=XC++,l=":"+l+"r"+h.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},rx={readContext:ei,useCallback:oy,useContext:ei,useEffect:jp,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:Vp,useRef:ey,useState:function(){return Vp(uc)},useDebugValue:Up,useDeferredValue:function(i){var l=ti();return ly(l,cn.memoizedState,i)},useTransition:function(){var i=Vp(uc)[0],l=ti().memoizedState;return[i,l]},useMutableSource:$v,useSyncExternalStore:Gv,useId:uy,unstable_isNewReconciler:!1},ix={readContext:ei,useCallback:oy,useContext:ei,useEffect:jp,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:Fp,useRef:ey,useState:function(){return Fp(uc)},useDebugValue:Up,useDeferredValue:function(i){var l=ti();return cn===null?l.memoizedState=i:ly(l,cn.memoizedState,i)},useTransition:function(){var i=Fp(uc)[0],l=ti().memoizedState;return[i,l]},useMutableSource:$v,useSyncExternalStore:Gv,useId:uy,unstable_isNewReconciler:!1};function Ei(i,l){if(i&&i.defaultProps){l=ue({},l),i=i.defaultProps;for(var h in i)l[h]===void 0&&(l[h]=i[h]);return l}return l}function zp(i,l,h,g){l=i.memoizedState,h=h(g,l),h=h==null?l:ue({},l,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var Qh={isMounted:function(i){return(i=i._reactInternals)?er(i)===i:!1},enqueueSetState:function(i,l,h){i=i._reactInternals;var g=Qn(),y=aa(i),T=qs(g,y);T.payload=l,h!=null&&(T.callback=h),l=ra(i,T,y),l!==null&&(Si(l,i,y,g),Hh(l,i,y))},enqueueReplaceState:function(i,l,h){i=i._reactInternals;var g=Qn(),y=aa(i),T=qs(g,y);T.tag=1,T.payload=l,h!=null&&(T.callback=h),l=ra(i,T,y),l!==null&&(Si(l,i,y,g),Hh(l,i,y))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var h=Qn(),g=aa(i),y=qs(h,g);y.tag=2,l!=null&&(y.callback=l),l=ra(i,y,g),l!==null&&(Si(l,i,g,h),Hh(l,i,g))}};function fy(i,l,h,g,y,T,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,T,P):l.prototype&&l.prototype.isPureReactComponent?!Fi(h,g)||!Fi(y,T):!0}function py(i,l,h){var g=!1,y=ea,T=l.contextType;return typeof T=="object"&&T!==null?T=ei(T):(y=dr(l)?el:On.current,g=l.contextTypes,T=(g=g!=null)?Jl(i,y):ea),l=new l(h,T),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Qh,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=T),l}function my(i,l,h,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==i&&Qh.enqueueReplaceState(l,l.state,null)}function Bp(i,l,h,g){var y=i.stateNode;y.props=h,y.state=i.memoizedState,y.refs={},Pp(i);var T=l.contextType;typeof T=="object"&&T!==null?y.context=ei(T):(T=dr(l)?el:On.current,y.context=Jl(i,T)),y.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(zp(i,l,T,h),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Qh.enqueueReplaceState(y,y.state,null),qh(i,h,y,g),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function au(i,l){try{var h="",g=l;do h+=xe(g),g=g.return;while(g);var y=h}catch(T){y=`
Error generating stack: `+T.message+`
`+T.stack}return{value:i,source:l,stack:y,digest:null}}function Hp(i,l,h){return{value:i,source:null,stack:h??null,digest:l??null}}function qp(i,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var sx=typeof WeakMap=="function"?WeakMap:Map;function gy(i,l,h){h=qs(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){id||(id=!0,sm=g),qp(i,l)},h}function _y(i,l,h){h=qs(-1,h),h.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;h.payload=function(){return g(y)},h.callback=function(){qp(i,l)}}var T=i.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(h.callback=function(){qp(i,l),typeof g!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),h}function vy(i,l,h){var g=i.pingCache;if(g===null){g=i.pingCache=new sx;var y=new Set;g.set(l,y)}else y=g.get(l),y===void 0&&(y=new Set,g.set(l,y));y.has(h)||(y.add(h),i=yx.bind(null,i,l,h),l.then(i,i))}function yy(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function wy(i,l,h,g,y){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=qs(-1,1),l.tag=2,ra(h,l,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var ox=oe.ReactCurrentOwner,fr=!1;function Yn(i,l,h,g){l.child=i===null?Uv(l,null,h,g):ru(l,i.child,h,g)}function Ey(i,l,h,g,y){h=h.render;var T=l.ref;return su(l,y),g=Mp(i,l,h,g,T,y),h=Dp(),i!==null&&!fr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,Ws(i,l,y)):(Nt&&h&&vp(l),l.flags|=1,Yn(i,l,g,y),l.child)}function Ty(i,l,h,g,y){if(i===null){var T=h.type;return typeof T=="function"&&!dm(T)&&T.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=T,Iy(i,l,T,g,y)):(i=cd(h.type,null,g,l,l.mode,y),i.ref=l.ref,i.return=l,l.child=i)}if(T=i.child,(i.lanes&y)===0){var P=T.memoizedProps;if(h=h.compare,h=h!==null?h:Fi,h(P,g)&&i.ref===l.ref)return Ws(i,l,y)}return l.flags|=1,i=ua(T,g),i.ref=l.ref,i.return=l,l.child=i}function Iy(i,l,h,g,y){if(i!==null){var T=i.memoizedProps;if(Fi(T,g)&&i.ref===l.ref)if(fr=!1,l.pendingProps=g=T,(i.lanes&y)!==0)(i.flags&131072)!==0&&(fr=!0);else return l.lanes=i.lanes,Ws(i,l,y)}return Wp(i,l,h,g,y)}function Sy(i,l,h){var g=l.pendingProps,y=g.children,T=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(uu,Or),Or|=h;else{if((h&1073741824)===0)return i=T!==null?T.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Pt(uu,Or),Or|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:h,Pt(uu,Or),Or|=g}else T!==null?(g=T.baseLanes|h,l.memoizedState=null):g=h,Pt(uu,Or),Or|=g;return Yn(i,l,y,h),l.child}function Cy(i,l){var h=l.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Wp(i,l,h,g,y){var T=dr(h)?el:On.current;return T=Jl(l,T),su(l,y),h=Mp(i,l,h,g,T,y),g=Dp(),i!==null&&!fr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,Ws(i,l,y)):(Nt&&g&&vp(l),l.flags|=1,Yn(i,l,h,y),l.child)}function xy(i,l,h,g,y){if(dr(h)){var T=!0;Mh(l)}else T=!1;if(su(l,y),l.stateNode===null)Jh(i,l),py(l,h,g),Bp(l,h,g,y),g=!0;else if(i===null){var P=l.stateNode,V=l.memoizedProps;P.props=V;var W=P.context,re=h.contextType;typeof re=="object"&&re!==null?re=ei(re):(re=dr(h)?el:On.current,re=Jl(l,re));var fe=h.getDerivedStateFromProps,pe=typeof fe=="function"||typeof P.getSnapshotBeforeUpdate=="function";pe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(V!==g||W!==re)&&my(l,P,g,re),na=!1;var de=l.memoizedState;P.state=de,qh(l,g,P,y),W=l.memoizedState,V!==g||de!==W||hr.current||na?(typeof fe=="function"&&(zp(l,h,fe,g),W=l.memoizedState),(V=na||fy(l,h,V,g,de,W,re))?(pe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=W),P.props=g,P.state=W,P.context=re,g=V):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{P=l.stateNode,Bv(i,l),V=l.memoizedProps,re=l.type===l.elementType?V:Ei(l.type,V),P.props=re,pe=l.pendingProps,de=P.context,W=h.contextType,typeof W=="object"&&W!==null?W=ei(W):(W=dr(h)?el:On.current,W=Jl(l,W));var Te=h.getDerivedStateFromProps;(fe=typeof Te=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(V!==pe||de!==W)&&my(l,P,g,W),na=!1,de=l.memoizedState,P.state=de,qh(l,g,P,y);var Pe=l.memoizedState;V!==pe||de!==Pe||hr.current||na?(typeof Te=="function"&&(zp(l,h,Te,g),Pe=l.memoizedState),(re=na||fy(l,h,re,g,de,Pe,W)||!1)?(fe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,Pe,W),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,Pe,W)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||V===i.memoizedProps&&de===i.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&de===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Pe),P.props=g,P.state=Pe,P.context=W,g=re):(typeof P.componentDidUpdate!="function"||V===i.memoizedProps&&de===i.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&de===i.memoizedState||(l.flags|=1024),g=!1)}return $p(i,l,h,g,T,y)}function $p(i,l,h,g,y,T){Cy(i,l);var P=(l.flags&128)!==0;if(!g&&!P)return y&&Rv(l,h,!1),Ws(i,l,T);g=l.stateNode,ox.current=l;var V=P&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&P?(l.child=ru(l,i.child,null,T),l.child=ru(l,null,V,T)):Yn(i,l,V,T),l.memoizedState=g.state,y&&Rv(l,h,!0),l.child}function Ay(i){var l=i.stateNode;l.pendingContext?bv(i,l.pendingContext,l.pendingContext!==l.context):l.context&&bv(i,l.context,!1),bp(i,l.containerInfo)}function Py(i,l,h,g,y){return nu(),Tp(y),l.flags|=256,Yn(i,l,h,g),l.child}var Gp={dehydrated:null,treeContext:null,retryLane:0};function Zp(i){return{baseLanes:i,cachePool:null,transitions:null}}function by(i,l,h){var g=l.pendingProps,y=Vt.current,T=!1,P=(l.flags&128)!==0,V;if((V=P)||(V=i!==null&&i.memoizedState===null?!1:(y&2)!==0),V?(T=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Pt(Vt,y&1),i===null)return Ep(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=g.children,i=g.fallback,T?(g=l.mode,T=l.child,P={mode:"hidden",children:P},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=P):T=hd(P,g,0,null),i=cl(i,g,h,null),T.return=l,i.return=l,T.sibling=i,l.child=T,l.child.memoizedState=Zp(h),l.memoizedState=Gp,i):Kp(l,P));if(y=i.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return ax(i,l,P,g,V,y,h);if(T){T=g.fallback,P=l.mode,y=i.child,V=y.sibling;var W={mode:"hidden",children:g.children};return(P&1)===0&&l.child!==y?(g=l.child,g.childLanes=0,g.pendingProps=W,l.deletions=null):(g=ua(y,W),g.subtreeFlags=y.subtreeFlags&14680064),V!==null?T=ua(V,T):(T=cl(T,P,h,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,P=i.child.memoizedState,P=P===null?Zp(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},T.memoizedState=P,T.childLanes=i.childLanes&~h,l.memoizedState=Gp,g}return T=i.child,i=T.sibling,g=ua(T,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,i!==null&&(h=l.deletions,h===null?(l.deletions=[i],l.flags|=16):h.push(i)),l.child=g,l.memoizedState=null,g}function Kp(i,l){return l=hd({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Xh(i,l,h,g){return g!==null&&Tp(g),ru(l,i.child,null,h),i=Kp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function ax(i,l,h,g,y,T,P){if(h)return l.flags&256?(l.flags&=-257,g=Hp(Error(t(422))),Xh(i,l,P,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(T=g.fallback,y=l.mode,g=hd({mode:"visible",children:g.children},y,0,null),T=cl(T,y,P,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,(l.mode&1)!==0&&ru(l,i.child,null,P),l.child.memoizedState=Zp(P),l.memoizedState=Gp,T);if((l.mode&1)===0)return Xh(i,l,P,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var V=g.dgst;return g=V,T=Error(t(419)),g=Hp(T,g,void 0),Xh(i,l,P,g)}if(V=(P&i.childLanes)!==0,fr||V){if(g=vn,g!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|P))!==0?0:y,y!==0&&y!==T.retryLane&&(T.retryLane=y,Hs(i,y),Si(g,i,y,-1))}return hm(),g=Hp(Error(t(421))),Xh(i,l,P,g)}return y.data==="$?"?(l.flags|=128,l.child=i.child,l=wx.bind(null,i),y._reactRetry=l,null):(i=T.treeContext,Nr=zi(y.nextSibling),Lr=l,Nt=!0,wi=null,i!==null&&(Xr[Jr++]=zs,Xr[Jr++]=Bs,Xr[Jr++]=tl,zs=i.id,Bs=i.overflow,tl=l),l=Kp(l,g.children),l.flags|=4096,l)}function ky(i,l,h){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),xp(i.return,l,h)}function Yp(i,l,h,g,y){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:y}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=h,T.tailMode=y)}function Ry(i,l,h){var g=l.pendingProps,y=g.revealOrder,T=g.tail;if(Yn(i,l,g.children,h),g=Vt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ky(i,h,l);else if(i.tag===19)ky(i,h,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Pt(Vt,g),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(h=l.child,y=null;h!==null;)i=h.alternate,i!==null&&Wh(i)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),Yp(l,!1,y,h,T);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(i=y.alternate,i!==null&&Wh(i)===null){l.child=y;break}i=y.sibling,y.sibling=h,h=y,y=i}Yp(l,!0,h,null,T);break;case"together":Yp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Jh(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Ws(i,l,h){if(i!==null&&(l.dependencies=i.dependencies),ol|=l.lanes,(h&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,h=ua(i,i.pendingProps),l.child=h,h.return=l;i.sibling!==null;)i=i.sibling,h=h.sibling=ua(i,i.pendingProps),h.return=l;h.sibling=null}return l.child}function lx(i,l,h){switch(l.tag){case 3:Ay(l),nu();break;case 5:Wv(l);break;case 1:dr(l.type)&&Mh(l);break;case 4:bp(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,y=l.memoizedProps.value;Pt(zh,g._currentValue),g._currentValue=y;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Pt(Vt,Vt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?by(i,l,h):(Pt(Vt,Vt.current&1),i=Ws(i,l,h),i!==null?i.sibling:null);Pt(Vt,Vt.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(i.flags&128)!==0){if(g)return Ry(i,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Pt(Vt,Vt.current),g)break;return null;case 22:case 23:return l.lanes=0,Sy(i,l,h)}return Ws(i,l,h)}var Ly,Qp,Ny,Oy;Ly=function(i,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Qp=function(){},Ny=function(i,l,h,g){var y=i.memoizedProps;if(y!==g){i=l.stateNode,il(Bi.current);var T=null;switch(h){case"input":y=us(i,y),g=us(i,g),T=[];break;case"select":y=ue({},y,{value:void 0}),g=ue({},g,{value:void 0}),T=[];break;case"textarea":y=go(i,y),g=go(i,g),T=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=he)}Ua(h,g);var P;h=null;for(re in y)if(!g.hasOwnProperty(re)&&y.hasOwnProperty(re)&&y[re]!=null)if(re==="style"){var V=y[re];for(P in V)V.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(o.hasOwnProperty(re)?T||(T=[]):(T=T||[]).push(re,null));for(re in g){var W=g[re];if(V=y?.[re],g.hasOwnProperty(re)&&W!==V&&(W!=null||V!=null))if(re==="style")if(V){for(P in V)!V.hasOwnProperty(P)||W&&W.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in W)W.hasOwnProperty(P)&&V[P]!==W[P]&&(h||(h={}),h[P]=W[P])}else h||(T||(T=[]),T.push(re,h)),h=W;else re==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,V=V?V.__html:void 0,W!=null&&V!==W&&(T=T||[]).push(re,W)):re==="children"?typeof W!="string"&&typeof W!="number"||(T=T||[]).push(re,""+W):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(o.hasOwnProperty(re)?(W!=null&&re==="onScroll"&&Et("scroll",i),T||V===W||(T=[])):(T=T||[]).push(re,W))}h&&(T=T||[]).push("style",h);var re=T;(l.updateQueue=re)&&(l.flags|=4)}},Oy=function(i,l,h,g){h!==g&&(l.flags|=4)};function hc(i,l){if(!Nt)switch(i.tailMode){case"hidden":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Dn(i){var l=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(l)for(var y=i.child;y!==null;)h|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)h|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=g,i.childLanes=h,l}function ux(i,l,h){var g=l.pendingProps;switch(yp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(l),null;case 1:return dr(l.type)&&Oh(),Dn(l),null;case 3:return g=l.stateNode,ou(),Rt(hr),Rt(On),Lp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(jh(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,wi!==null&&(lm(wi),wi=null))),Qp(i,l),Dn(l),null;case 5:kp(l);var y=il(oc.current);if(h=l.type,i!==null&&l.stateNode!=null)Ny(i,l,h,g,y),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(t(166));return Dn(l),null}if(i=il(Bi.current),jh(l)){g=l.stateNode,h=l.type;var T=l.memoizedProps;switch(g[Qr]=l,g[Qo]=T,i=(l.mode&1)!==0,h){case"dialog":Et("cancel",g),Et("close",g);break;case"iframe":case"object":case"embed":Et("load",g);break;case"video":case"audio":for(y=0;y<Zo.length;y++)Et(Zo[y],g);break;case"source":Et("error",g);break;case"img":case"image":case"link":Et("error",g),Et("load",g);break;case"details":Et("toggle",g);break;case"input":cs(g,T),Et("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Et("invalid",g);break;case"textarea":fs(g,T),Et("invalid",g)}Ua(h,T),y=null;for(var P in T)if(T.hasOwnProperty(P)){var V=T[P];P==="children"?typeof V=="string"?g.textContent!==V&&(T.suppressHydrationWarning!==!0&&ne(g.textContent,V,i),y=["children",V]):typeof V=="number"&&g.textContent!==""+V&&(T.suppressHydrationWarning!==!0&&ne(g.textContent,V,i),y=["children",""+V]):o.hasOwnProperty(P)&&V!=null&&P==="onScroll"&&Et("scroll",g)}switch(h){case"input":Tr(g),ds(g,T,!0);break;case"textarea":Tr(g),Fa(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=he)}g=y,l.updateQueue=g,g!==null&&(l.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ot(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=P.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=P.createElement(h,{is:g.is}):(i=P.createElement(h),h==="select"&&(P=i,g.multiple?P.multiple=!0:g.size&&(P.size=g.size))):i=P.createElementNS(i,h),i[Qr]=l,i[Qo]=g,Ly(i,l,!1,!1),l.stateNode=i;e:{switch(P=ci(h,g),h){case"dialog":Et("cancel",i),Et("close",i),y=g;break;case"iframe":case"object":case"embed":Et("load",i),y=g;break;case"video":case"audio":for(y=0;y<Zo.length;y++)Et(Zo[y],i);y=g;break;case"source":Et("error",i),y=g;break;case"img":case"image":case"link":Et("error",i),Et("load",i),y=g;break;case"details":Et("toggle",i),y=g;break;case"input":cs(i,g),y=us(i,g),Et("invalid",i);break;case"option":y=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},y=ue({},g,{value:void 0}),Et("invalid",i);break;case"textarea":fs(i,g),y=go(i,g),Et("invalid",i);break;default:y=g}Ua(h,y),V=y;for(T in V)if(V.hasOwnProperty(T)){var W=V[T];T==="style"?ms(i,W):T==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&ja(i,W)):T==="children"?typeof W=="string"?(h!=="textarea"||W!=="")&&ui(i,W):typeof W=="number"&&ui(i,""+W):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(o.hasOwnProperty(T)?W!=null&&T==="onScroll"&&Et("scroll",i):W!=null&&te(i,T,W,P))}switch(h){case"input":Tr(i),ds(i,g,!1);break;case"textarea":Tr(i),Fa(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Qe(g.value));break;case"select":i.multiple=!!g.multiple,T=g.value,T!=null?Ir(i,!!g.multiple,T,!1):g.defaultValue!=null&&Ir(i,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=he)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Dn(l),null;case 6:if(i&&l.stateNode!=null)Oy(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(t(166));if(h=il(oc.current),il(Bi.current),jh(l)){if(g=l.stateNode,h=l.memoizedProps,g[Qr]=l,(T=g.nodeValue!==h)&&(i=Lr,i!==null))switch(i.tag){case 3:ne(g.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ne(g.nodeValue,h,(i.mode&1)!==0)}T&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Qr]=l,l.stateNode=g}return Dn(l),null;case 13:if(Rt(Vt),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Nt&&Nr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Vv(),nu(),l.flags|=98560,T=!1;else if(T=jh(l),g!==null&&g.dehydrated!==null){if(i===null){if(!T)throw Error(t(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[Qr]=l}else nu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dn(l),T=!1}else wi!==null&&(lm(wi),wi=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Vt.current&1)!==0?hn===0&&(hn=3):hm())),l.updateQueue!==null&&(l.flags|=4),Dn(l),null);case 4:return ou(),Qp(i,l),i===null&&Ko(l.stateNode.containerInfo),Dn(l),null;case 10:return Cp(l.type._context),Dn(l),null;case 17:return dr(l.type)&&Oh(),Dn(l),null;case 19:if(Rt(Vt),T=l.memoizedState,T===null)return Dn(l),null;if(g=(l.flags&128)!==0,P=T.rendering,P===null)if(g)hc(T,!1);else{if(hn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(P=Wh(i),P!==null){for(l.flags|=128,hc(T,!1),g=P.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)T=h,i=g,T.flags&=14680066,P=T.alternate,P===null?(T.childLanes=0,T.lanes=i,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=P.childLanes,T.lanes=P.lanes,T.child=P.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=P.memoizedProps,T.memoizedState=P.memoizedState,T.updateQueue=P.updateQueue,T.type=P.type,i=P.dependencies,T.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return Pt(Vt,Vt.current&1|2),l.child}i=i.sibling}T.tail!==null&&wt()>cu&&(l.flags|=128,g=!0,hc(T,!1),l.lanes=4194304)}else{if(!g)if(i=Wh(P),i!==null){if(l.flags|=128,g=!0,h=i.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),hc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!P.alternate&&!Nt)return Dn(l),null}else 2*wt()-T.renderingStartTime>cu&&h!==1073741824&&(l.flags|=128,g=!0,hc(T,!1),l.lanes=4194304);T.isBackwards?(P.sibling=l.child,l.child=P):(h=T.last,h!==null?h.sibling=P:l.child=P,T.last=P)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=wt(),l.sibling=null,h=Vt.current,Pt(Vt,g?h&1|2:h&1),l):(Dn(l),null);case 22:case 23:return cm(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Or&1073741824)!==0&&(Dn(l),l.subtreeFlags&6&&(l.flags|=8192)):Dn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function cx(i,l){switch(yp(l),l.tag){case 1:return dr(l.type)&&Oh(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return ou(),Rt(hr),Rt(On),Lp(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return kp(l),null;case 13:if(Rt(Vt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));nu()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Rt(Vt),null;case 4:return ou(),null;case 10:return Cp(l.type._context),null;case 22:case 23:return cm(),null;case 24:return null;default:return null}}var ed=!1,Vn=!1,hx=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function lu(i,l){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Wt(i,l,g)}else h.current=null}function Xp(i,l,h){try{h()}catch(g){Wt(i,l,g)}}var My=!1;function dx(i,l){if(ye=pi,i=Zu(),Ku(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var y=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var P=0,V=-1,W=-1,re=0,fe=0,pe=i,de=null;t:for(;;){for(var Te;pe!==h||y!==0&&pe.nodeType!==3||(V=P+y),pe!==T||g!==0&&pe.nodeType!==3||(W=P+g),pe.nodeType===3&&(P+=pe.nodeValue.length),(Te=pe.firstChild)!==null;)de=pe,pe=Te;for(;;){if(pe===i)break t;if(de===h&&++re===y&&(V=P),de===T&&++fe===g&&(W=P),(Te=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=Te}h=V===-1||W===-1?null:{start:V,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ve={focusedElem:i,selectionRange:h},pi=!1,Ae=l;Ae!==null;)if(l=Ae,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Ae=i;else for(;Ae!==null;){l=Ae;try{var Pe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var ke=Pe.memoizedProps,Qt=Pe.memoizedState,J=l.stateNode,Z=J.getSnapshotBeforeUpdate(l.elementType===l.type?ke:Ei(l.type,ke),Qt);J.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ee=l.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(_e){Wt(l,l.return,_e)}if(i=l.sibling,i!==null){i.return=l.return,Ae=i;break}Ae=l.return}return Pe=My,My=!1,Pe}function dc(i,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&i)===i){var T=y.destroy;y.destroy=void 0,T!==void 0&&Xp(l,h,T)}y=y.next}while(y!==g)}}function td(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&i)===i){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function Jp(i){var l=i.ref;if(l!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof l=="function"?l(i):l.current=i}}function Dy(i){var l=i.alternate;l!==null&&(i.alternate=null,Dy(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Qr],delete l[Qo],delete l[Xo],delete l[pp],delete l[mp])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Vy(i){return i.tag===5||i.tag===3||i.tag===4}function Fy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Vy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function em(i,l,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(i,l):h.insertBefore(i,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(i,h)):(l=h,l.appendChild(i)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=he));else if(g!==4&&(i=i.child,i!==null))for(em(i,l,h),i=i.sibling;i!==null;)em(i,l,h),i=i.sibling}function tm(i,l,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?h.insertBefore(i,l):h.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(tm(i,l,h),i=i.sibling;i!==null;)tm(i,l,h),i=i.sibling}var In=null,Ti=!1;function ia(i,l,h){for(h=h.child;h!==null;)jy(i,l,h),h=h.sibling}function jy(i,l,h){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Li,h)}catch{}switch(h.tag){case 5:Vn||lu(h,l);case 6:var g=In,y=Ti;In=null,ia(i,l,h),In=g,Ti=y,In!==null&&(Ti?(i=In,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):In.removeChild(h.stateNode));break;case 18:In!==null&&(Ti?(i=In,h=h.stateNode,i.nodeType===8?nc(i.parentNode,h):i.nodeType===1&&nc(i,h),ln(i)):nc(In,h.stateNode));break;case 4:g=In,y=Ti,In=h.stateNode.containerInfo,Ti=!0,ia(i,l,h),In=g,Ti=y;break;case 0:case 11:case 14:case 15:if(!Vn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var T=y,P=T.destroy;T=T.tag,P!==void 0&&((T&2)!==0||(T&4)!==0)&&Xp(h,l,P),y=y.next}while(y!==g)}ia(i,l,h);break;case 1:if(!Vn&&(lu(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(V){Wt(h,l,V)}ia(i,l,h);break;case 21:ia(i,l,h);break;case 22:h.mode&1?(Vn=(g=Vn)||h.memoizedState!==null,ia(i,l,h),Vn=g):ia(i,l,h);break;default:ia(i,l,h)}}function Uy(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new hx),l.forEach(function(g){var y=Ex.bind(null,i,g);h.has(g)||(h.add(g),g.then(y,y))})}}function Ii(i,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var y=h[g];try{var T=i,P=l,V=P;e:for(;V!==null;){switch(V.tag){case 5:In=V.stateNode,Ti=!1;break e;case 3:In=V.stateNode.containerInfo,Ti=!0;break e;case 4:In=V.stateNode.containerInfo,Ti=!0;break e}V=V.return}if(In===null)throw Error(t(160));jy(T,P,y),In=null,Ti=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(re){Wt(y,l,re)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)zy(l,i),l=l.sibling}function zy(i,l){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ii(l,i),qi(i),g&4){try{dc(3,i,i.return),td(3,i)}catch(ke){Wt(i,i.return,ke)}try{dc(5,i,i.return)}catch(ke){Wt(i,i.return,ke)}}break;case 1:Ii(l,i),qi(i),g&512&&h!==null&&lu(h,h.return);break;case 5:if(Ii(l,i),qi(i),g&512&&h!==null&&lu(h,h.return),i.flags&32){var y=i.stateNode;try{ui(y,"")}catch(ke){Wt(i,i.return,ke)}}if(g&4&&(y=i.stateNode,y!=null)){var T=i.memoizedProps,P=h!==null?h.memoizedProps:T,V=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{V==="input"&&T.type==="radio"&&T.name!=null&&po(y,T),ci(V,P);var re=ci(V,T);for(P=0;P<W.length;P+=2){var fe=W[P],pe=W[P+1];fe==="style"?ms(y,pe):fe==="dangerouslySetInnerHTML"?ja(y,pe):fe==="children"?ui(y,pe):te(y,fe,pe,re)}switch(V){case"input":hs(y,T);break;case"textarea":_o(y,T);break;case"select":var de=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!T.multiple;var Te=T.value;Te!=null?Ir(y,!!T.multiple,Te,!1):de!==!!T.multiple&&(T.defaultValue!=null?Ir(y,!!T.multiple,T.defaultValue,!0):Ir(y,!!T.multiple,T.multiple?[]:"",!1))}y[Qo]=T}catch(ke){Wt(i,i.return,ke)}}break;case 6:if(Ii(l,i),qi(i),g&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,T=i.memoizedProps;try{y.nodeValue=T}catch(ke){Wt(i,i.return,ke)}}break;case 3:if(Ii(l,i),qi(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ln(l.containerInfo)}catch(ke){Wt(i,i.return,ke)}break;case 4:Ii(l,i),qi(i);break;case 13:Ii(l,i),qi(i),y=i.child,y.flags&8192&&(T=y.memoizedState!==null,y.stateNode.isHidden=T,!T||y.alternate!==null&&y.alternate.memoizedState!==null||(im=wt())),g&4&&Uy(i);break;case 22:if(fe=h!==null&&h.memoizedState!==null,i.mode&1?(Vn=(re=Vn)||fe,Ii(l,i),Vn=re):Ii(l,i),qi(i),g&8192){if(re=i.memoizedState!==null,(i.stateNode.isHidden=re)&&!fe&&(i.mode&1)!==0)for(Ae=i,fe=i.child;fe!==null;){for(pe=Ae=fe;Ae!==null;){switch(de=Ae,Te=de.child,de.tag){case 0:case 11:case 14:case 15:dc(4,de,de.return);break;case 1:lu(de,de.return);var Pe=de.stateNode;if(typeof Pe.componentWillUnmount=="function"){g=de,h=de.return;try{l=g,Pe.props=l.memoizedProps,Pe.state=l.memoizedState,Pe.componentWillUnmount()}catch(ke){Wt(g,h,ke)}}break;case 5:lu(de,de.return);break;case 22:if(de.memoizedState!==null){qy(pe);continue}}Te!==null?(Te.return=de,Ae=Te):qy(pe)}fe=fe.sibling}e:for(fe=null,pe=i;;){if(pe.tag===5){if(fe===null){fe=pe;try{y=pe.stateNode,re?(T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(V=pe.stateNode,W=pe.memoizedProps.style,P=W!=null&&W.hasOwnProperty("display")?W.display:null,V.style.display=vo("display",P))}catch(ke){Wt(i,i.return,ke)}}}else if(pe.tag===6){if(fe===null)try{pe.stateNode.nodeValue=re?"":pe.memoizedProps}catch(ke){Wt(i,i.return,ke)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;fe===pe&&(fe=null),pe=pe.return}fe===pe&&(fe=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Ii(l,i),qi(i),g&4&&Uy(i);break;case 21:break;default:Ii(l,i),qi(i)}}function qi(i){var l=i.flags;if(l&2){try{e:{for(var h=i.return;h!==null;){if(Vy(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(ui(y,""),g.flags&=-33);var T=Fy(i);tm(i,T,y);break;case 3:case 4:var P=g.stateNode.containerInfo,V=Fy(i);em(i,V,P);break;default:throw Error(t(161))}}catch(W){Wt(i,i.return,W)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function fx(i,l,h){Ae=i,By(i)}function By(i,l,h){for(var g=(i.mode&1)!==0;Ae!==null;){var y=Ae,T=y.child;if(y.tag===22&&g){var P=y.memoizedState!==null||ed;if(!P){var V=y.alternate,W=V!==null&&V.memoizedState!==null||Vn;V=ed;var re=Vn;if(ed=P,(Vn=W)&&!re)for(Ae=y;Ae!==null;)P=Ae,W=P.child,P.tag===22&&P.memoizedState!==null?Wy(y):W!==null?(W.return=P,Ae=W):Wy(y);for(;T!==null;)Ae=T,By(T),T=T.sibling;Ae=y,ed=V,Vn=re}Hy(i)}else(y.subtreeFlags&8772)!==0&&T!==null?(T.return=y,Ae=T):Hy(i)}}function Hy(i){for(;Ae!==null;){var l=Ae;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Vn||td(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Vn)if(h===null)g.componentDidMount();else{var y=l.elementType===l.type?h.memoizedProps:Ei(l.type,h.memoizedProps);g.componentDidUpdate(y,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&qv(l,T,g);break;case 3:var P=l.updateQueue;if(P!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}qv(l,P,h)}break;case 5:var V=l.stateNode;if(h===null&&l.flags&4){h=V;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&h.focus();break;case"img":W.src&&(h.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var re=l.alternate;if(re!==null){var fe=re.memoizedState;if(fe!==null){var pe=fe.dehydrated;pe!==null&&ln(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vn||l.flags&512&&Jp(l)}catch(de){Wt(l,l.return,de)}}if(l===i){Ae=null;break}if(h=l.sibling,h!==null){h.return=l.return,Ae=h;break}Ae=l.return}}function qy(i){for(;Ae!==null;){var l=Ae;if(l===i){Ae=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Ae=h;break}Ae=l.return}}function Wy(i){for(;Ae!==null;){var l=Ae;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{td(4,l)}catch(W){Wt(l,h,W)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch(W){Wt(l,y,W)}}var T=l.return;try{Jp(l)}catch(W){Wt(l,T,W)}break;case 5:var P=l.return;try{Jp(l)}catch(W){Wt(l,P,W)}}}catch(W){Wt(l,l.return,W)}if(l===i){Ae=null;break}var V=l.sibling;if(V!==null){V.return=l.return,Ae=V;break}Ae=l.return}}var px=Math.ceil,nd=oe.ReactCurrentDispatcher,nm=oe.ReactCurrentOwner,ni=oe.ReactCurrentBatchConfig,at=0,vn=null,rn=null,Sn=0,Or=0,uu=Jo(0),hn=0,fc=null,ol=0,rd=0,rm=0,pc=null,pr=null,im=0,cu=1/0,$s=null,id=!1,sm=null,sa=null,sd=!1,oa=null,od=0,mc=0,om=null,ad=-1,ld=0;function Qn(){return(at&6)!==0?wt():ad!==-1?ad:ad=wt()}function aa(i){return(i.mode&1)===0?1:(at&2)!==0&&Sn!==0?Sn&-Sn:QC.transition!==null?(ld===0&&(ld=Cs()),ld):(i=Ye,i!==0||(i=window.event,i=i===void 0?16:Xe(i.type)),i)}function Si(i,l,h,g){if(50<mc)throw mc=0,om=null,Error(t(185));bn(i,h,g),((at&2)===0||i!==vn)&&(i===vn&&((at&2)===0&&(rd|=h),hn===4&&la(i,Sn)),mr(i,g),h===1&&at===0&&(l.mode&1)===0&&(cu=wt()+500,Dh&&ta()))}function mr(i,l){var h=i.callbackNode;ir(i,l);var g=vt(i,i===vn?Sn:0);if(g===0)h!==null&&Ao(h),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(h!=null&&Ao(h),l===1)i.tag===0?YC(Gy.bind(null,i)):Lv(Gy.bind(null,i)),Nn(function(){(at&6)===0&&ta()}),h=null;else{switch(sr(g)){case 1:h=Ts;break;case 4:h=ki;break;case 16:h=rr;break;case 536870912:h=Ri;break;default:h=rr}h=tw(h,$y.bind(null,i))}i.callbackPriority=l,i.callbackNode=h}}function $y(i,l){if(ad=-1,ld=0,(at&6)!==0)throw Error(t(327));var h=i.callbackNode;if(hu()&&i.callbackNode!==h)return null;var g=vt(i,i===vn?Sn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=ud(i,g);else{l=g;var y=at;at|=2;var T=Ky();(vn!==i||Sn!==l)&&($s=null,cu=wt()+500,ll(i,l));do try{_x();break}catch(V){Zy(i,V)}while(!0);Sp(),nd.current=T,at=y,rn!==null?l=0:(vn=null,Sn=0,l=hn)}if(l!==0){if(l===2&&(y=xt(i),y!==0&&(g=y,l=am(i,y))),l===1)throw h=fc,ll(i,0),la(i,g),mr(i,wt()),h;if(l===6)la(i,g);else{if(y=i.current.alternate,(g&30)===0&&!mx(y)&&(l=ud(i,g),l===2&&(T=xt(i),T!==0&&(g=T,l=am(i,T))),l===1))throw h=fc,ll(i,0),la(i,g),mr(i,wt()),h;switch(i.finishedWork=y,i.finishedLanes=g,l){case 0:case 1:throw Error(t(345));case 2:ul(i,pr,$s);break;case 3:if(la(i,g),(g&130023424)===g&&(l=im+500-wt(),10<l)){if(vt(i,0)!==0)break;if(y=i.suspendedLanes,(y&g)!==g){Qn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=un(ul.bind(null,i,pr,$s),l);break}ul(i,pr,$s);break;case 4:if(la(i,g),(g&4194240)===g)break;for(l=i.eventTimes,y=-1;0<g;){var P=31-He(g);T=1<<P,P=l[P],P>y&&(y=P),g&=~T}if(g=y,g=wt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*px(g/1960))-g,10<g){i.timeoutHandle=un(ul.bind(null,i,pr,$s),g);break}ul(i,pr,$s);break;case 5:ul(i,pr,$s);break;default:throw Error(t(329))}}}return mr(i,wt()),i.callbackNode===h?$y.bind(null,i):null}function am(i,l){var h=pc;return i.current.memoizedState.isDehydrated&&(ll(i,l).flags|=256),i=ud(i,l),i!==2&&(l=pr,pr=h,l!==null&&lm(l)),i}function lm(i){pr===null?pr=i:pr.push.apply(pr,i)}function mx(i){for(var l=i;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var y=h[g],T=y.getSnapshot;y=y.value;try{if(!kr(T(),y))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function la(i,l){for(l&=~rm,l&=~rd,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var h=31-He(l),g=1<<h;i[h]=-1,l&=~g}}function Gy(i){if((at&6)!==0)throw Error(t(327));hu();var l=vt(i,0);if((l&1)===0)return mr(i,wt()),null;var h=ud(i,l);if(i.tag!==0&&h===2){var g=xt(i);g!==0&&(l=g,h=am(i,g))}if(h===1)throw h=fc,ll(i,0),la(i,l),mr(i,wt()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,ul(i,pr,$s),mr(i,wt()),null}function um(i,l){var h=at;at|=1;try{return i(l)}finally{at=h,at===0&&(cu=wt()+500,Dh&&ta())}}function al(i){oa!==null&&oa.tag===0&&(at&6)===0&&hu();var l=at;at|=1;var h=ni.transition,g=Ye;try{if(ni.transition=null,Ye=1,i)return i()}finally{Ye=g,ni.transition=h,at=l,(at&6)===0&&ta()}}function cm(){Or=uu.current,Rt(uu)}function ll(i,l){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,nn(h)),rn!==null)for(h=rn.return;h!==null;){var g=h;switch(yp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Oh();break;case 3:ou(),Rt(hr),Rt(On),Lp();break;case 5:kp(g);break;case 4:ou();break;case 13:Rt(Vt);break;case 19:Rt(Vt);break;case 10:Cp(g.type._context);break;case 22:case 23:cm()}h=h.return}if(vn=i,rn=i=ua(i.current,null),Sn=Or=l,hn=0,fc=null,rm=rd=ol=0,pr=pc=null,rl!==null){for(l=0;l<rl.length;l++)if(h=rl[l],g=h.interleaved,g!==null){h.interleaved=null;var y=g.next,T=h.pending;if(T!==null){var P=T.next;T.next=y,g.next=P}h.pending=g}rl=null}return i}function Zy(i,l){do{var h=rn;try{if(Sp(),$h.current=Yh,Gh){for(var g=Ft.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Gh=!1}if(sl=0,_n=cn=Ft=null,ac=!1,lc=0,nm.current=null,h===null||h.return===null){hn=1,fc=l,rn=null;break}e:{var T=i,P=h.return,V=h,W=l;if(l=Sn,V.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var re=W,fe=V,pe=fe.tag;if((fe.mode&1)===0&&(pe===0||pe===11||pe===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Te=yy(P);if(Te!==null){Te.flags&=-257,wy(Te,P,V,T,l),Te.mode&1&&vy(T,re,l),l=Te,W=re;var Pe=l.updateQueue;if(Pe===null){var ke=new Set;ke.add(W),l.updateQueue=ke}else Pe.add(W);break e}else{if((l&1)===0){vy(T,re,l),hm();break e}W=Error(t(426))}}else if(Nt&&V.mode&1){var Qt=yy(P);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),wy(Qt,P,V,T,l),Tp(au(W,V));break e}}T=W=au(W,V),hn!==4&&(hn=2),pc===null?pc=[T]:pc.push(T),T=P;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var J=gy(T,W,l);Hv(T,J);break e;case 1:V=W;var Z=T.type,ee=T.stateNode;if((T.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(sa===null||!sa.has(ee)))){T.flags|=65536,l&=-l,T.lanes|=l;var _e=_y(T,V,l);Hv(T,_e);break e}}T=T.return}while(T!==null)}Qy(h)}catch(Le){l=Le,rn===h&&h!==null&&(rn=h=h.return);continue}break}while(!0)}function Ky(){var i=nd.current;return nd.current=Yh,i===null?Yh:i}function hm(){(hn===0||hn===3||hn===2)&&(hn=4),vn===null||(ol&268435455)===0&&(rd&268435455)===0||la(vn,Sn)}function ud(i,l){var h=at;at|=2;var g=Ky();(vn!==i||Sn!==l)&&($s=null,ll(i,l));do try{gx();break}catch(y){Zy(i,y)}while(!0);if(Sp(),at=h,nd.current=g,rn!==null)throw Error(t(261));return vn=null,Sn=0,hn}function gx(){for(;rn!==null;)Yy(rn)}function _x(){for(;rn!==null&&!Ml();)Yy(rn)}function Yy(i){var l=ew(i.alternate,i,Or);i.memoizedProps=i.pendingProps,l===null?Qy(i):rn=l,nm.current=null}function Qy(i){var l=i;do{var h=l.alternate;if(i=l.return,(l.flags&32768)===0){if(h=ux(h,l,Or),h!==null){rn=h;return}}else{if(h=cx(h,l),h!==null){h.flags&=32767,rn=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{hn=6,rn=null;return}}if(l=l.sibling,l!==null){rn=l;return}rn=l=i}while(l!==null);hn===0&&(hn=5)}function ul(i,l,h){var g=Ye,y=ni.transition;try{ni.transition=null,Ye=1,vx(i,l,h,g)}finally{ni.transition=y,Ye=g}return null}function vx(i,l,h,g){do hu();while(oa!==null);if((at&6)!==0)throw Error(t(327));h=i.finishedWork;var y=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var T=h.lanes|h.childLanes;if(qe(i,T),i===vn&&(rn=vn=null,Sn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||sd||(sd=!0,tw(rr,function(){return hu(),null})),T=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||T){T=ni.transition,ni.transition=null;var P=Ye;Ye=1;var V=at;at|=4,nm.current=null,dx(i,h),zy(h,i),Kr(Ve),pi=!!ye,Ve=ye=null,i.current=h,fx(h),Po(),at=V,Ye=P,ni.transition=T}else i.current=h;if(sd&&(sd=!1,oa=i,od=y),T=i.pendingLanes,T===0&&(sa=null),Ni(h.stateNode),mr(i,wt()),l!==null)for(g=i.onRecoverableError,h=0;h<l.length;h++)y=l[h],g(y.value,{componentStack:y.stack,digest:y.digest});if(id)throw id=!1,i=sm,sm=null,i;return(od&1)!==0&&i.tag!==0&&hu(),T=i.pendingLanes,(T&1)!==0?i===om?mc++:(mc=0,om=i):mc=0,ta(),null}function hu(){if(oa!==null){var i=sr(od),l=ni.transition,h=Ye;try{if(ni.transition=null,Ye=16>i?16:i,oa===null)var g=!1;else{if(i=oa,oa=null,od=0,(at&6)!==0)throw Error(t(331));var y=at;for(at|=4,Ae=i.current;Ae!==null;){var T=Ae,P=T.child;if((Ae.flags&16)!==0){var V=T.deletions;if(V!==null){for(var W=0;W<V.length;W++){var re=V[W];for(Ae=re;Ae!==null;){var fe=Ae;switch(fe.tag){case 0:case 11:case 15:dc(8,fe,T)}var pe=fe.child;if(pe!==null)pe.return=fe,Ae=pe;else for(;Ae!==null;){fe=Ae;var de=fe.sibling,Te=fe.return;if(Dy(fe),fe===re){Ae=null;break}if(de!==null){de.return=Te,Ae=de;break}Ae=Te}}}var Pe=T.alternate;if(Pe!==null){var ke=Pe.child;if(ke!==null){Pe.child=null;do{var Qt=ke.sibling;ke.sibling=null,ke=Qt}while(ke!==null)}}Ae=T}}if((T.subtreeFlags&2064)!==0&&P!==null)P.return=T,Ae=P;else e:for(;Ae!==null;){if(T=Ae,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:dc(9,T,T.return)}var J=T.sibling;if(J!==null){J.return=T.return,Ae=J;break e}Ae=T.return}}var Z=i.current;for(Ae=Z;Ae!==null;){P=Ae;var ee=P.child;if((P.subtreeFlags&2064)!==0&&ee!==null)ee.return=P,Ae=ee;else e:for(P=Z;Ae!==null;){if(V=Ae,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:td(9,V)}}catch(Le){Wt(V,V.return,Le)}if(V===P){Ae=null;break e}var _e=V.sibling;if(_e!==null){_e.return=V.return,Ae=_e;break e}Ae=V.return}}if(at=y,ta(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Li,i)}catch{}g=!0}return g}finally{Ye=h,ni.transition=l}}return!1}function Xy(i,l,h){l=au(h,l),l=gy(i,l,1),i=ra(i,l,1),l=Qn(),i!==null&&(bn(i,1,l),mr(i,l))}function Wt(i,l,h){if(i.tag===3)Xy(i,i,h);else for(;l!==null;){if(l.tag===3){Xy(l,i,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(sa===null||!sa.has(g))){i=au(h,i),i=_y(l,i,1),l=ra(l,i,1),i=Qn(),l!==null&&(bn(l,1,i),mr(l,i));break}}l=l.return}}function yx(i,l,h){var g=i.pingCache;g!==null&&g.delete(l),l=Qn(),i.pingedLanes|=i.suspendedLanes&h,vn===i&&(Sn&h)===h&&(hn===4||hn===3&&(Sn&130023424)===Sn&&500>wt()-im?ll(i,0):rm|=h),mr(i,l)}function Jy(i,l){l===0&&((i.mode&1)===0?l=1:(l=Oi,Oi<<=1,(Oi&130023424)===0&&(Oi=4194304)));var h=Qn();i=Hs(i,l),i!==null&&(bn(i,l,h),mr(i,h))}function wx(i){var l=i.memoizedState,h=0;l!==null&&(h=l.retryLane),Jy(i,h)}function Ex(i,l){var h=0;switch(i.tag){case 13:var g=i.stateNode,y=i.memoizedState;y!==null&&(h=y.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(l),Jy(i,h)}var ew;ew=function(i,l,h){if(i!==null)if(i.memoizedProps!==l.pendingProps||hr.current)fr=!0;else{if((i.lanes&h)===0&&(l.flags&128)===0)return fr=!1,lx(i,l,h);fr=(i.flags&131072)!==0}else fr=!1,Nt&&(l.flags&1048576)!==0&&Nv(l,Fh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Jh(i,l),i=l.pendingProps;var y=Jl(l,On.current);su(l,h),y=Mp(null,l,g,i,y,h);var T=Dp();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,dr(g)?(T=!0,Mh(l)):T=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Pp(l),y.updater=Qh,l.stateNode=y,y._reactInternals=l,Bp(l,g,i,h),l=$p(null,l,g,!0,T,h)):(l.tag=0,Nt&&T&&vp(l),Yn(null,l,y,h),l=l.child),l;case 16:g=l.elementType;e:{switch(Jh(i,l),i=l.pendingProps,y=g._init,g=y(g._payload),l.type=g,y=l.tag=Ix(g),i=Ei(g,i),y){case 0:l=Wp(null,l,g,i,h);break e;case 1:l=xy(null,l,g,i,h);break e;case 11:l=Ey(null,l,g,i,h);break e;case 14:l=Ty(null,l,g,Ei(g.type,i),h);break e}throw Error(t(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ei(g,y),Wp(i,l,g,y,h);case 1:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ei(g,y),xy(i,l,g,y,h);case 3:e:{if(Ay(l),i===null)throw Error(t(387));g=l.pendingProps,T=l.memoizedState,y=T.element,Bv(i,l),qh(l,g,null,h);var P=l.memoizedState;if(g=P.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){y=au(Error(t(423)),l),l=Py(i,l,g,h,y);break e}else if(g!==y){y=au(Error(t(424)),l),l=Py(i,l,g,h,y);break e}else for(Nr=zi(l.stateNode.containerInfo.firstChild),Lr=l,Nt=!0,wi=null,h=Uv(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(nu(),g===y){l=Ws(i,l,h);break e}Yn(i,l,g,h)}l=l.child}return l;case 5:return Wv(l),i===null&&Ep(l),g=l.type,y=l.pendingProps,T=i!==null?i.memoizedProps:null,P=y.children,Ze(g,y)?P=null:T!==null&&Ze(g,T)&&(l.flags|=32),Cy(i,l),Yn(i,l,P,h),l.child;case 6:return i===null&&Ep(l),null;case 13:return by(i,l,h);case 4:return bp(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=ru(l,null,g,h):Yn(i,l,g,h),l.child;case 11:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ei(g,y),Ey(i,l,g,y,h);case 7:return Yn(i,l,l.pendingProps,h),l.child;case 8:return Yn(i,l,l.pendingProps.children,h),l.child;case 12:return Yn(i,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,T=l.memoizedProps,P=y.value,Pt(zh,g._currentValue),g._currentValue=P,T!==null)if(kr(T.value,P)){if(T.children===y.children&&!hr.current){l=Ws(i,l,h);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var V=T.dependencies;if(V!==null){P=T.child;for(var W=V.firstContext;W!==null;){if(W.context===g){if(T.tag===1){W=qs(-1,h&-h),W.tag=2;var re=T.updateQueue;if(re!==null){re=re.shared;var fe=re.pending;fe===null?W.next=W:(W.next=fe.next,fe.next=W),re.pending=W}}T.lanes|=h,W=T.alternate,W!==null&&(W.lanes|=h),xp(T.return,h,l),V.lanes|=h;break}W=W.next}}else if(T.tag===10)P=T.type===l.type?null:T.child;else if(T.tag===18){if(P=T.return,P===null)throw Error(t(341));P.lanes|=h,V=P.alternate,V!==null&&(V.lanes|=h),xp(P,h,l),P=T.sibling}else P=T.child;if(P!==null)P.return=T;else for(P=T;P!==null;){if(P===l){P=null;break}if(T=P.sibling,T!==null){T.return=P.return,P=T;break}P=P.return}T=P}Yn(i,l,y.children,h),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,su(l,h),y=ei(y),g=g(y),l.flags|=1,Yn(i,l,g,h),l.child;case 14:return g=l.type,y=Ei(g,l.pendingProps),y=Ei(g.type,y),Ty(i,l,g,y,h);case 15:return Iy(i,l,l.type,l.pendingProps,h);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ei(g,y),Jh(i,l),l.tag=1,dr(g)?(i=!0,Mh(l)):i=!1,su(l,h),py(l,g,y),Bp(l,g,y,h),$p(null,l,g,!0,i,h);case 19:return Ry(i,l,h);case 22:return Sy(i,l,h)}throw Error(t(156,l.tag))};function tw(i,l){return xo(i,l)}function Tx(i,l,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(i,l,h,g){return new Tx(i,l,h,g)}function dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ix(i){if(typeof i=="function")return dm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===K)return 11;if(i===fn)return 14}return 2}function ua(i,l){var h=i.alternate;return h===null?(h=ri(i.tag,l,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=l,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,l=i.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function cd(i,l,h,g,y,T){var P=2;if(g=i,typeof i=="function")dm(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case H:return cl(h.children,y,T,l);case D:P=8,y|=8;break;case F:return i=ri(12,h,l,y|2),i.elementType=F,i.lanes=T,i;case U:return i=ri(13,h,l,y),i.elementType=U,i.lanes=T,i;case ut:return i=ri(19,h,l,y),i.elementType=ut,i.lanes=T,i;case st:return hd(h,y,T,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:P=10;break e;case $:P=9;break e;case K:P=11;break e;case fn:P=14;break e;case ht:P=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=ri(P,h,l,y),l.elementType=i,l.type=g,l.lanes=T,l}function cl(i,l,h,g){return i=ri(7,i,g,l),i.lanes=h,i}function hd(i,l,h,g){return i=ri(22,i,g,l),i.elementType=st,i.lanes=h,i.stateNode={isHidden:!1},i}function fm(i,l,h){return i=ri(6,i,null,l),i.lanes=h,i}function pm(i,l,h){return l=ri(4,i.children!==null?i.children:[],i.key,l),l.lanes=h,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function Sx(i,l,h,g,y){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ar(0),this.expirationTimes=Ar(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function mm(i,l,h,g,y,T,P,V,W){return i=new Sx(i,l,h,V,W),l===1?(l=1,T===!0&&(l|=8)):l=0,T=ri(3,null,null,l),i.current=T,T.stateNode=i,T.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(T),i}function Cx(i,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:g==null?null:""+g,children:i,containerInfo:l,implementation:h}}function nw(i){if(!i)return ea;i=i._reactInternals;e:{if(er(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(dr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(dr(h))return kv(i,h,l)}return l}function rw(i,l,h,g,y,T,P,V,W){return i=mm(h,g,!0,i,y,T,P,V,W),i.context=nw(null),h=i.current,g=Qn(),y=aa(h),T=qs(g,y),T.callback=l??null,ra(h,T,y),i.current.lanes=y,bn(i,y,g),mr(i,g),i}function dd(i,l,h,g){var y=l.current,T=Qn(),P=aa(y);return h=nw(h),l.context===null?l.context=h:l.pendingContext=h,l=qs(T,P),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=ra(y,l,P),i!==null&&(Si(i,y,P,T),Hh(i,y,P)),P}function fd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function iw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<l?h:l}}function gm(i,l){iw(i,l),(i=i.alternate)&&iw(i,l)}function xx(){return null}var sw=typeof reportError=="function"?reportError:function(i){console.error(i)};function _m(i){this._internalRoot=i}pd.prototype.render=_m.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));dd(i,l,null,null)},pd.prototype.unmount=_m.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;al(function(){dd(null,i,null,null)}),l[pt]=null}};function pd(i){this._internalRoot=i}pd.prototype.unstable_scheduleHydration=function(i){if(i){var l=Ro();i={blockedOn:null,target:i,priority:l};for(var h=0;h<Yt.length&&l!==0&&l<Yt[h].priority;h++);Yt.splice(h,0,i),h===0&&Lo(i)}};function vm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function md(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ow(){}function Ax(i,l,h,g,y){if(y){if(typeof g=="function"){var T=g;g=function(){var re=fd(P);T.call(re)}}var P=rw(l,g,i,0,null,!1,!1,"",ow);return i._reactRootContainer=P,i[pt]=P.current,Ko(i.nodeType===8?i.parentNode:i),al(),P}for(;y=i.lastChild;)i.removeChild(y);if(typeof g=="function"){var V=g;g=function(){var re=fd(W);V.call(re)}}var W=mm(i,0,!1,null,null,!1,!1,"",ow);return i._reactRootContainer=W,i[pt]=W.current,Ko(i.nodeType===8?i.parentNode:i),al(function(){dd(l,W,h,g)}),W}function gd(i,l,h,g,y){var T=h._reactRootContainer;if(T){var P=T;if(typeof y=="function"){var V=y;y=function(){var W=fd(P);V.call(W)}}dd(l,P,i,y)}else P=Ax(h,l,i,y,g);return fd(P)}bo=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var h=Ue(l.pendingLanes);h!==0&&(kn(l,h|1),mr(l,wt()),(at&6)===0&&(cu=wt()+500,ta()))}break;case 13:al(function(){var g=Hs(i,1);if(g!==null){var y=Qn();Si(g,i,1,y)}}),gm(i,1)}},Wr=function(i){if(i.tag===13){var l=Hs(i,134217728);if(l!==null){var h=Qn();Si(l,i,134217728,h)}gm(i,134217728)}},ko=function(i){if(i.tag===13){var l=aa(i),h=Hs(i,l);if(h!==null){var g=Qn();Si(h,i,l,g)}gm(i,l)}},Ro=function(){return Ye},xs=function(i,l){var h=Ye;try{return Ye=i,l()}finally{Ye=h}},_s=function(i,l,h){switch(l){case"input":if(hs(i,h),l=h.name,h.type==="radio"&&l!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==i&&g.form===i.form){var y=Ql(g);if(!y)throw Error(t(90));Ur(g),hs(g,y)}}}break;case"textarea":_o(i,h);break;case"select":l=h.value,l!=null&&Ir(i,!!h.multiple,l,!1)}},vs=um,Ba=al;var Px={usingClientEntryPoint:!1,Events:[Fs,js,Ql,qr,za,um]},gc={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bx={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ha(i),i===null?null:i.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||xx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{Li=_d.inject(bx),Pn=_d}catch{}}return gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px,gr.createPortal=function(i,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(l))throw Error(t(200));return Cx(i,l,null,h)},gr.createRoot=function(i,l){if(!vm(i))throw Error(t(299));var h=!1,g="",y=sw;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=mm(i,1,!1,null,null,h,!1,g,y),i[pt]=l.current,Ko(i.nodeType===8?i.parentNode:i),new _m(l)},gr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ha(l),i=i===null?null:i.stateNode,i},gr.flushSync=function(i){return al(i)},gr.hydrate=function(i,l,h){if(!md(l))throw Error(t(200));return gd(null,i,l,!0,h)},gr.hydrateRoot=function(i,l,h){if(!vm(i))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,y=!1,T="",P=sw;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),l=rw(l,null,i,1,h??null,y,!1,T,P),i[pt]=l.current,Ko(i),g)for(i=0;i<g.length;i++)h=g[i],y=h._getVersion,y=y(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,y]:l.mutableSourceEagerHydrationData.push(h,y);return new pd(l)},gr.render=function(i,l,h){if(!md(l))throw Error(t(200));return gd(null,i,l,!1,h)},gr.unmountComponentAtNode=function(i){if(!md(i))throw Error(t(40));return i._reactRootContainer?(al(function(){gd(null,null,i,!1,function(){i._reactRootContainer=null,i[pt]=null})}),!0):!1},gr.unstable_batchedUpdates=um,gr.unstable_renderSubtreeIntoContainer=function(i,l,h,g){if(!md(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return gd(i,l,h,!1,g)},gr.version="18.3.1-next-f1338f8080-20240426",gr}var pw;function JE(){if(pw)return Em.exports;pw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Em.exports=Dx(),Em.exports}var mw;function Vx(){if(mw)return vd;mw=1;var n=JE();return vd.createRoot=n.createRoot,vd.hydrateRoot=n.hydrateRoot,vd}var Fx=Vx();const jx=Xc(Fx),Ux="modulepreload",zx=function(n){return"/"+n},gw={},Bx=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let _=function(w){return Promise.all(w.map(I=>Promise.resolve(I).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var u=_;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");o=_(t.map(w=>{if(w=zx(w),w in gw)return;gw[w]=!0;const I=w.endsWith(".css"),S=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${S}`))return;const b=document.createElement("link");if(b.rel=I?"stylesheet":Ux,I||(b.as="script"),b.crossOrigin="",b.href=w,m&&b.setAttribute("nonce",m),document.head.appendChild(b),I)return new Promise((O,N)=>{b.addEventListener("load",O),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${w}`)))})}))}function a(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&a(m.reason);return e().catch(a)})};var vc={},_w;function Hx(){if(_w)return vc;_w=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.parse=u,vc.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function u(S,b){const O=new a,N=S.length;if(N<2)return O;const M=b?.decode||w;let j=0;do{const Q=S.indexOf("=",j);if(Q===-1)break;const te=S.indexOf(";",j),oe=te===-1?N:te;if(Q>oe){j=S.lastIndexOf(";",Q-1)+1;continue}const me=d(S,j,Q),Ce=m(S,Q,me),H=S.slice(me,Ce);if(O[H]===void 0){let D=d(S,Q+1,oe),F=m(S,oe,D);const q=M(S.slice(D,F));O[H]=q}j=oe+1}while(j<N);return O}function d(S,b,O){do{const N=S.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<O);return O}function m(S,b,O){for(;b>O;){const N=S.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return O}function _(S,b,O){const N=O?.encode||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const M=N(b);if(!e.test(M))throw new TypeError(`argument val is invalid: ${b}`);let j=S+"="+M;if(!O)return j;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);j+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);j+="; Domain="+O.domain}if(O.path){if(!r.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);j+="; Path="+O.path}if(O.expires){if(!I(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);j+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(j+="; HttpOnly"),O.secure&&(j+="; Secure"),O.partitioned&&(j+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return j}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function I(S){return o.call(S)==="[object Date]"}return vc}Hx();var vw="popstate";function qx(n={}){function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return Xm("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:zc(o)}return $x(e,t,null,n)}function jt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wx(){return Math.random().toString(36).substring(2,10)}function yw(n,e){return{usr:n.state,key:n.key,idx:e}}function Xm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ou(e):e,state:t,key:e&&e.key||r||Wx()}}function zc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ou(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function $x(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d="POP",m=null,_=w();_==null&&(_=0,u.replaceState({...u.state,idx:_},""));function w(){return(u.state||{idx:null}).idx}function I(){d="POP";let M=w(),j=M==null?null:M-_;_=M,m&&m({action:d,location:N.location,delta:j})}function S(M,j){d="PUSH";let Q=Xm(N.location,M,j);_=w()+1;let te=yw(Q,_),oe=N.createHref(Q);try{u.pushState(te,"",oe)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(oe)}a&&m&&m({action:d,location:N.location,delta:1})}function b(M,j){d="REPLACE";let Q=Xm(N.location,M,j);_=w();let te=yw(Q,_),oe=N.createHref(Q);u.replaceState(te,"",oe),a&&m&&m({action:d,location:N.location,delta:0})}function O(M){return Gx(M)}let N={get action(){return d},get location(){return n(o,u)},listen(M){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(vw,I),m=M,()=>{o.removeEventListener(vw,I),m=null}},createHref(M){return e(o,M)},createURL:O,encodeLocation(M){let j=O(M);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:b,go(M){return u.go(M)}};return N}function Gx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),jt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:zc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function eT(n,e,t="/"){return Zx(n,e,t,!1)}function Zx(n,e,t,r){let o=typeof e=="string"?Ou(e):e,a=no(o.pathname||"/",t);if(a==null)return null;let u=tT(n);Kx(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let _=oA(a);d=iA(u[m],_,r)}return d}function tT(n,e=[],t=[],r=""){let o=(a,u,d)=>{let m={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};m.relativePath.startsWith("/")&&(jt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let _=Js([r,m.relativePath]),w=t.concat(m);a.children&&a.children.length>0&&(jt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),tT(a.children,e,w,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:nA(_,a.index),routesMeta:w})};return n.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))o(a,u);else for(let d of nT(a.path))o(a,u,d)}),e}function nT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=nT(r.join("/")),d=[];return d.push(...u.map(m=>m===""?a:[a,m].join("/"))),o&&d.push(...u),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function Kx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Yx=/^:[\w-]+$/,Qx=3,Xx=2,Jx=1,eA=10,tA=-2,ww=n=>n==="*";function nA(n,e){let t=n.split("/"),r=t.length;return t.some(ww)&&(r+=tA),e&&(r+=Xx),t.filter(o=>!ww(o)).reduce((o,a)=>o+(Yx.test(a)?Qx:a===""?Jx:eA),r)}function rA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function iA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let m=r[d],_=d===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",I=$d({path:m.relativePath,caseSensitive:m.caseSensitive,end:_},w),S=m.route;if(!I&&_&&t&&!r[r.length-1].route.index&&(I=$d({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!I)return null;Object.assign(o,I.params),u.push({params:o,pathname:Js([a,I.pathname]),pathnameBase:cA(Js([a,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(a=Js([a,I.pathnameBase]))}return u}function $d(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=sA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((_,{paramName:w,isOptional:I},S)=>{if(w==="*"){let O=d[S]||"";u=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const b=d[S];return I&&!b?_[w]=void 0:_[w]=(b||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:u,pattern:n}}function sA(n,e=!1,t=!0){rs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function oA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function no(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function aA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Ou(n):n;return{pathname:t?t.startsWith("/")?t:lA(t,e):e,search:hA(r),hash:dA(o)}}function lA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rT(n){let e=uA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function iT(n,e,t,r=!1){let o;typeof n=="string"?o=Ou(n):(o={...n},jt(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),jt(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),jt(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let I=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),I-=1;o.pathname=S.join("/")}d=I>=0?e[I]:"/"}let m=aA(o,d),_=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(_||w)&&(m.pathname+="/"),m}var Js=n=>n.join("/").replace(/\/\/+/g,"/"),cA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function fA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sT=["POST","PUT","PATCH","DELETE"];new Set(sT);var pA=["GET",...sT];new Set(pA);var Mu=B.createContext(null);Mu.displayName="DataRouter";var wf=B.createContext(null);wf.displayName="DataRouterState";var oT=B.createContext({isTransitioning:!1});oT.displayName="ViewTransition";var mA=B.createContext(new Map);mA.displayName="Fetchers";var gA=B.createContext(null);gA.displayName="Await";var os=B.createContext(null);os.displayName="Navigation";var Jc=B.createContext(null);Jc.displayName="Location";var as=B.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var Xg=B.createContext(null);Xg.displayName="RouteError";function _A(n,{relative:e}={}){jt(eh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=B.useContext(os),{hash:o,pathname:a,search:u}=nh(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Js([t,a])),r.createHref({pathname:d,search:u,hash:o})}function eh(){return B.useContext(Jc)!=null}function Al(){return jt(eh(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Jc).location}var aT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(n){B.useContext(os).static||B.useLayoutEffect(n)}function th(){let{isDataRoute:n}=B.useContext(as);return n?kA():vA()}function vA(){jt(eh(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Mu),{basename:e,navigator:t}=B.useContext(os),{matches:r}=B.useContext(as),{pathname:o}=Al(),a=JSON.stringify(rT(r)),u=B.useRef(!1);return lT(()=>{u.current=!0}),B.useCallback((m,_={})=>{if(rs(u.current,aT),!u.current)return;if(typeof m=="number"){t.go(m);return}let w=iT(m,JSON.parse(a),o,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Js([e,w.pathname])),(_.replace?t.replace:t.push)(w,_.state,_)},[e,t,a,o,n])}B.createContext(null);function uT(){let{matches:n}=B.useContext(as),e=n[n.length-1];return e?e.params:{}}function nh(n,{relative:e}={}){let{matches:t}=B.useContext(as),{pathname:r}=Al(),o=JSON.stringify(rT(t));return B.useMemo(()=>iT(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function yA(n,e){return cT(n,e)}function cT(n,e,t,r){jt(eh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(os),{matches:a}=B.useContext(as),u=a[a.length-1],d=u?u.params:{},m=u?u.pathname:"/",_=u?u.pathnameBase:"/",w=u&&u.route;{let j=w&&w.path||"";hT(m,!w||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let I=Al(),S;if(e){let j=typeof e=="string"?Ou(e):e;jt(_==="/"||j.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=I;let b=S.pathname||"/",O=b;if(_!=="/"){let j=_.replace(/^\//,"").split("/");O="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=eT(n,{pathname:O});rs(w||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),rs(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=SA(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Js([_,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:Js([_,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,t,r);return e&&M?B.createElement(Jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function wA(){let n=bA(),e=fA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,u)}var EA=B.createElement(wA,null),TA=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(as.Provider,{value:this.props.routeContext},B.createElement(Xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IA({routeContext:n,match:e,children:t}){let r=B.useContext(Mu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(as.Provider,{value:n},t)}function SA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t?.errors;if(a!=null){let m=o.findIndex(_=>_.route.id&&a?.[_.route.id]!==void 0);jt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let _=o[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=m),_.route.id){let{loaderData:w,errors:I}=t,S=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!I||I[_.route.id]===void 0);if(_.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,_,w)=>{let I,S=!1,b=null,O=null;t&&(I=a&&_.route.id?a[_.route.id]:void 0,b=_.route.errorElement||EA,u&&(d<0&&w===0?(hT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):d===w&&(S=!0,O=_.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,w+1)),M=()=>{let j;return I?j=b:S?j=O:_.route.Component?j=B.createElement(_.route.Component,null):_.route.element?j=_.route.element:j=m,B.createElement(IA,{match:_,routeContext:{outlet:m,matches:N,isDataRoute:t!=null},children:j})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?B.createElement(TA,{location:t.location,revalidation:t.revalidation,component:b,error:I,children:M(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):M()},null)}function Jg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CA(n){let e=B.useContext(Mu);return jt(e,Jg(n)),e}function xA(n){let e=B.useContext(wf);return jt(e,Jg(n)),e}function AA(n){let e=B.useContext(as);return jt(e,Jg(n)),e}function e_(n){let e=AA(n),t=e.matches[e.matches.length-1];return jt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function PA(){return e_("useRouteId")}function bA(){let n=B.useContext(Xg),e=xA("useRouteError"),t=e_("useRouteError");return n!==void 0?n:e.errors?.[t]}function kA(){let{router:n}=CA("useNavigate"),e=e_("useNavigate"),t=B.useRef(!1);return lT(()=>{t.current=!0}),B.useCallback(async(o,a={})=>{rs(t.current,aT),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Ew={};function hT(n,e,t){!e&&!Ew[n]&&(Ew[n]=!0,rs(!1,t))}B.memo(RA);function RA({routes:n,future:e,state:t}){return cT(n,void 0,t,e)}function $t(n){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){jt(!eh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Ou(t));let{pathname:m="/",search:_="",hash:w="",state:I=null,key:S="default"}=t,b=B.useMemo(()=>{let O=no(m,u);return O==null?null:{location:{pathname:O,search:_,hash:w,state:I,key:S},navigationType:r}},[u,m,_,w,I,S,r]);return rs(b!=null,`<Router basename="${u}"> is not able to match the URL "${m}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:B.createElement(os.Provider,{value:d},B.createElement(Jc.Provider,{children:e,value:b}))}function dT({children:n,location:e}){return yA(Jm(n),e)}function Jm(n,e=[]){let t=[];return B.Children.forEach(n,(r,o)=>{if(!B.isValidElement(r))return;let a=[...e,o];if(r.type===B.Fragment){t.push.apply(t,Jm(r.props.children,a));return}jt(r.type===$t,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Jm(r.props.children,a)),t.push(u)}),t}var Rd="get",Ld="application/x-www-form-urlencoded";function Ef(n){return n!=null&&typeof n.tagName=="string"}function NA(n){return Ef(n)&&n.tagName.toLowerCase()==="button"}function OA(n){return Ef(n)&&n.tagName.toLowerCase()==="form"}function MA(n){return Ef(n)&&n.tagName.toLowerCase()==="input"}function DA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VA(n,e){return n.button===0&&(!e||e==="_self")&&!DA(n)}var yd=null;function FA(){if(yd===null)try{new FormData(document.createElement("form"),0),yd=!1}catch{yd=!0}return yd}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(n){return n!=null&&!jA.has(n)?(rs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ld}"`),null):n}function UA(n,e){let t,r,o,a,u;if(OA(n)){let d=n.getAttribute("action");r=d?no(d,e):null,t=n.getAttribute("method")||Rd,o=Cm(n.getAttribute("enctype"))||Ld,a=new FormData(n)}else if(NA(n)||MA(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(r=m?no(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Rd,o=Cm(n.getAttribute("formenctype"))||Cm(d.getAttribute("enctype"))||Ld,a=new FormData(d,n),!FA()){let{name:_,type:w,value:I}=n;if(w==="image"){let S=_?`${_}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else _&&a.append(_,I)}}else{if(Ef(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rd,r=null,o=Ld,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function t_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function HA(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await zA(a,t);return u.links?u.links():[]}return[]}));return GA(r.flat(1).filter(BA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tw(n,e,t,r,o,a){let u=(m,_)=>t[_]?m.route.id!==t[_].route.id:!0,d=(m,_)=>t[_].pathname!==m.pathname||t[_].route.path?.endsWith("*")&&t[_].params["*"]!==m.params["*"];return a==="assets"?e.filter((m,_)=>u(m,_)||d(m,_)):a==="data"?e.filter((m,_)=>{let w=r.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(u(m,_)||d(m,_))return!0;if(m.route.shouldRevalidate){let I=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function qA(n,e,{includeHydrateFallback:t}={}){return WA(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function WA(n){return[...new Set(n)]}function $A(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function GA(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify($A(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZA=new Set([100,101,204,205]);function KA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&no(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function fT(){let n=B.useContext(Mu);return t_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YA(){let n=B.useContext(wf);return t_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var n_=B.createContext(void 0);n_.displayName="FrameworkContext";function pT(){let n=B.useContext(n_);return t_(n,"You must render this element inside a <HydratedRouter> element"),n}function QA(n,e){let t=B.useContext(n_),[r,o]=B.useState(!1),[a,u]=B.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:_,onMouseLeave:w,onTouchStart:I}=e,S=B.useRef(null);B.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let N=j=>{j.forEach(Q=>{u(Q.isIntersecting)})},M=new IntersectionObserver(N,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[n]),B.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let b=()=>{o(!0)},O=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,S,{}]:[a,S,{onFocus:yc(d,b),onBlur:yc(m,O),onMouseEnter:yc(_,b),onMouseLeave:yc(w,O),onTouchStart:yc(I,b)}]:[!1,S,{}]}function yc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function XA({page:n,...e}){let{router:t}=fT(),r=B.useMemo(()=>eT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?B.createElement(eP,{page:n,matches:r,...e}):null}function JA(n){let{manifest:e,routeModules:t}=pT(),[r,o]=B.useState([]);return B.useEffect(()=>{let a=!1;return HA(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function eP({page:n,matches:e,...t}){let r=Al(),{manifest:o,routeModules:a}=pT(),{basename:u}=fT(),{loaderData:d,matches:m}=YA(),_=B.useMemo(()=>Tw(n,e,m,o,r,"data"),[n,e,m,o,r]),w=B.useMemo(()=>Tw(n,e,m,o,r,"assets"),[n,e,m,o,r]),I=B.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let O=new Set,N=!1;if(e.forEach(j=>{let Q=o.routes[j.route.id];!Q||!Q.hasLoader||(!_.some(te=>te.route.id===j.route.id)&&j.route.id in d&&a[j.route.id]?.shouldRevalidate||Q.hasClientLoader?N=!0:O.add(j.route.id))}),O.size===0)return[];let M=KA(n,u);return N&&O.size>0&&M.searchParams.set("_routes",e.filter(j=>O.has(j.route.id)).map(j=>j.route.id).join(",")),[M.pathname+M.search]},[u,d,r,o,_,e,n,a]),S=B.useMemo(()=>qA(w,o),[w,o]),b=JA(w);return B.createElement(B.Fragment,null,I.map(O=>B.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>B.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),b.map(({key:O,link:N})=>B.createElement("link",{key:O,...N})))}function tP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mT&&(window.__reactRouterVersion="7.6.3")}catch{}function nP({basename:n,children:e,window:t}){let r=B.useRef();r.current==null&&(r.current=qx({window:t,v5Compat:!0}));let o=r.current,[a,u]=B.useState({action:o.action,location:o.location}),d=B.useCallback(m=>{B.startTransition(()=>u(m))},[u]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(LA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=B.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:d,target:m,to:_,preventScrollReset:w,viewTransition:I,...S},b){let{basename:O}=B.useContext(os),N=typeof _=="string"&&gT.test(_),M,j=!1;if(typeof _=="string"&&N&&(M=_,mT))try{let F=new URL(window.location.href),q=_.startsWith("//")?new URL(F.protocol+_):new URL(_),$=no(q.pathname,O);q.origin===F.origin&&$!=null?_=$+q.search+q.hash:j=!0}catch{rs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=_A(_,{relative:o}),[te,oe,me]=QA(r,S),Ce=oP(_,{replace:u,state:d,target:m,preventScrollReset:w,relative:o,viewTransition:I});function H(F){e&&e(F),F.defaultPrevented||Ce(F)}let D=B.createElement("a",{...S,...me,href:M||Q,onClick:j||a?e:H,ref:tP(b,oe),target:m,"data-discover":!N&&t==="render"?"true":void 0});return te&&!N?B.createElement(B.Fragment,null,D,B.createElement(XA,{page:Q})):D});St.displayName="Link";var rP=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:d,children:m,..._},w){let I=nh(u,{relative:_.relative}),S=Al(),b=B.useContext(wf),{navigator:O,basename:N}=B.useContext(os),M=b!=null&&hP(I)&&d===!0,j=O.encodeLocation?O.encodeLocation(I).pathname:I.pathname,Q=S.pathname,te=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),te=te?te.toLowerCase():null,j=j.toLowerCase()),te&&N&&(te=no(te,N)||te);const oe=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let me=Q===j||!o&&Q.startsWith(j)&&Q.charAt(oe)==="/",Ce=te!=null&&(te===j||!o&&te.startsWith(j)&&te.charAt(j.length)==="/"),H={isActive:me,isPending:Ce,isTransitioning:M},D=me?e:void 0,F;typeof r=="function"?F=r(H):F=[r,me?"active":null,Ce?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(H):a;return B.createElement(St,{..._,"aria-current":D,className:F,ref:w,style:q,to:u,viewTransition:d},typeof m=="function"?m(H):m)});rP.displayName="NavLink";var iP=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Rd,action:d,onSubmit:m,relative:_,preventScrollReset:w,viewTransition:I,...S},b)=>{let O=uP(),N=cP(d,{relative:_}),M=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&gT.test(d),Q=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let oe=te.nativeEvent.submitter,me=oe?.getAttribute("formmethod")||u;O(oe||te.currentTarget,{fetcherKey:e,method:me,navigate:t,replace:o,state:a,relative:_,preventScrollReset:w,viewTransition:I})};return B.createElement("form",{ref:b,method:M,action:N,onSubmit:r?m:Q,...S,"data-discover":!j&&n==="render"?"true":void 0})});iP.displayName="Form";function sP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(n){let e=B.useContext(Mu);return jt(e,sP(n)),e}function oP(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=th(),m=Al(),_=nh(n,{relative:a});return B.useCallback(w=>{if(VA(w,e)){w.preventDefault();let I=t!==void 0?t:zc(m)===zc(_);d(n,{replace:I,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[m,d,_,t,r,e,n,o,a,u])}var aP=0,lP=()=>`__${String(++aP)}__`;function uP(){let{router:n}=_T("useSubmit"),{basename:e}=B.useContext(os),t=PA();return B.useCallback(async(r,o={})=>{let{action:a,method:u,encType:d,formData:m,body:_}=UA(r,e);if(o.navigate===!1){let w=o.fetcherKey||lP();await n.fetch(w,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:m,body:_,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:m,body:_,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function cP(n,{relative:e}={}){let{basename:t}=B.useContext(os),r=B.useContext(as);jt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...nh(n||".",{relative:e})},u=Al();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),m=d.getAll("index");if(m.some(w=>w==="")){d.delete("index"),m.filter(I=>I).forEach(I=>d.append("index",I));let w=d.toString();a.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Js([t,a.pathname])),zc(a)}function hP(n,e={}){let t=B.useContext(oT);jt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_T("useViewTransitionState"),o=nh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=no(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=no(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $d(o.pathname,u)!=null||$d(o.pathname,a)!=null}[...ZA];var dP=JE();const fP=()=>{};var Iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],m=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,m=o+2<n.length,_=m?n[o+2]:0,w=a>>2,I=(a&3)<<4|d>>4;let S=(d&15)<<2|_>>6,b=_&63;m||(b=64,u||(S=64)),r.push(t[w],t[I],t[S],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||_==null||I==null)throw new mP;const S=a<<2|d>>4;if(r.push(S),_!==64){const b=d<<4&240|_>>2;if(r.push(b),I!==64){const O=_<<6&192|I;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gP=function(n){const e=vT(n);return yT.encodeByteArray(e,!0)},Gd=function(n){return gP(n).replace(/\./g,"")},wT=function(n){try{return yT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=()=>_P().__FIREBASE_DEFAULTS__,yP=()=>{if(typeof process>"u"||typeof Iw>"u")return;const n=Iw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&wT(n[1]);return e&&JSON.parse(e)},Tf=()=>{try{return fP()||vP()||yP()||wP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ET=n=>{var e,t;return(t=(e=Tf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},TT=n=>{const e=ET(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},IT=()=>{var n;return(n=Tf())===null||n===void 0?void 0:n.config},ST=n=>{var e;return(e=Tf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gd(JSON.stringify(t)),Gd(JSON.stringify(u)),""].join(".")}const kc={};function TP(){const n={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?n.emulator.push(e):n.prod.push(e);return n}function IP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Sw=!1;function i_(n,e){if(typeof window>"u"||typeof document>"u"||!Ra(window.location.host)||kc[n]===e||kc[n]||Sw)return;kc[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",a=TP().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Sw=!0,u()},S}function w(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function I(){const S=IP(r),b=t("text"),O=document.getElementById(b)||document.createElement("span"),N=t("learnmore"),M=document.getElementById(N)||document.createElement("a"),j=t("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const te=S.element;d(te),w(M,N);const oe=_();m(Q,j),te.append(Q,O,M,oe),document.body.appendChild(te)}a?(O.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function CP(){var n;const e=(n=Tf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PP(){const n=Hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bP(){return!CP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function kP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="FirebaseError";class li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=RP,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?LP(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new li(o,d,r)}}function LP(n,e){return n.replace(NP,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const NP=/\{\$([^}]+)}/g;function OP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ro(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Cw(a)&&Cw(u)){if(!ro(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Cw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function MP(n,e){const t=new DP(n,e);return t.subscribe.bind(t)}class DP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");VP(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=1e3,jP=2,UP=4*60*60*1e3,zP=.5;function xw(n,e=FP,t=jP){const r=e*Math.pow(t,n),o=Math.round(zP*r*(Math.random()-.5)*2);return Math.min(UP,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n){return n&&n._delegate?n._delegate:n}class oi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new EP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qP(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HP(n){return n===hl?void 0:n}function qP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const $P={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},GP=rt.INFO,ZP={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},KP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=ZP[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class If{constructor(e){this.name=e,this._logLevel=GP,this._logHandler=KP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const YP=(n,e)=>e.some(t=>n instanceof t);let Aw,Pw;function QP(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XP(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,eg=new WeakMap,kT=new WeakMap,Am=new WeakMap,s_=new WeakMap;function JP(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ma(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&bT.set(t,n)}).catch(()=>{}),s_.set(e,n),e}function eb(n){if(eg.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});eg.set(n,e)}let tg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ma(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tb(n){tg=n(tg)}function nb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pm(this),e,...t);return kT.set(r,e.sort?e.sort():[e]),ma(r)}:XP().includes(n)?function(...e){return n.apply(Pm(this),e),ma(bT.get(this))}:function(...e){return ma(n.apply(Pm(this),e))}}function rb(n){return typeof n=="function"?nb(n):(n instanceof IDBTransaction&&eb(n),YP(n,QP())?new Proxy(n,tg):n)}function ma(n){if(n instanceof IDBRequest)return JP(n);if(Am.has(n))return Am.get(n);const e=rb(n);return e!==n&&(Am.set(n,e),s_.set(e,n)),e}const Pm=n=>s_.get(n);function RT(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=ma(u);return r&&u.addEventListener("upgradeneeded",m=>{r(ma(u.result),m.oldVersion,m.newVersion,ma(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{a&&m.addEventListener("close",()=>a()),o&&m.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const ib=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],bm=new Map;function bw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=sb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ib.includes(t)))return;const a=async function(u,...d){const m=this.transaction(u,o?"readwrite":"readonly");let _=m.store;return r&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&m.done]))[0]};return bm.set(e,a),a}tb(n=>({...n,get:(e,t,r)=>bw(e,t)||n.get(e,t,r),has:(e,t)=>!!bw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ab(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ab(n){const e=n.getComponent();return e?.type==="VERSION"}const ng="@firebase/app",kw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new If("@firebase/app"),lb="@firebase/app-compat",ub="@firebase/analytics-compat",cb="@firebase/analytics",hb="@firebase/app-check-compat",db="@firebase/app-check",fb="@firebase/auth",pb="@firebase/auth-compat",mb="@firebase/database",gb="@firebase/data-connect",_b="@firebase/database-compat",vb="@firebase/functions",yb="@firebase/functions-compat",wb="@firebase/installations",Eb="@firebase/installations-compat",Tb="@firebase/messaging",Ib="@firebase/messaging-compat",Sb="@firebase/performance",Cb="@firebase/performance-compat",xb="@firebase/remote-config",Ab="@firebase/remote-config-compat",Pb="@firebase/storage",bb="@firebase/storage-compat",kb="@firebase/firestore",Rb="@firebase/ai",Lb="@firebase/firestore-compat",Nb="firebase",Ob="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",Mb={[ng]:"fire-core",[lb]:"fire-core-compat",[cb]:"fire-analytics",[ub]:"fire-analytics-compat",[db]:"fire-app-check",[hb]:"fire-app-check-compat",[fb]:"fire-auth",[pb]:"fire-auth-compat",[mb]:"fire-rtdb",[gb]:"fire-data-connect",[_b]:"fire-rtdb-compat",[vb]:"fire-fn",[yb]:"fire-fn-compat",[wb]:"fire-iid",[Eb]:"fire-iid-compat",[Tb]:"fire-fcm",[Ib]:"fire-fcm-compat",[Sb]:"fire-perf",[Cb]:"fire-perf-compat",[xb]:"fire-rc",[Ab]:"fire-rc-compat",[Pb]:"fire-gcs",[bb]:"fire-gcs-compat",[kb]:"fire-fst",[Lb]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[Nb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,Db=new Map,ig=new Map;function Rw(n,e){try{n.container.addComponent(e)}catch(t){io.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xi(n){const e=n.name;if(ig.has(e))return io.debug(`There were multiple attempts to register component ${e}.`),!1;ig.set(e,n);for(const t of Zd.values())Rw(t,n);for(const t of Db.values())Rw(t,n);return!0}function La(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new Pl("app","Firebase",Vb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=Ob;function LT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rg,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw ga.create("bad-app-name",{appName:String(o)});if(t||(t=IT()),!t)throw ga.create("no-options");const a=Zd.get(o);if(a){if(ro(t,a.options)&&ro(r,a.config))return a;throw ga.create("duplicate-app",{appName:o})}const u=new WP(o);for(const m of ig.values())u.addComponent(m);const d=new Fb(t,r,u);return Zd.set(o,d),d}function Sf(n=rg){const e=Zd.get(n);if(!e&&n===rg&&IT())return LT();if(!e)throw ga.create("no-app",{appName:n});return e}function yr(n,e,t){var r;let o=(r=Mb[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),io.warn(d.join(" "));return}xi(new oi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebase-heartbeat-database",Ub=1,Bc="firebase-heartbeat-store";let km=null;function NT(){return km||(km=RT(jb,Ub,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ga.create("idb-open",{originalErrorMessage:n.message})})),km}async function zb(n){try{const t=(await NT()).transaction(Bc),r=await t.objectStore(Bc).get(OT(n));return await t.done,r}catch(e){if(e instanceof li)io.warn(e.message);else{const t=ga.create("idb-get",{originalErrorMessage:e?.message});io.warn(t.message)}}}async function Lw(n,e){try{const r=(await NT()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,OT(n)),await r.done}catch(t){if(t instanceof li)io.warn(t.message);else{const r=ga.create("idb-set",{originalErrorMessage:t?.message});io.warn(r.message)}}}function OT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1024,Hb=30;class qb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $b(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Nw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Hb){const u=Gb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){io.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Nw(),{heartbeatsToSend:r,unsentEntries:o}=Wb(this._heartbeatsCache.heartbeats),a=Gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return io.warn(t),""}}}function Nw(){return new Date().toISOString().substring(0,10)}function Wb(n,e=Bb){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Ow(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ow(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $b{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zb(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Lw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ow(n){return Gd(JSON.stringify({version:2,heartbeats:n})).length}function Gb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n){xi(new oi("platform-logger",e=>new ob(e),"PRIVATE")),xi(new oi("heartbeat",e=>new qb(e),"PRIVATE")),yr(ng,kw,n),yr(ng,kw,"esm2017"),yr("fire-js","")}Zb("");function o_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DT=MT,VT=new Pl("auth","Firebase",MT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new If("@firebase/auth");function Kb(n,...e){Kd.logLevel<=rt.WARN&&Kd.warn(`Auth (${bl}): ${n}`,...e)}function Nd(n,...e){Kd.logLevel<=rt.ERROR&&Kd.error(`Auth (${bl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,...e){throw a_(n,...e)}function Qi(n,...e){return a_(n,...e)}function FT(n,e,t){const r=Object.assign(Object.assign({},DT()),{[e]:t});return new Pl("auth","Firebase",r).create(e,{appName:n.name})}function eo(n){return FT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VT.create(n,...e)}function ze(n,e,...t){if(!n)throw a_(e,...t)}function Qs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nd(e),new Error(e)}function so(n,e){n||Qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Yb(){return Mw()==="http:"||Mw()==="https:"}function Mw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yb()||xT()||"connection"in navigator)?navigator.onLine:!0}function Xb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.shortDelay=e,this.longDelay=t,so(t>e,"Short delay should be less than long delay!"),this.isMobile=SP()||AP()}get(){return Qb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n,e){so(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tk=new ih(3e4,6e4);function ho(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ls(n,e,t,r,o={}){return UT(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=rh(Object.assign({key:n.config.apiKey},u)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:m},a);return xP()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Ra(n.emulatorConfig.host)&&(_.credentials="include"),jT.fetch()(await zT(n,n.config.apiHost,t,d),_)})}async function UT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jb),e);try{const o=new rk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw wd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[m,_]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw wd(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw wd(n,"user-disabled",u);const w=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw FT(n,w,_);Ai(n,w)}}catch(o){if(o instanceof li)throw o;Ai(n,"network-request-failed",{message:String(o)})}}async function sh(n,e,t,r,o={}){const a=await ls(n,e,t,r,o);return"mfaPendingCredential"in a&&Ai(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function zT(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?l_(n.config,o):`${n.config.apiScheme}://${o}`;return ek.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function nk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),tk.get())})}}function wd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Qi(n,e,r);return o.customData._tokenResponse=t,o}function Dw(n){return n!==void 0&&n.enterprise!==void 0}class ik{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sk(n,e){return ls(n,"GET","/v2/recaptchaConfig",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(n,e){return ls(n,"POST","/v1/accounts:delete",e)}async function Yd(n,e){return ls(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BT(n,e=!1){const t=Tt(n),r=await t.getIdToken(e),o=u_(r);ze(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Rc(Rm(o.auth_time)),issuedAtTime:Rc(Rm(o.iat)),expirationTime:Rc(Rm(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Rm(n){return Number(n)*1e3}function u_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const o=wT(t);return o?JSON.parse(o):(Nd("Failed to decode base64 JWT payload"),null)}catch(o){return Nd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Vw(n){const e=u_(n);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof li&&ak(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ak({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Cu(n,Yd(t,{idToken:r}));ze(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qT(a.providerUserInfo):[],d=uk(n.providerData,u),m=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!d?.length,w=m?_:!1,I={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new og(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,I)}async function HT(n){const e=Tt(n);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function qT(n){return n.map(e=>{var{providerId:t}=e,r=o_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(n,e){const t=await UT(n,{},async()=>{const r=rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await zT(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return n.emulatorConfig&&Ra(n.emulatorConfig.host)&&(m.credentials="include"),jT.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hk(n,e){return ls(n,"POST","/v2/accounts:revokeToken",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const t=Vw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await ck(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new yu;return r&&(ze(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(ze(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(ze(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yu,this.toJSON())}_performRefresh(){return Qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(n,e){ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=o_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new og(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BT(this,e)}reload(){return HT(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await Cu(this,ok(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,d,m,_,w;const I=(r=t.displayName)!==null&&r!==void 0?r:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,O=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(d=t.tenantId)!==null&&d!==void 0?d:void 0,M=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,j=(_=t.createdAt)!==null&&_!==void 0?_:void 0,Q=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:te,emailVerified:oe,isAnonymous:me,providerData:Ce,stsTokenManager:H}=t;ze(te&&H,e,"internal-error");const D=yu.fromJSON(this.name,H);ze(typeof te=="string",e,"internal-error"),ha(I,e.name),ha(S,e.name),ze(typeof oe=="boolean",e,"internal-error"),ze(typeof me=="boolean",e,"internal-error"),ha(b,e.name),ha(O,e.name),ha(N,e.name),ha(M,e.name),ha(j,e.name),ha(Q,e.name);const F=new Ci({uid:te,auth:e,email:S,emailVerified:oe,displayName:I,isAnonymous:me,photoURL:O,phoneNumber:b,tenantId:N,stsTokenManager:D,createdAt:j,lastLoginAt:Q});return Ce&&Array.isArray(Ce)&&(F.providerData=Ce.map(q=>Object.assign({},q))),M&&(F._redirectEventId=M),F}static async _fromIdTokenResponse(e,t,r=!1){const o=new yu;o.updateFromServerResponse(t);const a=new Ci({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Qd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];ze(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?qT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new yu;d.updateFromIdToken(r);const m=new Ci({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(m,_),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function Xs(n){so(n instanceof Function,"Expected a class definition");let e=Fw.get(n);return e?(so(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WT.type="NONE";const ag=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n,e,t){return`firebase:${n}:${e}:${t}`}class wu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,a),this.fullPersistenceKey=Od("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yd(this.auth,{idToken:e}).catch(()=>{});return t?Ci._fromGetAccountInfoResponse(this.auth,t,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new wu(Xs(ag),e,r);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=o[0]||Xs(ag);const u=Od(r,e.config.apiKey,e.name);let d=null;for(const _ of t)try{const w=await _._get(u);if(w){let I;if(typeof w=="string"){const S=await Yd(e,{idToken:w}).catch(()=>{});if(!S)break;I=await Ci._fromGetAccountInfoResponse(e,S,w)}else I=Ci._fromJSON(e,w);_!==a&&(d=I),a=_;break}}catch{}const m=o.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new wu(a,e,r):(a=m[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async _=>{if(_!==a)try{await _._remove(u)}catch{}})),new wu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(XT(e))return"Webos";if(GT(e))return"Safari";if((e.includes("chrome/")||ZT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function $T(n=Hn()){return/firefox\//i.test(n)}function GT(n=Hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZT(n=Hn()){return/crios\//i.test(n)}function KT(n=Hn()){return/iemobile/i.test(n)}function YT(n=Hn()){return/android/i.test(n)}function QT(n=Hn()){return/blackberry/i.test(n)}function XT(n=Hn()){return/webos/i.test(n)}function c_(n=Hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dk(n=Hn()){var e;return c_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fk(){return PP()&&document.documentMode===10}function JT(n=Hn()){return c_(n)||YT(n)||XT(n)||QT(n)||/windows phone/i.test(n)||KT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n,e=[]){let t;switch(n){case"Browser":t=jw(Hn());break;case"Worker":t=`${jw(Hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const m=e(a);u(m)}catch(m){d(m)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(n,e={}){return ls(n,"GET","/v2/passwordPolicy",ho(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=6;class _k{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:gk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(a=m.containsUppercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uw(this),this.idTokenSubscription=new Uw(this),this.beforeStateQueue=new pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xs(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yd(this,{idToken:e}),r=await Ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===d)&&m?.user&&(o=m.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(eo(this));const t=e?Tt(e):null;return t&&ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mk(this),t=new _k(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await hk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xs(e)||this._popupRedirectResolver;ze(t,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[Xs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,o);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Kb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Na(n){return Tt(n)}class Uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=MP(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yk(n){Cf=n}function tI(n){return Cf.loadJS(n)}function wk(){return Cf.recaptchaEnterpriseScript}function Ek(){return Cf.gapiScript}function Tk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Ik{constructor(){this.enterprise=new Sk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Sk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ck="recaptcha-enterprise",nI="NO_RECAPTCHA";class xk{constructor(e){this.type=Ck,this.auth=Na(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{sk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new ik(m);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,u(_.siteKey)}}).catch(m=>{d(m)})})}function o(a,u,d){const m=window.grecaptcha;Dw(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(_=>{u(_)}).catch(()=>{u(nI)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ik().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&Dw(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=wk();m.length!==0&&(m+=d),tI(m).then(()=>{o(d,a,u)}).catch(_=>{u(_)})}}).catch(d=>{u(d)})})}}async function zw(n,e,t,r=!1,o=!1){const a=new xk(n);let u;if(o)u=nI;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:_,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Xd(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await zw(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await zw(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n,e){const t=La(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ro(a,e??{}))return o;Ai(o,"already-initialized")}return t.initialize({options:e})}function Ak(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function iI(n,e,t){const r=Na(n);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=sI(e),{host:u,port:d}=Pk(e),m=d===null?"":`:${d}`,_={url:`${a}//${u}${m}/`},w=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(ro(_,r.config.emulator)&&ro(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,Ra(u)?(r_(`${a}//${u}${m}`),i_("Auth",!0)):bk()}function sI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Pk(n){const e=sI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Bw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Bw(u)}}}function Bw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qs("not implemented")}_getIdTokenResponse(e){return Qs("not implemented")}_linkToIdToken(e,t){return Qs("not implemented")}_getReauthenticationResolver(e){return Qs("not implemented")}}async function kk(n,e){return ls(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(n,e){return sh(n,"POST","/v1/accounts:signInWithPassword",ho(n,e))}async function oI(n,e){return ls(n,"POST","/v1/accounts:sendOobCode",ho(n,e))}async function Lk(n,e){return oI(n,e)}async function Nk(n,e){return oI(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e){return sh(n,"POST","/v1/accounts:signInWithEmailLink",ho(n,e))}async function Mk(n,e){return sh(n,"POST","/v1/accounts:signInWithEmailLink",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends xf{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new xu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,t,"signInWithPassword",Rk);case"emailLink":return Ok(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,r,"signUpPassword",kk);case"emailLink":return Mk(e,{idToken:t,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(n,e){return sh(n,"POST","/v1/accounts:signInWithIdp",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="http://localhost";class ya extends xf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=o_(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new ya(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Eu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Eu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eu(e,t)}buildRequest(){const e={requestUri:Dk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fk(n){const e=Ec(Tc(n)).link,t=e?Ec(Tc(e)).deep_link_id:null,r=Ec(Tc(n)).deep_link_id;return(r?Ec(Tc(r)).link:null)||r||t||e||n}class Af{constructor(e){var t,r,o,a,u,d;const m=Ec(Tc(e)),_=(t=m.apiKey)!==null&&t!==void 0?t:null,w=(r=m.oobCode)!==null&&r!==void 0?r:null,I=Vk((o=m.mode)!==null&&o!==void 0?o:null);ze(_&&w&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=w,this.continueUrl=(a=m.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=m.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Fk(e);try{return new Af(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,t){return xu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Af.parseLink(t);return ze(r,"argument-error"),xu._fromEmailAndCode(e,r.code,r.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends aI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends oh{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends oh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ya._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Zs.credential(t,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends oh{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends oh{constructor(){super("twitter.com")}static credential(e,t){return ya._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ys.credential(t,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e){return sh(n,"POST","/v1/accounts:signUp",ho(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Ci._fromIdTokenResponse(e,r,o),u=Hw(r);return new yl({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Hw(r);return new yl({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Hw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends li{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Jd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Jd(e,t,r,o)}}function lI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Jd._fromErrorAndOperation(n,a,e,r):a})}async function Uk(n,e,t=!1){const r=await Cu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return yl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e,t=!1){const{auth:r}=n;if(Mr(r.app))return Promise.reject(eo(r));const o="reauthenticate";try{const a=await Cu(n,lI(r,o,e,n),t);ze(a.idToken,r,"internal-error");const u=u_(a.idToken);ze(u,r,"internal-error");const{sub:d}=u;return ze(n.uid===d,r,"user-mismatch"),yl._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ai(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(n,e,t=!1){if(Mr(n.app))return Promise.reject(eo(n));const r="signIn",o=await lI(n,r,e),a=await yl._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function cI(n,e){return uI(Na(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(n){const e=Na(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dI(n,e,t){const r=Na(n);await Xd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Nk)}async function fI(n,e,t){if(Mr(n.app))return Promise.reject(eo(n));const r=Na(n),u=await Xd(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&hI(n),m}),d=await yl._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function pI(n,e,t){return Mr(n.app)?Promise.reject(eo(n)):cI(Tt(n),kl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hI(n),r})}async function mI(n,e){const t=Tt(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await Lk(t.auth,o);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e){return ls(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Tt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Cu(r,Bk(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function _I(n,e,t,r){return Tt(n).onIdTokenChanged(e,t,r)}function vI(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function h_(n,e,t,r){return Tt(n).onAuthStateChanged(e,t,r)}function Hk(n){return Tt(n).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=1e3,Wk=10;class wI extends yI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);fk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Wk):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wI.type="LOCAL";const EI=wI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI extends yI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TI.type="SESSION";const d_=TI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async _=>_(t.origin,a)),m=await $k(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,m)=>{const _=f_("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(I){const S=I;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(S.data.response);break;default:clearTimeout(w),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function Zk(n){Xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function Kk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yk(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Qk(){return II()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="firebaseLocalStorageDb",Xk=1,tf="firebaseLocalStorage",CI="fbase_key";class ah{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bf(n,e){return n.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function Jk(){const n=indexedDB.deleteDatabase(SI);return new ah(n).toPromise()}function lg(){const n=indexedDB.open(SI,Xk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(tf,{keyPath:CI})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(tf)?e(r):(r.close(),await Jk(),e(await lg()))})})}async function qw(n,e,t){const r=bf(n,!0).put({[CI]:e,value:t});return new ah(r).toPromise()}async function eR(n,e){const t=bf(n,!1).get(e),r=await new ah(t).toPromise();return r===void 0?null:r.value}function Ww(n,e){const t=bf(n,!0).delete(e);return new ah(t).toPromise()}const tR=800,nR=3;class xI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>nR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return II()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(Qk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Kk(),!this.activeServiceWorker)return;this.sender=new Gk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await qw(e,ef,"1"),await Ww(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>qw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>eR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ww(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=bf(o,!1).getAll();return new ah(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xI.type="LOCAL";const AI=xI;new ih(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n,e){return e?Xs(e):(ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iR(n){return uI(n.auth,new p_(n),n.bypassAuthState)}function sR(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),zk(t,new p_(n),n.bypassAuthState)}async function oR(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),Uk(t,new p_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iR;case"linkViaPopup":case"linkViaRedirect":return oR;case"reauthViaPopup":case"reauthViaRedirect":return sR;default:Ai(this.auth,"internal-error")}}resolve(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new ih(2e3,1e4);class gu extends PI{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,gu.currentPopupAction&&gu.currentPopupAction.cancel(),gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){so(this.filter.length===1,"Popup operations only handle one event");const e=f_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aR.get())};e()}}gu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="pendingRedirect",Md=new Map;class uR extends PI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const r=await cR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cR(n,e){const t=fR(e),r=dR(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function hR(n,e){Md.set(n._key(),e)}function dR(n){return Xs(n._redirectPersistence)}function fR(n){return Od(lR,n.config.apiKey,n.name)}async function pR(n,e,t=!1){if(Mr(n.app))return Promise.reject(eo(n));const r=Na(n),o=rR(r,e),u=await new uR(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=10*60*1e3;class gR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_R(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bI(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mR&&this.cachedEventUids.clear(),this.cachedEventUids.has($w(e))}saveEventToCache(e){this.cachedEventUids.add($w(e)),this.lastProcessedEventTime=Date.now()}}function $w(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _R(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n,e={}){return ls(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wR=/^https?/;async function ER(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vR(n);for(const t of e)try{if(TR(t))return}catch{}Ai(n,"unauthorized-domain")}function TR(n){const e=sg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!wR.test(t))return!1;if(yR.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new ih(3e4,6e4);function Gw(){const n=Xi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SR(n){return new Promise((e,t)=>{var r,o,a;function u(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),t(Qi(n,"network-request-failed"))},timeout:IR.get()})}if(!((o=(r=Xi().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Xi().gapi)===null||a===void 0)&&a.load)u();else{const d=Tk("iframefcb");return Xi()[d]=()=>{gapi.load?u():t(Qi(n,"network-request-failed"))},tI(`${Ek()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function CR(n){return Dd=Dd||SR(n),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new ih(5e3,15e3),AR="__/auth/iframe",PR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RR(n){const e=n.config;ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?l_(e,PR):`https://${n.config.authDomain}/${AR}`,r={apiKey:e.apiKey,appName:n.name,v:bl},o=kR.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${rh(r).slice(1)}`}async function LR(n){const e=await CR(n),t=Xi().gapi;return ze(t,n,"internal-error"),e.open({where:document.body,url:RR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Qi(n,"network-request-failed"),d=Xi().setTimeout(()=>{a(u)},xR.get());function m(){Xi().clearTimeout(d),o(r)}r.ping(m).then(m,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OR=500,MR=600,DR="_blank",VR="http://localhost";class Zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FR(n,e,t,r=OR,o=MR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},NR),{width:r.toString(),height:o.toString(),top:a,left:u}),_=Hn().toLowerCase();t&&(d=ZT(_)?DR:t),$T(_)&&(e=e||VR,m.scrollbars="yes");const w=Object.entries(m).reduce((S,[b,O])=>`${S}${b}=${O},`,"");if(dk(_)&&d!=="_self")return jR(e||"",d),new Zw(null);const I=window.open(e||"",d,w);ze(I,n,"popup-blocked");try{I.focus()}catch{}return new Zw(I)}function jR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="__/auth/handler",zR="emulator/auth/handler",BR=encodeURIComponent("fac");async function Kw(n,e,t,r,o,a){ze(n.config.authDomain,n,"auth-domain-config-required"),ze(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bl,eventId:o};if(e instanceof aI){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",OP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,I]of Object.entries({}))u[w]=I}if(e instanceof oh){const w=e.getScopes().filter(I=>I!=="");w.length>0&&(u.scopes=w.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const m=await n._getAppCheckToken(),_=m?`#${BR}=${encodeURIComponent(m)}`:"";return`${HR(n)}?${rh(d).slice(1)}${_}`}function HR({config:n}){return n.emulator?l_(n,zR):`https://${n.authDomain}/${UR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class qR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d_,this._completeRedirectFn=pR,this._overrideRedirectResult=hR}async _openPopup(e,t,r,o){var a;so((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Kw(e,t,r,sg(),o);return FR(e,u,f_())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await Kw(e,t,r,sg(),o);return Zk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(so(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await LR(e),r=new gR(e);return t.register("authEvent",o=>(ze(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lm,{type:Lm},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[Lm];u!==void 0&&t(!!u),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ER(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JT()||GT()||c_()}}const kI=qR;var Yw="@firebase/auth",Qw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GR(n){xi(new oi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;ze(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eI(n)},_=new vk(r,o,a,m);return Ak(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xi(new oi("auth-internal",e=>{const t=Na(e.getProvider("auth").getImmediate());return(r=>new WR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(Yw,Qw,$R(n)),yr(Yw,Qw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=5*60,KR=ST("authIdTokenMaxAge")||ZR;let Xw=null;const YR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KR)return;const o=t?.token;Xw!==o&&(Xw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function m_(n=Sf()){const e=La(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rI(n,{popupRedirectResolver:kI,persistence:[AI,EI,d_]}),r=ST("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=YR(a.toString());vI(t,u,()=>u(t.currentUser)),_I(t,d=>u(d))}}const o=ET("auth");return o&&iI(t,`http://${o}`),t}function QR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}yk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Qi("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",QR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GR("Browser");const XR=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Af,AuthCredential:xf,EmailAuthCredential:xu,EmailAuthProvider:kl,FacebookAuthProvider:Gs,GithubAuthProvider:Ks,GoogleAuthProvider:Zs,OAuthCredential:ya,TwitterAuthProvider:Ys,beforeAuthStateChanged:vI,browserLocalPersistence:EI,browserPopupRedirectResolver:kI,browserSessionPersistence:d_,connectAuthEmulator:iI,createUserWithEmailAndPassword:fI,getAuth:m_,getIdTokenResult:BT,inMemoryPersistence:ag,indexedDBLocalPersistence:AI,initializeAuth:rI,onAuthStateChanged:h_,onIdTokenChanged:_I,prodErrorMap:DT,reload:HT,sendEmailVerification:mI,sendPasswordResetEmail:dI,signInWithCredential:cI,signInWithEmailAndPassword:pI,signOut:Hk,updateProfile:gI},Symbol.toStringTag,{value:"Module"}));var JR="firebase",eL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(JR,eL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firebasestorage.googleapis.com",LI="storageBucket",tL=2*60*1e3,nL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends li{constructor(e,t,r=0){super(Nm(e),`Firebase Storage: ${t} (${Nm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function Nm(n){return"storage/"+n}function g_(){const n="An unknown error occurred, please check the error payload for server response.";return new Kt(Zt.UNKNOWN,n)}function rL(n){return new Kt(Zt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function iL(n){return new Kt(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Zt.UNAUTHENTICATED,n)}function oL(){return new Kt(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aL(n){return new Kt(Zt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function lL(){return new Kt(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uL(){return new Kt(Zt.CANCELED,"User canceled the upload/download.")}function cL(n){return new Kt(Zt.INVALID_URL,"Invalid URL '"+n+"'.")}function hL(n){return new Kt(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function dL(){return new Kt(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LI+"' property when initializing the app?")}function fL(){return new Kt(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pL(){return new Kt(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mL(n){return new Kt(Zt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ug(n){return new Kt(Zt.INVALID_ARGUMENT,n)}function NI(){return new Kt(Zt.APP_DELETED,"The Firebase app was deleted.")}function gL(n){return new Kt(Zt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(n,e){return new Kt(Zt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wc(n){throw new Kt(Zt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Dr.makeFromUrl(e,t)}catch{return new Dr(e,"")}if(r.path==="")return r;throw hL(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),m={bucket:1,path:3};function _(oe){oe.path_=decodeURIComponent(oe.path)}const w="v[A-Za-z0-9_]+",I=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",b=new RegExp(`^https?://${I}/${w}/b/${o}/o${S}`,"i"),O={bucket:1,path:3},N=t===RI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",j=new RegExp(`^https?://${N}/${o}/${M}`,"i"),te=[{regex:d,indices:m,postModify:a},{regex:b,indices:O,postModify:_},{regex:j,indices:{bucket:1,path:2},postModify:_}];for(let oe=0;oe<te.length;oe++){const me=te[oe],Ce=me.regex.exec(e);if(Ce){const H=Ce[me.indices.bucket];let D=Ce[me.indices.path];D||(D=""),r=new Dr(H,D),me.postModify(r);break}}if(r==null)throw cL(e);return r}}class _L{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(n,e,t){let r=1,o=null,a=null,u=!1,d=0;function m(){return d===2}let _=!1;function w(...M){_||(_=!0,e.apply(null,M))}function I(M){o=setTimeout(()=>{o=null,n(b,m())},M)}function S(){a&&clearTimeout(a)}function b(M,...j){if(_){S();return}if(M){S(),w.call(null,M,...j);return}if(m()||u){S(),w.call(null,M,...j);return}r<64&&(r*=2);let te;d===1?(d=2,te=0):te=(r+Math.random())*1e3,I(te)}let O=!1;function N(M){O||(O=!0,S(),!_&&(o!==null?(M||(d=2),clearTimeout(o),I(0)):M||(d=1)))}return I(0),a=setTimeout(()=>{u=!0,N(!0)},t),N}function yL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n){return n!==void 0}function EL(n){return typeof n=="object"&&!Array.isArray(n)}function __(n){return typeof n=="string"||n instanceof String}function Jw(n){return v_()&&n instanceof Blob}function v_(){return typeof Blob<"u"}function e0(n,e,t,r){if(r<e)throw ug(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ug(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function OI(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var gl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(gl||(gl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t,r,o,a,u,d,m,_,w,I,S=!0,b=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=I,this.retry=S,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,N)=>{this.resolve_=O,this.reject_=N,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Ed(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const m=d.loaded,_=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,_)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===gl.NO_ERROR,m=a.getStatus();if(!d||TL(m,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===gl.ABORT;r(!1,new Ed(!1,null,w));return}const _=this.successCodes_.indexOf(m)!==-1;r(!0,new Ed(_,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());wL(m)?a(m):a()}catch(m){u(m)}else if(d!==null){const m=g_();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(o.canceled){const m=this.appDelete_?NI():uL();u(m)}else{const m=lL();u(m)}};this.canceled_?t(!1,new Ed(!1,null,!0)):this.backoffId_=vL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function SL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function CL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function AL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function PL(n,e,t,r,o,a,u=!0,d=!1){const m=OI(n.urlParams),_=n.url+m,w=Object.assign({},n.headers);return xL(w,e),SL(w,t),CL(w,a),AL(w,r),new IL(_,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kL(...n){const e=bL();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(v_())return new Blob(n);throw new Kt(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){if(typeof atob>"u")throw mL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Om{constructor(e,t){this.data=e,this.contentType=t||null}}function NL(n,e){switch(n){case Zi.RAW:return new Om(MI(e));case Zi.BASE64:case Zi.BASE64URL:return new Om(DI(n,e));case Zi.DATA_URL:return new Om(ML(e),DL(e))}throw g_()}function MI(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OL(n){let e;try{e=decodeURIComponent(n)}catch{throw Lc(Zi.DATA_URL,"Malformed data URL.")}return MI(e)}function DI(n,e){switch(n){case Zi.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Lc(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Lc(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=LL(e)}catch(o){throw o.message.includes("polyfill")?o:Lc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class VI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Lc(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=VL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ML(n){const e=new VI(n);return e.base64?DI(Zi.BASE64,e.rest):OL(e.rest)}function DL(n){return new VI(n).contentType}function VL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){let r=0,o="";Jw(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Jw(this.data_)){const r=this.data_,o=RL(r,e,t);return o===null?null:new fa(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new fa(r,!0)}}static getBlob(...e){if(v_()){const t=e.map(r=>r instanceof fa?r.data_:r);return new fa(kL.apply(null,t))}else{const t=e.map(u=>__(u)?NL(Zi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)o[a++]=u[d]}),new fa(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n){let e;try{e=JSON.parse(n)}catch{return null}return EL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function jL(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function jI(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(n,e){return e}class Xn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||UL}}let Td=null;function zL(n){return!__(n)||n.length<2?n:jI(n)}function UI(){if(Td)return Td;const n=[];n.push(new Xn("bucket")),n.push(new Xn("generation")),n.push(new Xn("metageneration")),n.push(new Xn("name","fullPath",!0));function e(a,u){return zL(u)}const t=new Xn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new Xn("size");return o.xform=r,n.push(o),n.push(new Xn("timeCreated")),n.push(new Xn("updated")),n.push(new Xn("md5Hash",null,!0)),n.push(new Xn("cacheControl",null,!0)),n.push(new Xn("contentDisposition",null,!0)),n.push(new Xn("contentEncoding",null,!0)),n.push(new Xn("contentLanguage",null,!0)),n.push(new Xn("contentType",null,!0)),n.push(new Xn("metadata","customMetadata",!0)),Td=n,Td}function BL(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Dr(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function HL(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return BL(r,n),r}function zI(n,e,t){const r=FI(e);return r===null?null:HL(n,r,t)}function qL(n,e,t,r){const o=FI(e);if(o===null||!__(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(_=>{const w=n.bucket,I=n.fullPath,S="/b/"+u(w)+"/o/"+u(I),b=kf(S,t,r),O=OI({alt:"media",token:_});return b+O})[0]}function WL(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class y_{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n){if(!n)throw g_()}function $L(n,e){function t(r,o){const a=zI(n,o,e);return BI(a!==null),a}return t}function GL(n,e){function t(r,o){const a=zI(n,o,e);return BI(a!==null),qL(a,o,n.host,n._protocol)}return t}function HI(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=oL():o=sL():t.getStatus()===402?o=iL(n.bucket):t.getStatus()===403?o=aL(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function qI(n){const e=HI(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=rL(n.path)),a.serverResponse=o.serverResponse,a}return t}function ZL(n,e,t){const r=e.fullServerUrl(),o=kf(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new y_(o,a,GL(n,t),u);return d.errorHandler=qI(e),d}function KL(n,e){const t=e.fullServerUrl(),r=kf(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function u(m,_){}const d=new y_(r,o,u,a);return d.successCodes=[200,204],d.errorHandler=qI(e),d}function YL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function QL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=YL(null,e)),r}function XL(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let te="";for(let oe=0;oe<2;oe++)te=te+Math.random().toString().slice(2);return te}const m=d();u["Content-Type"]="multipart/related; boundary="+m;const _=QL(e,r,o),w=WL(_,t),I="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+_.contentType+`\r
\r
`,S=`\r
--`+m+"--",b=fa.getBlob(I,r,S);if(b===null)throw fL();const O={name:_.fullPath},N=kf(a,n.host,n._protocol),M="POST",j=n.maxUploadRetryTime,Q=new y_(N,M,$L(n,t),j);return Q.urlParams=O,Q.headers=u,Q.body=b.uploadData(),Q.errorHandler=HI(e),Q}class JL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,a){if(this.sent_)throw wc("cannot .send() more than once");if(Ra(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class e2 extends JL{initXhr(){this.xhr_.responseType="text"}}function w_(){return new e2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t){this._service=e,t instanceof Dr?this._location=t:this._location=Dr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wl(e,t)}get root(){const e=new Dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jI(this._location.path)}get storage(){return this._service}get parent(){const e=FL(this._location.path);if(e===null)return null;const t=new Dr(this._location.bucket,e);return new wl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw gL(e)}}function t2(n,e,t){n._throwIfRoot("uploadBytes");const r=XL(n.storage,n._location,UI(),new fa(e,!0),t);return n.storage.makeRequestWithTokens(r,w_).then(o=>({metadata:o,ref:n}))}function n2(n){n._throwIfRoot("getDownloadURL");const e=ZL(n.storage,n._location,UI());return n.storage.makeRequestWithTokens(e,w_).then(t=>{if(t===null)throw pL();return t})}function r2(n){n._throwIfRoot("deleteObject");const e=KL(n.storage,n._location);return n.storage.makeRequestWithTokens(e,w_)}function i2(n,e){const t=jL(n._location.path,e),r=new Dr(n._location.bucket,t);return new wl(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n){return/^[A-Za-z]+:\/\//.test(n)}function o2(n,e){return new wl(n,e)}function WI(n,e){if(n instanceof E_){const t=n;if(t._bucket==null)throw dL();const r=new wl(t,t._bucket);return e!=null?WI(r,e):r}else return e!==void 0?i2(n,e):n}function a2(n,e){if(e&&s2(e)){if(n instanceof E_)return o2(n,e);throw ug("To use ref(service, url), the first argument must be a Storage instance.")}else return WI(n,e)}function t0(n,e){const t=e?.[LI];return t==null?null:Dr.makeFromBucketSpec(t,n)}function l2(n,e,t,r={}){n.host=`${e}:${t}`;const o=Ra(e);o&&(r_(`https://${n.host}/b`),i_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:CT(a,n.app.options.projectId))}class E_{constructor(e,t,r,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=RI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tL,this._maxUploadRetryTime=nL,this._requests=new Set,o!=null?this._bucket=Dr.makeFromBucketSpec(o,this._host):this._bucket=t0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dr.makeFromBucketSpec(this._url,e):this._bucket=t0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wl(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new _L(NI());{const u=PL(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const n0="@firebase/storage",r0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="storage";function u2(n,e,t){return n=Tt(n),t2(n,e,t)}function c2(n){return n=Tt(n),n2(n)}function h2(n){return n=Tt(n),r2(n)}function i0(n,e){return n=Tt(n),a2(n,e)}function d2(n=Sf(),e){n=Tt(n);const r=La(n,$I).getImmediate({identifier:e}),o=TT("storage");return o&&f2(r,...o),r}function f2(n,e,t,r={}){l2(n,e,t,r)}function p2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new E_(t,r,o,e,bl)}function m2(){xi(new oi($I,p2,"PUBLIC").setMultipleInstances(!0)),yr(n0,r0,""),yr(n0,r0,"esm2017")}m2();const GI="@firebase/installations",T_="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1e4,KI=`w:${T_}`,YI="FIS_v2",g2="https://firebaseinstallations.googleapis.com/v1",_2=60*60*1e3,v2="installations",y2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},El=new Pl(v2,y2,w2);function QI(n){return n instanceof li&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI({projectId:n}){return`${g2}/projects/${n}/installations`}function JI(n){return{token:n.token,requestStatus:2,expiresIn:T2(n.expiresIn),creationTime:Date.now()}}async function e1(n,e){const r=(await e.json()).error;return El.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function t1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function E2(n,{refreshToken:e}){const t=t1(n);return t.append("Authorization",I2(e)),t}async function n1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function T2(n){return Number(n.replace("s","000"))}function I2(n){return`${YI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=XI(n),o=t1(n),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const u={fid:t,authVersion:YI,appId:n.appId,sdkVersion:KI},d={method:"POST",headers:o,body:JSON.stringify(u)},m=await n1(()=>fetch(r,d));if(m.ok){const _=await m.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:JI(_.authToken)}}else throw await e1("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^[cdef][\w-]{21}$/,cg="";function A2(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=P2(n);return x2.test(t)?t:cg}catch{return cg}}function P2(n){return C2(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;function s1(n,e){const t=Rf(n);o1(t,e),b2(t,e)}function o1(n,e){const t=i1.get(n);if(t)for(const r of t)r(e)}function b2(n,e){const t=k2();t&&t.postMessage({key:n,fid:e}),R2()}let fl=null;function k2(){return!fl&&"BroadcastChannel"in self&&(fl=new BroadcastChannel("[Firebase] FID Change"),fl.onmessage=n=>{o1(n.data.key,n.data.fid)}),fl}function R2(){i1.size===0&&fl&&(fl.close(),fl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="firebase-installations-database",N2=1,Tl="firebase-installations-store";let Mm=null;function I_(){return Mm||(Mm=RT(L2,N2,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Tl)}}})),Mm}async function nf(n,e){const t=Rf(n),o=(await I_()).transaction(Tl,"readwrite"),a=o.objectStore(Tl),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&s1(n,e.fid),e}async function a1(n){const e=Rf(n),r=(await I_()).transaction(Tl,"readwrite");await r.objectStore(Tl).delete(e),await r.done}async function Lf(n,e){const t=Rf(n),o=(await I_()).transaction(Tl,"readwrite"),a=o.objectStore(Tl),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await o.done,d&&(!u||u.fid!==d.fid)&&s1(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S_(n){let e;const t=await Lf(n.appConfig,r=>{const o=O2(r),a=M2(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===cg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function O2(n){const e=n||{fid:A2(),registrationStatus:0};return l1(e)}function M2(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(El.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=D2(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:V2(n)}:{installationEntry:e}}async function D2(n,e){try{const t=await S2(n,e);return nf(n.appConfig,t)}catch(t){throw QI(t)&&t.customData.serverCode===409?await a1(n.appConfig):await nf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function V2(n){let e=await s0(n.appConfig);for(;e.registrationStatus===1;)await r1(100),e=await s0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await S_(n);return r||t}return e}function s0(n){return Lf(n,e=>{if(!e)throw El.create("installation-not-found");return l1(e)})}function l1(n){return F2(n)?{fid:n.fid,registrationStatus:0}:n}function F2(n){return n.registrationStatus===1&&n.registrationTime+ZI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2({appConfig:n,heartbeatServiceProvider:e},t){const r=U2(n,t),o=E2(n,t),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const u={installation:{sdkVersion:KI,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(u)},m=await n1(()=>fetch(r,d));if(m.ok){const _=await m.json();return JI(_)}else throw await e1("Generate Auth Token",m)}function U2(n,{fid:e}){return`${XI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_(n,e=!1){let t;const r=await Lf(n.appConfig,a=>{if(!u1(a))throw El.create("not-registered");const u=a.authToken;if(!e&&H2(u))return a;if(u.requestStatus===1)return t=z2(n,e),a;{if(!navigator.onLine)throw El.create("app-offline");const d=W2(a);return t=B2(n,d),d}});return t?await t:r.authToken}async function z2(n,e){let t=await o0(n.appConfig);for(;t.authToken.requestStatus===1;)await r1(100),t=await o0(n.appConfig);const r=t.authToken;return r.requestStatus===0?C_(n,e):r}function o0(n){return Lf(n,e=>{if(!u1(e))throw El.create("not-registered");const t=e.authToken;return $2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function B2(n,e){try{const t=await j2(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await nf(n.appConfig,r),t}catch(t){if(QI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await a1(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nf(n.appConfig,r)}throw t}}function u1(n){return n!==void 0&&n.registrationStatus===2}function H2(n){return n.requestStatus===2&&!q2(n)}function q2(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+_2}function W2(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function $2(n){return n.requestStatus===1&&n.requestTime+ZI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n){const e=n,{installationEntry:t,registrationPromise:r}=await S_(e);return r?r.catch(console.error):C_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(n,e=!1){const t=n;return await K2(t),(await C_(t,e)).token}async function K2(n){const{registrationPromise:e}=await S_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(n){if(!n||!n.options)throw Dm("App Configuration");if(!n.name)throw Dm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Dm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Dm(n){return El.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="installations",Q2="installations-internal",X2=n=>{const e=n.getProvider("app").getImmediate(),t=Y2(e),r=La(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},J2=n=>{const e=n.getProvider("app").getImmediate(),t=La(e,c1).getImmediate();return{getId:()=>G2(t),getToken:o=>Z2(t,o)}};function eN(){xi(new oi(c1,X2,"PUBLIC")),xi(new oi(Q2,J2,"PRIVATE"))}eN();yr(GI,T_);yr(GI,T_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="analytics",tN="firebase_id",nN="origin",rN=60*1e3,iN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new If("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fr=new Pl("analytics","Analytics",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){if(!n.startsWith(x_)){const e=Fr.create("invalid-gtag-resource",{gtagURL:n});return wr.warn(e.message),""}return n}function h1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function aN(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function lN(n,e){const t=aN("firebase-js-sdk-policy",{createScriptURL:oN}),r=document.createElement("script"),o=`${x_}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function uN(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function cN(n,e,t,r,o,a){const u=r[o];try{if(u)await e[u];else{const m=(await h1(t)).find(_=>_.measurementId===o);m&&await e[m.appId]}}catch(d){wr.error(d)}n("config",o,a)}async function hN(n,e,t,r,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const d=await h1(t);for(const m of u){const _=d.find(I=>I.measurementId===m),w=_&&e[_.appId];if(w)a.push(w);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,o||{})}catch(a){wr.error(a)}}function dN(n,e,t,r){async function o(a,...u){try{if(a==="event"){const[d,m]=u;await hN(n,e,t,d,m)}else if(a==="config"){const[d,m]=u;await cN(n,e,t,r,d,m)}else if(a==="consent"){const[d,m]=u;n("consent",d,m)}else if(a==="get"){const[d,m,_]=u;n("get",d,m,_)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){wr.error(d)}}return o}function fN(n,e,t,r,o){let a=function(...u){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=dN(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function pN(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(x_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=30,gN=1e3;class _N{constructor(e={},t=gN){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const d1=new _N;function vN(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function yN(n){var e;const{appId:t,apiKey:r}=n,o={method:"GET",headers:vN(r)},a=iN.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let d="";try{const m=await u.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw Fr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function wN(n,e=d1,t){const{appId:r,apiKey:o,measurementId:a}=n.options;if(!r)throw Fr.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw Fr.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new IN;return setTimeout(async()=>{d.abort()},rN),f1({appId:r,apiKey:o,measurementId:a},u,d,e)}async function f1(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=d1){var a;const{appId:u,measurementId:d}=n;try{await EN(r,e)}catch(m){if(d)return wr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:d};throw m}try{const m=await yN(n);return o.deleteThrottleMetadata(u),m}catch(m){const _=m;if(!TN(_)){if(o.deleteThrottleMetadata(u),d)return wr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:d};throw m}const w=Number((a=_?.customData)===null||a===void 0?void 0:a.httpStatus)===503?xw(t,o.intervalMillis,mN):xw(t,o.intervalMillis),I={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return o.setThrottleMetadata(u,I),wr.debug(`Calling attemptFetch again in ${w} millis`),f1(n,I,r,o)}}function EN(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r(Fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TN(n){if(!(n instanceof li)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class IN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SN(n,e,t,r,o){if(o&&o.global){n("event",t,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(){if(AT())try{await PT()}catch(n){return wr.warn(Fr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return wr.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xN(n,e,t,r,o,a,u){var d;const m=wN(n);m.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&wr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>wr.error(b)),e.push(m);const _=CN().then(b=>{if(b)return r.getId()}),[w,I]=await Promise.all([m,_]);pN(a)||lN(a,w.measurementId),o("js",new Date);const S=(d=u?.config)!==null&&d!==void 0?d:{};return S[nN]="firebase",S.update=!0,I!=null&&(S[tN]=I),o("config",w.measurementId,S),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.app=e}_delete(){return delete Nc[this.app.options.appId],Promise.resolve()}}let Nc={},a0=[];const l0={};let Vm="dataLayer",PN="gtag",u0,p1,c0=!1;function bN(){const n=[];if(xT()&&n.push("This is a browser extension environment."),kP()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=Fr.create("invalid-analytics-context",{errorInfo:e});wr.warn(t.message)}}function kN(n,e,t){bN();const r=n.options.appId;if(!r)throw Fr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)wr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fr.create("no-api-key");if(Nc[r]!=null)throw Fr.create("already-exists",{id:r});if(!c0){uN(Vm);const{wrappedGtag:a,gtagCore:u}=fN(Nc,a0,l0,Vm,PN);p1=a,u0=u,c0=!0}return Nc[r]=xN(n,a0,l0,e,u0,Vm,t),new AN(n)}function RN(n=Sf()){n=Tt(n);const e=La(n,rf);return e.isInitialized()?e.getImmediate():LN(n)}function LN(n,e={}){const t=La(n,rf);if(t.isInitialized()){const o=t.getImmediate();if(ro(e,t.getOptions()))return o;throw Fr.create("already-initialized")}return t.initialize({options:e})}function NN(n,e,t,r){n=Tt(n),SN(p1,Nc[n.app.options.appId],e,t,r).catch(o=>wr.error(o))}const h0="@firebase/analytics",d0="0.10.17";function ON(){xi(new oi(rf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return kN(r,o,t)},"PUBLIC")),xi(new oi("analytics-internal",n,"PRIVATE")),yr(h0,d0),yr(h0,d0,"esm2017");function n(e){try{const t=e.getProvider(rf).getImmediate();return{logEvent:(r,o,a)=>NN(t,r,o,a)}}catch(t){throw Fr.create("interop-component-reg-failed",{reason:t})}}}ON();var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,m1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(H,D){function F(){}F.prototype=D.prototype,H.D=D.prototype,H.prototype=new F,H.prototype.constructor=H,H.C=function(q,$,K){for(var U=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)U[ut-2]=arguments[ut];return D.prototype[$].apply(q,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(H,D,F){F||(F=0);var q=Array(16);if(typeof D=="string")for(var $=0;16>$;++$)q[$]=D.charCodeAt(F++)|D.charCodeAt(F++)<<8|D.charCodeAt(F++)<<16|D.charCodeAt(F++)<<24;else for($=0;16>$;++$)q[$]=D[F++]|D[F++]<<8|D[F++]<<16|D[F++]<<24;D=H.g[0],F=H.g[1],$=H.g[2];var K=H.g[3],U=D+(K^F&($^K))+q[0]+3614090360&4294967295;D=F+(U<<7&4294967295|U>>>25),U=K+($^D&(F^$))+q[1]+3905402710&4294967295,K=D+(U<<12&4294967295|U>>>20),U=$+(F^K&(D^F))+q[2]+606105819&4294967295,$=K+(U<<17&4294967295|U>>>15),U=F+(D^$&(K^D))+q[3]+3250441966&4294967295,F=$+(U<<22&4294967295|U>>>10),U=D+(K^F&($^K))+q[4]+4118548399&4294967295,D=F+(U<<7&4294967295|U>>>25),U=K+($^D&(F^$))+q[5]+1200080426&4294967295,K=D+(U<<12&4294967295|U>>>20),U=$+(F^K&(D^F))+q[6]+2821735955&4294967295,$=K+(U<<17&4294967295|U>>>15),U=F+(D^$&(K^D))+q[7]+4249261313&4294967295,F=$+(U<<22&4294967295|U>>>10),U=D+(K^F&($^K))+q[8]+1770035416&4294967295,D=F+(U<<7&4294967295|U>>>25),U=K+($^D&(F^$))+q[9]+2336552879&4294967295,K=D+(U<<12&4294967295|U>>>20),U=$+(F^K&(D^F))+q[10]+4294925233&4294967295,$=K+(U<<17&4294967295|U>>>15),U=F+(D^$&(K^D))+q[11]+2304563134&4294967295,F=$+(U<<22&4294967295|U>>>10),U=D+(K^F&($^K))+q[12]+1804603682&4294967295,D=F+(U<<7&4294967295|U>>>25),U=K+($^D&(F^$))+q[13]+4254626195&4294967295,K=D+(U<<12&4294967295|U>>>20),U=$+(F^K&(D^F))+q[14]+2792965006&4294967295,$=K+(U<<17&4294967295|U>>>15),U=F+(D^$&(K^D))+q[15]+1236535329&4294967295,F=$+(U<<22&4294967295|U>>>10),U=D+($^K&(F^$))+q[1]+4129170786&4294967295,D=F+(U<<5&4294967295|U>>>27),U=K+(F^$&(D^F))+q[6]+3225465664&4294967295,K=D+(U<<9&4294967295|U>>>23),U=$+(D^F&(K^D))+q[11]+643717713&4294967295,$=K+(U<<14&4294967295|U>>>18),U=F+(K^D&($^K))+q[0]+3921069994&4294967295,F=$+(U<<20&4294967295|U>>>12),U=D+($^K&(F^$))+q[5]+3593408605&4294967295,D=F+(U<<5&4294967295|U>>>27),U=K+(F^$&(D^F))+q[10]+38016083&4294967295,K=D+(U<<9&4294967295|U>>>23),U=$+(D^F&(K^D))+q[15]+3634488961&4294967295,$=K+(U<<14&4294967295|U>>>18),U=F+(K^D&($^K))+q[4]+3889429448&4294967295,F=$+(U<<20&4294967295|U>>>12),U=D+($^K&(F^$))+q[9]+568446438&4294967295,D=F+(U<<5&4294967295|U>>>27),U=K+(F^$&(D^F))+q[14]+3275163606&4294967295,K=D+(U<<9&4294967295|U>>>23),U=$+(D^F&(K^D))+q[3]+4107603335&4294967295,$=K+(U<<14&4294967295|U>>>18),U=F+(K^D&($^K))+q[8]+1163531501&4294967295,F=$+(U<<20&4294967295|U>>>12),U=D+($^K&(F^$))+q[13]+2850285829&4294967295,D=F+(U<<5&4294967295|U>>>27),U=K+(F^$&(D^F))+q[2]+4243563512&4294967295,K=D+(U<<9&4294967295|U>>>23),U=$+(D^F&(K^D))+q[7]+1735328473&4294967295,$=K+(U<<14&4294967295|U>>>18),U=F+(K^D&($^K))+q[12]+2368359562&4294967295,F=$+(U<<20&4294967295|U>>>12),U=D+(F^$^K)+q[5]+4294588738&4294967295,D=F+(U<<4&4294967295|U>>>28),U=K+(D^F^$)+q[8]+2272392833&4294967295,K=D+(U<<11&4294967295|U>>>21),U=$+(K^D^F)+q[11]+1839030562&4294967295,$=K+(U<<16&4294967295|U>>>16),U=F+($^K^D)+q[14]+4259657740&4294967295,F=$+(U<<23&4294967295|U>>>9),U=D+(F^$^K)+q[1]+2763975236&4294967295,D=F+(U<<4&4294967295|U>>>28),U=K+(D^F^$)+q[4]+1272893353&4294967295,K=D+(U<<11&4294967295|U>>>21),U=$+(K^D^F)+q[7]+4139469664&4294967295,$=K+(U<<16&4294967295|U>>>16),U=F+($^K^D)+q[10]+3200236656&4294967295,F=$+(U<<23&4294967295|U>>>9),U=D+(F^$^K)+q[13]+681279174&4294967295,D=F+(U<<4&4294967295|U>>>28),U=K+(D^F^$)+q[0]+3936430074&4294967295,K=D+(U<<11&4294967295|U>>>21),U=$+(K^D^F)+q[3]+3572445317&4294967295,$=K+(U<<16&4294967295|U>>>16),U=F+($^K^D)+q[6]+76029189&4294967295,F=$+(U<<23&4294967295|U>>>9),U=D+(F^$^K)+q[9]+3654602809&4294967295,D=F+(U<<4&4294967295|U>>>28),U=K+(D^F^$)+q[12]+3873151461&4294967295,K=D+(U<<11&4294967295|U>>>21),U=$+(K^D^F)+q[15]+530742520&4294967295,$=K+(U<<16&4294967295|U>>>16),U=F+($^K^D)+q[2]+3299628645&4294967295,F=$+(U<<23&4294967295|U>>>9),U=D+($^(F|~K))+q[0]+4096336452&4294967295,D=F+(U<<6&4294967295|U>>>26),U=K+(F^(D|~$))+q[7]+1126891415&4294967295,K=D+(U<<10&4294967295|U>>>22),U=$+(D^(K|~F))+q[14]+2878612391&4294967295,$=K+(U<<15&4294967295|U>>>17),U=F+(K^($|~D))+q[5]+4237533241&4294967295,F=$+(U<<21&4294967295|U>>>11),U=D+($^(F|~K))+q[12]+1700485571&4294967295,D=F+(U<<6&4294967295|U>>>26),U=K+(F^(D|~$))+q[3]+2399980690&4294967295,K=D+(U<<10&4294967295|U>>>22),U=$+(D^(K|~F))+q[10]+4293915773&4294967295,$=K+(U<<15&4294967295|U>>>17),U=F+(K^($|~D))+q[1]+2240044497&4294967295,F=$+(U<<21&4294967295|U>>>11),U=D+($^(F|~K))+q[8]+1873313359&4294967295,D=F+(U<<6&4294967295|U>>>26),U=K+(F^(D|~$))+q[15]+4264355552&4294967295,K=D+(U<<10&4294967295|U>>>22),U=$+(D^(K|~F))+q[6]+2734768916&4294967295,$=K+(U<<15&4294967295|U>>>17),U=F+(K^($|~D))+q[13]+1309151649&4294967295,F=$+(U<<21&4294967295|U>>>11),U=D+($^(F|~K))+q[4]+4149444226&4294967295,D=F+(U<<6&4294967295|U>>>26),U=K+(F^(D|~$))+q[11]+3174756917&4294967295,K=D+(U<<10&4294967295|U>>>22),U=$+(D^(K|~F))+q[2]+718787259&4294967295,$=K+(U<<15&4294967295|U>>>17),U=F+(K^($|~D))+q[9]+3951481745&4294967295,H.g[0]=H.g[0]+D&4294967295,H.g[1]=H.g[1]+($+(U<<21&4294967295|U>>>11))&4294967295,H.g[2]=H.g[2]+$&4294967295,H.g[3]=H.g[3]+K&4294967295}r.prototype.u=function(H,D){D===void 0&&(D=H.length);for(var F=D-this.blockSize,q=this.B,$=this.h,K=0;K<D;){if($==0)for(;K<=F;)o(this,H,K),K+=this.blockSize;if(typeof H=="string"){for(;K<D;)if(q[$++]=H.charCodeAt(K++),$==this.blockSize){o(this,q),$=0;break}}else for(;K<D;)if(q[$++]=H[K++],$==this.blockSize){o(this,q),$=0;break}}this.h=$,this.o+=D},r.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var D=1;D<H.length-8;++D)H[D]=0;var F=8*this.o;for(D=H.length-8;D<H.length;++D)H[D]=F&255,F/=256;for(this.u(H),H=Array(16),D=F=0;4>D;++D)for(var q=0;32>q;q+=8)H[F++]=this.g[D]>>>q&255;return H};function a(H,D){var F=d;return Object.prototype.hasOwnProperty.call(F,H)?F[H]:F[H]=D(H)}function u(H,D){this.h=D;for(var F=[],q=!0,$=H.length-1;0<=$;$--){var K=H[$]|0;q&&K==D||(F[$]=K,q=!1)}this.g=F}var d={};function m(H){return-128<=H&&128>H?a(H,function(D){return new u([D|0],0>D?-1:0)}):new u([H|0],0>H?-1:0)}function _(H){if(isNaN(H)||!isFinite(H))return I;if(0>H)return M(_(-H));for(var D=[],F=1,q=0;H>=F;q++)D[q]=H/F|0,F*=4294967296;return new u(D,0)}function w(H,D){if(H.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(H.charAt(0)=="-")return M(w(H.substring(1),D));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=_(Math.pow(D,8)),q=I,$=0;$<H.length;$+=8){var K=Math.min(8,H.length-$),U=parseInt(H.substring($,$+K),D);8>K?(K=_(Math.pow(D,K)),q=q.j(K).add(_(U))):(q=q.j(F),q=q.add(_(U)))}return q}var I=m(0),S=m(1),b=m(16777216);n=u.prototype,n.m=function(){if(N(this))return-M(this).m();for(var H=0,D=1,F=0;F<this.g.length;F++){var q=this.i(F);H+=(0<=q?q:4294967296+q)*D,D*=4294967296}return H},n.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(O(this))return"0";if(N(this))return"-"+M(this).toString(H);for(var D=_(Math.pow(H,6)),F=this,q="";;){var $=oe(F,D).g;F=j(F,$.j(D));var K=((0<F.g.length?F.g[0]:F.h)>>>0).toString(H);if(F=$,O(F))return K+q;for(;6>K.length;)K="0"+K;q=K+q}},n.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function O(H){if(H.h!=0)return!1;for(var D=0;D<H.g.length;D++)if(H.g[D]!=0)return!1;return!0}function N(H){return H.h==-1}n.l=function(H){return H=j(this,H),N(H)?-1:O(H)?0:1};function M(H){for(var D=H.g.length,F=[],q=0;q<D;q++)F[q]=~H.g[q];return new u(F,~H.h).add(S)}n.abs=function(){return N(this)?M(this):this},n.add=function(H){for(var D=Math.max(this.g.length,H.g.length),F=[],q=0,$=0;$<=D;$++){var K=q+(this.i($)&65535)+(H.i($)&65535),U=(K>>>16)+(this.i($)>>>16)+(H.i($)>>>16);q=U>>>16,K&=65535,U&=65535,F[$]=U<<16|K}return new u(F,F[F.length-1]&-2147483648?-1:0)};function j(H,D){return H.add(M(D))}n.j=function(H){if(O(this)||O(H))return I;if(N(this))return N(H)?M(this).j(M(H)):M(M(this).j(H));if(N(H))return M(this.j(M(H)));if(0>this.l(b)&&0>H.l(b))return _(this.m()*H.m());for(var D=this.g.length+H.g.length,F=[],q=0;q<2*D;q++)F[q]=0;for(q=0;q<this.g.length;q++)for(var $=0;$<H.g.length;$++){var K=this.i(q)>>>16,U=this.i(q)&65535,ut=H.i($)>>>16,fn=H.i($)&65535;F[2*q+2*$]+=U*fn,Q(F,2*q+2*$),F[2*q+2*$+1]+=K*fn,Q(F,2*q+2*$+1),F[2*q+2*$+1]+=U*ut,Q(F,2*q+2*$+1),F[2*q+2*$+2]+=K*ut,Q(F,2*q+2*$+2)}for(q=0;q<D;q++)F[q]=F[2*q+1]<<16|F[2*q];for(q=D;q<2*D;q++)F[q]=0;return new u(F,0)};function Q(H,D){for(;(H[D]&65535)!=H[D];)H[D+1]+=H[D]>>>16,H[D]&=65535,D++}function te(H,D){this.g=H,this.h=D}function oe(H,D){if(O(D))throw Error("division by zero");if(O(H))return new te(I,I);if(N(H))return D=oe(M(H),D),new te(M(D.g),M(D.h));if(N(D))return D=oe(H,M(D)),new te(M(D.g),D.h);if(30<H.g.length){if(N(H)||N(D))throw Error("slowDivide_ only works with positive integers.");for(var F=S,q=D;0>=q.l(H);)F=me(F),q=me(q);var $=Ce(F,1),K=Ce(q,1);for(q=Ce(q,2),F=Ce(F,2);!O(q);){var U=K.add(q);0>=U.l(H)&&($=$.add(F),K=U),q=Ce(q,1),F=Ce(F,1)}return D=j(H,$.j(D)),new te($,D)}for($=I;0<=H.l(D);){for(F=Math.max(1,Math.floor(H.m()/D.m())),q=Math.ceil(Math.log(F)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),K=_(F),U=K.j(D);N(U)||0<U.l(H);)F-=q,K=_(F),U=K.j(D);O(K)&&(K=S),$=$.add(K),H=j(H,U)}return new te($,H)}n.A=function(H){return oe(this,H).h},n.and=function(H){for(var D=Math.max(this.g.length,H.g.length),F=[],q=0;q<D;q++)F[q]=this.i(q)&H.i(q);return new u(F,this.h&H.h)},n.or=function(H){for(var D=Math.max(this.g.length,H.g.length),F=[],q=0;q<D;q++)F[q]=this.i(q)|H.i(q);return new u(F,this.h|H.h)},n.xor=function(H){for(var D=Math.max(this.g.length,H.g.length),F=[],q=0;q<D;q++)F[q]=this.i(q)^H.i(q);return new u(F,this.h^H.h)};function me(H){for(var D=H.g.length+1,F=[],q=0;q<D;q++)F[q]=H.i(q)<<1|H.i(q-1)>>>31;return new u(F,H.h)}function Ce(H,D){var F=D>>5;D%=32;for(var q=H.g.length-F,$=[],K=0;K<q;K++)$[K]=0<D?H.i(K+F)>>>D|H.i(K+F+1)<<32-D:H.i(K+F);return new u($,H.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=w,_a=u}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g1,Ic,_1,Vd,hg,v1,y1,w1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,x){return f==Array.prototype||f==Object.prototype||(f[E]=x.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var E=0;E<f.length;++E){var x=f[E];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function o(f,E){if(E)e:{var x=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var Y=f[R];if(!(Y in x))break e;x=x[Y]}f=f[f.length-1],R=x[f],E=E(R),E!=R&&E!=null&&e(x,f,{configurable:!0,writable:!0,value:E})}}function a(f,E){f instanceof String&&(f+="");var x=0,R=!1,Y={next:function(){if(!R&&x<f.length){var ie=x++;return{value:E(ie,f[ie]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(f){return f||function(){return a(this,function(E,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function _(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function w(f,E,x){return f.call.apply(f.bind,arguments)}function I(f,E,x){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,R),f.apply(E,Y)}}return function(){return f.apply(E,arguments)}}function S(f,E,x){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,S.apply(null,arguments)}function b(f,E){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function O(f,E){function x(){}x.prototype=E.prototype,f.aa=E.prototype,f.prototype=new x,f.prototype.constructor=f,f.Qb=function(R,Y,ie){for(var ve=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ve[ct-2]=arguments[ct];return E.prototype[Y].apply(R,ve)}}function N(f){const E=f.length;if(0<E){const x=Array(E);for(let R=0;R<E;R++)x[R]=f[R];return x}return[]}function M(f,E){for(let x=1;x<arguments.length;x++){const R=arguments[x];if(m(R)){const Y=f.length||0,ie=R.length||0;f.length=Y+ie;for(let ve=0;ve<ie;ve++)f[Y+ve]=R[ve]}else f.push(R)}}class j{constructor(E,x){this.i=E,this.j=x,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function Q(f){return/^[\s\xa0]*$/.test(f)}function te(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function oe(f){return oe[" "](f),f}oe[" "]=function(){};var me=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Ce(f,E,x){for(const R in f)E.call(x,f[R],R,f)}function H(f,E){for(const x in f)E.call(void 0,f[x],x,f)}function D(f){const E={};for(const x in f)E[x]=f[x];return E}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(f,E){let x,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(x in R)f[x]=R[x];for(let ie=0;ie<F.length;ie++)x=F[ie],Object.prototype.hasOwnProperty.call(R,x)&&(f[x]=R[x])}}function $(f){var E=1;f=f.split(":");const x=[];for(;0<E&&f.length;)x.push(f.shift()),E--;return f.length&&x.push(f.join(":")),x}function K(f){d.setTimeout(()=>{throw f},0)}function U(){var f=Oe;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class ut{constructor(){this.h=this.g=null}add(E,x){const R=fn.get();R.set(E,x),this.h?this.h.next=R:this.g=R,this.h=R}}var fn=new j(()=>new ht,f=>f.reset());class ht{constructor(){this.next=this.g=this.h=null}set(E,x){this.h=E,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ae=!1,Oe=new ut,ue=()=>{const f=d.Promise.resolve(void 0);st=()=>{f.then(G)}};var G=()=>{for(var f;f=U();){try{f.h.call(f.g)}catch(x){K(x)}var E=fn;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}ae=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};d.addEventListener("test",x,E),d.removeEventListener("test",x,E)}catch{}return f}();function xe(f,E){if(Ee.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var x=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(me){e:{try{oe(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else x=="mouseover"?E=f.fromElement:x=="mouseout"&&(E=f.toElement);this.relatedTarget=E,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ie[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&xe.aa.h.call(this)}}O(xe,Ee);var Ie={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function gt(f,E,x,R,Y){this.listener=f,this.proxy=null,this.src=E,this.type=x,this.capture=!!R,this.ha=Y,this.key=++Qe,this.da=this.fa=!1}function zt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Tr(f){this.src=f,this.g={},this.h=0}Tr.prototype.add=function(f,E,x,R,Y){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ve=zr(f,E,R,Y);return-1<ve?(E=f[ve],x||(E.fa=!1)):(E=new gt(E,this.src,ie,!!R,Y),E.fa=x,f.push(E)),E};function Ur(f,E){var x=E.type;if(x in f.g){var R=f.g[x],Y=Array.prototype.indexOf.call(R,E,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(R,Y,1),ie&&(zt(E),f.g[x].length==0&&(delete f.g[x],f.h--))}}function zr(f,E,x,R){for(var Y=0;Y<f.length;++Y){var ie=f[Y];if(!ie.da&&ie.listener==E&&ie.capture==!!x&&ie.ha==R)return Y}return-1}var us="closure_lm_"+(1e6*Math.random()|0),cs={};function po(f,E,x,R,Y){if(Array.isArray(E)){for(var ie=0;ie<E.length;ie++)po(f,E[ie],x,R,Y);return null}return x=Fa(x),f&&f[Ke]?f.K(E,x,_(R)?!!R.capture:!1,Y):hs(f,E,x,!1,R,Y)}function hs(f,E,x,R,Y,ie){if(!E)throw Error("Invalid event type");var ve=_(Y)?!!Y.capture:!!Y,ct=fs(f);if(ct||(f[us]=ct=new Tr(f)),x=ct.add(E,x,R,ve,ie),x.proxy)return x;if(R=ds(),x.proxy=R,R.src=f,R.listener=x,f.addEventListener)Re||(Y=ve),Y===void 0&&(Y=!1),f.addEventListener(E.toString(),R,Y);else if(f.attachEvent)f.attachEvent(Ir(E.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ds(){function f(x){return E.call(f.src,f.listener,x)}const E=go;return f}function mo(f,E,x,R,Y){if(Array.isArray(E))for(var ie=0;ie<E.length;ie++)mo(f,E[ie],x,R,Y);else R=_(R)?!!R.capture:!!R,x=Fa(x),f&&f[Ke]?(f=f.i,E=String(E).toString(),E in f.g&&(ie=f.g[E],x=zr(ie,x,R,Y),-1<x&&(zt(ie[x]),Array.prototype.splice.call(ie,x,1),ie.length==0&&(delete f.g[E],f.h--)))):f&&(f=fs(f))&&(E=f.g[E.toString()],f=-1,E&&(f=zr(E,x,R,Y)),(x=-1<f?E[f]:null)&&Br(x))}function Br(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Ke])Ur(E.i,f);else{var x=f.type,R=f.proxy;E.removeEventListener?E.removeEventListener(x,R,f.capture):E.detachEvent?E.detachEvent(Ir(x),R):E.addListener&&E.removeListener&&E.removeListener(R),(x=fs(E))?(Ur(x,f),x.h==0&&(x.src=null,E[us]=null)):zt(f)}}}function Ir(f){return f in cs?cs[f]:cs[f]="on"+f}function go(f,E){if(f.da)f=!0;else{E=new xe(E,this);var x=f.listener,R=f.ha||f.src;f.fa&&Br(f),f=x.call(R,E)}return f}function fs(f){return f=f[us],f instanceof Tr?f:null}var _o="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fa(f){return typeof f=="function"?f:(f[_o]||(f[_o]=function(E){return f.handleEvent(E)}),f[_o])}function Ot(){se.call(this),this.i=new Tr(this),this.M=this,this.F=null}O(Ot,se),Ot.prototype[Ke]=!0,Ot.prototype.removeEventListener=function(f,E,x,R){mo(this,f,E,x,R)};function Bt(f,E){var x,R=f.F;if(R)for(x=[];R;R=R.F)x.push(R);if(f=f.M,R=E.type||E,typeof E=="string")E=new Ee(E,f);else if(E instanceof Ee)E.target=E.target||f;else{var Y=E;E=new Ee(R,f),q(E,Y)}if(Y=!0,x)for(var ie=x.length-1;0<=ie;ie--){var ve=E.g=x[ie];Y=Hr(ve,R,!0,E)&&Y}if(ve=E.g=f,Y=Hr(ve,R,!0,E)&&Y,Y=Hr(ve,R,!1,E)&&Y,x)for(ie=0;ie<x.length;ie++)ve=E.g=x[ie],Y=Hr(ve,R,!1,E)&&Y}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var x=f.g[E],R=0;R<x.length;R++)zt(x[R]);delete f.g[E],f.h--}}this.F=null},Ot.prototype.K=function(f,E,x,R){return this.i.add(String(f),E,!1,x,R)},Ot.prototype.L=function(f,E,x,R){return this.i.add(String(f),E,!0,x,R)};function Hr(f,E,x,R){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ie=0;ie<E.length;++ie){var ve=E[ie];if(ve&&!ve.da&&ve.capture==x){var ct=ve.listener,qt=ve.ha||ve.src;ve.fa&&Ur(f.i,ve),Y=ct.call(qt,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function ja(f,E,x){if(typeof f=="function")x&&(f=S(f,x));else if(f&&typeof f.handleEvent=="function")f=S(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:d.setTimeout(f,E||0)}function ui(f){f.g=ja(()=>{f.g=null,f.i&&(f.i=!1,ui(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class bi extends se{constructor(E,x){super(),this.m=E,this.l=x,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(f){se.call(this),this.h=f,this.g={}}O(ps,se);var vo=[];function ms(f){Ce(f.g,function(E,x){this.g.hasOwnProperty(x)&&Br(E)},f),f.g={}}ps.prototype.N=function(){ps.aa.N.call(this),ms(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yo=d.JSON.stringify,Ua=d.JSON.parse,ci=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function gs(){}gs.prototype.h=null;function wo(f){return f.h||(f.h=f.i())}function _s(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){Ee.call(this,"d")}O(Sr,Ee);function Eo(){Ee.call(this,"c")}O(Eo,Ee);var qr={},za=null;function vs(){return za=za||new Ot}qr.La="serverreachability";function Ba(f){Ee.call(this,qr.La,f)}O(Ba,Ee);function hi(f){const E=vs();Bt(E,new Ba(E))}qr.STAT_EVENT="statevent";function ys(f,E){Ee.call(this,qr.STAT_EVENT,f),this.stat=E}O(ys,Ee);function Mt(f){const E=vs();Bt(E,new ys(E,f))}qr.Ma="timingevent";function To(f,E){Ee.call(this,qr.Ma,f),this.size=E}O(To,Ee);function Cr(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},E)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function pn(f,E,x,R,Y,ie){f.info(function(){if(f.g)if(ie)for(var ve="",ct=ie.split("&"),qt=0;qt<ct.length;qt++){var nt=ct[qt].split("=");if(1<nt.length){var ft=nt[0];nt=nt[1];var It=ft.split("_");ve=2<=It.length&&It[1]=="type"?ve+(ft+"="+nt+"&"):ve+(ft+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+E+`
`+x+`
`+ve})}function be(f,E,x,R,Y,ie,ve){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+E+`
`+x+`
`+ie+" "+ve})}function Jn(f,E,x,R){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Nl(f,x)+(R?" "+R:"")})}function Io(f,E){f.info(function(){return"TIMEOUT: "+E})}ws.prototype.info=function(){};function Nl(f,E){if(!f.g)return E;if(!E)return null;try{var x=JSON.parse(E);if(x){for(f=0;f<x.length;f++)if(Array.isArray(x[f])){var R=x[f];if(!(2>R.length)){var Y=R[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return yo(x)}catch{return E}}var Es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},So={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},er;function tr(){}O(tr,gs),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},er=new tr;function nr(f,E,x,R){this.j=f,this.i=E,this.l=x,this.R=R||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ol}function Ol(){this.i=null,this.g="",this.h=!1}var Ha={},Co={};function xo(f,E,x){f.L=1,f.v=kn(xt(E)),f.m=x,f.P=!0,Ao(f,null)}function Ao(f,E){f.F=Date.now(),wt(f),f.A=xt(f.v);var x=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Mi(x.i,"t",R),f.C=0,x=f.j.J,f.h=new Ol,f.g=jl(f.j,x?E:null,!f.m),0<f.O&&(f.M=new bi(S(f.Y,f,f.g),f.O)),E=f.U,x=f.g,R=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(vo[0]=Y.toString()),Y=vo);for(var ie=0;ie<Y.length;ie++){var ve=po(x,Y[ie],R||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),hi(),pn(f.i,f.u,f.A,f.l,f.R,f.m)}nr.prototype.ca=function(f){f=f.target;const E=this.M;E&&Jt(f)==3?E.j():this.Y(f)},nr.prototype.Y=function(f){try{if(f==this.g)e:{const It=Jt(this.g);var E=this.g.Ba();const cr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||No(this.g)))){this.J||It!=4||E==7||(E==8||0>=cr?hi(3):hi(2)),Ts(this);var x=this.g.Z();this.X=x;t:if(Ml(this)){var R=No(this.g);f="";var Y=R.length,ie=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rr(this),ki(this);var ve="";break t}this.h.i=new d.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,f+=this.h.i.decode(R[E],{stream:!(ie&&E==Y-1)});R.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=x==200,be(this.i,this.u,this.A,this.l,this.R,It,x),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,qt=this.g;if((ct=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(ct)){var nt=ct;break t}}nt=null}if(x=nt)Jn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,x);else{this.o=!1,this.s=3,Mt(12),rr(this),ki(this);break e}}if(this.P){x=!0;let Dt;for(;!this.J&&this.C<ve.length;)if(Dt=Po(this,ve),Dt==Co){It==4&&(this.s=4,Mt(14),x=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==Ha){this.s=4,Mt(15),Jn(this.i,this.l,ve,"[Invalid Chunk]"),x=!1;break}else Jn(this.i,this.l,Dt,null),Is(this,Dt);if(Ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ve.length!=0||this.h.h||(this.s=1,Mt(16),x=!1),this.o=this.o&&x,!x)Jn(this.i,this.l,ve,"[Invalid Chunked Response]"),rr(this),ki(this);else if(0<ve.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Do(ft),ft.M=!0,Mt(11))}}else Jn(this.i,this.l,ve,null),Is(this,ve);It==4&&rr(this),this.o&&!this.J&&(It==4?Ls(this.j,this):(this.o=!1,wt(this)))}else Oo(this.g),x==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),rr(this),ki(this)}}}catch{}finally{}};function Ml(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Po(f,E){var x=f.C,R=E.indexOf(`
`,x);return R==-1?Co:(x=Number(E.substring(x,R)),isNaN(x)?Ha:(R+=1,R+x>E.length?Co:(E=E.slice(R,R+x),f.C=R+x,E)))}nr.prototype.cancel=function(){this.J=!0,rr(this)};function wt(f){f.S=Date.now()+f.I,Dl(f,f.I)}function Dl(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Cr(S(f.ba,f),E)}function Ts(f){f.B&&(d.clearTimeout(f.B),f.B=null)}nr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Io(this.i,this.A),this.L!=2&&(hi(),Mt(17)),rr(this),this.s=2,ki(this)):Dl(this,this.S-f)};function ki(f){f.j.G==0||f.J||Ls(f.j,f)}function rr(f){Ts(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,ms(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Is(f,E){try{var x=f.j;if(x.G!=0&&(x.g==f||He(x.h,f))){if(!f.K&&He(x.h,f)&&x.G==3){try{var R=x.Da.g.parse(E)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<f.F)Fo(x),Pr(x);else break e;Rs(x),Mt(18)}}else x.za=Y[1],0<x.za-x.T&&37500>Y[2]&&x.F&&x.v==0&&!x.C&&(x.C=Cr(S(x.Za,x),6e3));if(1>=Ni(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else _i(x,11)}else if((f.K||x.g==f)&&Fo(x),!Q(E))for(Y=x.Da.g.parse(E),E=0;E<Y.length;E++){let nt=Y[E];if(x.T=nt[0],nt=nt[1],x.G==2)if(nt[0]=="c"){x.K=nt[1],x.ia=nt[2];const ft=nt[3];ft!=null&&(x.la=ft,x.j.info("VER="+x.la));const It=nt[4];It!=null&&(x.Aa=It,x.j.info("SVER="+x.Aa));const cr=nt[5];cr!=null&&typeof cr=="number"&&0<cr&&(R=1.5*cr,x.L=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const Dt=f.g;if(Dt){const Os=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var ie=R.h;ie.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(_t(ie,ie.h),ie.h=null))}if(R.D){const br=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;br&&(R.ya=br,qe(R.I,R.D,br))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-f.F,x.j.info("Handshake RTT: "+x.R+"ms")),R=x;var ve=f;if(R.qa=jo(R,R.J?R.ia:null,R.W),ve.K){Ss(R.h,ve);var ct=ve,qt=R.L;qt&&(ct.I=qt),ct.B&&(Ts(ct),wt(ct)),R.g=ve}else Rn(R);0<x.i.length&&ur(x)}else nt[0]!="stop"&&nt[0]!="close"||_i(x,7);else x.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?_i(x,7):en(x):nt[0]!="noop"&&x.l&&x.l.ta(nt),x.v=0)}}hi(4)}catch{}}var Ri=class{constructor(f,E){this.g=f,this.map=E}};function Li(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ni(f){return f.h?1:f.g?f.g.size:0}function He(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function _t(f,E){f.g?f.g.add(E):f.h=E}function Ss(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Li.prototype.cancel=function(){if(this.i=di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function di(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const x of f.g.values())E=E.concat(x.D);return E}return N(f.i)}function xr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var E=[],x=f.length,R=0;R<x;R++)E.push(f[R]);return E}E=[],x=0;for(R in f)E[x++]=f[R];return E}function Oi(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var E=[];f=f.length;for(var x=0;x<f;x++)E.push(x);return E}E=[],x=0;for(const R in f)E[x++]=R;return E}}}function Ue(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var x=Oi(f),R=xr(f),Y=R.length,ie=0;ie<Y;ie++)E.call(void 0,R[ie],x&&x[ie],f)}var vt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(f,E){if(f){f=f.split("&");for(var x=0;x<f.length;x++){var R=f[x].indexOf("="),Y=null;if(0<=R){var ie=f[x].substring(0,R);Y=f[x].substring(R+1)}else ie=f[x];E(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ir(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ir){this.h=f.h,Cs(this,f.j),this.o=f.o,this.g=f.g,Ar(this,f.s),this.l=f.l;var E=f.i,x=new or;x.i=E.i,E.g&&(x.g=new Map(E.g),x.h=E.h),bn(this,x),this.m=f.m}else f&&(E=String(f).match(vt))?(this.h=!1,Cs(this,E[1]||"",!0),this.o=Ye(E[2]||""),this.g=Ye(E[3]||"",!0),Ar(this,E[4]),this.l=Ye(E[5]||"",!0),bn(this,E[6]||"",!0),this.m=Ye(E[7]||"")):(this.h=!1,this.i=new or(null,this.h))}ir.prototype.toString=function(){var f=[],E=this.j;E&&f.push(sr(E,Wr,!0),":");var x=this.g;return(x||E=="file")&&(f.push("//"),(E=this.o)&&f.push(sr(E,Wr,!0),"@"),f.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&f.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(sr(x,x.charAt(0)=="/"?Ro:ko,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",sr(x,As)),f.join("")};function xt(f){return new ir(f)}function Cs(f,E,x){f.j=x?Ye(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Ar(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function bn(f,E,x){E instanceof or?(f.i=E,Yt(f.i,f.h)):(x||(E=sr(E,xs)),f.i=new or(E,f.h))}function qe(f,E,x){f.i.set(E,x)}function kn(f){return qe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ye(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function sr(f,E,x){return typeof f=="string"?(f=encodeURI(f).replace(E,bo),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function bo(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Wr=/[#\/\?@]/g,ko=/[#\?:]/g,Ro=/[#\?]/g,xs=/[#\?@]/g,As=/#/g;function or(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Ht(f){f.g||(f.g=new Map,f.h=0,f.i&&qa(f.i,function(E,x){f.add(decodeURIComponent(E.replace(/\+/g," ")),x)}))}n=or.prototype,n.add=function(f,E){Ht(this),this.i=null,f=Me(this,f);var x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(E),this.h+=1,this};function ar(f,E){Ht(f),E=Me(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function $n(f,E){return Ht(f),E=Me(f,E),f.g.has(E)}n.forEach=function(f,E){Ht(this),this.g.forEach(function(x,R){x.forEach(function(Y){f.call(E,Y,R,this)},this)},this)},n.na=function(){Ht(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),x=[];for(let R=0;R<E.length;R++){const Y=f[R];for(let ie=0;ie<Y.length;ie++)x.push(E[R])}return x},n.V=function(f){Ht(this);let E=[];if(typeof f=="string")$n(this,f)&&(E=E.concat(this.g.get(Me(this,f))));else{f=Array.from(this.g.values());for(let x=0;x<f.length;x++)E=E.concat(f[x])}return E},n.set=function(f,E){return Ht(this),this.i=null,f=Me(this,f),$n(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Mi(f,E,x){ar(f,E),0<x.length&&(f.i=null,f.g.set(Me(f,E),N(x)),f.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var x=0;x<E.length;x++){var R=E[x];const ie=encodeURIComponent(String(R)),ve=this.V(R);for(R=0;R<ve.length;R++){var Y=ie;ve[R]!==""&&(Y+="="+encodeURIComponent(String(ve[R]))),f.push(Y)}}return this.i=f.join("&")};function Me(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Yt(f,E){E&&!f.j&&(Ht(f),f.i=null,f.g.forEach(function(x,R){var Y=R.toLowerCase();R!=Y&&(ar(this,R),Mi(this,Y,x))},f)),f.j=E}function dt(f,E){const x=new ws;if(d.Image){const R=new Image;R.onload=b(mn,x,"TestLoadImage: loaded",!0,E,R),R.onerror=b(mn,x,"TestLoadImage: error",!1,E,R),R.onabort=b(mn,x,"TestLoadImage: abort",!1,E,R),R.ontimeout=b(mn,x,"TestLoadImage: timeout",!1,E,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else E(!1)}function Wa(f,E){const x=new ws,R=new AbortController,Y=setTimeout(()=>{R.abort(),mn(x,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:R.signal}).then(ie=>{clearTimeout(Y),ie.ok?mn(x,"TestPingServer: ok",!0,E):mn(x,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),mn(x,"TestPingServer: error",!1,E)})}function mn(f,E,x,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(x)}catch{}}function $a(){this.g=new ci}function Lo(f,E,x){const R=x||"";try{Ue(f,function(Y,ie){let ve=Y;_(Y)&&(ve=yo(Y)),E.push(R+ie+"="+encodeURIComponent(ve))})}catch(Y){throw E.push(R+"type="+encodeURIComponent("_badmap")),Y}}function En(f){this.l=f.Ub||null,this.j=f.eb||!1}O(En,gs),En.prototype.g=function(){return new fi(this.l,this.j)},En.prototype.i=function(f){return function(){return f}}({});function fi(f,E){Ot.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(fi,Ot),n=fi.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,ln(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||d).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yt(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ln(this)),this.g&&(this.readyState=3,ln(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Di(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Di(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?yt(this):ln(this),this.readyState==3&&Di(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,yt(this))},n.Qa=function(f){this.g&&(this.response=f,yt(this))},n.ga=function(){this.g&&yt(this)};function yt(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ln(f)}n.setRequestHeader=function(f,E){this.u.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var x=E.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=E.next();return f.join(`\r
`)};function ln(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $r(f){let E="";return Ce(f,function(x,R){E+=R,E+=":",E+=x,E+=`\r
`}),E}function pi(f,E,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=$r(x),typeof f=="string"?x!=null&&encodeURIComponent(String(x)):qe(f,E,x))}function At(f){Ot.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(At,Ot);var Vl=/^https?$/i,Ps=["POST","PUT"];n=At.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,E,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():er.g(),this.v=this.o?wo(this.o):wo(er),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(ie){bs(this,ie);return}if(f=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)x.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ie of R.keys())x.set(ie,R.get(ie));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ps,E,void 0))||R||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of x)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gn(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){bs(this,ie)}};function bs(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,ks(f),Gn(f)}function ks(f){f.A||(f.A=!0,Bt(f,"complete"),Bt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Bt(this,"complete"),Bt(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),At.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xe(this):this.bb())},n.bb=function(){Xe(this)};function Xe(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Jt(f)!=4||f.Z()!=2)){if(f.u&&Jt(f)==4)ja(f.Ea,0,f);else if(Bt(f,"readystatechange"),Jt(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var x;if(!(x=E)){var R;if(R=ve===0){var Y=String(f.D).match(vt)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),R=!Vl.test(Y?Y.toLowerCase():"")}x=R}if(x)Bt(f,"complete"),Bt(f,"success");else{f.m=6;try{var ie=2<Jt(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",ks(f)}}finally{Gn(f)}}}}function Gn(f,E){if(f.g){gn(f);const x=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Bt(f,"ready");try{x.onreadystatechange=R}catch{}}}function gn(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Jt(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Ua(E)}};function No(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Oo(f){const E={};f=(f.g&&2<=Jt(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(Q(f[R]))continue;var x=$(f[R]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ie=E[Y]||[];E[Y]=ie,ie.push(x)}H(E,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(f,E,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||E}function Ga(f){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,f),this.cb=lr("retryDelaySeedMs",1e4,f),this.Wa=lr("forwardChannelMaxRetries",2,f),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(f&&f.concurrentRequestLimit),this.Da=new $a,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ga.prototype,n.la=8,n.G=1,n.connect=function(f,E,x,R){Mt(0),this.W=f,this.H=E||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.I=jo(this,null,this.W),ur(this)};function en(f){if(Mo(f),f.G==3){var E=f.U++,x=xt(f.I);if(qe(x,"SID",f.K),qe(x,"RID",E),qe(x,"TYPE","terminate"),mi(f,x),E=new nr(f,f.j,E),E.L=2,E.v=kn(xt(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(E.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=E.v,x=!0),x||(E.g=jl(E.j,null),E.g.ea(E.v)),E.F=Date.now(),wt(E)}Fl(f)}function Pr(f){f.g&&(Do(f),f.g.cancel(),f.g=null)}function Mo(f){Pr(f),f.u&&(d.clearTimeout(f.u),f.u=null),Fo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function ur(f){if(!Pn(f.h)&&!f.s){f.s=!0;var E=f.Ga;st||ue(),ae||(st(),ae=!0),Oe.add(E,f),f.B=0}}function qu(f,E){return Ni(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Cr(S(f.Ga,f,E),Za(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new nr(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=D(ie),q(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var E=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(E+=R,4096<E){E=x;break e}if(E===4096||x===this.i.length-1){E=x+1;break e}}E=1e3}else E=1e3;E=gi(this,Y,E),x=xt(this.I),qe(x,"RID",f),qe(x,"CVER",22),this.D&&qe(x,"X-HTTP-Session-Id",this.D),mi(this,x),ie&&(this.O?E="headers="+encodeURIComponent(String($r(ie)))+"&"+E:this.m&&pi(x,this.m,ie)),_t(this.h,Y),this.Ua&&qe(x,"TYPE","init"),this.P?(qe(x,"$req",E),qe(x,"SID","null"),Y.T=!0,xo(Y,x,null)):xo(Y,x,E),this.G=2}}else this.G==3&&(f?Tn(this,f):this.i.length==0||Pn(this.h)||Tn(this))};function Tn(f,E){var x;E?x=E.l:x=f.U++;const R=xt(f.I);qe(R,"SID",f.K),qe(R,"RID",x),qe(R,"AID",f.T),mi(f,R),f.m&&f.o&&pi(R,f.m,f.o),x=new nr(f,f.j,x,f.B+1),f.m===null&&(x.H=f.o),E&&(f.i=E.D.concat(f.i)),E=gi(f,x,1e3),x.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),_t(f.h,x),xo(x,R,E)}function mi(f,E){f.H&&Ce(f.H,function(x,R){qe(E,R,x)}),f.l&&Ue({},function(x,R){qe(E,R,x)})}function gi(f,E,x){x=Math.min(f.i.length,x);var R=f.l?S(f.l.Na,f.l,f):null;e:{var Y=f.i;let ie=-1;for(;;){const ve=["count="+x];ie==-1?0<x?(ie=Y[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let ct=!0;for(let qt=0;qt<x;qt++){let nt=Y[qt].g;const ft=Y[qt].map;if(nt-=ie,0>nt)ie=Math.max(0,Y[qt].g-100),ct=!1;else try{Lo(ft,ve,"req"+nt+"_")}catch{R&&R(ft)}}if(ct){R=ve.join("&");break e}}}return f=f.i.splice(0,x),E.D=f,R}function Rn(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;st||ue(),ae||(st(),ae=!0),Oe.add(E,f),f.v=0}}function Rs(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Cr(S(f.Fa,f),Za(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Vo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Cr(S(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Pr(this),Vo(this))};function Do(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Vo(f){f.g=new nr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=xt(f.qa);qe(E,"RID","rpc"),qe(E,"SID",f.K),qe(E,"AID",f.T),qe(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&qe(E,"TO",f.ja),qe(E,"TYPE","xmlhttp"),mi(f,E),f.m&&f.o&&pi(E,f.m,f.o),f.L&&(f.g.I=f.L);var x=f.g;f=f.ia,x.L=1,x.v=kn(xt(E)),x.m=null,x.P=!0,Ao(x,f)}n.Za=function(){this.C!=null&&(this.C=null,Pr(this),Rs(this),Mt(19))};function Fo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Ls(f,E){var x=null;if(f.g==E){Fo(f),Do(f),f.g=null;var R=2}else if(He(f.h,E))x=E.D,Ss(f.h,E),R=1;else return;if(f.G!=0){if(E.o)if(R==1){x=E.m?E.m.length:0,E=Date.now()-E.F;var Y=f.B;R=vs(),Bt(R,new To(R,x)),ur(f)}else Rn(f);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(R==1&&qu(f,E)||R==2&&Rs(f)))switch(x&&0<x.length&&(E=f.h,E.i=E.i.concat(x)),Y){case 1:_i(f,5);break;case 4:_i(f,10);break;case 3:_i(f,6);break;default:_i(f,2)}}}function Za(f,E){let x=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(x*=2),x*E}function _i(f,E){if(f.j.info("Error code "+E),E==2){var x=S(f.fb,f),R=f.Xa;const Y=!R;R=new ir(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Cs(R,"https"),kn(R),Y?dt(R.toString(),x):Wa(R.toString(),x)}else Mt(2);f.G=0,f.l&&f.l.sa(E),Fl(f),Mo(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Fl(f){if(f.G=0,f.ka=[],f.l){const E=di(f.h);(E.length!=0||f.i.length!=0)&&(M(f.ka,E),M(f.ka,f.i),f.h.i.length=0,N(f.i),f.i.length=0),f.l.ra()}}function jo(f,E,x){var R=x instanceof ir?xt(x):new ir(x);if(R.g!="")E&&(R.g=E+"."+R.g),Ar(R,R.s);else{var Y=d.location;R=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new ir(null);R&&Cs(ie,R),E&&(ie.g=E),Y&&Ar(ie,Y),x&&(ie.l=x),R=ie}return x=f.D,E=f.ya,x&&E&&qe(R,x,E),qe(R,"VER",f.la),mi(f,R),R}function jl(f,E,x){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new At(new En({eb:x})):new At(f.pa),E.Ha(f.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}n=Uo.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ns(){}Ns.prototype.g=function(f,E){return new tn(f,E)};function tn(f,E){Ot.call(this),this.g=new Ga(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!Q(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!Q(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Ln(this)}O(tn,Ot),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){en(this.g)},tn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.u&&(x={},x.__data__=yo(f),f=x);E.i.push(new Ri(E.Ya++,f)),E.G==3&&ur(E)},tn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,tn.aa.N.call(this)};function Gr(f){Sr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const x in E){f=x;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}O(Gr,Sr);function Ul(){Eo.call(this),this.status=1}O(Ul,Eo);function Ln(f){this.g=f}O(Ln,Uo),Ln.prototype.ua=function(){Bt(this.g,"a")},Ln.prototype.ta=function(f){Bt(this.g,new Gr(f))},Ln.prototype.sa=function(f){Bt(this.g,new Ul)},Ln.prototype.ra=function(){Bt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,w1=function(){return new Ns},y1=function(){return vs()},v1=qr,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,Vd=Es,So.COMPLETE="complete",_1=So,_s.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Ic=_s,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,g1=At}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",m0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new If("@firebase/firestore");function du(){return Il.logLevel}function Se(n,...e){if(Il.logLevel<=rt.DEBUG){const t=e.map(A_);Il.debug(`Firestore (${Du}): ${n}`,...t)}}function oo(n,...e){if(Il.logLevel<=rt.ERROR){const t=e.map(A_);Il.error(`Firestore (${Du}): ${n}`,...t)}}function wa(n,...e){if(Il.logLevel<=rt.WARN){const t=e.map(A_);Il.warn(`Firestore (${Du}): ${n}`,...t)}}function A_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,E1(n,r,t)}function E1(n,e,t){let r=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw oo(r),new Error(r)}function mt(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||E1(e,o,r)}function Ge(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jn.UNAUTHENTICATED))}shutdown(){}}class DN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VN{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let a=new to;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new to,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const m=a;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new to)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new T1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class FN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new FN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new g0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=zN(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Je(n,e){return n<e?-1:n>e?1:0}function dg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Je(r,o);{const a=I1(),u=BN(a.encode(_0(n,t)),a.encode(_0(e,t)));return u!==0?u:Je(r,o)}}t+=r>65535?2:1}return Je(n.length,e.length)}function _0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function BN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Je(n[t],e[t]);return Je(n.length,e.length)}function Au(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="__name__";class $i{constructor(e,t,r){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=$i.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Je(e.length,t.length)}static compareSegments(e,t){const r=$i.isNumericId(e),o=$i.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?$i.extractNumericId(e).compare($i.extractNumericId(t)):dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class bt extends $i{construct(e,t,r){return new bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const HN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends $i{construct(e,t,r){return new xn(e,t,r)}static isValidIdentifier(e){return HN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v0}static keyField(){return new xn([v0])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new we(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new we(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new we(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(bt.fromString(e))}static fromName(e){return new De(bt.fromString(e).popFirst(5))}static empty(){return new De(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n,e,t){if(!t)throw new we(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qN(n,e,t,r){if(e===!0&&r===!0)throw new we(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function y0(n){if(!De.isDocumentKey(n))throw new we(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w0(n){if(De.isDocumentKey(n))throw new we(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function C1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function Er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nf(n);throw new we(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(n,e){const t={typeString:n};return e&&(t.value=e),t}function lh(n,e){if(!C1(n))throw new we(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new we(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=-62135596800,T0=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*T0);return new kt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<E0)throw new we(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lh(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:an("string",kt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new kt(0,0))}static max(){return new $e(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function WN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new Ea(o,De.empty(),e)}function $N(n){return new Ea(n.readTime,n.key,Hc)}class Ea{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ea($e.min(),De.empty(),Hc)}static max(){return new Ea($e.max(),De.empty(),Hc)}}function GN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==ZN)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},m=>r(m))}),u=!0,a===o&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(o=>o?ce.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let m=0;m<a;m++){const _=m;t(e[_]).next(w=>{u[_]=w,++d,d===a&&r(u)},w=>o(w))}})}static doWhile(e,t){return new ce((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function YN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Of.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=-1;function Mf(n){return n==null}function sf(n){return n===0&&1/n==-1/0}function QN(n){return typeof n=="number"&&Number.isInteger(n)&&!sf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="";function XN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=I0(e)),e=JN(n.get(t),e);return I0(e)}function JN(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case x1:t+="";break;default:t+=a}}return t}function I0(n){return n+x1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function A1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t){this.comparator=e,this.root=t||Cn.EMPTY}insert(e,t){return new Ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sd(this.root,e,this.comparator,!0)}}class Sd{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Cn.RED,this.left=o??Cn.EMPTY,this.right=a??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Cn(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Cn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new Vr([])}unionWith(e){let t=new dn(xn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Au(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new P1("Invalid base64 string: "+a):a}}(e);return new An(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new An(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const eO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=eO.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ia(n){return typeof n=="string"?An.fromBase64String(n):An.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="server_timestamp",k1="__type__",R1="__previous_value__",L1="__local_write_time__";function k_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[k1])===null||t===void 0?void 0:t.stringValue)===b1}function Df(n){const e=n.mapValue.fields[R1];return k_(e)?Df(e):e}function qc(n){const e=Ta(n.mapValue.fields[L1].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t,r,o,a,u,d,m,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=_,this.isUsingEmulator=w}}const of="(default)";class Wc{constructor(e,t){this.projectId=e,this.database=t||of}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===of}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="__type__",nO="__max__",Cd={mapValue:{}},O1="__vector__",af="value";function Sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?k_(n)?4:iO(n)?9007199254740991:rO(n)?10:11:Be(28295,{value:n})}function is(n,e){if(n===e)return!0;const t=Sa(n);if(t!==Sa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ta(o.timestampValue),d=Ta(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ia(o.bytesValue).isEqual(Ia(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Xt(o.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Xt(o.integerValue)===Xt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Xt(o.doubleValue),d=Xt(a.doubleValue);return u===d?sf(u)===sf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Au(n.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(S0(u)!==S0(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!is(u[m],d[m])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function $c(n,e){return(n.values||[]).find(t=>is(t,e))!==void 0}function Pu(n,e){if(n===e)return 0;const t=Sa(n),r=Sa(e);if(t!==r)return Je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=Xt(a.integerValue||a.doubleValue),m=Xt(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return x0(n.timestampValue,e.timestampValue);case 4:return x0(qc(n),qc(e));case 5:return dg(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Ia(a),m=Ia(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),m=u.split("/");for(let _=0;_<d.length&&_<m.length;_++){const w=Je(d[_],m[_]);if(w!==0)return w}return Je(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Je(Xt(a.latitude),Xt(u.latitude));return d!==0?d:Je(Xt(a.longitude),Xt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return A0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,m,_,w;const I=a.fields||{},S=u.fields||{},b=(d=I[af])===null||d===void 0?void 0:d.arrayValue,O=(m=S[af])===null||m===void 0?void 0:m.arrayValue,N=Je(((_=b?.values)===null||_===void 0?void 0:_.length)||0,((w=O?.values)===null||w===void 0?void 0:w.length)||0);return N!==0?N:A0(b,O)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Cd.mapValue&&u===Cd.mapValue)return 0;if(a===Cd.mapValue)return 1;if(u===Cd.mapValue)return-1;const d=a.fields||{},m=Object.keys(d),_=u.fields||{},w=Object.keys(_);m.sort(),w.sort();for(let I=0;I<m.length&&I<w.length;++I){const S=dg(m[I],w[I]);if(S!==0)return S;const b=Pu(d[m[I]],_[w[I]]);if(b!==0)return b}return Je(m.length,w.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{le:t})}}function x0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Ta(n),r=Ta(e),o=Je(t.seconds,r.seconds);return o!==0?o:Je(t.nanos,r.nanos)}function A0(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Pu(t[o],r[o]);if(a)return a}return Je(t.length,r.length)}function bu(n){return fg(n)}function fg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ta(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ia(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=fg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${fg(t.fields[u])}`;return o+"}"}(n.mapValue):Be(61005,{value:n})}function Fd(n){switch(Sa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Df(n);return e?16+Fd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ia(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Fd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Oa(r.fields,(a,u)=>{o+=a.length+Fd(u)}),o}(n.mapValue);default:throw Be(13486,{value:n})}}function P0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function R_(n){return!!n&&"arrayValue"in n}function b0(n){return!!n&&"nullValue"in n}function k0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jd(n){return!!n&&"mapValue"in n}function rO(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[N1])===null||t===void 0?void 0:t.stringValue)===O1}function Oc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Oa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Oc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(t)}setAll(e){let t=xn.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Oc(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());jd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Oa(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new vr(Oc(this.value))}}function M1(n){const e=[];return Oa(n.fields,(t,r)=>{const o=new xn([t]);if(jd(r)){const a=M1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new zn(e,0,$e.min(),$e.min(),$e.min(),vr.empty(),0)}static newFoundDocument(e,t,r,o){return new zn(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new zn(e,2,t,$e.min(),$e.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,$e.min(),$e.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.position=e,this.inclusive=t}}function R0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=De.comparator(De.fromName(u.referenceValue),t.key):r=Pu(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function L0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!is(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function sO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{}class on extends D1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new aO(e,t,r):t==="array-contains"?new cO(e,r):t==="in"?new hO(e,r):t==="not-in"?new dO(e,r):t==="array-contains-any"?new fO(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lO(e,r):new uO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Pu(t,this.value)):t!==null&&Sa(this.value)===Sa(t)&&this.matchesComparison(Pu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends D1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Pi(e,t)}matches(e){return V1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function V1(n){return n.op==="and"}function F1(n){return oO(n)&&V1(n)}function oO(n){for(const e of n.filters)if(e instanceof Pi)return!1;return!0}function mg(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+bu(n.value);if(F1(n))return n.filters.map(e=>mg(e)).join(",");{const e=n.filters.map(t=>mg(t)).join(",");return`${n.op}(${e})`}}function j1(n,e){return n instanceof on?function(r,o){return o instanceof on&&r.op===o.op&&r.field.isEqual(o.field)&&is(r.value,o.value)}(n,e):n instanceof Pi?function(r,o){return o instanceof Pi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&j1(u,o.filters[d]),!0):!1}(n,e):void Be(19439)}function U1(n){return n instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${bu(t.value)}`}(n):n instanceof Pi?function(t){return t.op.toString()+" {"+t.getFilters().map(U1).join(" ,")+"}"}(n):"Filter"}class aO extends on{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class lO extends on{constructor(e,t){super(e,"in",t),this.keys=z1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uO extends on{constructor(e,t){super(e,"not-in",t),this.keys=z1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function z1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class cO extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return R_(t)&&$c(t.arrayValue,this.value)}}class hO extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$c(this.value.arrayValue,t)}}class dO extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$c(this.value.arrayValue,t)}}class fO extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!R_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$c(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function N0(n,e=null,t=[],r=[],o=null,a=null,u=null){return new pO(n,e,t,r,o,a,u)}function L_(n){const e=Ge(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bu(r)).join(",")),e.Pe=t}return e.Pe}function N_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!j1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L0(n.startAt,e.startAt)&&L0(n.endAt,e.endAt)}function gg(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mO(n,e,t,r,o,a,u,d){return new ju(n,e,t,r,o,a,u,d)}function Vf(n){return new ju(n)}function O0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function B1(n){return n.collectionGroup!==null}function Mc(n){const e=Ge(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new dn(xn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Gc(a,r))}),t.has(xn.keyField().canonicalString())||e.Te.push(new Gc(xn.keyField(),r))}return e.Te}function Ji(n){const e=Ge(n);return e.Ie||(e.Ie=gO(e,Mc(n))),e.Ie}function gO(n,e){if(n.limitType==="F")return N0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Gc(o.field,a)});const t=n.endAt?new lf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lf(n.startAt.position,n.startAt.inclusive):null;return N0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _g(n,e){const t=n.filters.concat([e]);return new ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vg(n,e,t){return new ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ff(n,e){return N_(Ji(n),Ji(e))&&n.limitType===e.limitType}function H1(n){return`${L_(Ji(n))}|lt:${n.limitType}`}function fu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>U1(o)).join(", ")}]`),Mf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>bu(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>bu(o)).join(",")),`Target(${r})`}(Ji(n))}; limitType=${n.limitType})`}function jf(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Mc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,m){const _=R0(u,d,m);return u.inclusive?_<=0:_<0}(r.startAt,Mc(r),o)||r.endAt&&!function(u,d,m){const _=R0(u,d,m);return u.inclusive?_>=0:_>0}(r.endAt,Mc(r),o))}(n,e)}function _O(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function q1(n){return(e,t)=>{let r=!1;for(const o of Mc(n)){const a=vO(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function vO(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(a,u,d){const m=u.data.field(a),_=d.data.field(a);return m!==null&&_!==null?Pu(m,_):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new Ut(De.comparator);function ao(){return yO}const W1=new Ut(De.comparator);function Sc(...n){let e=W1;for(const t of n)e=e.insert(t.key,t);return e}function $1(n){let e=W1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pl(){return Dc()}function G1(){return Dc()}function Dc(){return new Rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const wO=new Ut(De.comparator),EO=new dn(De.comparator);function it(...n){let e=EO;for(const t of n)e=e.add(t);return e}const TO=new dn(Je);function IO(){return TO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function Z1(n){return{integerValue:""+n}}function SO(n,e){return QN(e)?Z1(e):O_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this._=void 0}}function CO(n,e,t){return n instanceof Zc?function(o,a){const u={fields:{[k1]:{stringValue:b1},[L1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&k_(a)&&(a=Df(a)),a&&(u.fields[R1]=a),{mapValue:u}}(t,e):n instanceof ku?Y1(n,e):n instanceof Kc?Q1(n,e):function(o,a){const u=K1(o,a),d=M0(u)+M0(o.Ee);return pg(u)&&pg(o.Ee)?Z1(d):O_(o.serializer,d)}(n,e)}function xO(n,e,t){return n instanceof ku?Y1(n,e):n instanceof Kc?Q1(n,e):t}function K1(n,e){return n instanceof uf?function(r){return pg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Zc extends Uf{}class ku extends Uf{constructor(e){super(),this.elements=e}}function Y1(n,e){const t=X1(e);for(const r of n.elements)t.some(o=>is(o,r))||t.push(r);return{arrayValue:{values:t}}}class Kc extends Uf{constructor(e){super(),this.elements=e}}function Q1(n,e){let t=X1(e);for(const r of n.elements)t=t.filter(o=>!is(o,r));return{arrayValue:{values:t}}}class uf extends Uf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function M0(n){return Xt(n.integerValue||n.doubleValue)}function X1(n){return R_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t){this.field=e,this.transform=t}}function AO(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof ku&&o instanceof ku||r instanceof Kc&&o instanceof Kc?Au(r.elements,o.elements,is):r instanceof uf&&o instanceof uf?is(r.Ee,o.Ee):r instanceof Zc&&o instanceof Zc}(n.transform,e.transform)}class PO{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ud(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class zf{}function eS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new M_(n.key,si.none()):new uh(n.key,n.data,si.none());{const t=n.data,r=vr.empty();let o=new dn(xn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Ma(n.key,r,new Vr(o.toArray()),si.none())}}function bO(n,e,t){n instanceof uh?function(o,a,u){const d=o.value.clone(),m=V0(o.fieldTransforms,a,u.transformResults);d.setAll(m),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ma?function(o,a,u){if(!Ud(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=V0(o.fieldTransforms,a,u.transformResults),m=a.data;m.setAll(tS(o)),m.setAll(d),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Vc(n,e,t,r){return n instanceof uh?function(a,u,d,m){if(!Ud(a.precondition,u))return d;const _=a.value.clone(),w=F0(a.fieldTransforms,m,u);return _.setAll(w),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ma?function(a,u,d,m){if(!Ud(a.precondition,u))return d;const _=F0(a.fieldTransforms,m,u),w=u.data;return w.setAll(tS(a)),w.setAll(_),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(I=>I.field))}(n,e,t,r):function(a,u,d){return Ud(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function kO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=K1(r.transform,o||null);a!=null&&(t===null&&(t=vr.empty()),t.set(r.field,a))}return t||null}function D0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Au(r,o,(a,u)=>AO(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uh extends zf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ma extends zf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function V0(n,e,t){const r=new Map;mt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,xO(u,d,t[o]))}return r}function F0(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,CO(a,u,e))}return r}class M_ extends zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RO extends zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&bO(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=G1();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const m=eS(u,d);m!==null&&r.set(o.key,m),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,(t,r)=>D0(t,r))&&Au(this.baseMutations,e.baseMutations,(t,r)=>D0(t,r))}}class D_{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){mt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=function(){return wO}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new D_(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ot;function MO(n){switch(n){case le.OK:return Be(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function nS(n){if(n===void 0)return oo("GRPC error has no .code"),le.UNKNOWN;switch(n){case sn.OK:return le.OK;case sn.CANCELLED:return le.CANCELLED;case sn.UNKNOWN:return le.UNKNOWN;case sn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case sn.INTERNAL:return le.INTERNAL;case sn.UNAVAILABLE:return le.UNAVAILABLE;case sn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case sn.NOT_FOUND:return le.NOT_FOUND;case sn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case sn.ABORTED:return le.ABORTED;case sn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case sn.DATA_LOSS:return le.DATA_LOSS;default:return Be(39323,{code:n})}}(ot=sn||(sn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new _a([4294967295,4294967295],0);function j0(n){const e=I1().encode(n),t=new m1;return t.update(e),new Uint8Array(t.digest())}function U0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _a([t,r],0),new _a([o,a],0)]}class V_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cc(`Invalid padding: ${t}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=_a.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(_a.fromNumber(r)));return o.compare(DO)===1&&(o=new _a([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=j0(e),[r,o]=U0(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new V_(a,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.fe===0)return;const t=j0(e),[r,o]=U0(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,ch.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Bf($e.min(),o,new Ut(Je),ao(),it())}}class ch{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ch(r,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class rS{constructor(e,t){this.targetId=e,this.De=t}}class iS{constructor(e,t,r=An.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class z0{constructor(){this.ve=0,this.Ce=B0(),this.Fe=An.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=it(),t=it(),r=it();return this.Ce.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Be(38017,{changeType:a})}}),new ch(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=B0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class VO{constructor(e){this.We=e,this.Ge=new Map,this.ze=ao(),this.je=xd(),this.Je=xd(),this.He=new Ut(Je)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const a=o.target;if(gg(a))if(r===0){const u=new De(a.path);this.Xe(t,u,zn.newNoDocument(u,$e.min()))}else mt(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const d=this._t(e),m=d?this.ut(d,e,u):1;if(m!==0){this.rt(t);const _=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,_)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Ia(r).toUint8Array()}catch(m){if(m instanceof P1)return wa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new V_(u,o,a)}catch(m){return wa(m instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,a,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((a,u)=>{const d=this.st(u);if(d){if(a.current&&gg(d.target)){const m=new De(d.target.path);this.Tt(m).has(u)||this.It(u,m)||this.Xe(u,m,zn.newNoDocument(m,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}});let r=it();this.Je.forEach((a,u)=>{let d=!0;u.forEachWhile(m=>{const _=this.st(m);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ze.forEach((a,u)=>u.setReadTime(e));const o=new Bf(e,t,this.He,this.ze,r);return this.ze=ao(),this.je=xd(),this.Je=xd(),this.He=new Ut(Je),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new z0,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new dn(Je),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new dn(Je),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new z0),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function xd(){return new Ut(De.comparator)}function B0(){return new Ut(De.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},jO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UO={and:"AND",or:"OR"};class zO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yg(n,e){return n.useProto3Json||Mf(e)?e:{value:e}}function cf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BO(n,e){return cf(n,e.toTimestamp())}function es(n){return mt(!!n,49232),$e.fromTimestamp(function(t){const r=Ta(t);return new kt(r.seconds,r.nanos)}(n))}function F_(n,e){return wg(n,e).canonicalString()}function wg(n,e){const t=function(o){return new bt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function oS(n){const e=bt.fromString(n);return mt(hS(e),10190,{key:e.toString()}),e}function Eg(n,e){return F_(n.databaseId,e.path)}function Fm(n,e){const t=oS(e);if(t.get(1)!==n.databaseId.projectId)throw new we(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(lS(t))}function aS(n,e){return F_(n.databaseId,e)}function HO(n){const e=oS(n);return e.length===4?bt.emptyPath():lS(e)}function Tg(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lS(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function H0(n,e,t){return{name:Eg(n,e),fields:t.value.mapValue.fields}}function qO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Be(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(mt(w===void 0||typeof w=="string",58123),An.fromBase64String(w||"")):(mt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),An.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(_){const w=_.code===void 0?le.UNKNOWN:nS(_.code);return new we(w,_.message||"")}(u);t=new iS(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Fm(n,r.document.name),a=es(r.document.updateTime),u=r.document.createTime?es(r.document.createTime):$e.min(),d=new vr({mapValue:{fields:r.document.fields}}),m=zn.newFoundDocument(o,a,u,d),_=r.targetIds||[],w=r.removedTargetIds||[];t=new zd(_,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Fm(n,r.document),a=r.readTime?es(r.readTime):$e.min(),u=zn.newNoDocument(o,a),d=r.removedTargetIds||[];t=new zd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Fm(n,r.document),a=r.removedTargetIds||[];t=new zd([],a,o,null)}else{if(!("filter"in e))return Be(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new OO(o,a),d=r.targetId;t=new rS(d,u)}}return t}function WO(n,e){let t;if(e instanceof uh)t={update:H0(n,e.key,e.value)};else if(e instanceof M_)t={delete:Eg(n,e.key)};else if(e instanceof Ma)t={update:H0(n,e.key,e.data),updateMask:eM(e.fieldMask)};else{if(!(e instanceof RO))return Be(16599,{Rt:e.type});t={verify:Eg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof Zc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ku)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uf)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw Be(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:BO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(n,e.precondition)),t}function $O(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?es(o.updateTime):es(a);return u.isEqual($e.min())&&(u=es(a)),new PO(u,o.transformResults||[])}(t,e))):[]}function GO(n,e){return{documents:[aS(n,e.path)]}}function ZO(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aS(n,o);const a=function(_){if(_.length!==0)return cS(Pi.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(_){if(_.length!==0)return _.map(w=>function(S){return{field:pu(S.field),direction:QO(S.dir)}}(w))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=yg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:t,parent:o}}function KO(n){let e=HO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){mt(r===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(I){const S=uS(I);return S instanceof Pi&&F1(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=function(I){return I.map(S=>function(O){return new Gc(mu(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(I){let S;return S=typeof I=="object"?I.value:I,Mf(S)?null:S}(t.limit));let m=null;t.startAt&&(m=function(I){const S=!!I.before,b=I.values||[];return new lf(b,S)}(t.startAt));let _=null;return t.endAt&&(_=function(I){const S=!I.before,b=I.values||[];return new lf(b,S)}(t.endAt)),mO(e,o,u,a,d,"F",m,_)}function YO(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=mu(t.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mu(t.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=mu(t.unaryFilter.field);return on.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=mu(t.unaryFilter.field);return on.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return on.create(mu(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pi.create(t.compositeFilter.filters.map(r=>uS(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function QO(n){return FO[n]}function XO(n){return jO[n]}function JO(n){return UO[n]}function pu(n){return{fieldPath:n.canonicalString()}}function mu(n){return xn.fromServerFormat(n.fieldPath)}function cS(n){return n instanceof on?function(t){if(t.op==="=="){if(k0(t.value))return{unaryFilter:{field:pu(t.field),op:"IS_NAN"}};if(b0(t.value))return{unaryFilter:{field:pu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(k0(t.value))return{unaryFilter:{field:pu(t.field),op:"IS_NOT_NAN"}};if(b0(t.value))return{unaryFilter:{field:pu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(t.field),op:XO(t.op),value:t.value}}}(n):n instanceof Pi?function(t){const r=t.getFilters().map(o=>cS(o));return r.length===1?r[0]:{compositeFilter:{op:JO(t.op),filters:r}}}(n):Be(54877,{filter:n})}function eM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t,r,o,a=$e.min(),u=$e.min(),d=An.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.gt=e}}function nM(n){const e=KO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.Dn=new iM}addToCollectionParentIndex(e,t){return this.Dn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Ea.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class iM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new dn(bt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dS=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(dS,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ru(0)}static ur(){return new Ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="LruGarbageCollector",sM=1048576;function $0([n,e],[t,r]){const o=Je(n,t);return o===0?Je(e,r):o}class oM{constructor(e){this.Tr=e,this.buffer=new dn($0),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Se(W0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fu(t)?Se(W0,"Ignoring IndexedDB error during garbage collection: ",t):await Vu(t)}await this.Rr(3e5)})}}class lM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Of.ue);const r=new oM(t);return this.Vr.forEachTarget(e,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(q0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,a,u,d,m,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,u=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(r=I,d=Date.now(),this.removeTargets(e,r,t))).next(I=>(a=I,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(_=Date.now(),du()<=rt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-w}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(m-d)+`ms
	Removed ${I} documents in `+(_-m)+`ms
Total Duration: ${_-w}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:I})))}}function uM(n,e){return new lM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.changes=new Rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Vc(r.mutation,o,Vr.empty(),kt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,t,r=it()){const o=pl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Sc();return a.forEach((d,m)=>{u=u.insert(d,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=pl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,it()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let a=ao();const u=Dc(),d=function(){return Dc()}();return t.forEach((m,_)=>{const w=r.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof Ma)?a=a.insert(_.key,_):w!==void 0?(u.set(_.key,w.mutation.getFieldMask()),Vc(w.mutation,_,w.mutation.getFieldMask(),kt.now())):u.set(_.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((_,w)=>u.set(_,w)),t.forEach((_,w)=>{var I;return d.set(_,new hM(w,(I=u.get(_))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Dc();let o=new Ut((u,d)=>u-d),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(m=>{const _=t.get(m);if(_===null)return;let w=r.get(m)||Vr.empty();w=d.applyToLocalView(_,w),r.set(m,w);const I=(o.get(d.batchId)||it()).add(m);o=o.insert(d.batchId,I)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),_=m.key,w=m.value,I=G1();w.forEach(S=>{if(!a.has(S)){const b=eS(t.get(S),r.get(S));b!==null&&I.set(S,b),a=a.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,I))}return ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):B1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ce.resolve(pl());let d=Hc,m=a;return u.next(_=>ce.forEach(_,(w,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),a.get(w)?ce.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{m=m.insert(w,S)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,m,_,it())).next(w=>({batchId:d,changes:$1(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let o=Sc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Sc();return this.indexManager.getCollectionParents(e,a).next(d=>ce.forEach(d,m=>{const _=function(I,S){return new ju(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next(w=>{w.forEach((I,S)=>{u=u.insert(I,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((m,_)=>{const w=_.getKey();u.get(w)===null&&(u=u.insert(w,zn.newInvalidDocument(w)))});let d=Sc();return u.forEach((m,_)=>{const w=a.get(m);w!==void 0&&Vc(w.mutation,_,Vr.empty(),kt.now()),jf(t,_)&&(d=d.insert(m,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:es(o.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:nM(o.bundledQuery),readTime:es(o.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.overlays=new Ut(De.comparator),this.kr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pl();return ce.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.wt(e,t,a)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const o=pl(),a=t.length+1,u=new De(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,_=m.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new Ut((_,w)=>_-w);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let w=a.get(_.largestBatchId);w===null&&(w=pl(),a=a.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const d=pl(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,w)=>d.set(_,w)),!(d.size()>=o)););return ce.resolve(d)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new NO(t,r));let a=this.kr.get(t);a===void 0&&(a=it(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.qr=new dn(wn.Qr),this.$r=new dn(wn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new wn(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new wn(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new De(new bt([])),r=new wn(t,e),o=new wn(t,e+1),a=[];return this.$r.forEachInRange([r,o],u=>{this.Wr(u),a.push(u.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new De(new bt([])),r=new wn(t,e),o=new wn(t,e+1);let a=it();return this.$r.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new wn(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return De.comparator(e.key,t.key)||Je(e.Hr,t.Hr)}static Ur(e,t){return Je(e.Hr,t.Hr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new dn(wn.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new LO(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Yr=this.Yr.add(new wn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?b_:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wn(t,0),o=new wn(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,o],u=>{const d=this.Zr(u.Hr);a.push(d)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dn(Je);return t.forEach(o=>{const a=new wn(o,0),u=new wn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],d=>{r=r.add(d.Hr)})}),ce.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const u=new wn(new De(a),0);let d=new dn(Je);return this.Yr.forEachWhile(m=>{const _=m.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(d=d.add(m.Hr)),!0)},u),ce.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(r=>{const o=this.Zr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){mt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ce.forEach(t.mutations,o=>{const a=new wn(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new wn(t,0),o=this.Yr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.ni=e,this.docs=function(){return new Ut(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let r=ao();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():zn.newInvalidDocument(o))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ao();const u=t.path,d=new De(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:_,value:{document:w}}=m.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||GN($N(w),r)<=0||(o.has(w.key)||jf(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Be(9500)}ri(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vM(this)}getSize(e){return ce.resolve(this.size)}}class vM extends cM{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.persistence=e,this.ii=new Rl(t=>L_(t),N_),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.si=0,this.oi=new j_,this.targetCount=0,this._i=Ru.ar()}forEachTarget(e,t){return this.ii.forEach((r,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ce.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Ru(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.hr(t),ce.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ii.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ce.waitFor(a).next(()=>o)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.ai={},this.overlays={},this.ui=new Of(0),this.ci=!1,this.ci=!0,this.li=new mM,this.referenceDelegate=e(this),this.hi=new yM(this),this.indexManager=new rM,this.remoteDocumentCache=function(o){return new _M(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new tM(t),this.Ti=new fM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new gM(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Se("MemoryPersistence","Starting transaction:",e);const o=new wM(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ei(e,t){return ce.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class wM extends KN{constructor(e){super(),this.currentSequenceNumber=e}}class U_{constructor(e){this.persistence=e,this.Ai=new j_,this.Ri=null}static Vi(e){return new U_(e)}get mi(){if(this.Ri)return this.Ri;throw Be(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,r=>{const o=De.fromPath(r);return this.fi(e,o).next(a=>{a||t.removeEntry(o,$e.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ce.or([()=>ce.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class hf{constructor(e,t){this.persistence=e,this.gi=new Rl(r=>XN(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=uM(this,t)}static Vi(e,t){return new hf(e,t)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ce.forEach(this.gi,(r,o)=>this.Sr(e,r,o).next(a=>a?ce.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,u=>this.Sr(e,u,t).next(d=>{d||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ce.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fd(e.data.value)),t}Sr(e,t,r){return ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ce.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=it(),o=it();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new z_(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return bP()?8:YN(Hn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ps(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ys(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new EM;return this.ws(e,t,u).next(d=>{if(a.result=d,this.Rs)return this.Ss(e,t,u,d.size)})}).next(()=>a.result)}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(du()<=rt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",fu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(du()<=rt.DEBUG&&Se("QueryEngine","Query:",fu(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(du()<=rt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",fu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(t))):ce.resolve())}ps(e,t){if(O0(t))return ce.resolve(null);let r=Ji(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vg(t,null,"F"),r=Ji(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=it(...a);return this.gs.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(m=>{const _=this.bs(t,d);return this.Ds(t,_,u,m.readTime)?this.ps(e,vg(t,null,"F")):this.vs(e,_,t,m)}))})))}ys(e,t,r,o){return O0(t)||o.isEqual($e.min())?ce.resolve(null):this.gs.getDocuments(e,r).next(a=>{const u=this.bs(t,a);return this.Ds(t,u,r,o)?ce.resolve(null):(du()<=rt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fu(t)),this.vs(e,u,t,WN(o,Hc)).next(d=>d))})}bs(e,t){let r=new dn(q1(e));return t.forEach((o,a)=>{jf(e,a)&&(r=r.add(a))}),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,r){return du()<=rt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",fu(t)),this.gs.getDocumentsMatchingQuery(e,t,Ea.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LocalStore",IM=3e8;class SM{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new Ut(Je),this.Ms=new Rl(a=>L_(a),N_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function CM(n,e,t,r){return new SM(n,e,t,r)}async function pS(n,e){const t=Ge(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let m=it();for(const _ of o){u.push(_.batchId);for(const w of _.mutations)m=m.add(w.key)}for(const _ of a){d.push(_.batchId);for(const w of _.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(r,m).next(_=>({Bs:_,removedBatchIds:u,addedBatchIds:d}))})})}function xM(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,m,_,w){const I=_.batch,S=I.keys();let b=ce.resolve();return S.forEach(O=>{b=b.next(()=>w.getEntry(m,O)).next(N=>{const M=_.docVersions.get(O);mt(M!==null,48541),N.version.compareTo(M)<0&&(I.applyToRemoteDocument(N,_),N.isValidDocument()&&(N.setReadTime(_.commitVersion),w.addEntry(N)))})}),b.next(()=>d.mutationQueue.removeMutationBatch(m,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=it();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(m=m.add(d.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function mS(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function AM(n,e){const t=Ge(n),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((w,I)=>{const S=o.get(I);if(!S)return;d.push(t.hi.removeMatchingKeys(a,w.removedDocuments,I).next(()=>t.hi.addMatchingKeys(a,w.addedDocuments,I)));let b=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(I)!==null?b=b.withResumeToken(An.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,r)),o=o.insert(I,b),function(N,M,j){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=IM?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(S,b,w)&&d.push(t.hi.updateTargetData(a,b))});let m=ao(),_=it();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),d.push(PM(a,u,e.documentUpdates).next(w=>{m=w.Ls,_=w.ks})),!r.isEqual($e.min())){const w=t.hi.getLastRemoteSnapshotVersion(a).next(I=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(w)}return ce.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,_)).next(()=>m)}).then(a=>(t.Fs=o,a))}function PM(n,e,t){let r=it(),o=it();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ao();return t.forEach((d,m)=>{const _=a.get(d);m.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual($e.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||m.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):Se(B_,"Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",m.version)}),{Ls:u,ks:o}})}function bM(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=b_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kM(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.hi.getTargetData(r,e).next(a=>a?(o=a,ce.resolve(o)):t.hi.allocateTargetId(r).next(u=>(o=new pa(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Ig(n,e,t){const r=Ge(n),o=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Fu(u))throw u;Se(B_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function G0(n,e,t){const r=Ge(n);let o=$e.min(),a=it();return r.persistence.runTransaction("Execute query","readwrite",u=>function(m,_,w){const I=Ge(m),S=I.Ms.get(w);return S!==void 0?ce.resolve(I.Fs.get(S)):I.hi.getTargetData(_,w)}(r,u,Ji(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next(m=>{a=m})}).next(()=>r.Cs.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:it())).next(d=>(RM(r,_O(e),d),{documents:d,qs:a})))}function RM(n,e,t){let r=n.xs.get(e)||$e.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.xs.set(e,r)}class Z0{constructor(){this.activeTargetIds=IO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LM{constructor(){this.Fo=new Z0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Z0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="ConnectivityMonitor";class Y0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Se(K0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Se(K0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function Sg(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="RestConnection",OM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MM{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===of?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const u=Sg(),d=this.Go(e,t.toUriEncodedString());Se(jm,`Sending RPC '${e}' ${u}:`,d,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,a);const{host:_}=new URL(d),w=Ra(_);return this.jo(e,d,m,r,w).then(I=>(Se(jm,`Received RPC '${e}' ${u}: `,I),I),I=>{throw wa(jm,`RPC '${e}' ${u} failed with error: `,I,"url: ",d,"request:",r),I})}Jo(e,t,r,o,a,u){return this.Wo(e,t,r,o,a)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Du}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}Go(e,t){const r=OM[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class VM extends MM{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,a){const u=Sg();return new Promise((d,m)=>{const _=new g1;_.setWithCredentials(!0),_.listenOnce(_1.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vd.NO_ERROR:const I=_.getResponseJson();Se(Fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(I)),d(I);break;case Vd.TIMEOUT:Se(Fn,`RPC '${e}' ${u} timed out`),m(new we(le.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const S=_.getStatus();if(Se(Fn,`RPC '${e}' ${u} failed with status:`,S,"response text:",_.getResponseText()),S>0){let b=_.getResponseJson();Array.isArray(b)&&(b=b[0]);const O=b?.error;if(O&&O.status&&O.message){const N=function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(Q)>=0?Q:le.UNKNOWN}(O.status);m(new we(N,O.message))}else m(new we(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new we(le.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{c_:e,streamId:u,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{Se(Fn,`RPC '${e}' ${u} completed.`)}});const w=JSON.stringify(o);Se(Fn,`RPC '${e}' ${u} sending request:`,o),_.send(t,"POST",w,r,15)})}P_(e,t,r){const o=Sg(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=w1(),d=y1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const w=a.join("");Se(Fn,`Creating RPC '${e}' stream ${o}: ${w}`,m);const I=u.createWebChannel(w,m);this.T_(I);let S=!1,b=!1;const O=new DM({Ho:M=>{b?Se(Fn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(S||(Se(Fn,`Opening RPC '${e}' stream ${o} transport.`),I.open(),S=!0),Se(Fn,`RPC '${e}' stream ${o} sending:`,M),I.send(M))},Yo:()=>I.close()}),N=(M,j,Q)=>{M.listen(j,te=>{try{Q(te)}catch(oe){setTimeout(()=>{throw oe},0)}})};return N(I,Ic.EventType.OPEN,()=>{b||(Se(Fn,`RPC '${e}' stream ${o} transport opened.`),O.s_())}),N(I,Ic.EventType.CLOSE,()=>{b||(b=!0,Se(Fn,`RPC '${e}' stream ${o} transport closed`),O.__(),this.I_(I))}),N(I,Ic.EventType.ERROR,M=>{b||(b=!0,wa(Fn,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),O.__(new we(le.UNAVAILABLE,"The operation could not be completed")))}),N(I,Ic.EventType.MESSAGE,M=>{var j;if(!b){const Q=M.data[0];mt(!!Q,16349);const te=Q,oe=te?.error||((j=te[0])===null||j===void 0?void 0:j.error);if(oe){Se(Fn,`RPC '${e}' stream ${o} received error:`,oe);const me=oe.status;let Ce=function(F){const q=sn[F];if(q!==void 0)return nS(q)}(me),H=oe.message;Ce===void 0&&(Ce=le.INTERNAL,H="Unknown error status: "+me+" with message "+oe.message),b=!0,O.__(new we(Ce,H)),I.close()}else Se(Fn,`RPC '${e}' stream ${o} received:`,Q),O.a_(Q)}}),N(d,v1.STAT_EVENT,M=>{M.stat===hg.PROXY?Se(Fn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===hg.NOPROXY&&Se(Fn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n){return new zO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="PersistentStream";class _S{constructor(e,t,r,o,a,u,d,m){this.Fi=e,this.w_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new gS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(oo(t.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===t&&this.W_(r,o)},r=>{e(()=>{const o=new we(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Se(Q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Se(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FM extends _S{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=qO(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?es(u.readTime):$e.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Tg(this.serializer),t.addTarget=function(a,u){let d;const m=u.target;if(d=gg(m)?{documents:GO(a,m)}:{query:ZO(a,m).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=sS(a,u.resumeToken);const _=yg(a,u.expectedCount);_!==null&&(d.expectedCount=_)}else if(u.snapshotVersion.compareTo($e.min())>0){d.readTime=cf(a,u.snapshotVersion.toTimestamp());const _=yg(a,u.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const r=YO(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Tg(this.serializer),t.removeTarget=e,this.k_(t)}}class jM extends _S{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=$O(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Tg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>WO(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{}class zM extends UM{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new we(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Wo(e,wg(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(le.UNKNOWN,a.toString())})}Jo(e,t,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Jo(e,wg(t,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(le.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class BM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(oo(t),this._a=!1):Se("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="RemoteStore";class HM{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(u=>{r.enqueueAndForget(async()=>{Ll(this)&&(Se(Sl,"Restarting streams for network reachability change."),await async function(m){const _=Ge(m);_.Ia.add(4),await hh(_),_.Aa.set("Unknown"),_.Ia.delete(4),await qf(_)}(this))})}),this.Aa=new BM(r,o)}}async function qf(n){if(Ll(n))for(const e of n.da)await e(!0)}async function hh(n){for(const e of n.da)await e(!1)}function vS(n,e){const t=Ge(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),$_(t)?W_(t):Uu(t).x_()&&q_(t,e))}function H_(n,e){const t=Ge(n),r=Uu(t);t.Ta.delete(e),r.x_()&&yS(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ll(t)&&t.Aa.set("Unknown"))}function q_(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uu(n).H_(e)}function yS(n,e){n.Ra.$e(e),Uu(n).Y_(e)}function W_(n){n.Ra=new VO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Uu(n).start(),n.Aa.aa()}function $_(n){return Ll(n)&&!Uu(n).M_()&&n.Ta.size>0}function Ll(n){return Ge(n).Ia.size===0}function wS(n){n.Ra=void 0}async function qM(n){n.Aa.set("Online")}async function WM(n){n.Ta.forEach((e,t)=>{q_(n,e)})}async function $M(n,e){wS(n),$_(n)?(n.Aa.la(e),W_(n)):n.Aa.set("Unknown")}async function GM(n,e,t){if(n.Aa.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ta.delete(d),o.Ra.removeTarget(d))}(n,e)}catch(r){Se(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await df(n,r)}else if(e instanceof zd?n.Ra.Ye(e):e instanceof rS?n.Ra.it(e):n.Ra.et(e),!t.isEqual($e.min()))try{const r=await mS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const w=a.Ta.get(_);w&&a.Ta.set(_,w.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,_)=>{const w=a.Ta.get(m);if(!w)return;a.Ta.set(m,w.withResumeToken(An.EMPTY_BYTE_STRING,w.snapshotVersion)),yS(a,m);const I=new pa(w.target,m,_,w.sequenceNumber);q_(a,I)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Se(Sl,"Failed to raise snapshot:",r),await df(n,r)}}async function df(n,e,t){if(!Fu(e))throw e;n.Ia.add(1),await hh(n),n.Aa.set("Offline"),t||(t=()=>mS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(Sl,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await qf(n)})}function ES(n,e){return e().catch(t=>df(n,t,e))}async function Wf(n){const e=Ge(n),t=Ca(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:b_;for(;ZM(e);)try{const o=await bM(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,KM(e,o)}catch(o){await df(e,o)}TS(e)&&IS(e)}function ZM(n){return Ll(n)&&n.Pa.length<10}function KM(n,e){n.Pa.push(e);const t=Ca(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function TS(n){return Ll(n)&&!Ca(n).M_()&&n.Pa.length>0}function IS(n){Ca(n).start()}async function YM(n){Ca(n).na()}async function QM(n){const e=Ca(n);for(const t of n.Pa)e.X_(t.mutations)}async function XM(n,e,t){const r=n.Pa.shift(),o=D_.from(r,e,t);await ES(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Wf(n)}async function JM(n,e){e&&Ca(n).Z_&&await async function(r,o){if(function(u){return MO(u)&&u!==le.ABORTED}(o.code)){const a=r.Pa.shift();Ca(r).N_(),await ES(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Wf(r)}}(n,e),TS(n)&&IS(n)}async function X0(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Se(Sl,"RemoteStore received new credentials");const r=Ll(t);t.Ia.add(3),await hh(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await qf(t)}async function eD(n,e){const t=Ge(n);e?(t.Ia.delete(2),await qf(t)):e||(t.Ia.add(2),await hh(t),t.Aa.set("Unknown"))}function Uu(n){return n.Va||(n.Va=function(t,r,o){const a=Ge(t);return a.ia(),new FM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Zo:qM.bind(null,n),e_:WM.bind(null,n),n_:$M.bind(null,n),J_:GM.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),$_(n)?W_(n):n.Aa.set("Unknown")):(await n.Va.stop(),wS(n))})),n.Va}function Ca(n){return n.ma||(n.ma=function(t,r,o){const a=Ge(t);return a.ia(),new jM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:YM.bind(null,n),n_:JM.bind(null,n),ea:QM.bind(null,n),ta:XM.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Wf(n)):(await n.ma.stop(),n.Pa.length>0&&(Se(Sl,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new G_(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(n,e){if(oo("AsyncQueue",`${e}: ${n}`),Fu(n))return new we(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{static emptySet(e){return new Tu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Sc(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.fa=new Ut(De.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Be(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lu{constructor(e,t,r,o,a,u,d,m,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Lu(e,t,Tu.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class nD{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=Ge(t),a=o.queries;o.queries=eE(),a.forEach((u,d)=>{for(const m of d.wa)m.onError(r)})})(this,new we(le.ABORTED,"Firestore shutting down"))}}function eE(){return new Rl(n=>H1(n),Ff)}async function K_(n,e){const t=Ge(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(r=2):(a=new tD,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Z_(u,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&Q_(t)}async function Y_(n,e){const t=Ge(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function rD(n,e){const t=Ge(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.wa)d.Ca(o)&&(r=!0);u.ya=o}}r&&Q_(t)}function iD(n,e,t){const r=Ge(n),o=r.queries.get(e);if(o)for(const a of o.wa)a.onError(t);r.queries.delete(e)}function Q_(n){n.Da.forEach(e=>{e.next()})}var Cg,tE;(tE=Cg||(Cg={})).Fa="default",tE.Cache="cache";class X_{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Lu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.key=e}}class CS{constructor(e){this.key=e}}class sD{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=it(),this.mutatedKeys=it(),this.Xa=q1(e),this.eu=new Tu(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new J0,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,I)=>{const S=o.get(w),b=jf(this.query,I)?I:null,O=!!S&&this.mutatedKeys.has(S.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;S&&b?S.data.isEqual(b.data)?O!==N&&(r.track({type:3,doc:b}),M=!0):this.iu(S,b)||(r.track({type:2,doc:b}),M=!0,(m&&this.Xa(b,m)>0||_&&this.Xa(b,_)<0)&&(d=!0)):!S&&b?(r.track({type:0,doc:b}),M=!0):S&&!b&&(r.track({type:1,doc:S}),M=!0,(m||_)&&(d=!0)),M&&(b?(u=u.add(b),a=N?a.add(w):a.delete(w)):(u=u.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{eu:u,ru:r,Ds:d,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((w,I)=>function(b,O){const N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{At:M})}};return N(b)-N(O)}(w.type,I.type)||this.Xa(w.doc,I.doc)),this.su(r),o=o!=null&&o;const d=t&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,_=m!==this.Ya;return this.Ya=m,u.length!==0||_?{snapshot:new Lu(this.query,e.eu,a,u,e.mutatedKeys,m===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new J0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=it(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new CS(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new SS(r))}),t}uu(e){this.Ha=e.qs,this.Za=it();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Lu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const J_="SyncEngine";class oD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aD{constructor(e){this.key=e,this.lu=!1}}class lD{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Rl(d=>H1(d),Ff),this.Tu=new Map,this.Iu=new Set,this.du=new Ut(De.comparator),this.Eu=new Map,this.Au=new j_,this.Ru={},this.Vu=new Map,this.mu=Ru.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function uD(n,e,t=!0){const r=RS(n);let o;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await xS(r,e,t,!0),o}async function cD(n,e){const t=RS(n);await xS(t,e,!0,!1)}async function xS(n,e,t,r){const o=await kM(n.localStore,Ji(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await hD(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&vS(n.remoteStore,o),d}async function hD(n,e,t,r,o){n.gu=(I,S,b)=>async function(N,M,j,Q){let te=M.view.nu(j);te.Ds&&(te=await G0(N.localStore,M.query,!1).then(({documents:H})=>M.view.nu(H,te)));const oe=Q&&Q.targetChanges.get(M.targetId),me=Q&&Q.targetMismatches.get(M.targetId)!=null,Ce=M.view.applyChanges(te,N.isPrimaryClient,oe,me);return rE(N,M.targetId,Ce._u),Ce.snapshot}(n,I,S,b);const a=await G0(n.localStore,e,!0),u=new sD(e,a.qs),d=u.nu(a.documents),m=ch.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),_=u.applyChanges(d,n.isPrimaryClient,m);rE(n,t,_._u);const w=new oD(e,t,u);return n.Pu.set(e,w),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),_.snapshot}async function dD(n,e,t){const r=Ge(n),o=r.Pu.get(e),a=r.Tu.get(o.targetId);if(a.length>1)return r.Tu.set(o.targetId,a.filter(u=>!Ff(u,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ig(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&H_(r.remoteStore,o.targetId),xg(r,o.targetId)}).catch(Vu)):(xg(r,o.targetId),await Ig(r.localStore,o.targetId,!0))}async function fD(n,e){const t=Ge(n),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),H_(t.remoteStore,r.targetId))}async function pD(n,e,t){const r=ED(n);try{const o=await function(u,d){const m=Ge(u),_=kt.now(),w=d.reduce((b,O)=>b.add(O.key),it());let I,S;return m.persistence.runTransaction("Locally write mutations","readwrite",b=>{let O=ao(),N=it();return m.Os.getEntries(b,w).next(M=>{O=M,O.forEach((j,Q)=>{Q.isValidDocument()||(N=N.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(b,O)).next(M=>{I=M;const j=[];for(const Q of d){const te=kO(Q,I.get(Q.key).overlayedDocument);te!=null&&j.push(new Ma(Q.key,te,M1(te.value.mapValue),si.exists(!0)))}return m.mutationQueue.addMutationBatch(b,_,j,d)}).next(M=>{S=M;const j=M.applyToLocalDocumentSet(I,N);return m.documentOverlayCache.saveOverlays(b,M.batchId,j)})}).then(()=>({batchId:S.batchId,changes:$1(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let _=u.Ru[u.currentUser.toKey()];_||(_=new Ut(Je)),_=_.insert(d,m),u.Ru[u.currentUser.toKey()]=_}(r,o.batchId,t),await dh(r,o.changes),await Wf(r.remoteStore)}catch(o){const a=Z_(o,"Failed to persist write");t.reject(a)}}async function AS(n,e){const t=Ge(n);try{const r=await AM(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Eu.get(a);u&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.lu=!0:o.modifiedDocuments.size>0?mt(u.lu,14607):o.removedDocuments.size>0&&(mt(u.lu,42227),u.lu=!1))}),await dh(t,r,e)}catch(r){await Vu(r)}}function nE(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const m=Ge(u);m.onlineState=d;let _=!1;m.queries.forEach((w,I)=>{for(const S of I.wa)S.va(d)&&(_=!0)}),_&&Q_(m)}(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mD(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),a=o&&o.key;if(a){let u=new Ut(De.comparator);u=u.insert(a,zn.newNoDocument(a,$e.min()));const d=it().add(a),m=new Bf($e.min(),new Map,new Ut(Je),u,d);await AS(r,m),r.du=r.du.remove(a),r.Eu.delete(e),ev(r)}else await Ig(r.localStore,e,!1).then(()=>xg(r,e,t)).catch(Vu)}async function gD(n,e){const t=Ge(n),r=e.batch.batchId;try{const o=await xM(t.localStore,e);bS(t,r,null),PS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await dh(t,o)}catch(o){await Vu(o)}}async function _D(n,e,t){const r=Ge(n);try{const o=await function(u,d){const m=Ge(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return m.mutationQueue.lookupMutationBatch(_,d).next(I=>(mt(I!==null,37113),w=I.keys(),m.mutationQueue.removeMutationBatch(_,I))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>m.localDocuments.getDocuments(_,w))})}(r.localStore,e);bS(r,e,t),PS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await dh(r,o)}catch(o){await Vu(o)}}function PS(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function bS(n,e,t){const r=Ge(n);let o=r.Ru[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function xg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||kS(n,r)})}function kS(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(H_(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ev(n))}function rE(n,e,t){for(const r of t)r instanceof SS?(n.Au.addReference(r.key,e),vD(n,r)):r instanceof CS?(Se(J_,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||kS(n,r.key)):Be(19791,{yu:r})}function vD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Se(J_,"New document in limbo: "+t),n.Iu.add(r),ev(n))}function ev(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new De(bt.fromString(e)),r=n.mu.next();n.Eu.set(r,new aD(t)),n.du=n.du.insert(t,r),vS(n.remoteStore,new pa(Ji(Vf(t.path)),r,"TargetPurposeLimboResolution",Of.ue))}}async function dh(n,e,t){const r=Ge(n),o=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach((d,m)=>{u.push(r.gu(m,e,t).then(_=>{var w;if((_||t)&&r.isPrimaryClient){const I=_?!_.fromCache:(w=t?.targetChanges.get(m.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(m.targetId,I?"current":"not-current")}if(_){o.push(_);const I=z_.Es(m.targetId,_);a.push(I)}}))}),await Promise.all(u),r.hu.J_(o),await async function(m,_){const w=Ge(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ce.forEach(_,S=>ce.forEach(S.Is,b=>w.persistence.referenceDelegate.addReference(I,S.targetId,b)).next(()=>ce.forEach(S.ds,b=>w.persistence.referenceDelegate.removeReference(I,S.targetId,b)))))}catch(I){if(!Fu(I))throw I;Se(B_,"Failed to update sequence numbers: "+I)}for(const I of _){const S=I.targetId;if(!I.fromCache){const b=w.Fs.get(S),O=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(O);w.Fs=w.Fs.insert(S,N)}}}(r.localStore,a))}async function yD(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Se(J_,"User change. New user:",e.toKey());const r=await pS(t.localStore,e);t.currentUser=e,function(a,u){a.Vu.forEach(d=>{d.forEach(m=>{m.reject(new we(le.CANCELLED,u))})}),a.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dh(t,r.Bs)}}function wD(n,e){const t=Ge(n),r=t.Eu.get(e);if(r&&r.lu)return it().add(r.key);{let o=it();const a=t.Tu.get(e);if(!a)return o;for(const u of a){const d=t.Pu.get(u);o=o.unionWith(d.view.tu)}return o}}function RS(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mD.bind(null,e),e.hu.J_=rD.bind(null,e.eventManager),e.hu.pu=iD.bind(null,e.eventManager),e}function ED(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_D.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return CM(this.persistence,new TM,e.initialUser,this.serializer)}Du(e){return new fS(U_.Vi,this.serializer)}bu(e){return new LM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class TD extends ff{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){mt(this.persistence.referenceDelegate instanceof hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aM(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new fS(r=>hf.Vi(r,t),this.serializer)}}class Ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),await eD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nD}()}createDatastore(e){const t=Hf(e.databaseInfo.databaseId),r=function(a){return new VM(a)}(e.databaseInfo);return function(a,u,d,m){return new zM(a,u,d,m)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,d){return new HM(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>nE(this.syncEngine,t,0),function(){return Y0.C()?new Y0:new NM}())}createSyncEngine(e,t){return function(o,a,u,d,m,_,w){const I=new lD(o,a,u,d,m,_);return w&&(I.fu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ge(o);Se(Sl,"RemoteStore shutting down."),a.Ia.add(5),await hh(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):oo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class ID{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=jn.UNAUTHENTICATED,this.clientId=P_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Se(xa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Se(xa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Z_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zm(n,e){n.asyncQueue.verifyOperationInProgress(),Se(xa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await pS(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>{wa("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Se("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{wa("Terminating Firestore due to IndexedDb database deletion failed",o)})}),n._offlineComponents=e}async function iE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await SD(n);Se(xa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>X0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>X0(e.remoteStore,o)),n._onlineComponents=e}async function SD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(xa,"Using user provided OfflineComponentProvider");try{await zm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;wa("Error using user provided cache. Falling back to memory cache: "+t),await zm(n,new ff)}}else Se(xa,"Using default OfflineComponentProvider"),await zm(n,new TD(void 0));return n._offlineComponents}async function LS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(xa,"Using user provided OnlineComponentProvider"),await iE(n,n._uninitializedComponentsProvider._online)):(Se(xa,"Using default OnlineComponentProvider"),await iE(n,new Ag))),n._onlineComponents}function CD(n){return LS(n).then(e=>e.syncEngine)}async function pf(n){const e=await LS(n),t=e.eventManager;return t.onListen=uD.bind(null,e.syncEngine),t.onUnlisten=dD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fD.bind(null,e.syncEngine),t}function xD(n,e,t={}){const r=new to;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,m,_){const w=new tv({next:S=>{w.Ou(),u.enqueueAndForget(()=>Y_(a,I));const b=S.docs.has(d);!b&&S.fromCache?_.reject(new we(le.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&S.fromCache&&m&&m.source==="server"?_.reject(new we(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new X_(Vf(d.path),w,{includeMetadataChanges:!0,ka:!0});return K_(a,I)}(await pf(n),n.asyncQueue,e,t,r)),r.promise}function AD(n,e,t={}){const r=new to;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,m,_){const w=new tv({next:S=>{w.Ou(),u.enqueueAndForget(()=>Y_(a,I)),S.fromCache&&m.source==="server"?_.reject(new we(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),I=new X_(d,w,{includeMetadataChanges:!0,ka:!0});return K_(a,I)}(await pf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firestore.googleapis.com",oE=!0;class aE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OS,this.ssl=oE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sM)throw new we(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MN;switch(r.type){case"firstParty":return new jN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=sE.get(t);r&&(Se("ComponentProvider","Removing Datastore"),sE.delete(t),r.terminate())}(this),Promise.resolve()}}function PD(n,e,t,r={}){var o;n=Er(n,$f);const a=Ra(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;a&&(r_(`https://${m}`),i_("Firestore",!0)),u.host!==OS&&u.host!==m&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},u),{host:m,ssl:a,emulatorOptions:r});if(!ro(_,d)&&(n._setSettings(_),r.mockUserToken)){let w,I;if(typeof r.mockUserToken=="string")w=r.mockUserToken,I=jn.MOCK_USER;else{w=CT(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new we(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new jn(S)}n._authCredentials=new DN(new T1(w,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class Gt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(lh(t,Gt._jsonSchema))return new Gt(e,r||null,new De(bt.fromString(t.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:an("string",Gt._jsonSchemaVersion),referencePath:an("string")};class va extends Da{constructor(e,t,r){super(e,t,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new De(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function ai(n,e,...t){if(n=Tt(n),S1("collection","path",e),n instanceof $f){const r=bt.fromString(e,...t);return w0(r),new va(n,null,r)}{if(!(n instanceof Gt||n instanceof va))throw new we(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return w0(r),new va(n.firestore,null,r)}}function Bn(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=P_.newId()),S1("doc","path",e),n instanceof $f){const r=bt.fromString(e,...t);return y0(r),new Gt(n,null,new De(r))}{if(!(n instanceof Gt||n instanceof va))throw new we(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return y0(r),new Gt(n.firestore,n instanceof va?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new gS(this,"async_queue_retry"),this.oc=()=>{const r=Um();r&&Se(lE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new to;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Fu(e))throw e;Se(lE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,oo("INTERNAL UNHANDLED ERROR: ",cE(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=G_.createAndSchedule(this,e,t,r,a=>this.lc(a));return this.ec.push(o),o}ac(){this.tc&&Be(47125,{hc:cE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function cE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class lo extends $f{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new uE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function bD(n,e){const t=typeof n=="object"?n:Sf(),r=typeof n=="string"?n:of,o=La(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=TT("firestore");a&&PD(o,...a)}return o}function Gf(n){if(n._terminated)throw new we(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kD(n),n._firestoreClient}function kD(n){var e,t,r;const o=n._freezeSettings(),a=function(d,m,_,w){return new tO(d,m,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,NS(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new ID(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const m=d?._online.build();return{_offline:d?._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(An.fromBase64String(e))}catch(t){throw new we(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ii(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lh(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:an("string",ii._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(lh(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:an("string",ts._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lh(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ns(e.vectorValues);throw new we(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:an("string",ns._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^__.*__$/;class LD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new uh(e,this.data,t,this.fieldTransforms)}}class MS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ec:n})}}class Kf{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return mf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(DS(this.Ec)&&RD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class ND{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hf(e)}Dc(e,t,r,o=!1){return new Kf({Ec:e,methodName:t,bc:r,path:xn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yf(n){const e=n._freezeSettings(),t=Hf(n._databaseId);return new ND(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VS(n,e,t,r,o,a={}){const u=n.Dc(a.merge||a.mergeFields?2:0,e,t,o);iv("Data must be an object, but it was:",u,r);const d=FS(r,u);let m,_;if(a.merge)m=new Vr(u.fieldMask),_=u.fieldTransforms;else if(a.mergeFields){const w=[];for(const I of a.mergeFields){const S=Pg(e,I,t);if(!u.contains(S))throw new we(le.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);US(w,S)||w.push(S)}m=new Vr(w),_=u.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,_=u.fieldTransforms;return new LD(new vr(d),m,_)}class Qf extends fh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function OD(n,e,t){return new Kf({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nv extends fh{_toFieldTransform(e){return new J1(e.path,new Zc)}isEqual(e){return e instanceof nv}}class rv extends fh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=OD(this,e,!0),r=this.vc.map(a=>zu(a,t)),o=new ku(r);return new J1(e.path,o)}isEqual(e){return e instanceof rv&&ro(this.vc,e.vc)}}function MD(n,e,t,r){const o=n.Dc(1,e,t);iv("Data must be an object, but it was:",o,r);const a=[],u=vr.empty();Oa(r,(m,_)=>{const w=sv(e,m,t);_=Tt(_);const I=o.gc(w);if(_ instanceof Qf)a.push(w);else{const S=zu(_,I);S!=null&&(a.push(w),u.set(w,S))}});const d=new Vr(a);return new MS(u,d,o.fieldTransforms)}function DD(n,e,t,r,o,a){const u=n.Dc(1,e,t),d=[Pg(e,r,t)],m=[o];if(a.length%2!=0)throw new we(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)d.push(Pg(e,a[S])),m.push(a[S+1]);const _=[],w=vr.empty();for(let S=d.length-1;S>=0;--S)if(!US(_,d[S])){const b=d[S];let O=m[S];O=Tt(O);const N=u.gc(b);if(O instanceof Qf)_.push(b);else{const M=zu(O,N);M!=null&&(_.push(b),w.set(b,M))}}const I=new Vr(_);return new MS(w,I,u.fieldTransforms)}function VD(n,e,t,r=!1){return zu(t,n.Dc(r?4:3,e))}function zu(n,e){if(jS(n=Tt(n)))return iv("Unsupported field value:",e,n),FS(n,e);if(n instanceof fh)return function(r,o){if(!DS(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let m=zu(d,o.yc(u));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kt.fromDate(r);return{timestampValue:cf(o.serializer,a)}}if(r instanceof kt){const a=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cf(o.serializer,a)}}if(r instanceof ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:sS(o.serializer,r._byteString)};if(r instanceof Gt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:F_(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ns)return function(u,d){return{mapValue:{fields:{[N1]:{stringValue:O1},[af]:{arrayValue:{values:u.toArray().map(_=>{if(typeof _!="number")throw d.wc("VectorValues must only contain numeric values.");return O_(d.serializer,_)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${Nf(r)}`)}(n,e)}function FS(n,e){const t={};return A1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(n,(r,o)=>{const a=zu(o,e.Vc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function jS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof ts||n instanceof ii||n instanceof Gt||n instanceof fh||n instanceof ns)}function iv(n,e,t){if(!jS(t)||!C1(t)){const r=Nf(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Pg(n,e,t){if((e=Tt(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return sv(n,e);throw mf("Field path arguments must be of type string or ",n,!1,void 0,t)}const FD=new RegExp("[~\\*/\\[\\]]");function sv(n,e,t){if(e.search(FD)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zf(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mf(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${o}`),m+=")"),new we(le.INVALID_ARGUMENT,d+n+m)}function US(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jD extends zS{data(){return super.data()}}function Xf(n,e){return typeof e=="string"?sv(n,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class HS extends ov{}function Jf(n,e,...t){let r=[];e instanceof ov&&r.push(e),r=r.concat(t),function(a){const u=a.filter(m=>m instanceof av).length,d=a.filter(m=>m instanceof ep).length;if(u>1||u>0&&d>0)throw new we(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class ep extends HS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ep(e,t,r)}_apply(e){const t=this._parse(e);return qS(e._query,t),new Da(e.firestore,e.converter,_g(e._query,t))}_parse(e){const t=Yf(e.firestore);return function(a,u,d,m,_,w,I){let S;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new we(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){fE(I,w);const O=[];for(const N of I)O.push(dE(m,a,N));S={arrayValue:{values:O}}}else S=dE(m,a,I)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||fE(I,w),S=VD(d,u,I,w==="in"||w==="not-in");return on.create(_,w,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function UD(n,e,t){const r=e,o=Xf("where",n);return ep._create(o,r,t)}class av extends ov{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new av(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const d=a.getFlattenedFilters();for(const m of d)qS(u,m),u=_g(u,m)}(e._query,t),new Da(e.firestore,e.converter,_g(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lv extends HS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lv(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new we(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new we(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(a,u)}(e._query,this._field,this._direction);return new Da(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new ju(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function uv(n,e="asc"){const t=e,r=Xf("orderBy",n);return lv._create(r,t)}function dE(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new we(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B1(e)&&t.indexOf("/")!==-1)throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bt.fromString(t));if(!De.isDocumentKey(r))throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return P0(n,new De(r))}if(t instanceof Gt)return P0(n,t._key);throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(t)}.`)}function fE(n,e){if(!Array.isArray(n)||n.length===0)throw new we(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qS(n,e){const t=function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zD{convertValue(e,t="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Oa(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[af].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Xt(u.doubleValue));return new ns(a)}convertGeoPoint(e){return new ts(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Df(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Ta(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bt.fromString(e);mt(hS(r),9688,{name:e});const o=new Wc(r.get(1),r.get(3)),a=new De(r.popFirst(5));return o.isEqual(t)||oo(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _l extends zS{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_l._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_l._jsonSchemaVersion="firestore/documentSnapshot/1.0",_l._jsonSchema={type:an("string",_l._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Bd extends _l{data(e={}){return super.data(e)}}class vl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new xc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bd(this._firestore,this._userDataWriter,r.key,r,new xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const m=new Bd(o._firestore,o._userDataWriter,d.doc.key,d.doc,new xc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const m=new Bd(o._firestore,o._userDataWriter,d.doc.key,d.doc,new xc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return d.type!==0&&(_=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:BD(d.type),doc:m,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=P_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(n){n=Er(n,Gt);const e=Er(n.firestore,lo);return xD(Gf(e),n._key).then(t=>ZS(e,n,t))}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:an("string",vl._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class cv extends zD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function ph(n){n=Er(n,Da);const e=Er(n.firestore,lo),t=Gf(e),r=new cv(e);return BS(n._query),AD(t,n._query).then(o=>new vl(e,r,n,o))}function HD(n,e,t){n=Er(n,Gt);const r=Er(n.firestore,lo),o=WS(n.converter,e);return tp(r,[VS(Yf(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,si.none())])}function Fc(n,e,t,...r){n=Er(n,Gt);const o=Er(n.firestore,lo),a=Yf(o);let u;return u=typeof(e=Tt(e))=="string"||e instanceof Zf?DD(a,"updateDoc",n._key,e,t,r):MD(a,"updateDoc",n._key,e),tp(o,[u.toMutation(n._key,si.exists(!0))])}function $S(n){return tp(Er(n.firestore,lo),[new M_(n._key,si.none())])}function mh(n,e){const t=Er(n.firestore,lo),r=Bn(n),o=WS(n.converter,e);return tp(t,[VS(Yf(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then(()=>r)}function GS(n,...e){var t,r,o;n=Tt(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||hE(e[u])||(a=e[u++]);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(hE(e[u])){const I=e[u];e[u]=(t=I.next)===null||t===void 0?void 0:t.bind(I),e[u+1]=(r=I.error)===null||r===void 0?void 0:r.bind(I),e[u+2]=(o=I.complete)===null||o===void 0?void 0:o.bind(I)}let m,_,w;if(n instanceof Gt)_=Er(n.firestore,lo),w=Vf(n._key.path),m={next:I=>{e[u]&&e[u](ZS(_,n,I))},error:e[u+1],complete:e[u+2]};else{const I=Er(n,Da);_=Er(I.firestore,lo),w=I._query;const S=new cv(_);m={next:b=>{e[u]&&e[u](new vl(_,S,I,b))},error:e[u+1],complete:e[u+2]},BS(n._query)}return function(S,b,O,N){const M=new tv(N),j=new X_(b,M,O);return S.asyncQueue.enqueueAndForget(async()=>K_(await pf(S),j)),()=>{M.Ou(),S.asyncQueue.enqueueAndForget(async()=>Y_(await pf(S),j))}}(Gf(_),w,d,m)}function tp(n,e){return function(r,o){const a=new to;return r.asyncQueue.enqueueAndForget(async()=>pD(await CD(r),o,a)),a.promise}(Gf(n),e)}function ZS(n,e,t){const r=t.docs.get(e._key),o=new cv(n);return new _l(n,o,e._key,r,new xc(t.hasPendingWrites,t.fromCache),e.converter)}function gh(){return new nv("serverTimestamp")}function qD(...n){return new rv("arrayUnion",n)}(function(e,t=!0){(function(o){Du=o})(bl),xi(new oi("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new lo(new VN(r.getProvider("auth-internal")),new UN(u,r.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new we(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(_.options.projectId,w)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),yr(p0,m0,e),yr(p0,m0,"esm2017")})();const WD={apiKey:"AIzaSyD1W2T5HphtC6jac2AIqnKaOCp5XKFWO34",authDomain:"webturismo-9e4b1.firebaseapp.com",projectId:"webturismo-9e4b1",storageBucket:"webturismo-9e4b1.firebasestorage.app",messagingSenderId:"406238504556",appId:"1:406238504556:web:0187e7d200783d75765a49",measurementId:"G-18F1W0TXNN"},np=LT(WD),Ct=bD(np),Aa=m_(np),pE=d2(np);RN(np);const $D=()=>{const[n,e]=B.useState([]),t=["Montaña","Histórica","Playa"];return B.useEffect(()=>{(async()=>{try{const a=(await ph(ai(Ct,"Rutas"))).docs.map(u=>({id:u.id,...u.data()}));e(a)}catch(o){console.error("❌ Error al cargar rutas desde Firebase:",o)}})()},[]),A.jsx("div",{className:"pantalla-completa",children:A.jsxs("div",{className:"vertical-layout",children:[A.jsx("h1",{children:"Explora Rutas en Tarragona"}),t.map(r=>{const o=n.filter(a=>a.tipo===r).slice(0,3);return o.length===0?null:A.jsxs("section",{children:[A.jsx("h2",{children:r}),A.jsx("div",{className:"rutas-diagonales",children:o.map(a=>A.jsxs(St,{to:`/rutas/${a.id}`,className:"tarjeta-diagonal",style:{textDecoration:"none",color:"inherit"},children:[A.jsx("img",{src:a.imagen,alt:a.nombre,style:{cursor:"pointer"}}),A.jsxs("div",{className:"contenido",children:[A.jsx("h2",{children:a.nombre}),A.jsxs("p",{children:[A.jsx("strong",{children:"Tipo:"})," ",a.tipo]}),A.jsx("p",{children:A.jsx("strong",{children:"Incluye:"})}),A.jsx("ul",{children:a.contenido?.map((u,d)=>A.jsx("li",{children:u},d))})]})]},a.id))})]},r)})]})})};var Ac={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var GD=Ac.exports,mE;function KS(){return mE||(mE=1,function(n,e){(function(t,r){r(e)})(GD,function(t){var r="1.9.4";function o(s){var c,p,v,C;for(p=1,v=arguments.length;p<v;p++){C=arguments[p];for(c in C)s[c]=C[c]}return s}var a=Object.create||function(){function s(){}return function(c){return s.prototype=c,new s}}();function u(s,c){var p=Array.prototype.slice;if(s.bind)return s.bind.apply(s,p.call(arguments,1));var v=p.call(arguments,2);return function(){return s.apply(c,v.length?v.concat(p.call(arguments)):arguments)}}var d=0;function m(s){return"_leaflet_id"in s||(s._leaflet_id=++d),s._leaflet_id}function _(s,c,p){var v,C,k,z;return z=function(){v=!1,C&&(k.apply(p,C),C=!1)},k=function(){v?C=arguments:(s.apply(p,arguments),setTimeout(z,c),v=!0)},k}function w(s,c,p){var v=c[1],C=c[0],k=v-C;return s===v&&p?s:((s-C)%k+k)%k+C}function I(){return!1}function S(s,c){if(c===!1)return s;var p=Math.pow(10,c===void 0?6:c);return Math.round(s*p)/p}function b(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function O(s){return b(s).split(/\s+/)}function N(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?a(s.options):{});for(var p in c)s.options[p]=c[p];return s.options}function M(s,c,p){var v=[];for(var C in s)v.push(encodeURIComponent(p?C.toUpperCase():C)+"="+encodeURIComponent(s[C]));return(!c||c.indexOf("?")===-1?"?":"&")+v.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function Q(s,c){return s.replace(j,function(p,v){var C=c[v];if(C===void 0)throw new Error("No value provided for variable "+p);return typeof C=="function"&&(C=C(c)),C})}var te=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function oe(s,c){for(var p=0;p<s.length;p++)if(s[p]===c)return p;return-1}var me="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ce(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var H=0;function D(s){var c=+new Date,p=Math.max(0,16-(c-H));return H=c+p,window.setTimeout(s,p)}var F=window.requestAnimationFrame||Ce("RequestAnimationFrame")||D,q=window.cancelAnimationFrame||Ce("CancelAnimationFrame")||Ce("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function $(s,c,p){if(p&&F===D)s.call(c);else return F.call(window,u(s,c))}function K(s){s&&q.call(window,s)}var U={__proto__:null,extend:o,create:a,bind:u,get lastId(){return d},stamp:m,throttle:_,wrapNum:w,falseFn:I,formatNum:S,trim:b,splitWords:O,setOptions:N,getParamString:M,template:Q,isArray:te,indexOf:oe,emptyImageUrl:me,requestFn:F,cancelFn:q,requestAnimFrame:$,cancelAnimFrame:K};function ut(){}ut.extend=function(s){var c=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,v=a(p);v.constructor=c,c.prototype=v;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(c[C]=this[C]);return s.statics&&o(c,s.statics),s.includes&&(fn(s.includes),o.apply(null,[v].concat(s.includes))),o(v,s),delete v.statics,delete v.includes,v.options&&(v.options=p.options?a(p.options):{},o(v.options,s.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,z=v._initHooks.length;k<z;k++)v._initHooks[k].call(this)}},c},ut.include=function(s){var c=this.prototype.options;return o(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},ut.mergeOptions=function(s){return o(this.prototype.options,s),this},ut.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),p=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function fn(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=te(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ht={on:function(s,c,p){if(typeof s=="object")for(var v in s)this._on(v,s[v],c);else{s=O(s);for(var C=0,k=s.length;C<k;C++)this._on(s[C],c,p)}return this},off:function(s,c,p){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var v in s)this._off(v,s[v],c);else{s=O(s);for(var C=arguments.length===1,k=0,z=s.length;k<z;k++)C?this._off(s[k]):this._off(s[k],c,p)}return this},_on:function(s,c,p,v){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,p)===!1){p===this&&(p=void 0);var C={fn:c,ctx:p};v&&(C.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(C)}},_off:function(s,c,p){var v,C,k;if(this._events&&(v=this._events[s],!!v)){if(arguments.length===1){if(this._firingCount)for(C=0,k=v.length;C<k;C++)v[C].fn=I;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var z=this._listens(s,c,p);if(z!==!1){var X=v[z];this._firingCount&&(X.fn=I,this._events[s]=v=v.slice()),v.splice(z,1)}}},fire:function(s,c,p){if(!this.listens(s,p))return this;var v=o({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var C=this._events[s];if(C){this._firingCount=this._firingCount+1||1;for(var k=0,z=C.length;k<z;k++){var X=C[k],ne=X.fn;X.once&&this.off(s,ne,X.ctx),ne.call(X.ctx||this,v)}this._firingCount--}}return p&&this._propagateEvent(v),this},listens:function(s,c,p,v){typeof s!="string"&&console.warn('"string" type argument expected');var C=c;typeof c!="function"&&(v=!!c,C=void 0,p=void 0);var k=this._events&&this._events[s];if(k&&k.length&&this._listens(s,C,p)!==!1)return!0;if(v){for(var z in this._eventParents)if(this._eventParents[z].listens(s,c,p,v))return!0}return!1},_listens:function(s,c,p){if(!this._events)return!1;var v=this._events[s]||[];if(!c)return!!v.length;p===this&&(p=void 0);for(var C=0,k=v.length;C<k;C++)if(v[C].fn===c&&v[C].ctx===p)return C;return!1},once:function(s,c,p){if(typeof s=="object")for(var v in s)this._on(v,s[v],c,!0);else{s=O(s);for(var C=0,k=s.length;C<k;C++)this._on(s[C],c,p,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[m(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[m(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,o({layer:s.target,propagatedFrom:s.target},s),!0)}};ht.addEventListener=ht.on,ht.removeEventListener=ht.clearAllEventListeners=ht.off,ht.addOneTimeEventListener=ht.once,ht.fireEvent=ht.fire,ht.hasEventListeners=ht.listens;var st=ut.extend(ht);function ae(s,c,p){this.x=p?Math.round(s):s,this.y=p?Math.round(c):c}var Oe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(s){return this.clone()._add(ue(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ue(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ae(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ae(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Oe(this.x),this.y=Oe(this.y),this},distanceTo:function(s){s=ue(s);var c=s.x-this.x,p=s.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(s){return s=ue(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ue(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function ue(s,c,p){return s instanceof ae?s:te(s)?new ae(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ae(s.x,s.y):new ae(s,c,p)}function G(s,c){if(s)for(var p=c?[s,c]:s,v=0,C=p.length;v<C;v++)this.extend(p[v])}G.prototype={extend:function(s){var c,p;if(!s)return this;if(s instanceof ae||typeof s[0]=="number"||"x"in s)c=p=ue(s);else if(s=se(s),c=s.min,p=s.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(s){return ue((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ue(this.min.x,this.max.y)},getTopRight:function(){return ue(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,p;return typeof s[0]=="number"||s instanceof ae?s=ue(s):s=se(s),s instanceof G?(c=s.min,p=s.max):c=p=s,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(s){s=se(s);var c=this.min,p=this.max,v=s.min,C=s.max,k=C.x>=c.x&&v.x<=p.x,z=C.y>=c.y&&v.y<=p.y;return k&&z},overlaps:function(s){s=se(s);var c=this.min,p=this.max,v=s.min,C=s.max,k=C.x>c.x&&v.x<p.x,z=C.y>c.y&&v.y<p.y;return k&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,p=this.max,v=Math.abs(c.x-p.x)*s,C=Math.abs(c.y-p.y)*s;return se(ue(c.x-v,c.y-C),ue(p.x+v,p.y+C))},equals:function(s){return s?(s=se(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function se(s,c){return!s||s instanceof G?s:new G(s,c)}function Ee(s,c){if(s)for(var p=c?[s,c]:s,v=0,C=p.length;v<C;v++)this.extend(p[v])}Ee.prototype={extend:function(s){var c=this._southWest,p=this._northEast,v,C;if(s instanceof xe)v=s,C=s;else if(s instanceof Ee){if(v=s._southWest,C=s._northEast,!v||!C)return this}else return s?this.extend(Ie(s)||Re(s)):this;return!c&&!p?(this._southWest=new xe(v.lat,v.lng),this._northEast=new xe(C.lat,C.lng)):(c.lat=Math.min(v.lat,c.lat),c.lng=Math.min(v.lng,c.lng),p.lat=Math.max(C.lat,p.lat),p.lng=Math.max(C.lng,p.lng)),this},pad:function(s){var c=this._southWest,p=this._northEast,v=Math.abs(c.lat-p.lat)*s,C=Math.abs(c.lng-p.lng)*s;return new Ee(new xe(c.lat-v,c.lng-C),new xe(p.lat+v,p.lng+C))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof xe||"lat"in s?s=Ie(s):s=Re(s);var c=this._southWest,p=this._northEast,v,C;return s instanceof Ee?(v=s.getSouthWest(),C=s.getNorthEast()):v=C=s,v.lat>=c.lat&&C.lat<=p.lat&&v.lng>=c.lng&&C.lng<=p.lng},intersects:function(s){s=Re(s);var c=this._southWest,p=this._northEast,v=s.getSouthWest(),C=s.getNorthEast(),k=C.lat>=c.lat&&v.lat<=p.lat,z=C.lng>=c.lng&&v.lng<=p.lng;return k&&z},overlaps:function(s){s=Re(s);var c=this._southWest,p=this._northEast,v=s.getSouthWest(),C=s.getNorthEast(),k=C.lat>c.lat&&v.lat<p.lat,z=C.lng>c.lng&&v.lng<p.lng;return k&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=Re(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Re(s,c){return s instanceof Ee?s:new Ee(s,c)}function xe(s,c,p){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,p!==void 0&&(this.alt=+p)}xe.prototype={equals:function(s,c){if(!s)return!1;s=Ie(s);var p=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return p<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+S(this.lat,s)+", "+S(this.lng,s)+")"},distanceTo:function(s){return Qe.distance(this,Ie(s))},wrap:function(){return Qe.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,p=c/Math.cos(Math.PI/180*this.lat);return Re([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};function Ie(s,c,p){return s instanceof xe?s:te(s)&&typeof s[0]!="object"?s.length===3?new xe(s[0],s[1],s[2]):s.length===2?new xe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new xe(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new xe(s,c,p)}var Ke={latLngToPoint:function(s,c){var p=this.projection.project(s),v=this.scale(c);return this.transformation._transform(p,v)},pointToLatLng:function(s,c){var p=this.scale(c),v=this.transformation.untransform(s,p);return this.projection.unproject(v)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(s),v=this.transformation.transform(c.min,p),C=this.transformation.transform(c.max,p);return new G(v,C)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?w(s.lng,this.wrapLng,!0):s.lng,p=this.wrapLat?w(s.lat,this.wrapLat,!0):s.lat,v=s.alt;return new xe(p,c,v)},wrapLatLngBounds:function(s){var c=s.getCenter(),p=this.wrapLatLng(c),v=c.lat-p.lat,C=c.lng-p.lng;if(v===0&&C===0)return s;var k=s.getSouthWest(),z=s.getNorthEast(),X=new xe(k.lat-v,k.lng-C),ne=new xe(z.lat-v,z.lng-C);return new Ee(X,ne)}},Qe=o({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var p=Math.PI/180,v=s.lat*p,C=c.lat*p,k=Math.sin((c.lat-s.lat)*p/2),z=Math.sin((c.lng-s.lng)*p/2),X=k*k+Math.cos(v)*Math.cos(C)*z*z,ne=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*ne}}),gt=6378137,zt={R:gt,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,p=this.MAX_LATITUDE,v=Math.max(Math.min(p,s.lat),-p),C=Math.sin(v*c);return new ae(this.R*s.lng*c,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(s){var c=180/Math.PI;return new xe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:function(){var s=gt*Math.PI;return new G([-s,-s],[s,s])}()};function Tr(s,c,p,v){if(te(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=p,this._d=v}Tr.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new ae((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function Ur(s,c,p,v){return new Tr(s,c,p,v)}var zr=o({},Qe,{code:"EPSG:3857",projection:zt,transformation:function(){var s=.5/(Math.PI*zt.R);return Ur(s,.5,-s,.5)}()}),us=o({},zr,{code:"EPSG:900913"});function cs(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function po(s,c){var p="",v,C,k,z,X,ne;for(v=0,k=s.length;v<k;v++){for(X=s[v],C=0,z=X.length;C<z;C++)ne=X[C],p+=(C?"L":"M")+ne.x+" "+ne.y;p+=c?be.svg?"z":"x":""}return p||"M0 0"}var hs=document.documentElement.style,ds="ActiveXObject"in window,mo=ds&&!document.addEventListener,Br="msLaunchUri"in navigator&&!("documentMode"in document),Ir=pn("webkit"),go=pn("android"),fs=pn("android 2")||pn("android 3"),_o=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fa=go&&pn("Google")&&_o<537&&!("AudioNode"in window),Ot=!!window.opera,Bt=!Br&&pn("chrome"),Hr=pn("gecko")&&!Ir&&!Ot&&!ds,ja=!Bt&&pn("safari"),ui=pn("phantom"),bi="OTransition"in hs,ps=navigator.platform.indexOf("Win")===0,vo=ds&&"transition"in hs,ms="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!fs,yo="MozPerspective"in hs,Ua=!window.L_DISABLE_3D&&(vo||ms||yo)&&!bi&&!ui,ci=typeof orientation<"u"||pn("mobile"),gs=ci&&Ir,wo=ci&&ms,_s=!window.PointerEvent&&window.MSPointerEvent,Wn=!!(window.PointerEvent||_s),Sr="ontouchstart"in window||!!window.TouchEvent,Eo=!window.L_NO_TOUCH&&(Sr||Wn),qr=ci&&Ot,za=ci&&Hr,vs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ba=function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",I,c),window.removeEventListener("testPassiveEventSupport",I,c)}catch{}return s}(),hi=function(){return!!document.createElement("canvas").getContext}(),ys=!!(document.createElementNS&&cs("svg").createSVGRect),Mt=!!ys&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),To=!ys&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Cr=navigator.platform.indexOf("Mac")===0,ws=navigator.platform.indexOf("Linux")===0;function pn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var be={ie:ds,ielt9:mo,edge:Br,webkit:Ir,android:go,android23:fs,androidStock:Fa,opera:Ot,chrome:Bt,gecko:Hr,safari:ja,phantom:ui,opera12:bi,win:ps,ie3d:vo,webkit3d:ms,gecko3d:yo,any3d:Ua,mobile:ci,mobileWebkit:gs,mobileWebkit3d:wo,msPointer:_s,pointer:Wn,touch:Eo,touchNative:Sr,mobileOpera:qr,mobileGecko:za,retina:vs,passiveEvents:Ba,canvas:hi,svg:ys,vml:To,inlineSvg:Mt,mac:Cr,linux:ws},Jn=be.msPointer?"MSPointerDown":"pointerdown",Io=be.msPointer?"MSPointerMove":"pointermove",Nl=be.msPointer?"MSPointerUp":"pointerup",Es=be.msPointer?"MSPointerCancel":"pointercancel",So={touchstart:Jn,touchmove:Io,touchend:Nl,touchcancel:Es},er={touchstart:wt,touchmove:Po,touchend:Po,touchcancel:Po},tr={},nr=!1;function Ol(s,c,p){return c==="touchstart"&&Ml(),er[c]?(p=er[c].bind(this,p),s.addEventListener(So[c],p,!1),p):(console.warn("wrong event specified:",c),I)}function Ha(s,c,p){if(!So[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(So[c],p,!1)}function Co(s){tr[s.pointerId]=s}function xo(s){tr[s.pointerId]&&(tr[s.pointerId]=s)}function Ao(s){delete tr[s.pointerId]}function Ml(){nr||(document.addEventListener(Jn,Co,!0),document.addEventListener(Io,xo,!0),document.addEventListener(Nl,Ao,!0),document.addEventListener(Es,Ao,!0),nr=!0)}function Po(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in tr)c.touches.push(tr[p]);c.changedTouches=[c],s(c)}}function wt(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&yt(c),Po(s,c)}function Dl(s){var c={},p,v;for(v in s)p=s[v],c[v]=p&&p.bind?p.bind(s):p;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Ts=200;function ki(s,c){s.addEventListener("dblclick",c);var p=0,v;function C(k){if(k.detail!==1){v=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var z=$r(k);if(!(z.some(function(ne){return ne instanceof HTMLLabelElement&&ne.attributes.for})&&!z.some(function(ne){return ne instanceof HTMLInputElement||ne instanceof HTMLSelectElement}))){var X=Date.now();X-p<=Ts?(v++,v===2&&c(Dl(k))):v=1,p=X}}}return s.addEventListener("click",C),{dblclick:c,simDblclick:C}}function rr(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var Is=Ar(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ri=Ar(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Li=Ri==="webkitTransition"||Ri==="OTransition"?Ri+"End":"transitionend";function Pn(s){return typeof s=="string"?document.getElementById(s):s}function Ni(s,c){var p=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(s,null);p=v?v[c]:null}return p==="auto"?null:p}function He(s,c,p){var v=document.createElement(s);return v.className=c||"",p&&p.appendChild(v),v}function _t(s){var c=s.parentNode;c&&c.removeChild(s)}function Ss(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function di(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function xr(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function Oi(s,c){if(s.classList!==void 0)return s.classList.contains(c);var p=ir(s);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Ue(s,c){if(s.classList!==void 0)for(var p=O(c),v=0,C=p.length;v<C;v++)s.classList.add(p[v]);else if(!Oi(s,c)){var k=ir(s);qa(s,(k?k+" ":"")+c)}}function vt(s,c){s.classList!==void 0?s.classList.remove(c):qa(s,b((" "+ir(s)+" ").replace(" "+c+" "," ")))}function qa(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function ir(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function xt(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&Cs(s,c)}function Cs(s,c){var p=!1,v="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(v)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):s.style.filter+=" progid:"+v+"(opacity="+c+")"}function Ar(s){for(var c=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in c)return s[p];return!1}function bn(s,c,p){var v=c||new ae(0,0);s.style[Is]=(be.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(p?" scale("+p+")":"")}function qe(s,c){s._leaflet_pos=c,be.any3d?bn(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function kn(s){return s._leaflet_pos||new ae(0,0)}var Ye,sr,bo;if("onselectstart"in document)Ye=function(){Me(window,"selectstart",yt)},sr=function(){dt(window,"selectstart",yt)};else{var Wr=Ar(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ye=function(){if(Wr){var s=document.documentElement.style;bo=s[Wr],s[Wr]="none"}},sr=function(){Wr&&(document.documentElement.style[Wr]=bo,bo=void 0)}}function ko(){Me(window,"dragstart",yt)}function Ro(){dt(window,"dragstart",yt)}var xs,As;function or(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Ht(),xs=s,As=s.style.outlineStyle,s.style.outlineStyle="none",Me(window,"keydown",Ht))}function Ht(){xs&&(xs.style.outlineStyle=As,xs=void 0,As=void 0,dt(window,"keydown",Ht))}function ar(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function $n(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var Mi={__proto__:null,TRANSFORM:Is,TRANSITION:Ri,TRANSITION_END:Li,get:Pn,getStyle:Ni,create:He,remove:_t,empty:Ss,toFront:di,toBack:xr,hasClass:Oi,addClass:Ue,removeClass:vt,setClass:qa,getClass:ir,setOpacity:xt,testProp:Ar,setTransform:bn,setPosition:qe,getPosition:kn,get disableTextSelection(){return Ye},get enableTextSelection(){return sr},disableImageDrag:ko,enableImageDrag:Ro,preventOutline:or,restoreOutline:Ht,getSizedParentNode:ar,getScale:$n};function Me(s,c,p,v){if(c&&typeof c=="object")for(var C in c)$a(s,C,c[C],p);else{c=O(c);for(var k=0,z=c.length;k<z;k++)$a(s,c[k],p,v)}return this}var Yt="_leaflet_events";function dt(s,c,p,v){if(arguments.length===1)Wa(s),delete s[Yt];else if(c&&typeof c=="object")for(var C in c)Lo(s,C,c[C],p);else if(c=O(c),arguments.length===2)Wa(s,function(X){return oe(c,X)!==-1});else for(var k=0,z=c.length;k<z;k++)Lo(s,c[k],p,v);return this}function Wa(s,c){for(var p in s[Yt]){var v=p.split(/\d/)[0];(!c||c(v))&&Lo(s,v,null,null,p)}}var mn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $a(s,c,p,v){var C=c+m(p)+(v?"_"+m(v):"");if(s[Yt]&&s[Yt][C])return this;var k=function(X){return p.call(v||s,X||window.event)},z=k;!be.touchNative&&be.pointer&&c.indexOf("touch")===0?k=Ol(s,c,k):be.touch&&c==="dblclick"?k=ki(s,k):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(mn[c]||c,k,be.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(k=function(X){X=X||window.event,Ps(s,X)&&z(X)},s.addEventListener(mn[c],k,!1)):s.addEventListener(c,z,!1):s.attachEvent("on"+c,k),s[Yt]=s[Yt]||{},s[Yt][C]=k}function Lo(s,c,p,v,C){C=C||c+m(p)+(v?"_"+m(v):"");var k=s[Yt]&&s[Yt][C];if(!k)return this;!be.touchNative&&be.pointer&&c.indexOf("touch")===0?Ha(s,c,k):be.touch&&c==="dblclick"?rr(s,k):"removeEventListener"in s?s.removeEventListener(mn[c]||c,k,!1):s.detachEvent("on"+c,k),s[Yt][C]=null}function En(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function fi(s){return $a(s,"wheel",En),this}function Di(s){return Me(s,"mousedown touchstart dblclick contextmenu",En),s._leaflet_disable_click=!0,this}function yt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ln(s){return yt(s),En(s),this}function $r(s){if(s.composedPath)return s.composedPath();for(var c=[],p=s.target;p;)c.push(p),p=p.parentNode;return c}function pi(s,c){if(!c)return new ae(s.clientX,s.clientY);var p=$n(c),v=p.boundingClientRect;return new ae((s.clientX-v.left)/p.x-c.clientLeft,(s.clientY-v.top)/p.y-c.clientTop)}var At=be.linux&&be.chrome?window.devicePixelRatio:be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vl(s){return be.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/At:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ps(s,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}var bs={__proto__:null,on:Me,off:dt,stopPropagation:En,disableScrollPropagation:fi,disableClickPropagation:Di,preventDefault:yt,stop:ln,getPropagationPath:$r,getMousePosition:pi,getWheelDelta:Vl,isExternalTarget:Ps,addListener:Me,removeListener:dt},ks=st.extend({run:function(s,c,p,v){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=kn(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var p=this._startPos.add(this._offset.multiplyBy(s));c&&p._round(),qe(this._el,p),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Xe=st.extend({options:{crs:zr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=N(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Ie(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ri&&be.any3d&&!be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,Li,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(Ie(s),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var v=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,p.zoom):this._tryAnimatedPan(s,p.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,p){var v=this.getZoomScale(c),C=this.getSize().divideBy(2),k=s instanceof ae?s:this.latLngToContainerPoint(s),z=k.subtract(C).multiplyBy(1-1/v),X=this.containerPointToLatLng(C.add(z));return this.setView(X,c,{zoom:p})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():Re(s);var p=ue(c.paddingTopLeft||c.padding||[0,0]),v=ue(c.paddingBottomRight||c.padding||[0,0]),C=this.getBoundsZoom(s,!1,p.add(v));if(C=typeof c.maxZoom=="number"?Math.min(c.maxZoom,C):C,C===1/0)return{center:s.getCenter(),zoom:C};var k=v.subtract(p).divideBy(2),z=this.project(s.getSouthWest(),C),X=this.project(s.getNorthEast(),C),ne=this.unproject(z.add(X).divideBy(2).add(k),C);return{center:ne,zoom:C}},fitBounds:function(s,c){if(s=Re(s),!s.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(s,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=ue(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ue(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,p){if(p=p||{},p.animate===!1||!be.any3d)return this.setView(s,c,p);this._stop();var v=this.project(this.getCenter()),C=this.project(s),k=this.getSize(),z=this._zoom;s=Ie(s),c=c===void 0?z:c;var X=Math.max(k.x,k.y),ne=X*this.getZoomScale(z,c),he=C.distanceTo(v)||1,ye=1.42,Ve=ye*ye;function Ze(pt){var Xo=pt?-1:1,pp=pt?ne:X,mp=ne*ne-X*X+Xo*Ve*Ve*he*he,Vs=2*pp*Ve*he,Fs=mp/Vs,js=Math.sqrt(Fs*Fs+1)-Fs,Ql=js<1e-9?-18:Math.log(js);return Ql}function un(pt){return(Math.exp(pt)-Math.exp(-pt))/2}function nn(pt){return(Math.exp(pt)+Math.exp(-pt))/2}function Kn(pt){return un(pt)/nn(pt)}var Nn=Ze(0);function Yo(pt){return X*(nn(Nn)/nn(Nn+ye*pt))}function nc(pt){return X*(nn(Nn)*Kn(Nn+ye*pt)-un(Nn))/Ve}function zi(pt){return 1-Math.pow(1-pt,1.5)}var Nh=Date.now(),Ds=(Ze(1)-Nn)/ye,Qr=p.duration?1e3*p.duration:1e3*Ds*.8;function Qo(){var pt=(Date.now()-Nh)/Qr,Xo=zi(pt)*Ds;pt<=1?(this._flyToFrame=$(Qo,this),this._move(this.unproject(v.add(C.subtract(v).multiplyBy(nc(Xo)/he)),z),this.getScaleZoom(X/Yo(Xo),z),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Qo.call(this),this},flyToBounds:function(s,c){var p=this._getBoundsCenterZoom(s,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(s){return s=Re(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var p=this.getCenter(),v=this._limitCenter(p,this._zoom,Re(s));return p.equals(v)||this.panTo(v,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var p=ue(c.paddingTopLeft||c.padding||[0,0]),v=ue(c.paddingBottomRight||c.padding||[0,0]),C=this.project(this.getCenter()),k=this.project(s),z=this.getPixelBounds(),X=se([z.min.add(p),z.max.subtract(v)]),ne=X.getSize();if(!X.contains(k)){this._enforcingBounds=!0;var he=k.subtract(X.getCenter()),ye=X.extend(k).getSize().subtract(ne);C.x+=he.x<0?-ye.x:ye.x,C.y+=he.y<0?-ye.y:ye.y,this.panTo(this.unproject(C),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=o({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),v=c.divideBy(2).round(),C=p.divideBy(2).round(),k=v.subtract(C);return!k.x&&!k.y?this:(s.animate&&s.pan?this.panBy(k):(s.pan&&this._rawPanBy(k),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=o({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=u(this._handleGeolocationResponse,this),p=u(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,s):navigator.geolocation.getCurrentPosition(c,p,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,p=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,p=s.coords.longitude,v=new xe(c,p),C=v.toBounds(s.coords.accuracy*2),k=this._locateOptions;if(k.setView){var z=this.getBoundsZoom(C);this.setView(v,k.maxZoom?Math.min(z,k.maxZoom):z)}var X={latlng:v,bounds:C,timestamp:s.timestamp};for(var ne in s.coords)typeof s.coords[ne]=="number"&&(X[ne]=s.coords[ne]);this.fire("locationfound",X)}},addHandler:function(s,c){if(!c)return this;var p=this[s]=new c(this);return this._handlers.push(p),this.options[s]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_t(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)_t(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var p="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),v=He("div",p,c||this._mapPane);return s&&(this._panes[s]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),p=this.unproject(s.getTopRight());return new Ee(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,p){s=Re(s),p=ue(p||[0,0]);var v=this.getZoom()||0,C=this.getMinZoom(),k=this.getMaxZoom(),z=s.getNorthWest(),X=s.getSouthEast(),ne=this.getSize().subtract(p),he=se(this.project(X,v),this.project(z,v)).getSize(),ye=be.any3d?this.options.zoomSnap:1,Ve=ne.x/he.x,Ze=ne.y/he.y,un=c?Math.max(Ve,Ze):Math.min(Ve,Ze);return v=this.getScaleZoom(un,v),ye&&(v=Math.round(v/(ye/100))*(ye/100),v=c?Math.ceil(v/ye)*ye:Math.floor(v/ye)*ye),Math.max(C,Math.min(k,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var p=this._getTopLeftPoint(s,c);return new G(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(s)/p.scale(c)},getScaleZoom:function(s,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var v=p.zoom(s*p.scale(c));return isNaN(v)?1/0:v},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Ie(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(ue(s),c)},layerPointToLatLng:function(s){var c=ue(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(Ie(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Ie(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Re(s))},distance:function(s,c){return this.options.crs.distance(Ie(s),Ie(c))},containerPointToLayerPoint:function(s){return ue(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ue(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(ue(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(s)))},mouseEventToContainerPoint:function(s){return pi(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=Pn(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(c,"scroll",this._onScroll,this),this._containerId=m(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&be.any3d,Ue(s,"leaflet-container"+(be.touch?" leaflet-touch":"")+(be.retina?" leaflet-retina":"")+(be.ielt9?" leaflet-oldie":"")+(be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Ni(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qe(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ue(s.markerPane,"leaflet-zoom-hide"),Ue(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,p){qe(this._mapPane,new ae(0,0));var v=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var C=this._zoom!==c;this._moveStart(C,p)._move(s,c)._moveEnd(C),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,p,v){c===void 0&&(c=this._zoom);var C=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),v?p&&p.pinch&&this.fire("zoom",p):((C||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){qe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[m(this._container)]=this;var c=s?dt:Me;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),be.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var p=[],v,C=c==="mouseout"||c==="mouseover",k=s.target||s.srcElement,z=!1;k;){if(v=this._targets[m(k)],v&&(c==="click"||c==="preclick")&&this._draggableMoved(v)){z=!0;break}if(v&&v.listens(c,!0)&&(C&&!Ps(k,s)||(p.push(v),C))||k===this._container)break;k=k.parentNode}return!p.length&&!z&&!C&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var p=s.type;p==="mousedown"&&or(c),this._fireDOMEvent(s,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,p){if(s.type==="click"){var v=o({},s);v.type="preclick",this._fireDOMEvent(v,v.type,p)}var C=this._findEventTargets(s,c);if(p){for(var k=[],z=0;z<p.length;z++)p[z].listens(c,!0)&&k.push(p[z]);C=k.concat(C)}if(C.length){c==="contextmenu"&&yt(s);var X=C[0],ne={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var he=X.getLatLng&&(!X._radius||X._radius<=10);ne.containerPoint=he?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(s),ne.layerPoint=this.containerPointToLayerPoint(ne.containerPoint),ne.latlng=he?X.getLatLng():this.layerPointToLatLng(ne.layerPoint)}for(z=0;z<C.length;z++)if(C[z].fire(c,ne,!0),ne.originalEvent._stopped||C[z].options.bubblingMouseEvents===!1&&oe(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return kn(this._mapPane)||new ae(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var p=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var p=this.getSize()._divideBy(2);return this.project(s,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,p){var v=this._getNewPixelOrigin(p,c);return this.project(s,c)._subtract(v)},_latLngBoundsToNewLayerBounds:function(s,c,p){var v=this._getNewPixelOrigin(p,c);return se([this.project(s.getSouthWest(),c)._subtract(v),this.project(s.getNorthWest(),c)._subtract(v),this.project(s.getSouthEast(),c)._subtract(v),this.project(s.getNorthEast(),c)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,p){if(!p)return s;var v=this.project(s,c),C=this.getSize().divideBy(2),k=new G(v.subtract(C),v.add(C)),z=this._getBoundsOffset(k,p,c);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?s:this.unproject(v.add(z),c)},_limitOffset:function(s,c){if(!c)return s;var p=this.getPixelBounds(),v=new G(p.min.add(s),p.max.add(s));return s.add(this._getBoundsOffset(v,c))},_getBoundsOffset:function(s,c,p){var v=se(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),C=v.min.subtract(s.min),k=v.max.subtract(s.max),z=this._rebound(C.x,-k.x),X=this._rebound(C.y,-k.y);return new ae(z,X)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),p=this.getMaxZoom(),v=be.any3d?this.options.zoomSnap:1;return v&&(s=Math.round(s/v)*v),Math.max(c,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var p=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var s=this._proxy=He("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var p=Is,v=this._proxy.style[p];bn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),v===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_t(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();bn(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(c),C=this._getCenterOffset(s)._divideBy(1-1/v);return p.animate!==!0&&!this.getSize().contains(C)?!1:($(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,p,v){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,Ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gn(s,c){return new Xe(s,c)}var gn=ut.extend({options:{position:"topright"},initialize:function(s){N(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),p=this.getPosition(),v=s._controlCorners[p];return Ue(c,"leaflet-control"),p.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_t(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Jt=function(s){return new gn(s)};Xe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",p=this._controlContainer=He("div",c+"control-container",this._container);function v(C,k){var z=c+C+" "+c+k;s[C+k]=He("div",z,p)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)_t(this._controlCorners[s]);_t(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var No=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,p,v){return p<v?-1:v<p?1:0}},initialize:function(s,c,p){N(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in s)this._addLayer(s[v],v);for(v in c)this._addLayer(c[v],v,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return gn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(m(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=He("div",s),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Di(c),fi(c);var v=this._section=He("section",s+"-list");p&&(this._map.on("click",this.collapse,this),Me(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=He("a",s+"-toggle",c);C.href="#",C.title="Layers",C.setAttribute("role","button"),Me(C,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){yt(k),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=He("div",s+"-base",v),this._separator=He("div",s+"-separator",v),this._overlaysList=He("div",s+"-overlays",v),c.appendChild(v)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&m(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(u(function(v,C){return this.options.sortFunction(v.layer,C.layer,v.name,C.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ss(this._baseLayersList),Ss(this._overlaysList),this._layerControlInputs=[];var s,c,p,v,C=0;for(p=0;p<this._layers.length;p++)v=this._layers[p],this._addItem(v),c=c||v.overlay,s=s||!v.overlay,C+=v.overlay?0:1;return this.options.hideSingleBase&&(s=s&&C>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(m(s.target)),p=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(s,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=p,v.firstChild},_addItem:function(s){var c=document.createElement("label"),p=this._map.hasLayer(s.layer),v;s.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=p):v=this._createRadioElement("leaflet-base-layers_"+m(this),p),this._layerControlInputs.push(v),v.layerId=m(s.layer),Me(v,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+s.name;var k=document.createElement("span");c.appendChild(k),k.appendChild(v),k.appendChild(C);var z=s.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,p,v=[],C=[];this._handlingClick=!0;for(var k=s.length-1;k>=0;k--)c=s[k],p=this._getLayer(c.layerId).layer,c.checked?v.push(p):c.checked||C.push(p);for(k=0;k<C.length;k++)this._map.hasLayer(C[k])&&this._map.removeLayer(C[k]);for(k=0;k<v.length;k++)this._map.hasLayer(v[k])||this._map.addLayer(v[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,p,v=this._map.getZoom(),C=s.length-1;C>=0;C--)c=s[C],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&v<p.options.minZoom||p.options.maxZoom!==void 0&&v>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Me(s,"click",yt),this.expand();var c=this;setTimeout(function(){dt(s,"click",yt),c._preventClick=!1})}}),Oo=function(s,c,p){return new No(s,c,p)},lr=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",p=He("div",c+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,p,v,C){var k=He("a",p,v);return k.innerHTML=s,k.href="#",k.title=c,k.setAttribute("role","button"),k.setAttribute("aria-label",c),Di(k),Me(k,"click",ln),Me(k,"click",C,this),Me(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";vt(this._zoomInButton,c),vt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ue(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ue(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lr,this.addControl(this.zoomControl))});var Ga=function(s){return new lr(s)},en=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",p=He("div",c),v=this.options;return this._addScales(v,c+"-line",p),s.on(v.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,p){s.metric&&(this._mScale=He("div",c,p)),s.imperial&&(this._iScale=He("div",c,p))},_update:function(){var s=this._map,c=s.getSize().y/2,p=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/s)},_updateImperial:function(s){var c=s*3.2808399,p,v,C;c>5280?(p=c/5280,v=this._getRoundNum(p),this._updateScale(this._iScale,v+" mi",v/p)):(C=this._getRoundNum(c),this._updateScale(this._iScale,C+" ft",C/c))},_updateScale:function(s,c,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),p=s/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Pr=function(s){return new en(s)},Mo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ur=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(be.inlineSvg?Mo+" ":"")+"Leaflet</a>"},initialize:function(s){N(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=He("div","leaflet-control-attribution"),Di(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),s.length&&p.push(s.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&new ur().addTo(this)});var qu=function(s){return new ur(s)};gn.Layers=No,gn.Zoom=lr,gn.Scale=en,gn.Attribution=ur,Jt.layers=Oo,Jt.zoom=Ga,Jt.scale=Pr,Jt.attribution=qu;var Tn=ut.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tn.addTo=function(s,c){return s.addHandler(c,this),this};var mi={Events:ht},gi=be.touch?"touchstart mousedown":"mousedown",Rn=st.extend({options:{clickTolerance:3},initialize:function(s,c,p,v){N(this,v),this._element=s,this._dragStartTarget=c||s,this._preventOutline=p},enable:function(){this._enabled||(Me(this._dragStartTarget,gi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Rn._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,gi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Oi(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Rn._dragging===this&&this.finishDrag();return}if(!(Rn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Rn._dragging=this,this._preventOutline&&or(this._element),ko(),Ye(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,p=ar(this._element);this._startPoint=new ae(c.clientX,c.clientY),this._startPos=kn(this._element),this._parentScale=$n(p);var v=s.type==="mousedown";Me(document,v?"mousemove":"touchmove",this._onMove,this),Me(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,p=new ae(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,yt(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ue(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),qe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),Ro(),sr();var c=this._moved&&this._moving;this._moving=!1,Rn._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Rs(s,c,p){var v,C=[1,4,2,8],k,z,X,ne,he,ye,Ve,Ze;for(k=0,ye=s.length;k<ye;k++)s[k]._code=Gr(s[k],c);for(X=0;X<4;X++){for(Ve=C[X],v=[],k=0,ye=s.length,z=ye-1;k<ye;z=k++)ne=s[k],he=s[z],ne._code&Ve?he._code&Ve||(Ze=tn(he,ne,Ve,c,p),Ze._code=Gr(Ze,c),v.push(Ze)):(he._code&Ve&&(Ze=tn(he,ne,Ve,c,p),Ze._code=Gr(Ze,c),v.push(Ze)),v.push(ne));s=v}return s}function Do(s,c){var p,v,C,k,z,X,ne,he,ye;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ve=Ie([0,0]),Ze=Re(s),un=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());un<1700&&(Ve=Vo(s));var nn=s.length,Kn=[];for(p=0;p<nn;p++){var Nn=Ie(s[p]);Kn.push(c.project(Ie([Nn.lat-Ve.lat,Nn.lng-Ve.lng])))}for(X=ne=he=0,p=0,v=nn-1;p<nn;v=p++)C=Kn[p],k=Kn[v],z=C.y*k.x-k.y*C.x,ne+=(C.x+k.x)*z,he+=(C.y+k.y)*z,X+=z*3;X===0?ye=Kn[0]:ye=[ne/X,he/X];var Yo=c.unproject(ue(ye));return Ie([Yo.lat+Ve.lat,Yo.lng+Ve.lng])}function Vo(s){for(var c=0,p=0,v=0,C=0;C<s.length;C++){var k=Ie(s[C]);c+=k.lat,p+=k.lng,v++}return Ie([c/v,p/v])}var Fo={__proto__:null,clipPolygon:Rs,polygonCenter:Do,centroid:Vo};function Ls(s,c){if(!c||!s.length)return s.slice();var p=c*c;return s=jl(s,p),s=Fl(s,p),s}function Za(s,c,p){return Math.sqrt(Ln(s,c,p,!0))}function _i(s,c,p){return Ln(s,c,p)}function Fl(s,c){var p=s.length,v=typeof Uint8Array<"u"?Uint8Array:Array,C=new v(p);C[0]=C[p-1]=1,jo(s,C,c,0,p-1);var k,z=[];for(k=0;k<p;k++)C[k]&&z.push(s[k]);return z}function jo(s,c,p,v,C){var k=0,z,X,ne;for(X=v+1;X<=C-1;X++)ne=Ln(s[X],s[v],s[C],!0),ne>k&&(z=X,k=ne);k>p&&(c[z]=1,jo(s,c,p,v,z),jo(s,c,p,z,C))}function jl(s,c){for(var p=[s[0]],v=1,C=0,k=s.length;v<k;v++)Ul(s[v],s[C])>c&&(p.push(s[v]),C=v);return C<k-1&&p.push(s[k-1]),p}var Uo;function Ns(s,c,p,v,C){var k=v?Uo:Gr(s,p),z=Gr(c,p),X,ne,he;for(Uo=z;;){if(!(k|z))return[s,c];if(k&z)return!1;X=k||z,ne=tn(s,c,X,p,C),he=Gr(ne,p),X===k?(s=ne,k=he):(c=ne,z=he)}}function tn(s,c,p,v,C){var k=c.x-s.x,z=c.y-s.y,X=v.min,ne=v.max,he,ye;return p&8?(he=s.x+k*(ne.y-s.y)/z,ye=ne.y):p&4?(he=s.x+k*(X.y-s.y)/z,ye=X.y):p&2?(he=ne.x,ye=s.y+z*(ne.x-s.x)/k):p&1&&(he=X.x,ye=s.y+z*(X.x-s.x)/k),new ae(he,ye,C)}function Gr(s,c){var p=0;return s.x<c.min.x?p|=1:s.x>c.max.x&&(p|=2),s.y<c.min.y?p|=4:s.y>c.max.y&&(p|=8),p}function Ul(s,c){var p=c.x-s.x,v=c.y-s.y;return p*p+v*v}function Ln(s,c,p,v){var C=c.x,k=c.y,z=p.x-C,X=p.y-k,ne=z*z+X*X,he;return ne>0&&(he=((s.x-C)*z+(s.y-k)*X)/ne,he>1?(C=p.x,k=p.y):he>0&&(C+=z*he,k+=X*he)),z=s.x-C,X=s.y-k,v?z*z+X*X:new ae(C,k)}function f(s){return!te(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function E(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(s)}function x(s,c){var p,v,C,k,z,X,ne,he;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ye=Ie([0,0]),Ve=Re(s),Ze=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());Ze<1700&&(ye=Vo(s));var un=s.length,nn=[];for(p=0;p<un;p++){var Kn=Ie(s[p]);nn.push(c.project(Ie([Kn.lat-ye.lat,Kn.lng-ye.lng])))}for(p=0,v=0;p<un-1;p++)v+=nn[p].distanceTo(nn[p+1])/2;if(v===0)he=nn[0];else for(p=0,k=0;p<un-1;p++)if(z=nn[p],X=nn[p+1],C=z.distanceTo(X),k+=C,k>v){ne=(k-v)/C,he=[X.x-ne*(X.x-z.x),X.y-ne*(X.y-z.y)];break}var Nn=c.unproject(ue(he));return Ie([Nn.lat+ye.lat,Nn.lng+ye.lng])}var R={__proto__:null,simplify:Ls,pointToSegmentDistance:Za,closestPointOnSegment:_i,clipSegment:Ns,_getEdgeIntersection:tn,_getBitCode:Gr,_sqClosestPointOnSegment:Ln,isFlat:f,_flat:E,polylineCenter:x},Y={project:function(s){return new ae(s.lng,s.lat)},unproject:function(s){return new xe(s.y,s.x)},bounds:new G([-180,-90],[180,90])},ie={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,p=this.R,v=s.lat*c,C=this.R_MINOR/p,k=Math.sqrt(1-C*C),z=k*Math.sin(v),X=Math.tan(Math.PI/4-v/2)/Math.pow((1-z)/(1+z),k/2);return v=-p*Math.log(Math.max(X,1e-10)),new ae(s.lng*c*p,v)},unproject:function(s){for(var c=180/Math.PI,p=this.R,v=this.R_MINOR/p,C=Math.sqrt(1-v*v),k=Math.exp(-s.y/p),z=Math.PI/2-2*Math.atan(k),X=0,ne=.1,he;X<15&&Math.abs(ne)>1e-7;X++)he=C*Math.sin(z),he=Math.pow((1-he)/(1+he),C/2),ne=Math.PI/2-2*Math.atan(k*he)-z,z+=ne;return new xe(z*c,s.x*c/p)}},ve={__proto__:null,LonLat:Y,Mercator:ie,SphericalMercator:zt},ct=o({},Qe,{code:"EPSG:3395",projection:ie,transformation:function(){var s=.5/(Math.PI*ie.R);return Ur(s,.5,-s,.5)}()}),qt=o({},Qe,{code:"EPSG:4326",projection:Y,transformation:Ur(1/180,1,-1/180,.5)}),nt=o({},Ke,{projection:Y,transformation:Ur(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var p=c.lng-s.lng,v=c.lat-s.lat;return Math.sqrt(p*p+v*v)},infinite:!0});Ke.Earth=Qe,Ke.EPSG3395=ct,Ke.EPSG3857=zr,Ke.EPSG900913=us,Ke.EPSG4326=qt,Ke.Simple=nt;var ft=st.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[m(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[m(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=m(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=m(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return m(s)in this._layers},eachLayer:function(s,c){for(var p in this._layers)s.call(c,this._layers[p]);return this},_addLayers:function(s){s=s?te(s)?s:[s]:[];for(var c=0,p=s.length;c<p;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[m(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=m(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,p=this._getZoomSpan();for(var v in this._zoomBoundLayers){var C=this._zoomBoundLayers[v].options;s=C.minZoom===void 0?s:Math.min(s,C.minZoom),c=C.maxZoom===void 0?c:Math.max(c,C.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var It=ft.extend({initialize:function(s,c){N(this,c),this._layers={};var p,v;if(s)for(p=0,v=s.length;p<v;p++)this.addLayer(s[p])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),p,v;for(p in this._layers)v=this._layers[p],v[s]&&v[s].apply(v,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var p in this._layers)s.call(c,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return m(s)}}),cr=function(s,c){return new It(s,c)},Dt=It.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),It.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),It.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ee;for(var c in this._layers){var p=this._layers[c];s.extend(p.getBounds?p.getBounds():p.getLatLng())}return s}}),Os=function(s,c){return new Dt(s,c)},br=ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){N(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var p=this._getIconUrl(s);if(!p){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(v,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(s,c){var p=this.options,v=p[c+"Size"];typeof v=="number"&&(v=[v,v]);var C=ue(v),k=ue(c==="shadow"&&p.shadowAnchor||p.iconAnchor||C&&C.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(p.className||""),k&&(s.style.marginLeft=-k.x+"px",s.style.marginTop=-k.y+"px"),C&&(s.style.width=C.x+"px",s.style.height=C.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return be.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Th(s){return new br(s)}var zo=br.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof zo.imagePath!="string"&&(zo.imagePath=this._detectIconPath()),(this.options.imagePath||zo.imagePath)+br.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(p,v,C){var k=v.exec(p);return k&&k[C]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=He("div","leaflet-default-icon-path",document.body),c=Ni(s,"background-image")||Ni(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Wu=Tn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Rn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ue(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,p=c._map,v=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,k=kn(c._icon),z=p.getPixelBounds(),X=p.getPixelOrigin(),ne=se(z.min._subtract(X).add(C),z.max._subtract(X).subtract(C));if(!ne.contains(k)){var he=ue((Math.max(ne.max.x,k.x)-ne.max.x)/(z.max.x-ne.max.x)-(Math.min(ne.min.x,k.x)-ne.min.x)/(z.min.x-ne.min.x),(Math.max(ne.max.y,k.y)-ne.max.y)/(z.max.y-ne.max.y)-(Math.min(ne.min.y,k.y)-ne.min.y)/(z.min.y-ne.min.y)).multiplyBy(v);p.panBy(he,{animate:!1}),this._draggable._newPos._add(he),this._draggable._startPos._add(he),qe(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=$(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,p=c._shadow,v=kn(c._icon),C=c._map.layerPointToLatLng(v);p&&qe(p,v),c._latlng=C,s.latlng=C,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),vi=ft.extend({options:{icon:new zo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){N(this,c),this._latlng=Ie(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=Ie(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=s.icon.createIcon(this._icon),v=!1;p!==this._icon&&(this._icon&&this._removeIcon(),v=!0,s.title&&(p.title=s.title),p.tagName==="IMG"&&(p.alt=s.alt||"")),Ue(p,c),s.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(p,"focus",this._panOnFocus,this);var C=s.icon.createShadow(this._shadow),k=!1;C!==this._shadow&&(this._removeShadow(),k=!0),C&&(Ue(C,c),C.alt=""),this._shadow=C,s.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&k&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),_t(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_t(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&qe(this._icon,s),this._shadow&&qe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&xt(this._icon,s),this._shadow&&xt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,p=c.iconSize?ue(c.iconSize):ue(0,0),v=c.iconAnchor?ue(c.iconAnchor):ue(0,0);s.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:p.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cp(s,c){return new vi(s,c)}var Vi=ft.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return N(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zl=Vi.extend({options:{fill:!0,radius:10},initialize:function(s,c){N(this,c),this._latlng=Ie(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=Ie(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return Vi.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,p=this._clickTolerance(),v=[s+p,c+p];this._pxBounds=new G(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ih(s,c){return new zl(s,c)}var Bl=zl.extend({initialize:function(s,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),N(this,c),this._latlng=Ie(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Vi.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,p=this._map,v=p.options.crs;if(v.distance===Qe.distance){var C=Math.PI/180,k=this._mRadius/Qe.R/C,z=p.project([c+k,s]),X=p.project([c-k,s]),ne=z.add(X).divideBy(2),he=p.unproject(ne).lat,ye=Math.acos((Math.cos(k*C)-Math.sin(c*C)*Math.sin(he*C))/(Math.cos(c*C)*Math.cos(he*C)))/C;(isNaN(ye)||ye===0)&&(ye=k/Math.cos(Math.PI/180*c)),this._point=ne.subtract(p.getPixelOrigin()),this._radius=isNaN(ye)?0:ne.x-p.project([he,s-ye]).x,this._radiusY=ne.y-z.y}else{var Ve=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Ve).x}this._updateBounds()}});function Ka(s,c,p){return new Bl(s,c,p)}var Zn=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){N(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,p=null,v=Ln,C,k,z=0,X=this._parts.length;z<X;z++)for(var ne=this._parts[z],he=1,ye=ne.length;he<ye;he++){C=ne[he-1],k=ne[he];var Ve=v(s,C,k,!0);Ve<c&&(c=Ve,p=v(s,C,k))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return x(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=Ie(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ee,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],p=f(s),v=0,C=s.length;v<C;v++)p?(c[v]=Ie(s[v]),this._bounds.extend(c[v])):c[v]=this._convertLatLngs(s[v]);return c},_project:function(){var s=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new ae(s,s);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,p){var v=s[0]instanceof xe,C=s.length,k,z;if(v){for(z=[],k=0;k<C;k++)z[k]=this._map.latLngToLayerPoint(s[k]),p.extend(z[k]);c.push(z)}else for(k=0;k<C;k++)this._projectLatlngs(s[k],c,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,v,C,k,z,X,ne;for(p=0,C=0,k=this._rings.length;p<k;p++)for(ne=this._rings[p],v=0,z=ne.length;v<z-1;v++)X=Ns(ne[v],ne[v+1],s,v,!0),X&&(c[C]=c[C]||[],c[C].push(X[0]),(X[1]!==ne[v+1]||v===z-2)&&(c[C].push(X[1]),C++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,p=0,v=s.length;p<v;p++)s[p]=Ls(s[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var p,v,C,k,z,X,ne=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(p=0,k=this._parts.length;p<k;p++)for(X=this._parts[p],v=0,z=X.length,C=z-1;v<z;C=v++)if(!(!c&&v===0)&&Za(s,X[C],X[v])<=ne)return!0;return!1}});function hp(s,c){return new Zn(s,c)}Zn._flat=E;var yi=Zn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Do(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=Zn.prototype._convertLatLngs.call(this,s),p=c.length;return p>=2&&c[0]instanceof xe&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(s){Zn.prototype._setLatLngs.call(this,s),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,p=new ae(c,c);if(s=new G(s.min.subtract(p),s.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,C=this._rings.length,k;v<C;v++)k=Rs(this._rings[v],s,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,p,v,C,k,z,X,ne,he;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(k=0,ne=this._parts.length;k<ne;k++)for(p=this._parts[k],z=0,he=p.length,X=he-1;z<he;X=z++)v=p[z],C=p[X],v.y>s.y!=C.y>s.y&&s.x<(C.x-v.x)*(s.y-v.y)/(C.y-v.y)+v.x&&(c=!c);return c||Zn.prototype._containsPoint.call(this,s,!0)}});function dp(s,c){return new yi(s,c)}var Zr=Dt.extend({initialize:function(s,c){N(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=te(s)?s:s.features,p,v,C;if(c){for(p=0,v=c.length;p<v;p++)C=c[p],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var k=this.options;if(k.filter&&!k.filter(s))return this;var z=Bo(s,k);return z?(z.feature=Gl(s),z.defaultOptions=z.options,this.resetStyle(z),k.onEachFeature&&k.onEachFeature(s,z),this.addLayer(z)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=o({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function Bo(s,c){var p=s.type==="Feature"?s.geometry:s,v=p?p.coordinates:null,C=[],k=c&&c.pointToLayer,z=c&&c.coordsToLatLng||ql,X,ne,he,ye;if(!v&&!p)return null;switch(p.type){case"Point":return X=z(v),Hl(k,s,X,c);case"MultiPoint":for(he=0,ye=v.length;he<ye;he++)X=z(v[he]),C.push(Hl(k,s,X,c));return new Dt(C);case"LineString":case"MultiLineString":return ne=Ya(v,p.type==="LineString"?0:1,z),new Zn(ne,c);case"Polygon":case"MultiPolygon":return ne=Ya(v,p.type==="Polygon"?1:2,z),new yi(ne,c);case"GeometryCollection":for(he=0,ye=p.geometries.length;he<ye;he++){var Ve=Bo({geometry:p.geometries[he],type:"Feature",properties:s.properties},c);Ve&&C.push(Ve)}return new Dt(C);case"FeatureCollection":for(he=0,ye=p.features.length;he<ye;he++){var Ze=Bo(p.features[he],c);Ze&&C.push(Ze)}return new Dt(C);default:throw new Error("Invalid GeoJSON object.")}}function Hl(s,c,p,v){return s?s(c,p):new vi(p,v&&v.markersInheritOptions&&v)}function ql(s){return new xe(s[1],s[0],s[2])}function Ya(s,c,p){for(var v=[],C=0,k=s.length,z;C<k;C++)z=c?Ya(s[C],c-1,p):(p||ql)(s[C]),v.push(z);return v}function Wl(s,c){return s=Ie(s),s.alt!==void 0?[S(s.lng,c),S(s.lat,c),S(s.alt,c)]:[S(s.lng,c),S(s.lat,c)]}function $l(s,c,p,v){for(var C=[],k=0,z=s.length;k<z;k++)C.push(c?$l(s[k],f(s[k])?0:c-1,p,v):Wl(s[k],v));return!c&&p&&C.length>0&&C.push(C[0].slice()),C}function Ho(s,c){return s.feature?o({},s.feature,{geometry:c}):Gl(c)}function Gl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var $u={toGeoJSON:function(s){return Ho(this,{type:"Point",coordinates:Wl(this.getLatLng(),s)})}};vi.include($u),Bl.include($u),zl.include($u),Zn.include({toGeoJSON:function(s){var c=!f(this._latlngs),p=$l(this._latlngs,c?1:0,!1,s);return Ho(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),yi.include({toGeoJSON:function(s){var c=!f(this._latlngs),p=c&&!f(this._latlngs[0]),v=$l(this._latlngs,p?2:c?1:0,!0,s);return c||(v=[v]),Ho(this,{type:(p?"Multi":"")+"Polygon",coordinates:v})}}),It.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(s).geometry.coordinates)}),Ho(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var p=c==="GeometryCollection",v=[];return this.eachLayer(function(C){if(C.toGeoJSON){var k=C.toGeoJSON(s);if(p)v.push(k.geometry);else{var z=Gl(k);z.type==="FeatureCollection"?v.push.apply(v,z.features):v.push(z)}}}),p?Ho(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function Sh(s,c){return new Zr(s,c)}var kr=Sh,Fi=ft.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,p){this._url=s,this._bounds=Re(c),N(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_t(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&di(this._image),this},bringToBack:function(){return this._map&&xr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Re(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:He("img");if(Ue(c,"leaflet-image-layer"),this._zoomAnimated&&Ue(c,"leaflet-zoom-animated"),this.options.className&&Ue(c,this.options.className),c.onselectstart=I,c.onmousemove=I,c.onload=u(this.fire,this,"load"),c.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;bn(this._image,p,c)},_reset:function(){var s=this._image,c=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();qe(s,c.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ch=function(s,c,p){return new Fi(s,c,p)},Gu=Fi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:He("video");if(Ue(c,"leaflet-image-layer"),this._zoomAnimated&&Ue(c,"leaflet-zoom-animated"),this.options.className&&Ue(c,this.options.className),c.onselectstart=I,c.onmousemove=I,c.onloadeddata=u(this.fire,this,"load"),s){for(var p=c.getElementsByTagName("source"),v=[],C=0;C<p.length;C++)v.push(p[C].src);this._url=p.length>0?v:[c.src];return}te(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var z=He("source");z.src=this._url[k],c.appendChild(z)}}});function xh(s,c,p){return new Gu(s,c,p)}var Zu=Fi.extend({_initImage:function(){var s=this._image=this._url;Ue(s,"leaflet-image-layer"),this._zoomAnimated&&Ue(s,"leaflet-zoom-animated"),this.options.className&&Ue(s,this.options.className),s.onselectstart=I,s.onmousemove=I}});function Ku(s,c,p){return new Zu(s,c,p)}var Kr=ft.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof xe||te(s))?(this._latlng=Ie(s),N(this,c)):(N(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&xt(this._container,1),this.bringToFront(),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(xt(this._container,0),this._removeTimeout=setTimeout(u(_t,void 0,this._container),200)):_t(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Ie(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&di(this._container),this},bringToBack:function(){return this._map&&xr(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof Dt){c=null;var p=this._source._layers;for(var v in p)if(p[v]._map){c=p[v];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=ue(this.options.offset),p=this._getAnchor();this._zoomAnimated?qe(this._container,s.add(p)):c=c.add(s).add(p);var v=this._containerBottom=-c.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=v+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(s,c,p,v){var C=c;return C instanceof s||(C=new s(v).setContent(c)),p&&C.setLatLng(p),C}}),ft.include({_initOverlay:function(s,c,p,v){var C=p;return C instanceof s?(N(C,v),C._source=this):(C=c&&!v?c:new s(v,this),C.setContent(p)),C}});var Zl=Kr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Kr.prototype.openOn.call(this,s)},onAdd:function(s){Kr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",En))},onRemove:function(s){Kr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",En))},getEvents:function(){var s=Kr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=He("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=He("div",s+"-content-wrapper",c);if(this._contentNode=He("div",s+"-content",p),Di(c),fi(this._contentNode),Me(c,"contextmenu",En),this._tipContainer=He("div",s+"-tip-container",c),this._tip=He("div",s+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=He("a",s+"-close-button",c);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Me(v,"click",function(C){yt(C),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var p=s.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var v=s.offsetHeight,C=this.options.maxHeight,k="leaflet-popup-scrolled";C&&v>C?(c.height=C+"px",Ue(s,k)):vt(s,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),p=this._getAnchor();qe(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(Ni(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,v=this._containerWidth,C=new ae(this._containerLeft,-p-this._containerBottom);C._add(kn(this._container));var k=s.layerPointToContainerPoint(C),z=ue(this.options.autoPanPadding),X=ue(this.options.autoPanPaddingTopLeft||z),ne=ue(this.options.autoPanPaddingBottomRight||z),he=s.getSize(),ye=0,Ve=0;k.x+v+ne.x>he.x&&(ye=k.x+v-he.x+ne.x),k.x-ye-X.x<0&&(ye=k.x-X.x),k.y+p+ne.y>he.y&&(Ve=k.y+p-he.y+ne.y),k.y-Ve-X.y<0&&(Ve=k.y-X.y),(ye||Ve)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ye,Ve]))}},_getAnchor:function(){return ue(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qo=function(s,c){return new Zl(s,c)};Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(s,c,p){return this._initOverlay(Zl,s,c,p).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ft.include({bindPopup:function(s,c){return this._popup=this._initOverlay(Zl,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Dt||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ln(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Wo=Kr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Kr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Kr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Kr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=He("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,p,v=this._map,C=this._container,k=v.latLngToContainerPoint(v.getCenter()),z=v.layerPointToContainerPoint(s),X=this.options.direction,ne=C.offsetWidth,he=C.offsetHeight,ye=ue(this.options.offset),Ve=this._getAnchor();X==="top"?(c=ne/2,p=he):X==="bottom"?(c=ne/2,p=0):X==="center"?(c=ne/2,p=he/2):X==="right"?(c=0,p=he/2):X==="left"?(c=ne,p=he/2):z.x<k.x?(X="right",c=0,p=he/2):(X="left",c=ne+(ye.x+Ve.x)*2,p=he/2),s=s.subtract(ue(c,p,!0)).add(ye).add(Ve),vt(C,"leaflet-tooltip-right"),vt(C,"leaflet-tooltip-left"),vt(C,"leaflet-tooltip-top"),vt(C,"leaflet-tooltip-bottom"),Ue(C,"leaflet-tooltip-"+X),qe(C,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&xt(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return ue(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qa=function(s,c){return new Wo(s,c)};Xe.include({openTooltip:function(s,c,p){return this._initOverlay(Wo,s,c,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ft.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wo,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Dt||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&(Me(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Me(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,p,v;this._tooltip.options.sticky&&s.originalEvent&&(p=this._map.mouseEventToContainerPoint(s.originalEvent),v=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(c)}});var Kl=br.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ss(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var v=ue(p.bgPos);c.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Ah(s){return new Kl(s)}br.Default=zo;var ji=ft.extend({options:{tileSize:256,opacity:1,updateWhenIdle:be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){N(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),_t(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ae?s:new ae(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,p=-s(-1/0,1/0),v=0,C=c.length,k;v<C;v++)k=c[v].style.zIndex,c[v]!==this._container&&k&&(p=s(p,+k));isFinite(p)&&(this.options.zIndex=p+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!be.ielt9){xt(this._container,this.options.opacity);var s=+new Date,c=!1,p=!1;for(var v in this._tiles){var C=this._tiles[v];if(!(!C.current||!C.loaded)){var k=Math.min(1,(s-C.loaded)/200);xt(C.el,k),k<1?c=!0:(C.active?p=!0:this._onOpaqueTile(C),C.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(K(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=He("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=c-Math.abs(s-p),this._onUpdateLevel(p)):(_t(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var v=this._levels[s],C=this._map;return v||(v=this._levels[s]={},v.el=He("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=c,v.origin=C.project(C.unproject(C.getPixelOrigin()),s).round(),v.zoom=s,this._setZoomTransform(v,C.getCenter(),C.getZoom()),I(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var s,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var v=c.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)_t(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,p,v){var C=Math.floor(s/2),k=Math.floor(c/2),z=p-1,X=new ae(+C,+k);X.z=+z;var ne=this._tileCoordsToKey(X),he=this._tiles[ne];return he&&he.active?(he.retain=!0,!0):(he&&he.loaded&&(he.retain=!0),z>v?this._retainParent(C,k,z,v):!1)},_retainChildren:function(s,c,p,v){for(var C=2*s;C<2*s+2;C++)for(var k=2*c;k<2*c+2;k++){var z=new ae(C,k);z.z=p+1;var X=this._tileCoordsToKey(z),ne=this._tiles[X];if(ne&&ne.active){ne.retain=!0;continue}else ne&&ne.loaded&&(ne.retain=!0);p+1<v&&this._retainChildren(C,k,p+1,v)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,p,v){var C=Math.round(c);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var k=this.options.updateWhenZooming&&C!==this._tileZoom;(!v||k)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,c)},_setZoomTransform:function(s,c,p){var v=this._map.getZoomScale(p,s.zoom),C=s.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(c,p)).round();be.any3d?bn(s.el,C,v):qe(s.el,C)},_resetGrid:function(){var s=this._map,c=s.options.crs,p=this._tileSize=this.getTileSize(),v=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],v).x/p.x),Math.ceil(s.project([0,c.wrapLng[1]],v).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],v).y/p.x),Math.ceil(s.project([c.wrapLat[1],0],v).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),v=c.getZoomScale(p,this._tileZoom),C=c.project(s,this._tileZoom).floor(),k=c.getSize().divideBy(v*2);return new G(C.subtract(k),C.add(k))},_update:function(s){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(s),C=this._pxBoundsToTileRange(v),k=C.getCenter(),z=[],X=this.options.keepBuffer,ne=new G(C.getBottomLeft().subtract([X,-X]),C.getTopRight().add([X,-X]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var he in this._tiles){var ye=this._tiles[he].coords;(ye.z!==this._tileZoom||!ne.contains(new ae(ye.x,ye.y)))&&(this._tiles[he].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(s,p);return}for(var Ve=C.min.y;Ve<=C.max.y;Ve++)for(var Ze=C.min.x;Ze<=C.max.x;Ze++){var un=new ae(Ze,Ve);if(un.z=this._tileZoom,!!this._isValidTile(un)){var nn=this._tiles[this._tileCoordsToKey(un)];nn?nn.current=!0:z.push(un)}}if(z.sort(function(Nn,Yo){return Nn.distanceTo(k)-Yo.distanceTo(k)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Kn=document.createDocumentFragment();for(Ze=0;Ze<z.length;Ze++)this._addTile(z[Ze],Kn);this._level.el.appendChild(Kn)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!c.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(s);return Re(this.options.bounds).overlaps(v)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,p=this.getTileSize(),v=s.scaleBy(p),C=v.add(p),k=c.unproject(v,s.z),z=c.unproject(C,s.z);return[k,z]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),p=new Ee(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),p=new ae(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(s){var c=this._tiles[s];c&&(_t(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ue(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=I,s.onmousemove=I,be.ielt9&&this.options.opacity<1&&xt(s,this.options.opacity)},_addTile:function(s,c){var p=this._getTilePos(s),v=this._tileCoordsToKey(s),C=this.createTile(this._wrapCoords(s),u(this._tileReady,this,s));this._initTile(C),this.createTile.length<2&&$(u(this._tileReady,this,s,null,C)),qe(C,p),this._tiles[v]={el:C,coords:s,current:!0},c.appendChild(C),this.fire("tileloadstart",{tile:C,coords:s})},_tileReady:function(s,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:s});var v=this._tileCoordsToKey(s);p=this._tiles[v],p&&(p.loaded=+new Date,this._map._fadeAnimated?(xt(p.el,0),K(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Ue(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),be.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new ae(this._wrapX?w(s.x,this._wrapX):s.x,this._wrapY?w(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new G(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function $o(s){return new ji(s)}var Ui=ji.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=N(this,c),c.detectRetina&&be.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var p=document.createElement("img");return Me(p,"load",u(this._tileOnLoad,this,c,p)),Me(p,"error",u(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var c={r:be.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=p),c["-y"]=p}return Q(this._url,o(c,this.options))},_tileOnLoad:function(s,c){be.ielt9?setTimeout(u(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,p){var v=this.options.errorTileUrl;v&&c.getAttribute("src")!==v&&(c.src=v),s(p,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,v=this.options.zoomOffset;return p&&(s=c-s),s+v},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=I,c.onerror=I,!c.complete)){c.src=me;var p=this._tiles[s].coords;_t(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",me),ji.prototype._removeTile.call(this,s)},_tileReady:function(s,c,p){if(!(!this._map||p&&p.getAttribute("src")===me))return ji.prototype._tileReady.call(this,s,c,p)}});function Yu(s,c){return new Ui(s,c)}var Xa=Ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var p=o({},this.defaultWmsParams);for(var v in c)v in this.options||(p[v]=c[v]);c=N(this,c);var C=c.detectRetina&&be.retina?2:1,k=this.getTileSize();p.width=k.x*C,p.height=k.y*C,this.wmsParams=p},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Ui.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),p=this._crs,v=se(p.project(c[0]),p.project(c[1])),C=v.min,k=v.max,z=(this._wmsVersion>=1.3&&this._crs===qt?[C.y,C.x,k.y,k.x]:[C.x,C.y,k.x,k.y]).join(","),X=Ui.prototype.getTileUrl.call(this,s);return X+M(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(s,c){return o(this.wmsParams,s),c||this.redraw(),this}});function Ph(s,c){return new Xa(s,c)}Ui.WMS=Xa,Yu.wms=Ph;var Yr=ft.extend({options:{padding:.1},initialize:function(s){N(this,s),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var p=this._map.getZoomScale(c,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,c),k=v.multiplyBy(-p).add(C).subtract(this._map._getNewPixelOrigin(s,c));be.any3d?bn(this._container,k,p):qe(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new G(p,p.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Qu=Yr.extend({options:{tolerance:0},getEvents:function(){var s=Yr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Me(s,"mousemove",this._onMouseMove,this),Me(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,_t(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yr.prototype._update.call(this);var s=this._bounds,c=this._container,p=s.getSize(),v=be.retina?2:1;qe(c,s.min),c.width=v*p.x,c.height=v*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",be.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Yr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[m(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,p=c.next,v=c.prev;p?p.prev=v:this._drawLast=v,v?v.next=p:this._drawFirst=p,delete s._order,delete this._layers[m(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),p=[],v,C;for(C=0;C<c.length;C++){if(v=Number(c[C]),isNaN(v))return;p.push(v)}s.options._dashArray=p}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)s=v.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var p,v,C,k,z=s._parts,X=z.length,ne=this._ctx;if(X){for(ne.beginPath(),p=0;p<X;p++){for(v=0,C=z[p].length;v<C;v++)k=z[p][v],ne[v?"lineTo":"moveTo"](k.x,k.y);c&&ne.closePath()}this._fillStroke(ne,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,p=this._ctx,v=Math.max(Math.round(s._radius),1),C=(Math.max(Math.round(s._radiusY),1)||v)/v;C!==1&&(p.save(),p.scale(1,C)),p.beginPath(),p.arc(c.x,c.y/C,v,0,Math.PI*2,!1),C!==1&&p.restore(),this._fillStroke(p,s)}},_fillStroke:function(s,c){var p=c.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),p,v,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(p))&&(v=p);this._fireEvent(v?[v]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(vt(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var p,v,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(c)&&(v=p);v!==this._hoveredLayer&&(this._handleMouseOut(s),v&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([v],s,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,p){this._map._fireDOMEvent(c,p||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var p=c.next,v=c.prev;if(p)p.prev=v;else return;v?v.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var p=c.next,v=c.prev;if(v)v.next=p;else return;p?p.prev=v:v&&(this._drawLast=v),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function Xu(s){return be.canvas?new Qu(s):null}var Go=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),bh={_initContainer:function(){this._container=He("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=Go("shape");Ue(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=Go("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[m(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;_t(c),s.removeInteractiveTarget(c),delete this._layers[m(s)]},_updateStyle:function(s){var c=s._stroke,p=s._fill,v=s.options,C=s._container;C.stroked=!!v.stroke,C.filled=!!v.fill,v.stroke?(c||(c=s._stroke=Go("stroke")),C.appendChild(c),c.weight=v.weight+"px",c.color=v.color,c.opacity=v.opacity,v.dashArray?c.dashStyle=te(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=v.lineCap.replace("butt","flat"),c.joinstyle=v.lineJoin):c&&(C.removeChild(c),s._stroke=null),v.fill?(p||(p=s._fill=Go("fill")),C.appendChild(p),p.color=v.fillColor||v.color,p.opacity=v.fillOpacity):p&&(C.removeChild(p),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),p=Math.round(s._radius),v=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+v+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){di(s._container)},_bringToBack:function(s){xr(s._container)}},Rr=be.vml?Go:cs,Ms=Yr.extend({_initContainer:function(){this._container=Rr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Rr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_t(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yr.prototype._update.call(this);var s=this._bounds,c=s.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),qe(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=Rr("path");s.options.className&&Ue(c,s.options.className),s.options.interactive&&Ue(c,"leaflet-interactive"),this._updateStyle(s),this._layers[m(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){_t(s._path),s.removeInteractiveTarget(s._path),delete this._layers[m(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,p=s.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,po(s._parts,c))},_updateCircle:function(s){var c=s._point,p=Math.max(Math.round(s._radius),1),v=Math.max(Math.round(s._radiusY),1)||p,C="a"+p+","+v+" 0 1,0 ",k=s._empty()?"M0 0":"M"+(c.x-p)+","+c.y+C+p*2+",0 "+C+-p*2+",0 ";this._setPath(s,k)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){di(s._path)},_bringToBack:function(s){xr(s._path)}});be.vml&&Ms.include(bh);function Yl(s){return be.svg||be.vml?new Ms(s):null}Xe.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&Xu(s)||Yl(s)}});var kh=yi.extend({initialize:function(s,c){yi.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Re(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function fp(s,c){return new kh(s,c)}Ms.create=Rr,Ms.pointsToPath=po,Zr.geometryToLayer=Bo,Zr.coordsToLatLng=ql,Zr.coordsToLatLngs=Ya,Zr.latLngToCoords=Wl,Zr.latLngsToCoords=$l,Zr.getFeature=Ho,Zr.asFeature=Gl,Xe.mergeOptions({boxZoom:!0});var Zo=Tn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_t(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ye(),ko(),this._startPoint=this._map.mouseEventToContainerPoint(s),Me(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=He("div","leaflet-zoom-box",this._container),Ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new G(this._point,this._startPoint),p=c.getSize();qe(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(_t(this._box),vt(this._container,"leaflet-crosshair")),sr(),Ro(),dt(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var c=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",Zo),Xe.mergeOptions({doubleClickZoom:!0});var Rh=Tn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,p=c.getZoom(),v=c.options.zoomDelta,C=s.originalEvent.shiftKey?p-v:p+v;c.options.doubleClickZoom==="center"?c.setZoom(C):c.setZoomAround(s.containerPoint,C)}});Xe.addInitHook("addHandler","doubleClickZoom",Rh),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ju=Tn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Rn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Re(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),p=this._initialWorldOffset,v=this._draggable._newPos.x,C=(v-c+p)%s+c-p,k=(v+c+p)%s-c-p,z=Math.abs(C+p)<Math.abs(k+p)?C:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(s){var c=this._map,p=c.options,v=!p.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),v)c.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,z=p.easeLinearity,X=C.multiplyBy(z/k),ne=X.distanceTo([0,0]),he=Math.min(p.inertiaMaxSpeed,ne),ye=X.multiplyBy(he/ne),Ve=he/(p.inertiaDeceleration*z),Ze=ye.multiplyBy(-Ve/2).round();!Ze.x&&!Ze.y?c.fire("moveend"):(Ze=c._limitOffset(Ze,c.options.maxBounds),$(function(){c.panBy(Ze,{duration:Ve,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Xe.addInitHook("addHandler","dragging",Ju),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ec=Tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Me(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,p=s.scrollTop||c.scrollTop,v=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(v,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},p=this.keyCodes,v,C;for(v=0,C=p.left.length;v<C;v++)c[p.left[v]]=[-1*s,0];for(v=0,C=p.right.length;v<C;v++)c[p.right[v]]=[s,0];for(v=0,C=p.down.length;v<C;v++)c[p.down[v]]=[0,s];for(v=0,C=p.up.length;v<C;v++)c[p.up[v]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},p=this.keyCodes,v,C;for(v=0,C=p.zoomIn.length;v<C;v++)c[p.zoomIn[v]]=s;for(v=0,C=p.zoomOut.length;v<C;v++)c[p.zoomOut[v]]=-s},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,p=this._map,v;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(v=this._panKeys[c],s.shiftKey&&(v=ue(v).multiplyBy(3)),p.options.maxBounds&&(v=p._limitOffset(ue(v),p.options.maxBounds)),p.options.worldCopyJump){var C=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(v)));p.panTo(C)}else p.panBy(v)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;ln(s)}}});Xe.addInitHook("addHandler","keyboard",ec),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Et=Tn.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=Vl(s),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var v=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),v),ln(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),p=this._map.options.zoomSnap||0;s._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,k=p?Math.ceil(C/p)*p:C,z=s._limitZoom(c+(this._delta>0?k:-k))-c;this._delta=0,this._startTime=null,z&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+z):s.setZoomAround(this._lastMousePos,c+z))}});Xe.addInitHook("addHandler","scrollWheelZoom",Et);var tc=600;Xe.mergeOptions({tapHold:be.touchNative&&be.safari&&be.mobile,tapTolerance:15});var Ja=Tn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new ae(c.clientX,c.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",yt),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),tc),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){dt(document,"touchend",yt),dt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new ae(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var p=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Xe.addInitHook("addHandler","tapHold",Ja),Xe.mergeOptions({touchZoom:be.touch,bounceAtZoomLimits:!0});var Ko=Tn.extend({addHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(s.touches[0]),v=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(v)._divideBy(2))),this._startDist=p.distanceTo(v),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),yt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(s.touches[0]),v=c.mouseEventToContainerPoint(s.touches[1]),C=p.distanceTo(v)/this._startDist;if(this._zoom=c.getScaleZoom(C,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&C<1||this._zoom>c.getMaxZoom()&&C>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var k=p._add(v)._divideBy(2)._subtract(this._centerPoint);if(C===1&&k.x===0&&k.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var z=u(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(z,this,!0),yt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xe.addInitHook("addHandler","touchZoom",Ko),Xe.BoxZoom=Zo,Xe.DoubleClickZoom=Rh,Xe.Drag=Ju,Xe.Keyboard=ec,Xe.ScrollWheelZoom=Et,Xe.TapHold=Ja,Xe.TouchZoom=Ko,t.Bounds=G,t.Browser=be,t.CRS=Ke,t.Canvas=Qu,t.Circle=Bl,t.CircleMarker=zl,t.Class=ut,t.Control=gn,t.DivIcon=Kl,t.DivOverlay=Kr,t.DomEvent=bs,t.DomUtil=Mi,t.Draggable=Rn,t.Evented=st,t.FeatureGroup=Dt,t.GeoJSON=Zr,t.GridLayer=ji,t.Handler=Tn,t.Icon=br,t.ImageOverlay=Fi,t.LatLng=xe,t.LatLngBounds=Ee,t.Layer=ft,t.LayerGroup=It,t.LineUtil=R,t.Map=Xe,t.Marker=vi,t.Mixin=mi,t.Path=Vi,t.Point=ae,t.PolyUtil=Fo,t.Polygon=yi,t.Polyline=Zn,t.Popup=Zl,t.PosAnimation=ks,t.Projection=ve,t.Rectangle=kh,t.Renderer=Yr,t.SVG=Ms,t.SVGOverlay=Zu,t.TileLayer=Ui,t.Tooltip=Wo,t.Transformation=Tr,t.Util=U,t.VideoOverlay=Gu,t.bind=u,t.bounds=se,t.canvas=Xu,t.circle=Ka,t.circleMarker=Ih,t.control=Jt,t.divIcon=Ah,t.extend=o,t.featureGroup=Os,t.geoJSON=Sh,t.geoJson=kr,t.gridLayer=$o,t.icon=Th,t.imageOverlay=Ch,t.latLng=Ie,t.latLngBounds=Re,t.layerGroup=cr,t.map=Gn,t.marker=cp,t.point=ue,t.polygon=dp,t.polyline=hp,t.popup=qo,t.rectangle=fp,t.setOptions=N,t.stamp=m,t.svg=Yl,t.svgOverlay=Ku,t.tileLayer=Yu,t.tooltip=Qa,t.transformation=Ur,t.version=r,t.videoOverlay=xh;var Lh=window.L;t.noConflict=function(){return window.L=Lh,this},window.L=t})}(Ac,Ac.exports)),Ac.exports}var Va=KS();const Un=Xc(Va);function ZD(){const[n,e]=B.useState(null);return B.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{e([t.coords.latitude,t.coords.longitude])},t=>{console.error("Error obteniendo ubicación del usuario:",t),e(null)},{enableHighAccuracy:!0})},[]),n}const YS=B.createContext(null),rp=()=>B.useContext(YS),KD=({children:n})=>{const[e,t]=B.useState(null),[r,o]=B.useState(null),[a,u]=B.useState(!0);return B.useEffect(()=>{const d=Aa.onAuthStateChanged(async m=>{if(m){const _=Bn(Ct,"usuarios",m.uid),w=await ss(_);if(w.exists()){const I=w.data();t({...m,...I}),o(I.rol)}else t(m),o(null)}else t(null),o(null);u(!1)});return()=>d()},[]),A.jsx(YS.Provider,{value:{usuario:e,rol:r,cargando:a},children:n})},QS=()=>{const{id:n}=uT(),e=B.useRef(null),[t,r]=B.useState(null),[o,a]=B.useState([]),[u,d]=B.useState(""),m=ZD(),{usuario:_,rol:w,cargando:I}=rp();B.useEffect(()=>{!document.getElementById("map")||e.current||(e.current=Un.map("map").setView([41.117,1.25],14),Un.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors & CartoDB'}).addTo(e.current),m&&Un.marker(m).addTo(e.current).bindPopup("📍 Tu ubicación").openPopup(),console.log("📍 Ubicación detectada:",m))},[m]),B.useEffect(()=>{n&&(async()=>{try{console.log("🆔 ID recibido:",n);const M=Bn(Ct,"Rutas",n),j=await ss(M);j.exists()?(console.log("✅ Documento encontrado:",j.data()),r(j.data())):console.warn("⚠️ No se encontró la ruta con el ID:",n)}catch(M){console.error("❌ Error al cargar la ruta:",M)}})()},[n]),B.useEffect(()=>{if(!n)return;const N=Jf(ai(Ct,"rutas",n,"comments"),uv("createdAt","asc")),M=GS(N,j=>{const Q=j.docs.map(te=>({id:te.id,...te.data()}));a(Q)});return()=>M()},[n]);const S=async()=>{try{const M=t.coordenadas;if(!Array.isArray(M)||M.length===0){console.warn("⚠️ No hay coordenadas válidas");return}e.current.eachLayer(me=>{(me instanceof Un.Marker||me instanceof Un.GeoJSON)&&e.current.removeLayer(me)}),M.forEach((me,Ce)=>{const H=[me.latitude,me.longitude];let D;Ce===0&&m?D="📍 Tu ubicación":t&&Array.isArray(t.contenido)&&t.contenido[Ce]?D=t.contenido[Ce]:D=`Punto ${Ce+1}`,Un.marker(H).addTo(e.current).bindPopup(D)});const j=M.map(me=>[me.longitude,me.latitude]),Q=await fetch("https://api.openrouteservice.org/v2/directions/foot-walking/geojson",{method:"POST",headers:{Accept:"application/json, application/geo+json","Content-Type":"application/json",Authorization:"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6IjcwNGMxOTg0NGQ1MjQ5YjliOWJhMjE0NjE0MzUyNjlmIiwiaCI6Im11cm11cjY0In0="},body:JSON.stringify({coordinates:j})});if(!Q.ok)throw new Error("Error al obtener ruta ORS");const te=await Q.json();Un.geoJSON(te,{style:{color:"blue",weight:3}}).addTo(e.current);const oe=Un.geoJSON(te).getBounds();e.current.fitBounds(oe)}catch(N){console.error("❌ Error:",N)}};B.useEffect(()=>{t&&S()},[t,m]);const b=async()=>{if(!u.trim()||!_?.uid||!n)return;const N=_.fotoURL?_.fotoURL:null;await mh(ai(Ct,"rutas",n,"comments"),{content:u.trim(),authorId:_.uid,authorName:_.displayName||_.email,fotoURL:N,createdAt:gh()}),d("")},O=async N=>{try{const M=Bn(Ct,"rutas",n,"comments",N);await $S(M)}catch(M){console.error("Error al eliminar el comentario:",M)}};return A.jsxs("div",{className:"ruta-detalle-container",style:{padding:"1rem"},children:[t&&A.jsxs(A.Fragment,{children:[A.jsx("h2",{children:t.nombre}),A.jsx("span",{className:`badge ${t.tipo}`,children:t.tipo}),A.jsxs("p",{children:[A.jsx("strong",{children:"Duración:"})," ",t.duracion]}),A.jsx("p",{children:t.descripcion}),A.jsx("h3",{children:"Puntos de interés:"}),A.jsx("ul",{children:t.contenido.map((N,M)=>A.jsx("li",{children:N},M))})]}),A.jsx("h3",{children:"Mapa de la ruta"}),A.jsx("div",{id:"map",style:{height:"70vh",marginBottom:"2rem"}}),A.jsx("h3",{children:"Foro de la ruta"}),_&&_.uid?A.jsxs(A.Fragment,{children:[A.jsx("textarea",{value:u,onChange:N=>d(N.target.value),placeholder:"Escribe tu comentario...",rows:3,style:{width:"100%",padding:"0.5rem",marginBottom:"0.5rem"}}),A.jsx("button",{onClick:b,children:"💬 Comentar"})]}):A.jsx("p",{children:"Debes iniciar sesión para comentar."}),A.jsx("ul",{style:{marginTop:"1rem"},children:o.map(N=>{const M=N.authorName?N.authorName[0].toUpperCase()+N.authorName.slice(-1).toUpperCase():"U",j=N.fotoURL?N.fotoURL:`https://ui-avatars.com/api/?name=${M}&background=random&color=fff&size=128`;return A.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",marginBottom:"1rem"},children:[A.jsx("img",{src:j,alt:"Avatar",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover"}}),A.jsxs("div",{children:[A.jsx("strong",{children:N.authorName}),A.jsx("p",{children:N.content}),_?.uid===N.authorId&&A.jsx("button",{onClick:()=>O(N.id),style:{background:"transparent",border:"none",color:"#cc0000",cursor:"pointer",fontSize:"0.9rem",marginTop:"0.25rem"},children:"🗑️ Eliminar"})]})]},N.id)})})]})};function YD(){return A.jsxs(dT,{children:[A.jsx($t,{path:"/",element:A.jsx($D,{})}),A.jsx($t,{path:":id",element:A.jsx(QS,{})})," "]})}const XS="/assets/Logo2-BBJTr0lG.png",QD="/assets/webname-BGKEbTvx.png";function XD({usuario:n,nombreUsuario:e,cerrarSesion:t}){const[r,o]=B.useState(!1),[a,u]=B.useState(null),d=th(),[m,_]=B.useState(!1),w=B.useRef(),I=B.useRef(),[S,b]=B.useState({top:0,left:0}),[O,N]=B.useState(0);return B.useEffect(()=>{const M=j=>{I.current&&!I.current.contains(j.target)&&o(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]),B.useEffect(()=>{if(r&&w.current){const M=w.current.getBoundingClientRect();b({top:M.top+window.scrollY,left:M.left}),N(M.height)}},[r]),B.useEffect(()=>{(async()=>{if(n?.uid){const j=Bn(Ct,"usuarios",n.uid),Q=await ss(j);if(Q.exists()){const te=Q.data();u(te.fotoURL||null)}}})()},[n]),A.jsxs("header",{className:"site-header",children:[A.jsx("div",{className:"brand",children:A.jsxs(St,{to:"/",className:"logo-container",children:[A.jsx("img",{src:XS,alt:"Logo TgoTours",className:"logo-img"}),A.jsx("div",{className:"name-web",children:A.jsx("img",{src:QD,alt:"Nombre Web"})})]})}),A.jsx("button",{className:"menu-toggle",onClick:()=>_(!m),"aria-label":"Abrir menú",children:"☰"}),A.jsxs("nav",{className:`nav-links ${m?"open":""}`,children:[A.jsx(St,{to:"/",onClick:()=>_(!1),children:"HOME"}),A.jsx(St,{to:"/about",onClick:()=>_(!1),children:"ABOUT"}),A.jsx(St,{to:"/eventos",onClick:()=>_(!1),children:"EVENTOS"}),A.jsx(St,{to:"/mapa",onClick:()=>_(!1),children:"MAP"}),A.jsx(St,{to:"/rutas",onClick:()=>_(!1),children:"RUTAS"}),A.jsx(St,{to:"/comunidad",onClick:()=>_(!1),children:"COMUNIDAD"}),A.jsx(St,{to:"/tours",onClick:()=>_(!1),children:"FREE TOURS"})]}),A.jsx("div",{className:"auth-section",ref:I,style:{position:"relative"},children:n?A.jsxs("div",{className:"usuario-menu",children:[A.jsxs("button",{className:"usuario-trigger",onClick:()=>o(!r),ref:w,children:[A.jsx("img",{src:a||`https://ui-avatars.com/api/?name=${e}&background=random&color=fff&size=128`,alt:"Avatar",className:"avatar-header"}),e," ▼"]}),r&&A.jsxs("div",{className:"usuario-dropdown",children:[A.jsx(St,{to:"/perfil",children:"👤 Mi perfil"}),A.jsx(St,{to:"/rutas-guardadas",children:"🗺️ Rutas guardadas"}),A.jsx(St,{to:"/restaurantes-guardados",children:"🍽️ Restaurantes guardados"}),A.jsx("button",{onClick:()=>{t(),d("/login")},children:"🚪 Cerrar sesión"})]})]}):A.jsx(St,{to:"/login",children:A.jsx("button",{children:"Iniciar sesión"})})})]})}function JD(){const[n,e]=B.useState(""),[t,r]=B.useState(""),[o,a]=B.useState(null),[u,d]=B.useState(null),m=th(),_=async w=>{w.preventDefault(),d(null),a(null);try{const I=await pI(Aa,n,t);d(`🎉 Sesión iniciada como: ${I.user.email}`),e(""),r(""),m("/")}catch{a("❌ Credenciales inválidas o usuario no registrado.")}};return A.jsx("div",{className:"full-page",children:A.jsxs("div",{className:"form-page",children:[A.jsx("h2",{children:"Iniciar sesión"}),A.jsxs("form",{onSubmit:_,children:[A.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:w=>e(w.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),A.jsx("br",{}),A.jsx("input",{type:"password",placeholder:"Contraseña",value:t,onChange:w=>r(w.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),A.jsx("br",{}),A.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem",marginTop:"1rem"},children:"Entrar"})]}),u&&A.jsx("p",{style:{color:"green",marginTop:"1rem"},children:u}),o&&A.jsx("p",{style:{color:"red",marginTop:"1rem"},children:o}),A.jsxs("p",{style:{marginTop:"2rem"},children:["¿No tienes cuenta? ",A.jsx(St,{to:"/registro",children:"Regístrate aquí"})]})]})})}function e4(){const[n,e]=B.useState(""),[t,r]=B.useState(""),[o,a]=B.useState(""),[u,d]=B.useState(null),[m,_]=B.useState(null),[w,I]=B.useState("turista"),[S,b]=B.useState(!1),O=th(),[N,M]=B.useState(""),[j,Q]=B.useState(""),te=async oe=>{if(oe.preventDefault(),_(null),d(null),!S){d("⚠️ Debes aceptar los términos y condiciones para registrarte.");return}if(!n.includes("@")){d("❌ El correo electrónico no es válido.");return}if(o.length<6){d("❌ La contraseña debe tener al menos 6 caracteres.");return}if(n!==N){d("❌ Los correos electrónicos no coinciden.");return}if(o!==j){d("❌ Las contraseñas no coinciden.");return}try{const me=Jf(ai(Ct,"usuarios"),UD("nombreUsuario","==",t));if(!(await ph(me)).empty){d("❌ El nombre de usuario ya está en uso.");return}}catch(me){console.error("❌ Error al verificar nombre de usuario:",me),d("❌ No se pudo verificar el nombre de usuario.");return}try{const me=await fI(Aa,n,o),Ce=me.user.uid,H=me.user;console.log("✅ Usuario creado:",Ce);try{await HD(Bn(Ct,"usuarios",Ce),{nombreUsuario:t,email:n,fechaRegistro:gh(),rol:w,fotoPerfil:H.photoURL||"",nombreCompleto:H.displayName||""}),console.log("✅ Documento creado en Firestore")}catch(D){console.error("❌ Error en setDoc:",D),d(`❌ Error en Firestore: ${D.message}`);return}await mI(H),_(`✅ Usuario creado: ${H.email}. Revisa tu correo.`),e(""),a(""),r(""),b(!1),setTimeout(()=>{O("/login")},4e3)}catch(me){switch(console.error("❌ Error en createUserWithEmailAndPassword:",me),me.code){case"auth/email-already-in-use":d("❌ Este correo ya está registrado.");break;case"auth/invalid-email":d("❌ El correo no es válido.");break;case"auth/weak-password":d("❌ La contraseña es demasiado débil.");break;default:d("❌ Error al crear la cuenta.")}}};return A.jsx("div",{className:"full-page",children:A.jsxs("div",{className:"form-page",children:[A.jsx("h2",{children:"Crear cuenta"}),A.jsxs("form",{onSubmit:te,children:[A.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:oe=>e(oe.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),A.jsx("input",{type:"email",placeholder:"Repite tu correo electrónico",value:N,onChange:oe=>M(oe.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),A.jsx("br",{}),A.jsx("br",{}),A.jsx("input",{type:"text",placeholder:"Nombre de usuario",value:t,onChange:oe=>r(oe.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),A.jsx("br",{}),A.jsx("input",{type:"password",placeholder:"Contraseña (mínimo 6 caracteres)",value:o,onChange:oe=>a(oe.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),A.jsx("br",{}),A.jsx("input",{type:"password",placeholder:"Repite tu contraseña",value:j,onChange:oe=>Q(oe.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),A.jsx("br",{}),A.jsx("label",{style:{display:"block",margin:"0.5rem 0 0.2rem 0"},children:"Selecciona tu rol:"}),A.jsxs("select",{value:w,onChange:oe=>I(oe.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"260px"},children:[A.jsx("option",{value:"turista",children:"Turista"}),A.jsx("option",{value:"guia",children:"Guía"})]}),A.jsx("div",{style:{marginTop:"1rem",fontSize:"0.95rem",color:"#ccc"},children:A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",checked:S,onChange:oe=>b(oe.target.checked),style:{marginRight:"0.5rem"}}),"Acepto los"," ",A.jsx(St,{to:"/terminos",target:"_blank",style:{color:"#00CFEA",textDecoration:"underline"},children:"términos y condiciones"})]})}),A.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:A.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem"},children:"Registrarse"})})]}),m&&A.jsx("p",{style:{color:"green",marginTop:"1rem"},children:m}),u&&A.jsx("p",{style:{color:"red",marginTop:"1rem"},children:u}),A.jsxs("p",{style:{marginTop:"2rem"},children:["¿Ya tienes cuenta? ",A.jsx(St,{to:"/login",children:"Inicia sesión"})]})]})})}const t4="/assets/anfiteatro-DCT6H1iw.jpg",n4="/assets/catedral-B47ZHRBw.jpg",r4="/assets/murallas-DDs6YkZI.jpg",i4="/assets/plaza-rei-ChD4jxTW.jpg",s4="/assets/balcon-CRrngfcJ.jpg";var o4=15e3,bg=1e3,kg=60*bg,Hd=60*kg,Bm=24*Hd,a4="http://www.topografix.com/GPX/gpx_style/0/2",Pd=new L.Icon.Default,l4={startIcon:Pd,endIcon:Pd,wptIcons:{"":Pd},wptTypeIcons:{"":Pd},pointMatchers:[]},u4={iconSize:[33,45],iconAnchor:[16,45],clickable:!1},c4={color:"blue"},h4={parseElements:["track","route","waypoint"],joinTrackSegments:!0};L.GPX=L.FeatureGroup.extend({initialize:function(n,e){e.max_point_interval=e.max_point_interval||o4,e.markers=this._merge_objs(l4,e.markers||{}),e.marker_options=this._merge_objs(u4,e.marker_options||{}),e.polyline_options=e.polyline_options||[],e.gpx_options=this._merge_objs(h4,e.gpx_options||{}),L.Util.setOptions(this,e),L.GPXTrackIcon=L.Icon.extend({options:e.marker_options}),this._gpx=n,this._layers={},this._prepare_markers(e.markers),this._init_info(),n&&this._parse(n,e,this.options.async)},get_duration_string:function(n,e){var t="";n>=Bm&&(t+=Math.floor(n/Bm)+"d ",n=n%Bm),n>=Hd&&(t+=Math.floor(n/Hd)+":",n=n%Hd);var r=Math.floor(n/kg);n=n%kg,r<10&&(t+="0"),t+=r+"'";var o=Math.floor(n/bg);return n=n%bg,o<10&&(t+="0"),t+=o,!e&&n>0?t+="."+Math.round(Math.floor(n)*1e3)/1e3:t+='"',t},get_duration_string_iso:function(n,e){var t=this.get_duration_string(n,e);return t.replace("'",":").replace('"',"")},_toFixed_helper:function(n,e=0){return typeof n=="number"?n.toFixed(e):"?"},to_miles:function(n){return n/1.60934},to_ft:function(n){return n*3.28084},m_to_km:function(n){return n/1e3},m_to_mi:function(n){return n/1609.34},ms_to_kmh:function(n){return n*3.6},ms_to_mih:function(n){return n/1609.34*3600},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/(3600*1e3))},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/(3600*1e3))},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/(3600*1e3))},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/(3600*1e3))},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var n=this;return this._info.elevation._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,null,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,0)+" m"})})},get_elevation_data_imp:function(){var n=this;return this._info.elevation._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,n.to_ft,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,0)+" ft"})})},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_speed_data:function(){var n=this;return this._info.speed._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,n.ms_to_kmh,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,2)+" km/h"})})},get_speed_data_imp:function(){var n=this;return this._info.speed._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,n.ms_to_mih,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,2)+" mi/h"})})},get_speed_max:function(){return this.m_to_km(this._info.speed.max)*3600},get_speed_max_imp:function(){return this.to_miles(this.get_speed_max())},get_average_hr:function(){return this._info.hr.avg},get_average_temp:function(){return this._info.atemp.avg},get_average_cadence:function(){return this._info.cad.avg},get_heartrate_data:function(){var n=this;return this._info.hr._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,null,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,0)+" bpm"})})},get_heartrate_data_imp:function(){var n=this;return this._info.hr._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,null,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,0)+" bpm"})})},get_cadence_data:function(){var n=this;return this._info.cad._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,null,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,0)+" rpm"})})},get_temp_data:function(){var n=this;return this._info.atemp._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,null,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,0)+" degrees"})})},get_cadence_data_imp:function(){var n=this;return this._info.cad._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,null,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,0)+" rpm"})})},get_temp_data_imp:function(){var n=this;return this._info.atemp._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,null,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,0)+" degrees"})})},reload:function(){this._init_info(),this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},_merge_objs:function(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t},_prepare_data_point:function(n,e,t,r){var o=[e&&e(n[0])||n[0],t&&t(n[1])||n[1]];return o.push(r&&r(o[0],o[1])||o[0]+": "+o[1]),o},_prepare_markers:function(n){function e(t){return new L.GPXTrackIcon({iconUrl:t})}return Object.entries(n).forEach(([t,r])=>{t==="wptIcons"||t==="wptTypeIcons"?n[t]=this._prepare_markers(r):t==="pointMatchers"?n[t]=r.map(o=>(typeof o.icon=="string"&&(o.icon=e(o.icon)),o)):typeof r=="string"?n[t]=e(r):typeof r=="object"&&r!==null&&(n[t]=r)}),n},_init_info:function(){this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},speed:{max:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0},atemp:{avg:0,_total:0,_points:[]},cad:{avg:0,_total:0,_points:[]}}},_load_xml:function(n,e,t,r){r==null&&(r=this.options.async),t==null&&(t=this.options);var o=this,a=new window.XMLHttpRequest;a.open("GET",n,r);try{a.overrideMimeType("text/xml")}catch{}a.onloadend=function(){a.status==200?e(a.responseXML,t):o.fire("error",{err:"Error fetching resource: "+n})},a.send(null)},_parse:function(n,e,t){var r=this,o=function(u,d){var m=r._parse_gpx_data(u,d);if(!m){r.fire("error",{err:"No parseable layers of type(s) "+JSON.stringify(d.gpx_options.parseElements)});return}r.addLayer(m),r.fire("loaded",{layers:m,element:u})};if(n.substr(0,1)==="<"){var a=new DOMParser;t?setTimeout(function(){o(a.parseFromString(n,"text/xml"),e)}):o(a.parseFromString(n,"text/xml"),e)}else this._load_xml(n,o,e,t)},_parse_gpx_data:function(n,e){var t,r,o=[],a=n.getElementsByTagName("name");a.length>0&&(this._info.name=a[0].textContent);var u=n.getElementsByTagName("desc");u.length>0&&(this._info.desc=u[0].textContent);var d=n.getElementsByTagName("author");d.length>0&&(this._info.author=d[0].textContent);var m=n.getElementsByTagName("copyright");m.length>0&&(this._info.copyright=m[0].textContent);var _=e.gpx_options.parseElements;if(_.indexOf("route")>-1){var w=n.getElementsByTagName("rte");for(t=0;t<w.length;t++){var I=w[t],S=this._extract_styling(I),b=this._get_polyline_options(e.polyline_options,t);o=o.concat(this._parse_segment(w[t],e,S,b,"rtept"))}}if(_.indexOf("track")>-1){var O=n.getElementsByTagName("trk");for(t=0;t<O.length;t++){var N=O[t],S=this._extract_styling(N),b=this._get_polyline_options(e.polyline_options,t);if(e.gpx_options.joinTrackSegments)o=o.concat(this._parse_segment(N,e,S,b,"trkpt"));else{var M=N.getElementsByTagName("trkseg");for(K=0;K<M.length;K++)o=o.concat(this._parse_segment(M[K],e,S,b,"trkpt"))}}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),this._info.cad.avg=Math.round(this._info.cad._total/this._info.cad._points.length),this._info.atemp.avg=Math.round(this._info.atemp._total/this._info.atemp._points.length),_.indexOf("waypoint")>-1)for(r=n.getElementsByTagName("wpt"),t=0;t<r.length;t++){var j=new L.LatLng(r[t].getAttribute("lat"),r[t].getAttribute("lon")),Q=r[t].getElementsByTagName("name"),a=Q.length>0?Q[0].textContent:"",te=r[t].getElementsByTagName("desc"),u=te.length>0?te[0].textContent:"",oe=r[t].getElementsByTagName("sym"),me=oe.length>0?oe[0].textContent:null,Ce=r[t].getElementsByTagName("type"),H=Ce.length>0?Ce[0].textContent:null,D=e.markers.wptIcons,F=e.markers.wptTypeIcons,q=e.markers.pointMatchers||[],$;if(D&&me&&D[me])$=D[me];else if(F&&H&&F[H])$=F[H];else if(q.length>0){for(var K=0;K<q.length;K++)if(q[K].regex.test(a)){$=q[K].icon;break}}else D&&D[""]&&($=D[""]);if(!$){console.log("No waypoint icon could be matched for symKey=%s,typeKey=%s,name=%s on waypoint %o",me,H,a,r[t]);continue}var U=new L.Marker(j,{clickable:e.marker_options.clickable,title:a,icon:$,type:"waypoint"});U.bindPopup("<b>"+a+"</b>"+(u.length>0?"<br>"+u:"")).openPopup(),this.fire("addpoint",{point:U,point_type:"waypoint",element:r[t]}),o.push(U)}if(o.length>1)return new L.FeatureGroup(o);if(o.length==1)return o[0]},_parse_segment:function(n,e,t,r,o){var a=n.getElementsByTagName(o);if(!a.length)return[];for(var u=[],d=[],m=[],_=null,w=0;w<a.length;w++){var I,S=new L.LatLng(a[w].getAttribute("lat"),a[w].getAttribute("lon"));S.meta={time:null,ele:null,hr:null,cad:null,atemp:null,speed:null},I=a[w].getElementsByTagName("time"),I.length>0?S.meta.time=new Date(Date.parse(I[0].textContent)):S.meta.time=new Date("1970-01-01T00:00:00");var b=_!=null?Math.abs(S.meta.time-_.meta.time):0;I=a[w].getElementsByTagName("ele"),I.length>0?S.meta.ele=parseFloat(I[0].textContent):S.meta.ele=_!=null?_.meta.ele:null;var O=_!=null?S.meta.ele-_.meta.ele:0,N=_!=null?this._dist3d(_,S):0;if(I=a[w].getElementsByTagName("speed"),I.length>0?S.meta.speed=parseFloat(I[0].textContent):S.meta.speed=b>0?1e3*N/b:0,I=a[w].getElementsByTagName("name"),I.length>0){for(var M=I[0].textContent,j=e.markers.pointMatchers||[],Q=0;Q<j.length;Q++)if(j[Q].regex.test(M)){d.push({label:M,coords:S,icon:j[Q].icon,element:a[w]});break}}this._info.length+=N,I=a[w].getElementsByTagNameNS("*","hr"),I.length>0&&(S.meta.hr=parseInt(I[0].textContent),this._info.hr._points.push([this._info.length,S.meta.hr]),this._info.hr._total+=S.meta.hr),I=a[w].getElementsByTagNameNS("*","cad"),I.length>0&&(S.meta.cad=parseInt(I[0].textContent),this._info.cad._points.push([this._info.length,S.meta.cad]),this._info.cad._total+=S.meta.cad),I=a[w].getElementsByTagNameNS("*","atemp"),I.length>0&&(S.meta.atemp=parseInt(I[0].textContent),this._info.atemp._points.push([this._info.length,S.meta.atemp]),this._info.atemp._total+=S.meta.atemp),S.meta.ele>this._info.elevation.max&&(this._info.elevation.max=S.meta.ele),S.meta.ele<this._info.elevation.min&&(this._info.elevation.min=S.meta.ele),this._info.elevation._points.push([this._info.length,S.meta.ele]),S.meta.speed>this._info.speed.max&&(this._info.speed.max=S.meta.speed),this._info.speed._points.push([this._info.length,S.meta.speed]),_==null&&this._info.duration.start==null&&(this._info.duration.start=S.meta.time),this._info.duration.end=S.meta.time,this._info.duration.total+=b,b<e.max_point_interval&&(this._info.duration.moving+=b),O>0?this._info.elevation.gain+=O:this._info.elevation.loss+=Math.abs(O),_=S,u.push(S)}var te=new L.Polyline(u,this._extract_styling(n,t,r));if(this.fire("addline",{line:te,element:n}),m.push(te),e.markers.startIcon){var oe=new L.Marker(u[0],{clickable:e.marker_options.clickable,icon:e.markers.startIcon});this.fire("addpoint",{point:oe,point_type:"start",element:a[0],line:n}),m.push(oe)}if(e.markers.endIcon){var oe=new L.Marker(u[u.length-1],{clickable:e.marker_options.clickable,icon:e.markers.endIcon});this.fire("addpoint",{point:oe,point_type:"end",element:a[a.length-1],line:n}),m.push(oe)}for(var w=0;w<d.length;w++){var oe=new L.Marker(d[w].coords,{clickable:e.marker_options.clickable,title:d[w].label,icon:d[w].icon});this.fire("addpoint",{point:oe,point_type:"label",element:d[w].element}),m.push(oe)}return m},_get_polyline_options:function(n,e){return Array.isArray(n)?n[e]||{}:n},_extract_styling:function(n,e,t){var r=this._merge_objs(c4,e),o=n.getElementsByTagNameNS(a4,"line");if(o.length>0){var a=o[0].getElementsByTagName("color");a.length>0&&(r.color="#"+a[0].textContent);var a=o[0].getElementsByTagName("opacity");a.length>0&&(r.opacity=a[0].textContent);var a=o[0].getElementsByTagName("weight");a.length>0&&(r.weight=a[0].textContent);var a=o[0].getElementsByTagName("linecap");a.length>0&&(r.lineCap=a[0].textContent);var a=o[0].getElementsByTagName("linejoin");a.length>0&&(r.lineJoin=a[0].textContent);var a=o[0].getElementsByTagName("dasharray");a.length>0&&(r.dashArray=a[0].textContent);var a=o[0].getElementsByTagName("dashoffset");a.length>0&&(r.dashOffset=a[0].textContent)}return this._merge_objs(r,t)},_dist2d:function(n,e){var t=6371e3,r=this._deg2rad(e.lat-n.lat),o=this._deg2rad(e.lng-n.lng),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this._deg2rad(n.lat))*Math.cos(this._deg2rad(e.lat))*Math.sin(o/2)*Math.sin(o/2),u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),d=t*u;return d},_dist3d:function(n,e){var t=this._dist2d(n,e),r=Math.abs(e.meta.ele-n.meta.ele);return Math.sqrt(Math.pow(t,2)+Math.pow(r,2))},_deg2rad:function(n){return n*Math.PI/180}});const d4=()=>{const n=B.useRef(null);return B.useEffect(()=>{n.current===null&&(n.current=Un.map("map").setView([41.12,1.26],13),Un.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(n.current),new Un.GPX("/gpx/murallas_romanas.gpx",{async:!0,polyline_options:{color:"blue",weight:4,opacity:.8},marker_options:{startIconUrl:"https://cdn-icons-png.flaticon.com/128/149/149059.png",endIconUrl:"https://cdn-icons-png.flaticon.com/128/149/149983.png",shadowUrl:""}}).on("loaded",function(e){n.current.fitBounds(e.target.getBounds())}).addTo(n.current))},[]),A.jsx("div",{id:"map",style:{width:"100%",height:"80vh"}})};function f4(){const n=[{id:1,nombre:"Anfiteatro",img:t4,descripcion:"Antiguo anfiteatro romano frente al mar."},{id:2,nombre:"Catedral",img:n4,descripcion:"Impresionante catedral gótica en el corazón de Tarragona."},{id:3,nombre:"Murallas",img:r4,descripcion:"Murallas romanas que protegían la antigua ciudad."},{id:4,nombre:"Plaça del Rei",img:i4,descripcion:"Plaza central con gran valor histórico."},{id:5,nombre:"Balcón Mediterráneo",img:s4,descripcion:"Mirador con vistas al mar Mediterráneo."}],[e,t]=B.useState(null),[r,o]=B.useState(null);return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mapa-info-container",children:[A.jsxs("div",{className:"mapa",children:[A.jsx("h2",{children:"RUTA HISTÓRICA ANTIGUO TARRACO"}),A.jsx(d4,{})]}),A.jsxs("div",{className:"info",children:[A.jsx("h1",{children:"Turismo en Tarragona"}),A.jsx("p",{children:"“Una plataforma de turismo inteligente en Tarragona.”"}),A.jsx("span",{className:"servicios-label",children:"Servicios"}),A.jsx("button",{children:"Tours personalizados"}),A.jsx("button",{children:"Maneras de conocer Tarragona"}),A.jsx("button",{children:"Ciudad Inteligente"})]})]}),A.jsx("div",{className:"slider-wrapper",children:n.map((a,u)=>A.jsx("img",{src:a.img,alt:a.nombre,className:`slider-item ${e===u?"active":""}`,onMouseEnter:()=>t(u),onMouseLeave:()=>t(null),onClick:()=>o(a)},u))}),r&&A.jsxs("div",{className:"card-detalle",children:[A.jsx("div",{className:"card-imagen",children:A.jsx("img",{src:r.img,alt:r.nombre})}),A.jsxs("div",{className:"card-info",children:[A.jsx("h2",{children:r.nombre}),A.jsx("p",{children:r.descripcion}),A.jsxs("p",{children:[A.jsx("strong",{children:"Detalles:"})," Este sitio es uno de los puntos más destacados de la ruta turística por Tarragona. Ideal para visitas culturales, actividades al aire libre y vistas panorámicas."]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Horario:"})," 10:00 - 18:00 (todos los días)"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Ubicación:"})," Tarragona centro histórico"]})]})]})]})}function hv(n,e){const t=B.useRef(e);B.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}function p4(n,e,t){e.center!==t.center&&n.setLatLng(e.center),e.radius!=null&&e.radius!==t.radius&&n.setRadius(e.radius)}const JS=1;function eC(n){return Object.freeze({__version:JS,map:n})}function tC(n,e){return Object.freeze({...n,...e})}const dv=B.createContext(null),fv=dv.Provider;function _h(){const n=B.useContext(dv);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function pv(n){function e(t,r){const{instance:o,context:a}=n(t).current;return B.useImperativeHandle(r,()=>o),t.children==null?null:Su.createElement(fv,{value:a},t.children)}return B.forwardRef(e)}function nC(n){function e(t,r){const[o,a]=B.useState(!1),{instance:u}=n(t,a).current;B.useImperativeHandle(r,()=>u),B.useEffect(function(){o&&u.update()},[u,o,t.children]);const d=u._contentNode;return d?dP.createPortal(t.children,d):null}return B.forwardRef(e)}function mv(n){function e(t,r){const{instance:o}=n(t).current;return B.useImperativeHandle(r,()=>o),null}return B.forwardRef(e)}function rC(n){return function(t){const r=_h(),o=n(t,r),{instance:a}=o.current,u=B.useRef(t.position),{position:d}=t;return B.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),B.useEffect(function(){d!=null&&d!==u.current&&(a.setPosition(d),u.current=d)},[a,d]),o}}function ip(n,e){const t=B.useRef();B.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function vh(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function iC(n,e){return function(r,o){const a=_h(),u=n(vh(r,a),a);return hv(a.map,r.attribution),ip(u.current,r.eventHandlers),e(u.current,a,r,o),u}}function sC(n){return n.split(" ").filter(Boolean)}function oC(n,e){sC(e).forEach(t=>{Va.DomUtil.addClass(n,t)})}function aC(n,e){sC(e).forEach(t=>{Va.DomUtil.removeClass(n,t)})}function m4(n,e,t){n!=null&&t!==e&&(e!=null&&e.length>0&&aC(n,e),t!=null&&t.length>0&&oC(n,t))}function yh(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function Bu(n,e){return e==null?function(r,o){const a=B.useRef();return a.current||(a.current=n(r,o)),a}:function(r,o){const a=B.useRef();a.current||(a.current=n(r,o));const u=B.useRef(r),{instance:d}=a.current;return B.useEffect(function(){u.current!==r&&(e(d,r,u.current),u.current=r)},[d,r,o]),a}}function gv(n,e){B.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function _v(n){return function(t){const r=_h(),o=n(vh(t,r),r);return hv(r.map,t.attribution),ip(o.current,t.eventHandlers),gv(o.current,r),o}}function lC(n,e){const t=B.useRef();B.useEffect(function(){if(e.pathOptions!==t.current){const o=e.pathOptions??{};n.instance.setStyle(o),t.current=o}},[n,e])}function uC(n){return function(t){const r=_h(),o=n(vh(t,r),r);return ip(o.current,t.eventHandlers),gv(o.current,r),lC(o.current,t),o}}function g4(n){function e(o,a){return yh(n(o),a)}const t=Bu(e),r=rC(t);return mv(r)}function cC(n,e){const t=Bu(n,e),r=_v(t);return pv(r)}function hC(n,e){const t=Bu(n),r=iC(t,e);return nC(r)}function _4(n,e){const t=Bu(n,e),r=uC(t);return pv(r)}function dC(n,e){const t=Bu(n,e),r=_v(t);return mv(r)}function fC(n,e,t){const{opacity:r,zIndex:o}=e;r!=null&&r!==t.opacity&&n.setOpacity(r),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function v4(n,e,t){e.bounds instanceof Va.LatLngBounds&&e.bounds!==t.bounds&&n.setBounds(e.bounds),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),e.zIndex!=null&&e.zIndex!==t.zIndex&&n.setZIndex(e.zIndex)}const y4=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:JS,LeafletContext:dv,LeafletProvider:fv,addClassName:oC,createContainerComponent:pv,createControlComponent:g4,createControlHook:rC,createDivOverlayComponent:nC,createDivOverlayHook:iC,createElementHook:Bu,createElementObject:yh,createLayerComponent:cC,createLayerHook:_v,createLeafComponent:mv,createLeafletContext:eC,createOverlayComponent:hC,createPathComponent:_4,createPathHook:uC,createTileLayerComponent:dC,extendContext:tC,removeClassName:aC,updateCircle:p4,updateClassName:m4,updateGridLayer:fC,updateMediaOverlay:v4,useAttribution:hv,useEventHandlers:ip,useLayerLifecycle:gv,useLeafletContext:_h,usePathOptions:lC,withPane:vh},Symbol.toStringTag,{value:"Module"}));function Rg(){return Rg=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rg.apply(this,arguments)}function w4({bounds:n,boundsOptions:e,center:t,children:r,className:o,id:a,placeholder:u,style:d,whenReady:m,zoom:_,...w},I){const[S]=B.useState({className:o,id:a,style:d}),[b,O]=B.useState(null);B.useImperativeHandle(I,()=>b?.map??null,[b]);const N=B.useCallback(j=>{if(j!==null&&b===null){const Q=new Va.Map(j,w);t!=null&&_!=null?Q.setView(t,_):n!=null&&Q.fitBounds(n,e),m!=null&&Q.whenReady(m),O(eC(Q))}},[]);B.useEffect(()=>()=>{b?.map.remove()},[b]);const M=b?Su.createElement(fv,{value:b},r):u??null;return Su.createElement("div",Rg({},S,{ref:N}),M)}const E4=B.forwardRef(w4),T4=cC(function({position:e,...t},r){const o=new Va.Marker(e,t);return yh(o,tC(r,{overlayContainer:o}))},function(e,t,r){t.position!==r.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==r.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==r.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==r.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),I4=hC(function(e,t){const r=new Va.Popup(e,t.overlayContainer);return yh(r,t)},function(e,t,{position:r},o){B.useEffect(function(){const{instance:u}=e;function d(_){_.popup===u&&(u.update(),o(!0))}function m(_){_.popup===u&&o(!1)}return t.map.on({popupopen:d,popupclose:m}),t.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(t.map)):t.overlayContainer.bindPopup(u),function(){t.map.off({popupopen:d,popupclose:m}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(u)}},[e,t,o,r])}),S4=dC(function({url:e,...t},r){const o=new Va.TileLayer(e,vh(t,r));return yh(o,r)},function(e,t,r){fC(e,t,r);const{url:o}=t;o!=null&&o!==r.url&&e.setUrl(o)});var Wi={};const C4=yf(y4);var Pc={exports:{}},x4=Pc.exports,gE;function A4(){return gE||(gE=1,function(n,e){(function(t,r){r(e)})(x4,function(t){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=a,d=this._zoom;if(a.__parent)for(;u.__parent._zoom>=d;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,u):this._animationAddLayerNonAnimated(a,u)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,u){if(!L.Util.isArray(a))return this.addLayer(a);var d=this._featureGroup,m=this._nonPointGroup,_=this.options.chunkedLoading,w=this.options.chunkInterval,I=this.options.chunkProgress,S=a.length,b=0,O=!0,N;if(this._map){var M=new Date().getTime(),j=L.bind(function(){var te=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();b<S;b++){if(_&&b%200===0){var oe=new Date().getTime()-te;if(oe>w)break}if(N=a[b],N instanceof L.LayerGroup){O&&(a=a.slice(),O=!1),this._extractNonGroupLayers(N,a),S=a.length;continue}if(!N.getLatLng){m.addLayer(N),u||this.fire("layeradd",{layer:N});continue}if(!this.hasLayer(N)&&(this._addLayer(N,this._maxZoom),u||this.fire("layeradd",{layer:N}),N.__parent&&N.__parent.getChildCount()===2)){var me=N.__parent.getAllChildMarkers(),Ce=me[0]===N?me[1]:me[0];d.removeLayer(Ce)}}I&&I(b,S,new Date().getTime()-M),b===S?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(j,this.options.chunkDelay)},this);j()}else for(var Q=this._needsClustering;b<S;b++){if(N=a[b],N instanceof L.LayerGroup){O&&(a=a.slice(),O=!1),this._extractNonGroupLayers(N,a),S=a.length;continue}if(!N.getLatLng){m.addLayer(N);continue}this.hasLayer(N)||Q.push(N)}return this},removeLayers:function(a){var u,d,m=a.length,_=this._featureGroup,w=this._nonPointGroup,I=!0;if(!this._map){for(u=0;u<m;u++){if(d=a[u],d instanceof L.LayerGroup){I&&(a=a.slice(),I=!1),this._extractNonGroupLayers(d,a),m=a.length;continue}this._arraySplice(this._needsClustering,d),w.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var S=a.slice(),b=m;for(u=0;u<b;u++){if(d=S[u],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,S),b=S.length;continue}this._unspiderfyLayer(d)}}for(u=0;u<m;u++){if(d=a[u],d instanceof L.LayerGroup){I&&(a=a.slice(),I=!1),this._extractNonGroupLayers(d,a),m=a.length;continue}if(!d.__parent){w.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),_.hasLayer(d)&&(_.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;u>=0;u--)a.extend(this._needsClustering[u].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,u){var d=this._needsClustering.slice(),m=this._needsRemoving,_,w,I;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),w=d.length-1;w>=0;w--){for(_=!0,I=m.length-1;I>=0;I--)if(m[I].layer===d[w]){_=!1;break}_&&a.call(u,d[w])}this._nonPointGroup.eachLayer(a,u)},getLayers:function(){var a=[];return this.eachLayer(function(u){a.push(u)}),a},getLayer:function(a){var u=null;return a=parseInt(a,10),this.eachLayer(function(d){L.stamp(d)===a&&(u=d)}),u},hasLayer:function(a){if(!a)return!1;var u,d=this._needsClustering;for(u=d.length-1;u>=0;u--)if(d[u]===a)return!0;for(d=this._needsRemoving,u=d.length-1;u>=0;u--)if(d[u].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,u){var d=this._map;typeof u!="function"&&(u=function(){});var m=function(){(d.hasLayer(a)||d.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",m,this),this.off("animationend",m,this),d.hasLayer(a)?u():a.__parent._icon&&(this.once("spiderfied",u,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?u():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",m,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",m,this),this.on("animationend",m,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var u,d,m;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,u=0,d=this._needsRemoving.length;u<d;u++)m=this._needsRemoving[u],m.newlatlng=m.layer._latlng,m.layer._latlng=m.latlng;for(u=0,d=this._needsRemoving.length;u<d;u++)m=this._needsRemoving[u],this._removeLayer(m.layer,!0),m.layer._latlng=m.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var u=a;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(a,u){for(var d=a.length-1;d>=0;d--)if(a[d]===u)return a.splice(d,1),!0},_removeFromGridUnclustered:function(a,u){for(var d=this._map,m=this._gridUnclustered,_=Math.floor(this._map.getMinZoom());u>=_&&m[u].removeObject(a,d.project(a.getLatLng(),u));u--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var u=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),u&&a.target.openPopup()}},_moveChild:function(a,u,d){a._latlng=u,this.removeLayer(a),a._latlng=d,this.addLayer(a)},_childMarkerDragEnd:function(a){var u=a.target.__dragStart;delete a.target.__dragStart,u&&this._moveChild(a.target,u,a.target._latlng)},_removeLayer:function(a,u,d){var m=this._gridClusters,_=this._gridUnclustered,w=this._featureGroup,I=this._map,S=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(a,this._maxZoom);var b=a.__parent,O=b._markers,N;for(this._arraySplice(O,a);b&&(b._childCount--,b._boundsNeedUpdate=!0,!(b._zoom<S));)u&&b._childCount<=1?(N=b._markers[0]===a?b._markers[1]:b._markers[0],m[b._zoom].removeObject(b,I.project(b._cLatLng,b._zoom)),_[b._zoom].addObject(N,I.project(N.getLatLng(),b._zoom)),this._arraySplice(b.__parent._childClusters,b),b.__parent._markers.push(N),N.__parent=b.__parent,b._icon&&(w.removeLayer(b),d||w.addLayer(N))):b._iconNeedsUpdate=!0,b=b.__parent;delete a.__parent},_isOrIsParent:function(a,u){for(;u;){if(a===u)return!0;u=u.parentNode}return!1},fire:function(a,u,d){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,u,d)},listens:function(a,u){return L.FeatureGroup.prototype.listens.call(this,a,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,u)},_defaultIconCreateFunction:function(a){var u=a.getChildCount(),d=" marker-cluster-";return u<10?d+="small":u<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,u=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,m=this.options.zoomToBoundsOnClick,_=this.options.spiderfyOnEveryZoom;(u||m||_)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var u=a.layer,d=u;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom,_=this._map;(a||d||m)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),_.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,m=d;typeof d!="function"&&(m=function(){return d}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var _=a;_>=u;_--)this._gridClusters[_]=new L.DistanceGrid(m(_)),this._gridUnclustered[_]=new L.DistanceGrid(m(_));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(a,u){var d=this._gridClusters,m=this._gridUnclustered,_=Math.floor(this._map.getMinZoom()),w,I;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);u>=_;u--){w=this._map.project(a.getLatLng(),u);var S=d[u].getNearObject(w);if(S){S._addChild(a),a.__parent=S;return}if(S=m[u].getNearObject(w),S){var b=S.__parent;b&&this._removeLayer(S,!1);var O=new this._markerCluster(this,u,S,a);d[u].addObject(O,this._map.project(O._cLatLng,u)),S.__parent=O,a.__parent=O;var N=O;for(I=u-1;I>b._zoom;I--)N=new this._markerCluster(this,I,N),d[I].addObject(N,this._map.project(S.getLatLng(),I));b._addChild(N),this._removeFromGridUnclustered(S,u);return}m[u].addObject(a,w)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var u=this._maxLat;return u!==void 0&&(a.getNorth()>=u&&(a._northEast.lat=1/0),a.getSouth()<=-u&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,u){if(u===a)this._featureGroup.addLayer(a);else if(u._childCount===2){u._addToMap();var d=u.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else u._updateIcon()},_extractNonGroupLayers:function(a,u){var d=a.getLayers(),m=0,_;for(u=u||[];m<d.length;m++){if(_=d[m],_ instanceof L.LayerGroup){this._extractNonGroupLayers(_,u);continue}u.push(_)}return u},_overrideMarkerIcon:function(a){var u=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return u}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,u){this._animationAddLayerNonAnimated(a,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,u){var d=this._getExpandedVisibleBounds(),m=this._featureGroup,_=Math.floor(this._map.getMinZoom()),w;this._ignoreMove=!0,this._topClusterLevel._recursively(d,a,_,function(I){var S=I._latlng,b=I._markers,O;for(d.contains(S)||(S=null),I._isSingleParent()&&a+1===u?(m.removeLayer(I),I._recursivelyAddChildrenToMap(null,u,d)):(I.clusterHide(),I._recursivelyAddChildrenToMap(S,u,d)),w=b.length-1;w>=0;w--)O=b[w],d.contains(O._latlng)||m.removeLayer(O)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,u),m.eachLayer(function(I){!(I instanceof L.MarkerCluster)&&I._icon&&I.clusterShow()}),this._topClusterLevel._recursively(d,a,u,function(I){I._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,a,_,function(I){m.removeLayer(I),I.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,u){this._animationZoomOutSingle(this._topClusterLevel,a-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,u){var d=this,m=this._featureGroup;m.addLayer(a),u!==a&&(u._childCount>2?(u._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(u.getLatLng())),a.clusterHide(),this._enqueue(function(){m.removeLayer(a),a.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,u,d){var m=this._getExpandedVisibleBounds(),_=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(m,_,u+1,d);var w=this;this._forceLayout(),a._recursivelyBecomeVisible(m,d),this._enqueue(function(){if(a._childCount===1){var I=a._markers[0];this._ignoreMove=!0,I.setLatLng(I.getLatLng()),this._ignoreMove=!1,I.clusterShow&&I.clusterShow()}else a._recursively(m,d,_,function(S){S._recursivelyRemoveChildrenFromMap(m,_,u+1)});w._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,u,d,m){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),m&&this._addChild(m)},getAllChildMarkers:function(a,u){a=a||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(a,u);for(var m=this._markers.length-1;m>=0;m--)u&&this._markers[m].__dragStart||a.push(this._markers[m]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var u=this._childClusters.slice(),d=this._group._map,m=d.getBoundsZoom(this._bounds),_=this._zoom+1,w=d.getZoom(),I;u.length>0&&m>_;){_++;var S=[];for(I=0;I<u.length;I++)S=S.concat(u[I]._childClusters);u=S}m>_?this._group._map.setView(this._latlng,_):m<=w?this._group._map.setView(this._latlng,w+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(u||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(u||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,u=this._childClusters,d=0,m=0,_=this._childCount,w,I,S,b;if(_!==0){for(this._resetBounds(),w=0;w<a.length;w++)S=a[w]._latlng,this._bounds.extend(S),d+=S.lat,m+=S.lng;for(w=0;w<u.length;w++)I=u[w],I._boundsNeedUpdate&&I._recalculateBounds(),this._bounds.extend(I._bounds),S=I._wLatLng,b=I._childCount,d+=S.lat*b,m+=S.lng*b;this._latlng=this._wLatLng=new L.LatLng(d/_,m/_),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,u,d){this._recursively(a,this._group._map.getMinZoom(),d-1,function(m){var _=m._markers,w,I;for(w=_.length-1;w>=0;w--)I=_[w],I._icon&&(I._setPos(u),I.clusterHide())},function(m){var _=m._childClusters,w,I;for(w=_.length-1;w>=0;w--)I=_[w],I._icon&&(I._setPos(u),I.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,u,d,m){this._recursively(a,m,u,function(_){_._recursivelyAnimateChildrenIn(a,_._group._map.latLngToLayerPoint(_.getLatLng()).round(),d),_._isSingleParent()&&d-1===m?(_.clusterShow(),_._recursivelyRemoveChildrenFromMap(a,u,d)):_.clusterHide(),_._addToMap()})},_recursivelyBecomeVisible:function(a,u){this._recursively(a,this._group._map.getMinZoom(),u,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(a,u,d){this._recursively(d,this._group._map.getMinZoom()-1,u,function(m){if(u!==m._zoom)for(var _=m._markers.length-1;_>=0;_--){var w=m._markers[_];d.contains(w._latlng)&&(a&&(w._backupLatlng=w.getLatLng(),w.setLatLng(a),w.clusterHide&&w.clusterHide()),m._group._featureGroup.addLayer(w))}},function(m){m._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var u=this._markers.length-1;u>=0;u--){var d=this._markers[u];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(a-1===this._zoom)for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._restorePosition();else for(var _=this._childClusters.length-1;_>=0;_--)this._childClusters[_]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,u,d,m){var _,w;this._recursively(a,u-1,d-1,function(I){for(w=I._markers.length-1;w>=0;w--)_=I._markers[w],(!m||!m.contains(_._latlng))&&(I._group._featureGroup.removeLayer(_),_.clusterShow&&_.clusterShow())},function(I){for(w=I._childClusters.length-1;w>=0;w--)_=I._childClusters[w],(!m||!m.contains(_._latlng))&&(I._group._featureGroup.removeLayer(_),_.clusterShow&&_.clusterShow())})},_recursively:function(a,u,d,m,_){var w=this._childClusters,I=this._zoom,S,b;if(u<=I&&(m&&m(this),_&&I===d&&_(this)),I<u||I<d)for(S=w.length-1;S>=0;S--)b=w[S],b._boundsNeedUpdate&&b._recalculateBounds(),a.intersects(b._bounds)&&b._recursively(a,u,d,m,_)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,u){var d=this._getCoord(u.x),m=this._getCoord(u.y),_=this._grid,w=_[m]=_[m]||{},I=w[d]=w[d]||[],S=L.Util.stamp(a);this._objectPoint[S]=u,I.push(a)},updateObject:function(a,u){this.removeObject(a),this.addObject(a,u)},removeObject:function(a,u){var d=this._getCoord(u.x),m=this._getCoord(u.y),_=this._grid,w=_[m]=_[m]||{},I=w[d]=w[d]||[],S,b;for(delete this._objectPoint[L.Util.stamp(a)],S=0,b=I.length;S<b;S++)if(I[S]===a)return I.splice(S,1),b===1&&delete w[d],!0},eachObject:function(a,u){var d,m,_,w,I,S,b,O=this._grid;for(d in O){I=O[d];for(m in I)for(S=I[m],_=0,w=S.length;_<w;_++)b=a.call(u,S[_]),b&&(_--,w--)}},getNearObject:function(a){var u=this._getCoord(a.x),d=this._getCoord(a.y),m,_,w,I,S,b,O,N,M=this._objectPoint,j=this._sqCellSize,Q=null;for(m=d-1;m<=d+1;m++)if(I=this._grid[m],I){for(_=u-1;_<=u+1;_++)if(S=I[_],S)for(w=0,b=S.length;w<b;w++)O=S[w],N=this._sqDist(M[L.Util.stamp(O)],a),(N<j||N<=j&&Q===null)&&(j=N,Q=O)}return Q},_getCoord:function(a){var u=Math.floor(a/this._cellSize);return isFinite(u)?u:a},_sqDist:function(a,u){var d=u.x-a.x,m=u.y-a.y;return d*d+m*m}},function(){L.QuickHull={getDistant:function(a,u){var d=u[1].lat-u[0].lat,m=u[0].lng-u[1].lng;return m*(a.lat-u[0].lat)+d*(a.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(a,u){var d=0,m=null,_=[],w,I,S;for(w=u.length-1;w>=0;w--){if(I=u[w],S=this.getDistant(I,a),S>0)_.push(I);else continue;S>d&&(d=S,m=I)}return{maxPoint:m,newPoints:_}},buildConvexHull:function(a,u){var d=[],m=this.findMostDistantPointFromBaseLine(a,u);return m.maxPoint?(d=d.concat(this.buildConvexHull([a[0],m.maxPoint],m.newPoints)),d=d.concat(this.buildConvexHull([m.maxPoint,a[1]],m.newPoints)),d):[a[0]]},getConvexHull:function(a){var u=!1,d=!1,m=!1,_=!1,w=null,I=null,S=null,b=null,O=null,N=null,M;for(M=a.length-1;M>=0;M--){var j=a[M];(u===!1||j.lat>u)&&(w=j,u=j.lat),(d===!1||j.lat<d)&&(I=j,d=j.lat),(m===!1||j.lng>m)&&(S=j,m=j.lng),(_===!1||j.lng<_)&&(b=j,_=j.lng)}d!==u?(N=I,O=w):(N=b,O=S);var Q=[].concat(this.buildConvexHull([N,O],a),this.buildConvexHull([O,N],a));return Q}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),u=[],d,m;for(m=a.length-1;m>=0;m--)d=a[m].getLatLng(),u.push(d);return L.QuickHull.getConvexHull(u)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),u=this._group,d=u._map,m=d.latLngToLayerPoint(this._latlng),_;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?_=this._group.options.spiderfyShapePositions(a.length,m):a.length>=this._circleSpiralSwitchover?_=this._generatePointsSpiral(a.length,m):(m.y+=10,_=this._generatePointsCircle(a.length,m)),this._animationSpiderfy(a,_)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,u){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),m=d/this._2PI,_=this._2PI/a,w=[],I,S;for(m=Math.max(m,35),w.length=a,I=0;I<a;I++)S=this._circleStartAngle+I*_,w[I]=new L.Point(u.x+m*Math.cos(S),u.y+m*Math.sin(S))._round();return w},_generatePointsSpiral:function(a,u){var d=this._group.options.spiderfyDistanceMultiplier,m=d*this._spiralLengthStart,_=d*this._spiralFootSeparation,w=d*this._spiralLengthFactor*this._2PI,I=0,S=[],b;for(S.length=a,b=a;b>=0;b--)b<a&&(S[b]=new L.Point(u.x+m*Math.cos(I),u.y+m*Math.sin(I))._round()),I+=_/m+b*5e-4,m+=w/I;return S},_noanimationUnspiderfy:function(){var a=this._group,u=a._map,d=a._featureGroup,m=this.getAllChildMarkers(null,!0),_,w;for(a._ignoreMove=!0,this.setOpacity(1),w=m.length-1;w>=0;w--)_=m[w],d.removeLayer(_),_._preSpiderfyLatlng&&(_.setLatLng(_._preSpiderfyLatlng),delete _._preSpiderfyLatlng),_.setZIndexOffset&&_.setZIndexOffset(0),_._spiderLeg&&(u.removeLayer(_._spiderLeg),delete _._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:m}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,u){var d=this._group,m=d._map,_=d._featureGroup,w=this._group.options.spiderLegPolylineOptions,I,S,b,O;for(d._ignoreMove=!0,I=0;I<a.length;I++)O=m.layerPointToLatLng(u[I]),S=a[I],b=new L.Polyline([this._latlng,O],w),m.addLayer(b),S._spiderLeg=b,S._preSpiderfyLatlng=S._latlng,S.setLatLng(O),S.setZIndexOffset&&S.setZIndexOffset(1e6),_.addLayer(S);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,u){var d=this,m=this._group,_=m._map,w=m._featureGroup,I=this._latlng,S=_.latLngToLayerPoint(I),b=L.Path.SVG,O=L.extend({},this._group.options.spiderLegPolylineOptions),N=O.opacity,M,j,Q,te,oe,me;for(N===void 0&&(N=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),b?(O.opacity=0,O.className=(O.className||"")+" leaflet-cluster-spider-leg"):O.opacity=N,m._ignoreMove=!0,M=0;M<a.length;M++)j=a[M],me=_.layerPointToLatLng(u[M]),Q=new L.Polyline([I,me],O),_.addLayer(Q),j._spiderLeg=Q,b&&(te=Q._path,oe=te.getTotalLength()+.1,te.style.strokeDasharray=oe,te.style.strokeDashoffset=oe),j.setZIndexOffset&&j.setZIndexOffset(1e6),j.clusterHide&&j.clusterHide(),w.addLayer(j),j._setPos&&j._setPos(S);for(m._forceLayout(),m._animationStart(),M=a.length-1;M>=0;M--)me=_.layerPointToLatLng(u[M]),j=a[M],j._preSpiderfyLatlng=j._latlng,j.setLatLng(me),j.clusterShow&&j.clusterShow(),b&&(Q=j._spiderLeg,te=Q._path,te.style.strokeDashoffset=0,Q.setStyle({opacity:N}));this.setOpacity(.3),m._ignoreMove=!1,setTimeout(function(){m._animationEnd(),m.fire("spiderfied",{cluster:d,markers:a})},200)},_animationUnspiderfy:function(a){var u=this,d=this._group,m=d._map,_=d._featureGroup,w=a?m._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):m.latLngToLayerPoint(this._latlng),I=this.getAllChildMarkers(null,!0),S=L.Path.SVG,b,O,N,M,j,Q;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),O=I.length-1;O>=0;O--)b=I[O],b._preSpiderfyLatlng&&(b.closePopup(),b.setLatLng(b._preSpiderfyLatlng),delete b._preSpiderfyLatlng,Q=!0,b._setPos&&(b._setPos(w),Q=!1),b.clusterHide&&(b.clusterHide(),Q=!1),Q&&_.removeLayer(b),S&&(N=b._spiderLeg,M=N._path,j=M.getTotalLength()+.1,M.style.strokeDashoffset=j,N.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var te=0;for(O=I.length-1;O>=0;O--)b=I[O],b._spiderLeg&&te++;for(O=I.length-1;O>=0;O--)b=I[O],b._spiderLeg&&(b.clusterShow&&b.clusterShow(),b.setZIndexOffset&&b.setZIndexOffset(0),te>1&&_.removeLayer(b),m.removeLayer(b._spiderLeg),delete b._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:u,markers:I})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var u,d;for(u in a)for(d=a[u].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(a){var u,d;for(u in a)d=a[u],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(a,u){var d=this.options.icon;return L.setOptions(d,a),this.setIcon(d),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=r,t.MarkerCluster=o,Object.defineProperty(t,"__esModule",{value:!0})})}(Pc,Pc.exports)),Pc.exports}const P4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",b4=Object.freeze(Object.defineProperty({__proto__:null,default:P4},Symbol.toStringTag,{value:"Module"})),k4=yf(b4),R4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",L4=Object.freeze(Object.defineProperty({__proto__:null,default:R4},Symbol.toStringTag,{value:"Module"})),N4=yf(L4),O4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",M4=Object.freeze(Object.defineProperty({__proto__:null,default:O4},Symbol.toStringTag,{value:"Module"})),D4=yf(M4);var _E;function V4(){if(_E)return Wi;_E=1;var n=Wi&&Wi.__assign||function(){return n=Object.assign||function(_){for(var w,I=1,S=arguments.length;I<S;I++){w=arguments[I];for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(_[b]=w[b])}return _},n.apply(this,arguments)},e=Wi&&Wi.__rest||function(_,w){var I={};for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&w.indexOf(S)<0&&(I[S]=_[S]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,S=Object.getOwnPropertySymbols(_);b<S.length;b++)w.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(_,S[b])&&(I[S[b]]=_[S[b]]);return I},t=Wi&&Wi.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Wi,"__esModule",{value:!0});var r=C4,o=t(KS());A4(),delete o.default.Icon.Default.prototype._getIconUrl,o.default.Icon.Default.mergeOptions({iconRetinaUrl:k4.default,iconUrl:N4.default,shadowUrl:D4.default});function a(_){var w={},I={};_.children;var S=e(_,["children"]);return Object.entries(S).forEach(function(b){var O,N,M=b[0],j=b[1];M.startsWith("on")?I=n(n({},I),(O={},O[M]=j,O)):w=n(n({},w),(N={},N[M]=j,N))}),{clusterProps:w,clusterEvents:I}}function u(_,w){var I=a(_),S=I.clusterProps,b=I.clusterEvents,O=new o.default.MarkerClusterGroup(S);return Object.entries(b).forEach(function(N){var M=N[0],j=N[1],Q="cluster".concat(M.substring(2).toLowerCase());O.on(Q,j)}),(0,r.createElementObject)(O,(0,r.extendContext)(w,{layerContainer:O}))}var d=function(_,w,I){},m=(0,r.createPathComponent)(u,d);return Wi.default=m,Wi}var F4=V4();const j4=Xc(F4),U4={cafeterias:new Un.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/922/922699.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),hoteles:new Un.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/139/139899.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),bares:new Un.Icon({iconUrl:"https://images.icon-icons.com/3015/PNG/512/beer_drink_glass_jar_icon_188550.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),puntosDeInteres:new Un.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/2651/2651172.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Casino:new Un.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/5971/5971903.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},z4=()=>{const[n,e]=B.useState([]),[t,r]=B.useState({cafeterias:!0,hoteles:!0,bares:!0,puntosDeInteres:!0,Casino:!0});return B.useEffect(()=>{(async()=>{const a=["cafeterias","hoteles","bares","puntosDeInteres","Casino"],u=[];for(const d of a)(await ph(ai(Ct,d))).forEach(_=>{const w=_.data();u.push({tipo:d,nombre:w.nombre,descripcion:w.descripcion,coordenadas:[w.coordenadas.latitude,w.coordenadas.longitude]})});e(u)})()},[]),A.jsxs("div",{children:[A.jsxs("div",{style:{padding:"10px"},children:[A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",checked:t.cafeterias,onChange:()=>r(o=>({...o,cafeterias:!o.cafeterias}))}),"Cafeterías"]})," ",A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",checked:t.hoteles,onChange:()=>r(o=>({...o,hoteles:!o.hoteles}))}),"Hoteles"]})," ",A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",checked:t.bares,onChange:()=>r(o=>({...o,bares:!o.bares}))}),"Bares"]})," ",A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",checked:t.puntosDeInteres,onChange:()=>r(o=>({...o,puntosDeInteres:!o.puntosDeInteres}))}),"Puntos de Interés"]})," ",A.jsxs("label",{children:[A.jsx("input",{type:"checkbox",checked:t.Casino,onChange:()=>r(o=>({...o,Casino:!o.Casino}))}),"Casino"]})]}),A.jsx("div",{style:{height:"90vh",width:"90%",maxWidth:"800px",margin:"0 auto",padding:"10px",boxSizing:"border-box"},children:A.jsxs(E4,{center:[41.1167,1.2554],zoom:15,style:{height:"100%",width:"100%"},children:[A.jsx(S4,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors & CartoDB'}),A.jsx(j4,{maxClusterRadius:20,disableClusteringAtZoom:20,children:n.filter(o=>t[o.tipo]).map((o,a)=>A.jsx(T4,{position:o.coordenadas,icon:U4[o.tipo],children:A.jsxs(I4,{children:[A.jsx("strong",{children:o.nombre}),A.jsx("br",{}),o.descripcion]})},a))})]})})]})},B4="/assets/hoguera-C4cSztnH.jpg",H4="/assets/fuegos-BRmC_ynj.jpg",q4="/assets/tarraco-viva-CE0-9Kaa.jpg",W4="/assets/castells-7kkV_S9q.jpg",$4="/assets/Campdemart-DbQIABnj.jpg",G4="/assets/santmagi-YIPtOVx8.jpg",Z4="/assets/dixieland-CKeBttQk.jpg",K4="/assets/TarraTangueando-RITrakZK.jpg",Y4="/assets/SantaTecla-CPY7UEH0.jpg",Q4="/assets/URSI-Dzv889S0.jpg",X4=[{mes:"Junio",eventos:[{titulo:"Castells semanales",descripcion:"Exhibiciones tradicionales de torres humanas.",imagen:W4},{titulo:"Nit de Sant Joan",descripcion:"Celebración con hogueras, música y fuegos artificiales.",imagen:B4}]},{mes:"Julio",eventos:[{titulo:"Concurso de Fuegos Artificiales",descripcion:"Competencia pirotécnica en la playa.",imagen:H4},{titulo:"Festival Camp de Mart",descripcion:"Festival cultural con música y teatro al aire libre.",imagen:$4}]},{mes:"Agosto",eventos:[{titulo:"Sant Magí",descripcion:"Fiestas patronales con procesiones y conciertos.",imagen:G4},{titulo:"Dixieland",descripcion:"Festival de jazz tradicional.",imagen:Z4},{titulo:"TarraTangueando",descripcion:"Encuentro de tango con talleres y espectáculos.",imagen:K4}]},{mes:"Septiembre",eventos:[{titulo:"Santa Tecla",descripcion:"Gran fiesta mayor con actos tradicionales y fuegos.",imagen:Y4},{titulo:"URSI",descripcion:"Encuentro artístico urbano con intervenciones creativas.",imagen:Q4},{titulo:"Espectáculos en el Palau & cultura científica",descripcion:"Eventos culturales y divulgación científica.",imagen:q4}]}];function J4(){return A.jsxs("div",{className:"eventos-container",children:[A.jsx("h1",{children:"Eventos mensuales en Tarragona"}),X4.map((n,e)=>A.jsxs("div",{children:[A.jsx("h2",{children:n.mes}),A.jsx("div",{className:"evento-grid",children:n.eventos.map((t,r)=>t.imagen?A.jsxs(St,{to:`/eventos/${encodeURIComponent(t.titulo)}`,className:"evento-card",style:{textDecoration:"none",color:"inherit"},children:[A.jsx("img",{src:t.imagen,alt:t.titulo}),A.jsxs("div",{className:"evento-info",children:[A.jsx("h3",{children:t.titulo}),A.jsx("p",{children:t.descripcion})]})]},r):A.jsx("div",{className:"evento-card evento-sin-imagen",children:A.jsxs("div",{className:"evento-info no-img",children:[A.jsx("h3",{children:t.titulo}),A.jsx("p",{children:t.descripcion})]})},r))})]},e))]})}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function eV(n,e,t){return(e=nV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(t),!0).forEach(function(r){eV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nV(n){var e=tV(n,"string");return typeof e=="symbol"?e:e+""}const yE=()=>{};let vv={},pC={},mC=null,gC={mark:yE,measure:yE};try{typeof window<"u"&&(vv=window),typeof document<"u"&&(pC=document),typeof MutationObserver<"u"&&(mC=MutationObserver),typeof performance<"u"&&(gC=performance)}catch{}const{userAgent:wE=""}=vv.navigator||{},Pa=vv,Lt=pC,EE=mC,bd=gC;Pa.document;const fo=!!Lt.documentElement&&!!Lt.head&&typeof Lt.addEventListener=="function"&&typeof Lt.createElement=="function",_C=~wE.indexOf("MSIE")||~wE.indexOf("Trident/");var rV=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,iV=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,vC={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},sV={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},yC=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],qn="classic",sp="duotone",oV="sharp",aV="sharp-duotone",wC=[qn,sp,oV,aV],lV={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},uV={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},cV=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),hV={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},dV=["fak","fa-kit","fakd","fa-kit-duotone"],TE={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},fV=["kit"],pV={kit:{"fa-kit":"fak"}},mV=["fak","fakd"],gV={kit:{fak:"fa-kit"}},IE={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},kd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_V=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],vV=["fak","fa-kit","fakd","fa-kit-duotone"],yV={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},wV={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},EV={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Lg={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},TV=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ng=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",..._V,...TV],IV=["solid","regular","light","thin","duotone","brands"],EC=[1,2,3,4,5,6,7,8,9,10],SV=EC.concat([11,12,13,14,15,16,17,18,19,20]),CV=[...Object.keys(EV),...IV,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",kd.GROUP,kd.SWAP_OPACITY,kd.PRIMARY,kd.SECONDARY].concat(EC.map(n=>"".concat(n,"x"))).concat(SV.map(n=>"w-".concat(n))),xV={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const uo="___FONT_AWESOME___",Og=16,TC="fa",IC="svg-inline--fa",Cl="data-fa-i2svg",Mg="data-fa-pseudo-element",AV="data-fa-pseudo-element-pending",yv="data-prefix",wv="data-icon",SE="fontawesome-i2svg",PV="async",bV=["HTML","HEAD","STYLE","SCRIPT"],SC=(()=>{try{return!0}catch{return!1}})();function wh(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[qn]}})}const CC=ge({},vC);CC[qn]=ge(ge(ge(ge({},{"fa-duotone":"duotone"}),vC[qn]),TE.kit),TE["kit-duotone"]);const kV=wh(CC),Dg=ge({},hV);Dg[qn]=ge(ge(ge(ge({},{duotone:"fad"}),Dg[qn]),IE.kit),IE["kit-duotone"]);const CE=wh(Dg),Vg=ge({},Lg);Vg[qn]=ge(ge({},Vg[qn]),gV.kit);const Ev=wh(Vg),Fg=ge({},wV);Fg[qn]=ge(ge({},Fg[qn]),pV.kit);wh(Fg);const RV=rV,xC="fa-layers-text",LV=iV,NV=ge({},lV);wh(NV);const OV=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Hm=sV,MV=[...fV,...CV],jc=Pa.FontAwesomeConfig||{};function DV(n){var e=Lt.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function VV(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Lt&&typeof Lt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,r]=e;const o=VV(DV(t));o!=null&&(jc[r]=o)});const AC={styleDefault:"solid",familyDefault:qn,cssPrefix:TC,replacementClass:IC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};jc.familyPrefix&&(jc.cssPrefix=jc.familyPrefix);const Nu=ge(ge({},AC),jc);Nu.autoReplaceSvg||(Nu.observeMutations=!1);const Ne={};Object.keys(AC).forEach(n=>{Object.defineProperty(Ne,n,{enumerable:!0,set:function(e){Nu[n]=e,Uc.forEach(t=>t(Ne))},get:function(){return Nu[n]}})});Object.defineProperty(Ne,"familyPrefix",{enumerable:!0,set:function(n){Nu.cssPrefix=n,Uc.forEach(e=>e(Ne))},get:function(){return Nu.cssPrefix}});Pa.FontAwesomeConfig=Ne;const Uc=[];function FV(n){return Uc.push(n),()=>{Uc.splice(Uc.indexOf(n),1)}}const da=Og,Ki={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function jV(n){if(!n||!fo)return;const e=Lt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=Lt.head.childNodes;let r=null;for(let o=t.length-1;o>-1;o--){const a=t[o],u=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=a)}return Lt.head.insertBefore(e,r),n}const UV="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Yc(){let n=12,e="";for(;n-- >0;)e+=UV[Math.random()*62|0];return e}function Hu(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Tv(n){return n.classList?Hu(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function PC(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zV(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(PC(n[t]),'" '),"").trim()}function op(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function Iv(n){return n.size!==Ki.size||n.x!==Ki.x||n.y!==Ki.y||n.rotate!==Ki.rotate||n.flipX||n.flipY}function BV(n){let{transform:e,containerWidth:t,iconWidth:r}=n;const o={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)"),m={transform:"".concat(a," ").concat(u," ").concat(d)},_={transform:"translate(".concat(r/2*-1," -256)")};return{outer:o,inner:m,path:_}}function HV(n){let{transform:e,width:t=Og,height:r=Og,startCentered:o=!1}=n,a="";return o&&_C?a+="translate(".concat(e.x/da-t/2,"em, ").concat(e.y/da-r/2,"em) "):o?a+="translate(calc(-50% + ".concat(e.x/da,"em), calc(-50% + ").concat(e.y/da,"em)) "):a+="translate(".concat(e.x/da,"em, ").concat(e.y/da,"em) "),a+="scale(".concat(e.size/da*(e.flipX?-1:1),", ").concat(e.size/da*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var qV=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function bC(){const n=TC,e=IC,t=Ne.cssPrefix,r=Ne.replacementClass;let o=qV;if(t!==n||r!==e){const a=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");o=o.replace(a,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(d,".".concat(r))}return o}let xE=!1;function qm(){Ne.autoAddCss&&!xE&&(jV(bC()),xE=!0)}var WV={mixout(){return{dom:{css:bC,insertCss:qm}}},hooks(){return{beforeDOMElementCreation(){qm()},beforeI2svg(){qm()}}}};const co=Pa||{};co[uo]||(co[uo]={});co[uo].styles||(co[uo].styles={});co[uo].hooks||(co[uo].hooks={});co[uo].shims||(co[uo].shims=[]);var Yi=co[uo];const kC=[],RC=function(){Lt.removeEventListener("DOMContentLoaded",RC),gf=1,kC.map(n=>n())};let gf=!1;fo&&(gf=(Lt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Lt.readyState),gf||Lt.addEventListener("DOMContentLoaded",RC));function $V(n){fo&&(gf?setTimeout(n,0):kC.push(n))}function Eh(n){const{tag:e,attributes:t={},children:r=[]}=n;return typeof n=="string"?PC(n):"<".concat(e," ").concat(zV(t),">").concat(r.map(Eh).join(""),"</").concat(e,">")}function AE(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var Wm=function(e,t,r,o){var a=Object.keys(e),u=a.length,d=t,m,_,w;for(r===void 0?(m=1,w=e[a[0]]):(m=0,w=r);m<u;m++)_=a[m],w=d(w,e[_],_,e);return w};function GV(n){const e=[];let t=0;const r=n.length;for(;t<r;){const o=n.charCodeAt(t++);if(o>=55296&&o<=56319&&t<r){const a=n.charCodeAt(t++);(a&64512)==56320?e.push(((o&1023)<<10)+(a&1023)+65536):(e.push(o),t--)}else e.push(o)}return e}function jg(n){const e=GV(n);return e.length===1?e[0].toString(16):null}function ZV(n,e){const t=n.length;let r=n.charCodeAt(e),o;return r>=55296&&r<=56319&&t>e+1&&(o=n.charCodeAt(e+1),o>=56320&&o<=57343)?(r-55296)*1024+o-56320+65536:r}function PE(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return!!r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function Ug(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=t,o=PE(e);typeof Yi.hooks.addPack=="function"&&!r?Yi.hooks.addPack(n,PE(e)):Yi.styles[n]=ge(ge({},Yi.styles[n]||{}),o),n==="fas"&&Ug("fa",e)}const{styles:Qc,shims:KV}=Yi,LC=Object.keys(Ev),YV=LC.reduce((n,e)=>(n[e]=Object.keys(Ev[e]),n),{});let Sv=null,NC={},OC={},MC={},DC={},VC={};function QV(n){return~MV.indexOf(n)}function XV(n,e){const t=e.split("-"),r=t[0],o=t.slice(1).join("-");return r===n&&o!==""&&!QV(o)?o:null}const FC=()=>{const n=r=>Wm(Qc,(o,a,u)=>(o[u]=Wm(a,r,{}),o),{});NC=n((r,o,a)=>(o[3]&&(r[o[3]]=a),o[2]&&o[2].filter(d=>typeof d=="number").forEach(d=>{r[d.toString(16)]=a}),r)),OC=n((r,o,a)=>(r[a]=a,o[2]&&o[2].filter(d=>typeof d=="string").forEach(d=>{r[d]=a}),r)),VC=n((r,o,a)=>{const u=o[2];return r[a]=a,u.forEach(d=>{r[d]=a}),r});const e="far"in Qc||Ne.autoFetchSvg,t=Wm(KV,(r,o)=>{const a=o[0];let u=o[1];const d=o[2];return u==="far"&&!e&&(u="fas"),typeof a=="string"&&(r.names[a]={prefix:u,iconName:d}),typeof a=="number"&&(r.unicodes[a.toString(16)]={prefix:u,iconName:d}),r},{names:{},unicodes:{}});MC=t.names,DC=t.unicodes,Sv=ap(Ne.styleDefault,{family:Ne.familyDefault})};FV(n=>{Sv=ap(n.styleDefault,{family:Ne.familyDefault})});FC();function Cv(n,e){return(NC[n]||{})[e]}function JV(n,e){return(OC[n]||{})[e]}function ml(n,e){return(VC[n]||{})[e]}function jC(n){return MC[n]||{prefix:null,iconName:null}}function eF(n){const e=DC[n],t=Cv("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function ba(){return Sv}const UC=()=>({prefix:null,iconName:null,rest:[]});function tF(n){let e=qn;const t=LC.reduce((r,o)=>(r[o]="".concat(Ne.cssPrefix,"-").concat(o),r),{});return wC.forEach(r=>{(n.includes(t[r])||n.some(o=>YV[r].includes(o)))&&(e=r)}),e}function ap(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=qn}=e,r=kV[t][n];if(t===sp&&!n)return"fad";const o=CE[t][n]||CE[t][r],a=n in Yi.styles?n:null;return o||a||null}function nF(n){let e=[],t=null;return n.forEach(r=>{const o=XV(Ne.cssPrefix,r);o?t=o:r&&e.push(r)}),{iconName:t,rest:e}}function bE(n){return n.sort().filter((e,t,r)=>r.indexOf(e)===t)}function lp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let r=null;const o=Ng.concat(vV),a=bE(n.filter(I=>o.includes(I))),u=bE(n.filter(I=>!Ng.includes(I))),d=a.filter(I=>(r=I,!yC.includes(I))),[m=null]=d,_=tF(a),w=ge(ge({},nF(u)),{},{prefix:ap(m,{family:_})});return ge(ge(ge({},w),oF({values:n,family:_,styles:Qc,config:Ne,canonical:w,givenPrefix:r})),rF(t,r,w))}function rF(n,e,t){let{prefix:r,iconName:o}=t;if(n||!r||!o)return{prefix:r,iconName:o};const a=e==="fa"?jC(o):{},u=ml(r,o);return o=a.iconName||u||o,r=a.prefix||r,r==="far"&&!Qc.far&&Qc.fas&&!Ne.autoFetchSvg&&(r="fas"),{prefix:r,iconName:o}}const iF=wC.filter(n=>n!==qn||n!==sp),sF=Object.keys(Lg).filter(n=>n!==qn).map(n=>Object.keys(Lg[n])).flat();function oF(n){const{values:e,family:t,canonical:r,givenPrefix:o="",styles:a={},config:u={}}=n,d=t===sp,m=e.includes("fa-duotone")||e.includes("fad"),_=u.familyDefault==="duotone",w=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(m||_||w)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&iF.includes(t)&&(Object.keys(a).find(S=>sF.includes(S))||u.autoFetchSvg)){const S=cV.get(t).defaultShortPrefixId;r.prefix=S,r.iconName=ml(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||o==="fa")&&(r.prefix=ba()||"fas"),r}class aF{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const o=t.reduce(this._pullDefinitions,{});Object.keys(o).forEach(a=>{this.definitions[a]=ge(ge({},this.definitions[a]||{}),o[a]),Ug(a,o[a]);const u=Ev[qn][a];u&&Ug(u,o[a]),FC()})}reset(){this.definitions={}}_pullDefinitions(e,t){const r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map(o=>{const{prefix:a,iconName:u,icon:d}=r[o],m=d[2];e[a]||(e[a]={}),m.length>0&&m.forEach(_=>{typeof _=="string"&&(e[a][_]=d)}),e[a][u]=d}),e}}let kE=[],_u={};const Iu={},lF=Object.keys(Iu);function uF(n,e){let{mixoutsTo:t}=e;return kE=n,_u={},Object.keys(Iu).forEach(r=>{lF.indexOf(r)===-1&&delete Iu[r]}),kE.forEach(r=>{const o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(a=>{typeof o[a]=="function"&&(t[a]=o[a]),typeof o[a]=="object"&&Object.keys(o[a]).forEach(u=>{t[a]||(t[a]={}),t[a][u]=o[a][u]})}),r.hooks){const a=r.hooks();Object.keys(a).forEach(u=>{_u[u]||(_u[u]=[]),_u[u].push(a[u])})}r.provides&&r.provides(Iu)}),t}function zg(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];return(_u[n]||[]).forEach(u=>{e=u.apply(null,[e,...r])}),e}function xl(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(_u[n]||[]).forEach(a=>{a.apply(null,t)})}function ka(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Iu[n]?Iu[n].apply(null,e):void 0}function Bg(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||ba();if(e)return e=ml(t,e)||e,AE(zC.definitions,t,e)||AE(Yi.styles,t,e)}const zC=new aF,cF=()=>{Ne.autoReplaceSvg=!1,Ne.observeMutations=!1,xl("noAuto")},hF={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fo?(xl("beforeI2svg",n),ka("pseudoElements2svg",n),ka("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;Ne.autoReplaceSvg===!1&&(Ne.autoReplaceSvg=!0),Ne.observeMutations=!0,$V(()=>{fF({autoReplaceSvgRoot:e}),xl("watch",n)})}},dF={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:ml(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=ap(n[0]);return{prefix:t,iconName:ml(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(Ne.cssPrefix,"-"))>-1||n.match(RV))){const e=lp(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||ba(),iconName:ml(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=ba();return{prefix:e,iconName:ml(e,n)||n}}}},jr={noAuto:cF,config:Ne,dom:hF,parse:dF,library:zC,findIconDefinition:Bg,toHtml:Eh},fF=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Lt}=n;(Object.keys(Yi.styles).length>0||Ne.autoFetchSvg)&&fo&&Ne.autoReplaceSvg&&jr.dom.i2svg({node:e})};function up(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>Eh(t))}}),Object.defineProperty(n,"node",{get:function(){if(!fo)return;const t=Lt.createElement("div");return t.innerHTML=n.html,t.children}}),n}function pF(n){let{children:e,main:t,mask:r,attributes:o,styles:a,transform:u}=n;if(Iv(u)&&t.found&&!r.found){const{width:d,height:m}=t,_={x:d/m/2,y:.5};o.style=op(ge(ge({},a),{},{"transform-origin":"".concat(_.x+u.x/16,"em ").concat(_.y+u.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}function mF(n){let{prefix:e,iconName:t,children:r,attributes:o,symbol:a}=n;const u=a===!0?"".concat(e,"-").concat(Ne.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ge(ge({},o),{},{id:u}),children:r}]}]}function xv(n){const{icons:{main:e,mask:t},prefix:r,iconName:o,transform:a,symbol:u,title:d,maskId:m,titleId:_,extra:w,watchable:I=!1}=n,{width:S,height:b}=t.found?t:e,O=mV.includes(r),N=[Ne.replacementClass,o?"".concat(Ne.cssPrefix,"-").concat(o):""].filter(me=>w.classes.indexOf(me)===-1).filter(me=>me!==""||!!me).concat(w.classes).join(" ");let M={children:[],attributes:ge(ge({},w.attributes),{},{"data-prefix":r,"data-icon":o,class:N,role:w.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(S," ").concat(b)})};const j=O&&!~w.classes.indexOf("fa-fw")?{width:"".concat(S/b*16*.0625,"em")}:{};I&&(M.attributes[Cl]=""),d&&(M.children.push({tag:"title",attributes:{id:M.attributes["aria-labelledby"]||"title-".concat(_||Yc())},children:[d]}),delete M.attributes.title);const Q=ge(ge({},M),{},{prefix:r,iconName:o,main:e,mask:t,maskId:m,transform:a,symbol:u,styles:ge(ge({},j),w.styles)}),{children:te,attributes:oe}=t.found&&e.found?ka("generateAbstractMask",Q)||{children:[],attributes:{}}:ka("generateAbstractIcon",Q)||{children:[],attributes:{}};return Q.children=te,Q.attributes=oe,u?mF(Q):pF(Q)}function RE(n){const{content:e,width:t,height:r,transform:o,title:a,extra:u,watchable:d=!1}=n,m=ge(ge(ge({},u.attributes),a?{title:a}:{}),{},{class:u.classes.join(" ")});d&&(m[Cl]="");const _=ge({},u.styles);Iv(o)&&(_.transform=HV({transform:o,startCentered:!0,width:t,height:r}),_["-webkit-transform"]=_.transform);const w=op(_);w.length>0&&(m.style=w);const I=[];return I.push({tag:"span",attributes:m,children:[e]}),a&&I.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),I}function gF(n){const{content:e,title:t,extra:r}=n,o=ge(ge(ge({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),a=op(r.styles);a.length>0&&(o.style=a);const u=[];return u.push({tag:"span",attributes:o,children:[e]}),t&&u.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),u}const{styles:$m}=Yi;function Hg(n){const e=n[0],t=n[1],[r]=n.slice(4);let o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(Ne.cssPrefix,"-").concat(Hm.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ne.cssPrefix,"-").concat(Hm.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ne.cssPrefix,"-").concat(Hm.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:t,icon:o}}const _F={found:!1,width:512,height:512};function vF(n,e){!SC&&!Ne.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function qg(n,e){let t=e;return e==="fa"&&Ne.styleDefault!==null&&(e=ba()),new Promise((r,o)=>{if(t==="fa"){const a=jC(n)||{};n=a.iconName||n,e=a.prefix||e}if(n&&e&&$m[e]&&$m[e][n]){const a=$m[e][n];return r(Hg(a))}vF(n,e),r(ge(ge({},_F),{},{icon:Ne.showMissingIcons&&n?ka("missingIconAbstract")||{}:{}}))})}const LE=()=>{},Wg=Ne.measurePerformance&&bd&&bd.mark&&bd.measure?bd:{mark:LE,measure:LE},bc='FA "6.7.2"',yF=n=>(Wg.mark("".concat(bc," ").concat(n," begins")),()=>BC(n)),BC=n=>{Wg.mark("".concat(bc," ").concat(n," ends")),Wg.measure("".concat(bc," ").concat(n),"".concat(bc," ").concat(n," begins"),"".concat(bc," ").concat(n," ends"))};var Av={begin:yF,end:BC};const qd=()=>{};function NE(n){return typeof(n.getAttribute?n.getAttribute(Cl):null)=="string"}function wF(n){const e=n.getAttribute?n.getAttribute(yv):null,t=n.getAttribute?n.getAttribute(wv):null;return e&&t}function EF(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Ne.replacementClass)}function TF(){return Ne.autoReplaceSvg===!0?Wd.replace:Wd[Ne.autoReplaceSvg]||Wd.replace}function IF(n){return Lt.createElementNS("http://www.w3.org/2000/svg",n)}function SF(n){return Lt.createElement(n)}function HC(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?IF:SF}=e;if(typeof n=="string")return Lt.createTextNode(n);const r=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(a){r.setAttribute(a,n.attributes[a])}),(n.children||[]).forEach(function(a){r.appendChild(HC(a,{ceFn:t}))}),r}function CF(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Wd={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(HC(t),e)}),e.getAttribute(Cl)===null&&Ne.keepOriginalSource){let t=Lt.createComment(CF(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~Tv(e).indexOf(Ne.replacementClass))return Wd.replace(n);const r=new RegExp("".concat(Ne.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const a=t[0].attributes.class.split(" ").reduce((u,d)=>(d===Ne.replacementClass||d.match(r)?u.toSvg.push(d):u.toNode.push(d),u),{toNode:[],toSvg:[]});t[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}const o=t.map(a=>Eh(a)).join(`
`);e.setAttribute(Cl,""),e.innerHTML=o}};function OE(n){n()}function qC(n,e){const t=typeof e=="function"?e:qd;if(n.length===0)t();else{let r=OE;Ne.mutateApproach===PV&&(r=Pa.requestAnimationFrame||OE),r(()=>{const o=TF(),a=Av.begin("mutate");n.map(o),a(),t()})}}let Pv=!1;function WC(){Pv=!0}function $g(){Pv=!1}let _f=null;function ME(n){if(!EE||!Ne.observeMutations)return;const{treeCallback:e=qd,nodeCallback:t=qd,pseudoElementsCallback:r=qd,observeMutationsRoot:o=Lt}=n;_f=new EE(a=>{if(Pv)return;const u=ba();Hu(a).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!NE(d.addedNodes[0])&&(Ne.searchPseudoElements&&r(d.target),e(d.target)),d.type==="attributes"&&d.target.parentNode&&Ne.searchPseudoElements&&r(d.target.parentNode),d.type==="attributes"&&NE(d.target)&&~OV.indexOf(d.attributeName))if(d.attributeName==="class"&&wF(d.target)){const{prefix:m,iconName:_}=lp(Tv(d.target));d.target.setAttribute(yv,m||u),_&&d.target.setAttribute(wv,_)}else EF(d.target)&&t(d.target)})}),fo&&_f.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function xF(){_f&&_f.disconnect()}function AF(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((r,o)=>{const a=o.split(":"),u=a[0],d=a.slice(1);return u&&d.length>0&&(r[u]=d.join(":").trim()),r},{})),t}function PF(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"";let o=lp(Tv(n));return o.prefix||(o.prefix=ba()),e&&t&&(o.prefix=e,o.iconName=t),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=JV(o.prefix,n.innerText)||Cv(o.prefix,jg(n.innerText))),!o.iconName&&Ne.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=n.firstChild.data)),o}function bF(n){const e=Hu(n.attributes).reduce((o,a)=>(o.name!=="class"&&o.name!=="style"&&(o[a.name]=a.value),o),{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Ne.autoA11y&&(t?e["aria-labelledby"]="".concat(Ne.replacementClass,"-title-").concat(r||Yc()):(e["aria-hidden"]="true",e.focusable="false")),e}function kF(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ki,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function DE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:r,rest:o}=PF(n),a=bF(n),u=zg("parseNodeAttributes",{},n);let d=e.styleParser?AF(n):[];return ge({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:Ki,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:d,attributes:a}},u)}const{styles:RF}=Yi;function $C(n){const e=Ne.autoReplaceSvg==="nest"?DE(n,{styleParser:!1}):DE(n);return~e.extra.classes.indexOf(xC)?ka("generateLayersText",n,e):ka("generateSvgReplacementMutation",n,e)}function LF(){return[...dV,...Ng]}function VE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!fo)return Promise.resolve();const t=Lt.documentElement.classList,r=w=>t.add("".concat(SE,"-").concat(w)),o=w=>t.remove("".concat(SE,"-").concat(w)),a=Ne.autoFetchSvg?LF():yC.concat(Object.keys(RF));a.includes("fa")||a.push("fa");const u=[".".concat(xC,":not([").concat(Cl,"])")].concat(a.map(w=>".".concat(w,":not([").concat(Cl,"])"))).join(", ");if(u.length===0)return Promise.resolve();let d=[];try{d=Hu(n.querySelectorAll(u))}catch{}if(d.length>0)r("pending"),o("complete");else return Promise.resolve();const m=Av.begin("onTree"),_=d.reduce((w,I)=>{try{const S=$C(I);S&&w.push(S)}catch(S){SC||S.name==="MissingIcon"&&console.error(S)}return w},[]);return new Promise((w,I)=>{Promise.all(_).then(S=>{qC(S,()=>{r("active"),r("complete"),o("pending"),typeof e=="function"&&e(),m(),w()})}).catch(S=>{m(),I(S)})})}function NF(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;$C(n).then(t=>{t&&qC([t],e)})}function OF(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Bg(e||{});let{mask:o}=t;return o&&(o=(o||{}).icon?o:Bg(o||{})),n(r,ge(ge({},t),{},{mask:o}))}}const MF=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Ki,symbol:r=!1,mask:o=null,maskId:a=null,title:u=null,titleId:d=null,classes:m=[],attributes:_={},styles:w={}}=e;if(!n)return;const{prefix:I,iconName:S,icon:b}=n;return up(ge({type:"icon"},n),()=>(xl("beforeDOMElementCreation",{iconDefinition:n,params:e}),Ne.autoA11y&&(u?_["aria-labelledby"]="".concat(Ne.replacementClass,"-title-").concat(d||Yc()):(_["aria-hidden"]="true",_.focusable="false")),xv({icons:{main:Hg(b),mask:o?Hg(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:I,iconName:S,transform:ge(ge({},Ki),t),symbol:r,title:u,maskId:a,titleId:d,extra:{attributes:_,styles:w,classes:m}})))};var DF={mixout(){return{icon:OF(MF)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=VE,n.nodeCallback=NF,n}}},provides(n){n.i2svg=function(e){const{node:t=Lt,callback:r=()=>{}}=e;return VE(t,r)},n.generateSvgReplacementMutation=function(e,t){const{iconName:r,title:o,titleId:a,prefix:u,transform:d,symbol:m,mask:_,maskId:w,extra:I}=t;return new Promise((S,b)=>{Promise.all([qg(r,u),_.iconName?qg(_.iconName,_.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(O=>{let[N,M]=O;S([e,xv({icons:{main:N,mask:M},prefix:u,iconName:r,transform:d,symbol:m,maskId:w,title:o,titleId:a,extra:I,watchable:!0})])}).catch(b)})},n.generateAbstractIcon=function(e){let{children:t,attributes:r,main:o,transform:a,styles:u}=e;const d=op(u);d.length>0&&(r.style=d);let m;return Iv(a)&&(m=ka("generateAbstractTransformGrouping",{main:o,transform:a,containerWidth:o.width,iconWidth:o.width})),t.push(m||o.icon),{children:t,attributes:r}}}},VF={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return up({type:"layer"},()=>{xl("beforeDOMElementCreation",{assembler:n,params:e});let r=[];return n(o=>{Array.isArray(o)?o.map(a=>{r=r.concat(a.abstract)}):r=r.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(Ne.cssPrefix,"-layers"),...t].join(" ")},children:r}]})}}}},FF={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:r=[],attributes:o={},styles:a={}}=e;return up({type:"counter",content:n},()=>(xl("beforeDOMElementCreation",{content:n,params:e}),gF({content:n.toString(),title:t,extra:{attributes:o,styles:a,classes:["".concat(Ne.cssPrefix,"-layers-counter"),...r]}})))}}}},jF={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Ki,title:r=null,classes:o=[],attributes:a={},styles:u={}}=e;return up({type:"text",content:n},()=>(xl("beforeDOMElementCreation",{content:n,params:e}),RE({content:n,transform:ge(ge({},Ki),t),title:r,extra:{attributes:a,styles:u,classes:["".concat(Ne.cssPrefix,"-layers-text"),...o]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:r,transform:o,extra:a}=t;let u=null,d=null;if(_C){const m=parseInt(getComputedStyle(e).fontSize,10),_=e.getBoundingClientRect();u=_.width/m,d=_.height/m}return Ne.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,RE({content:e.innerHTML,width:u,height:d,transform:o,title:r,extra:a,watchable:!0})])}}};const UF=new RegExp('"',"ug"),FE=[1105920,1112319],jE=ge(ge(ge(ge({},{FontAwesome:{normal:"fas",400:"fas"}}),uV),xV),yV),Gg=Object.keys(jE).reduce((n,e)=>(n[e.toLowerCase()]=jE[e],n),{}),zF=Object.keys(Gg).reduce((n,e)=>{const t=Gg[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function BF(n){const e=n.replace(UF,""),t=ZV(e,0),r=t>=FE[0]&&t<=FE[1],o=e.length===2?e[0]===e[1]:!1;return{value:jg(o?e[0]:e),isSecondary:r||o}}function HF(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),o=isNaN(r)?"normal":r;return(Gg[t]||{})[o]||zF[t]}function UE(n,e){const t="".concat(AV).concat(e.replace(":","-"));return new Promise((r,o)=>{if(n.getAttribute(t)!==null)return r();const u=Hu(n.children).filter(S=>S.getAttribute(Mg)===e)[0],d=Pa.getComputedStyle(n,e),m=d.getPropertyValue("font-family"),_=m.match(LV),w=d.getPropertyValue("font-weight"),I=d.getPropertyValue("content");if(u&&!_)return n.removeChild(u),r();if(_&&I!=="none"&&I!==""){const S=d.getPropertyValue("content");let b=HF(m,w);const{value:O,isSecondary:N}=BF(S),M=_[0].startsWith("FontAwesome");let j=Cv(b,O),Q=j;if(M){const te=eF(O);te.iconName&&te.prefix&&(j=te.iconName,b=te.prefix)}if(j&&!N&&(!u||u.getAttribute(yv)!==b||u.getAttribute(wv)!==Q)){n.setAttribute(t,Q),u&&n.removeChild(u);const te=kF(),{extra:oe}=te;oe.attributes[Mg]=e,qg(j,b).then(me=>{const Ce=xv(ge(ge({},te),{},{icons:{main:me,mask:UC()},prefix:b,iconName:Q,extra:oe,watchable:!0})),H=Lt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(H,n.firstChild):n.appendChild(H),H.outerHTML=Ce.map(D=>Eh(D)).join(`
`),n.removeAttribute(t),r()}).catch(o)}else r()}else r()})}function qF(n){return Promise.all([UE(n,"::before"),UE(n,"::after")])}function WF(n){return n.parentNode!==document.head&&!~bV.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Mg)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function zE(n){if(fo)return new Promise((e,t)=>{const r=Hu(n.querySelectorAll("*")).filter(WF).map(qF),o=Av.begin("searchPseudoElements");WC(),Promise.all(r).then(()=>{o(),$g(),e()}).catch(()=>{o(),$g(),t()})})}var $F={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=zE,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=Lt}=e;Ne.searchPseudoElements&&zE(t)}}};let BE=!1;var GF={mixout(){return{dom:{unwatch(){WC(),BE=!0}}}},hooks(){return{bootstrap(){ME(zg("mutationObserverCallbacks",{}))},noAuto(){xF()},watch(n){const{observeMutationsRoot:e}=n;BE?$g():ME(zg("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const HE=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,r)=>{const o=r.toLowerCase().split("-"),a=o[0];let u=o.slice(1).join("-");if(a&&u==="h")return t.flipX=!0,t;if(a&&u==="v")return t.flipY=!0,t;if(u=parseFloat(u),isNaN(u))return t;switch(a){case"grow":t.size=t.size+u;break;case"shrink":t.size=t.size-u;break;case"left":t.x=t.x-u;break;case"right":t.x=t.x+u;break;case"up":t.y=t.y-u;break;case"down":t.y=t.y+u;break;case"rotate":t.rotate=t.rotate+u;break}return t},e)};var ZF={mixout(){return{parse:{transform:n=>HE(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=HE(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:r,containerWidth:o,iconWidth:a}=e;const u={transform:"translate(".concat(o/2," 256)")},d="translate(".concat(r.x*32,", ").concat(r.y*32,") "),m="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),_="rotate(".concat(r.rotate," 0 0)"),w={transform:"".concat(d," ").concat(m," ").concat(_)},I={transform:"translate(".concat(a/2*-1," -256)")},S={outer:u,inner:w,path:I};return{tag:"g",attributes:ge({},S.outer),children:[{tag:"g",attributes:ge({},S.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:ge(ge({},t.icon.attributes),S.path)}]}]}}}};const Gm={x:0,y:0,width:"100%",height:"100%"};function qE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function KF(n){return n.tag==="g"?n.children:[n]}var YF={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),r=t?lp(t.split(" ").map(o=>o.trim())):UC();return r.prefix||(r.prefix=ba()),n.mask=r,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:r,main:o,mask:a,maskId:u,transform:d}=e;const{width:m,icon:_}=o,{width:w,icon:I}=a,S=BV({transform:d,containerWidth:w,iconWidth:m}),b={tag:"rect",attributes:ge(ge({},Gm),{},{fill:"white"})},O=_.children?{children:_.children.map(qE)}:{},N={tag:"g",attributes:ge({},S.inner),children:[qE(ge({tag:_.tag,attributes:ge(ge({},_.attributes),S.path)},O))]},M={tag:"g",attributes:ge({},S.outer),children:[N]},j="mask-".concat(u||Yc()),Q="clip-".concat(u||Yc()),te={tag:"mask",attributes:ge(ge({},Gm),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[b,M]},oe={tag:"defs",children:[{tag:"clipPath",attributes:{id:Q},children:KF(I)},te]};return t.push(oe,{tag:"rect",attributes:ge({fill:"currentColor","clip-path":"url(#".concat(Q,")"),mask:"url(#".concat(j,")")},Gm)}),{children:t,attributes:r}}}},QF={provides(n){let e=!1;Pa.matchMedia&&(e=Pa.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],r={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:ge(ge({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=ge(ge({},o),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ge(ge({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:ge(ge({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ge(ge({},a),{},{values:"1;0;1;1;0;1;"})}),t.push(u),t.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ge(ge({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ge(ge({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},XF={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),r=t===null?!1:t===""?!0:t;return n.symbol=r,n}}}},JF=[WV,DF,VF,FF,jF,$F,GF,ZF,YF,QF,XF];uF(JF,{mixoutsTo:jr});jr.noAuto;jr.config;jr.library;jr.dom;const Zg=jr.parse;jr.findIconDefinition;jr.toHtml;const ej=jr.icon;jr.layer;jr.text;jr.counter;var Zm={exports:{}},Km,WE;function tj(){if(WE)return Km;WE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Km=n,Km}var Ym,$E;function nj(){if($E)return Ym;$E=1;var n=tj();function e(){}function t(){}return t.resetWarningCache=e,Ym=function(){function r(u,d,m,_,w,I){if(I!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Ym}var GE;function rj(){return GE||(GE=1,Zm.exports=nj()()),Zm.exports}var ij=rj();const tt=Xc(ij);function ZE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Gi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(t),!0).forEach(function(r){vu(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vf(n){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(n)}function vu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sj(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function oj(n,e){if(n==null)return{};var t=sj(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Kg(n){return aj(n)||lj(n)||uj(n)||cj()}function aj(n){if(Array.isArray(n))return Yg(n)}function lj(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function uj(n,e){if(n){if(typeof n=="string")return Yg(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Yg(n,e)}}function Yg(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function cj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hj(n){var e,t=n.beat,r=n.fade,o=n.beatFade,a=n.bounce,u=n.shake,d=n.flash,m=n.spin,_=n.spinPulse,w=n.spinReverse,I=n.pulse,S=n.fixedWidth,b=n.inverse,O=n.border,N=n.listItem,M=n.flip,j=n.size,Q=n.rotation,te=n.pull,oe=(e={"fa-beat":t,"fa-fade":r,"fa-beat-fade":o,"fa-bounce":a,"fa-shake":u,"fa-flash":d,"fa-spin":m,"fa-spin-reverse":w,"fa-spin-pulse":_,"fa-pulse":I,"fa-fw":S,"fa-inverse":b,"fa-border":O,"fa-li":N,"fa-flip":M===!0,"fa-flip-horizontal":M==="horizontal"||M==="both","fa-flip-vertical":M==="vertical"||M==="both"},vu(e,"fa-".concat(j),typeof j<"u"&&j!==null),vu(e,"fa-rotate-".concat(Q),typeof Q<"u"&&Q!==null&&Q!==0),vu(e,"fa-pull-".concat(te),typeof te<"u"&&te!==null),vu(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(oe).map(function(me){return oe[me]?me:null}).filter(function(me){return me})}function dj(n){return n=n-0,n===n}function GC(n){return dj(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var fj=["style"];function pj(n){return n.charAt(0).toUpperCase()+n.slice(1)}function mj(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var r=t.indexOf(":"),o=GC(t.slice(0,r)),a=t.slice(r+1).trim();return o.startsWith("webkit")?e[pj(o)]=a:e[o]=a,e},{})}function ZC(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(m){return ZC(n,m)}),o=Object.keys(e.attributes||{}).reduce(function(m,_){var w=e.attributes[_];switch(_){case"class":m.attrs.className=w,delete e.attributes.class;break;case"style":m.attrs.style=mj(w);break;default:_.indexOf("aria-")===0||_.indexOf("data-")===0?m.attrs[_.toLowerCase()]=w:m.attrs[GC(_)]=w}return m},{attrs:{}}),a=t.style,u=a===void 0?{}:a,d=oj(t,fj);return o.attrs.style=Gi(Gi({},o.attrs.style),u),n.apply(void 0,[e.tag,Gi(Gi({},o.attrs),d)].concat(Kg(r)))}var KC=!1;try{KC=!0}catch{}function gj(){if(!KC&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function KE(n){if(n&&vf(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(Zg.icon)return Zg.icon(n);if(n===null)return null;if(n&&vf(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function Qm(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?vu({},n,e):{}}var YE={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},dl=Su.forwardRef(function(n,e){var t=Gi(Gi({},YE),n),r=t.icon,o=t.mask,a=t.symbol,u=t.className,d=t.title,m=t.titleId,_=t.maskId,w=KE(r),I=Qm("classes",[].concat(Kg(hj(t)),Kg((u||"").split(" ")))),S=Qm("transform",typeof t.transform=="string"?Zg.transform(t.transform):t.transform),b=Qm("mask",KE(o)),O=ej(w,Gi(Gi(Gi(Gi({},I),S),b),{},{symbol:a,title:d,titleId:m,maskId:_}));if(!O)return gj("Could not find icon",w),null;var N=O.abstract,M={ref:e};return Object.keys(t).forEach(function(j){YE.hasOwnProperty(j)||(M[j]=t[j])}),_j(N[0],M)});dl.displayName="FontAwesomeIcon";dl.propTypes={beat:tt.bool,border:tt.bool,beatFade:tt.bool,bounce:tt.bool,className:tt.string,fade:tt.bool,flash:tt.bool,mask:tt.oneOfType([tt.object,tt.array,tt.string]),maskId:tt.string,fixedWidth:tt.bool,inverse:tt.bool,flip:tt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:tt.oneOfType([tt.object,tt.array,tt.string]),listItem:tt.bool,pull:tt.oneOf(["right","left"]),pulse:tt.bool,rotation:tt.oneOf([0,90,180,270]),shake:tt.bool,size:tt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:tt.bool,spinPulse:tt.bool,spinReverse:tt.bool,symbol:tt.oneOfType([tt.bool,tt.string]),title:tt.string,titleId:tt.string,transform:tt.oneOfType([tt.string,tt.object]),swapOpacity:tt.bool};var _j=ZC.bind(null,Su.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const vj={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"]},yj={prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]},wj={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const QE={prefix:"fas",iconName:"universal-access",icon:[512,512,[],"f29a","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm161.5-86.1c-12.2-5.2-26.3 .4-31.5 12.6s.4 26.3 12.6 31.5l11.9 5.1c17.3 7.4 35.2 12.9 53.6 16.3l0 50.1c0 4.3-.7 8.6-2.1 12.6l-28.7 86.1c-4.2 12.6 2.6 26.2 15.2 30.4s26.2-2.6 30.4-15.2l24.4-73.2c1.3-3.8 4.8-6.4 8.8-6.4s7.6 2.6 8.8 6.4l24.4 73.2c4.2 12.6 17.8 19.4 30.4 15.2s19.4-17.8 15.2-30.4l-28.7-86.1c-1.4-4.1-2.1-8.3-2.1-12.6l0-50.1c18.4-3.5 36.3-8.9 53.6-16.3l11.9-5.1c12.2-5.2 17.8-19.3 12.6-31.5s-19.3-17.8-31.5-12.6L338.7 175c-26.1 11.2-54.2 17-82.7 17s-56.5-5.8-82.7-17l-11.9-5.1zM256 160a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},Ej=({activarAccesibilidad:n,modoAccesible:e,leerTexto:t})=>A.jsxs("footer",{className:"footer",children:[A.jsxs("div",{className:"footer-contenedor",children:[A.jsxs("div",{className:"footer-col",children:[A.jsx("h4",{children:"Accesibilidad"}),A.jsxs("button",{className:"btn-accesibilidad",onClick:n,children:[A.jsx(dl,{icon:QE})," ",e?"Desactivar modo accesible":"Modo Accesible"]}),A.jsxs("button",{className:"btn-accesibilidad",onClick:()=>t("Bienvenido a Turismo Tarragona. Explora la historia, cultura y belleza de nuestra ciudad."),children:[A.jsx(dl,{icon:QE})," Escuchar descripción"]})]}),A.jsxs("div",{className:"footer-col",children:[A.jsx("h4",{children:"Turismo Tarragona"}),A.jsx("p",{children:"Explora la historia, cultura y belleza de nuestra ciudad."})]}),A.jsxs("div",{className:"footer-col",children:[A.jsx("h4",{children:"Enlaces útiles"}),A.jsx("ul",{children:A.jsxs("ul",{children:[A.jsx("li",{children:A.jsx(St,{to:"/",children:"Inicio"})}),A.jsx("li",{children:A.jsx(St,{to:"/rutas",children:"Rutas"})}),A.jsx("li",{children:A.jsx(St,{to:"/terminos",children:"Terminos y condiciones"})}),A.jsx("li",{children:A.jsx(St,{to:"/faq",children:"Preguntas Frecuentes"})})]})})]}),A.jsxs("div",{className:"footer-col",children:[A.jsx("h4",{children:"Contacto"}),A.jsx("p",{children:"Email: contacto@tgotours.com"}),A.jsx("p",{children:"Teléfono: +34 656 280 412"}),A.jsx("ul",{children:A.jsx("li",{children:A.jsx(St,{to:"/contacto",children:"Formulario de contacto"})})}),A.jsxs("div",{className:"footer-redes",children:[A.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",children:A.jsx(dl,{icon:vj})}),A.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",children:A.jsx(dl,{icon:wj})}),A.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noreferrer",children:A.jsx(dl,{icon:yj})})]})]})]}),A.jsx("div",{className:"footer-copy",children:A.jsxs("p",{children:["© ",new Date().getFullYear()," Turismo Tarragona. Todos los derechos reservados."]})})]}),Tj=[{mes:"Junio",eventos:[{titulo:"Castells semanales",descripcion:"Exhibiciones tradicionales de torres humanas."},{titulo:"Nit de Sant Joan",descripcion:"Celebración con hogueras, música y fuegos artificiales."}]},{mes:"Julio",eventos:[{titulo:"Concurso de Fuegos Artificiales",descripcion:"Competencia pirotécnica en la playa."},{titulo:"Festival Camp de Mart",descripcion:"Festival cultural con música y teatro al aire libre."}]},{mes:"Agosto",eventos:[{titulo:"Sant Magí",descripcion:"Fiestas patronales con procesiones y conciertos."},{titulo:"Dixieland",descripcion:"Festival de jazz tradicional."},{titulo:"TarraTangueando",descripcion:"Encuentro de tango con talleres y espectáculos."}]},{mes:"Septiembre",eventos:[{titulo:"Santa Tecla",descripcion:"Gran fiesta mayor con actos tradicionales y fuegos."},{titulo:"URSI",descripcion:"Encuentro artístico urbano con intervenciones creativas."},{titulo:"Espectáculos en el Palau & cultura científica",descripcion:"Eventos culturales y divulgación científica."}]}];function Ij(){return A.jsxs("div",{className:"eventos-container",children:[A.jsx("h1",{children:"Eventos mensuales en Tarragona"}),Tj.map((n,e)=>A.jsxs("div",{children:[A.jsx("h2",{children:n.mes}),A.jsx("ul",{className:"evento-lista",children:n.eventos.map((t,r)=>A.jsxs("li",{children:[A.jsx("h3",{children:t.titulo}),A.jsx("p",{children:t.descripcion})]},r))})]},e))]})}const Sj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADT0lEQVR4nO2XXUhTYRjHd+l9SNitkZAKc5aDNHSKgpp0kyQDLdCkC/Gi0N3U2oWxGOJHn3P4STsqM/NjYqTZakdFzbSUPOqZrmUbpNCGKfQBPvG+eubZ2fHsbLYuogf+HA7b+/x/53l3Xv6TSP7XH6h1ReK4O0cOnlw5oOuX1ERwyOKRfnxMiLstCXe5s5N2kDkjd04SAwCOhPjNsAOspyeO+U5Atj8BWVyV5G+Vg3nqPYleSFht1QRp6yVIWkOQy3nto9QxsWspx8Yx6vPXPMrp1jBbwAAQJF1PkHRRO0nHCjYxWukdgrSBr2gXQdJmNhTbjHK6zZTT7aJcHmDkD8Dfz2hdOddisUfsT2DvS4/1j6C1rQNaB6c4i3fFNmM0s2qDRe01vPdcgDmFAu7f64Zay6p/P6vtpR+ApyTaq7WrUlAbskGrL4SaZg009Jhhgp6GZ9O18HS0GD70F8IGIYWfrVH4V+99A7JZb4AsHt6kpkO0yQXSJ07I6VsD1ZAde6GpCwIgXTJl+ah+IgWr7bUcGzNaOxPnY8rWfHIyBmAU0+XyTiFkgPmeEz4AphfVoKQAKyslF4ttytWhAMYGYg80R7pwsSx8AOMDJwXNkfKV5eEB6NCeDmiOAQrKICMj/0BzhemheIDizkxs3qk9he+FzDNGtyHN+g3OF10HuVIFkY2LcLR52c8c9RMNMHJTCsNqqfde6MnTyS04a9nEOmJYwIpsWvIzDwrAw5FpmN+cK76xs7czJACdtkqUOReAax4SgE5bhZsFC8BnHjSAbs+cDaCabYC6CQU+F9AV3XMBDjIPCkDHMmcD1Exmek9FpNrJLB8AIXPRADqOudAEKt8ZvJ9VzjYJmgsCuK8ch/flaVBe18x7iATae2SOoEIGiBY4PgMBMOaHAojpCg2AbR4SgHEvkqGwgEIDCg9iAVRzvVA9UwEP5g3QuTwCY45V0Fvm4MbzISjtbwRltxoKui4HmIDVZuFGJv2rFVAP26Fk0OGFKl3agVu2X6C3f4e+T9sw5dzkjWl8ce7uyFuoGOyDMrPRH6DFYo9AQXE3gOLg6BKbCXEw3Q2oGhRYF9a3olCARUFWqJ9PJOMrviZcM5SSeRcH7If/AtwRu/bfrt/wwdHXaQEHmAAAAABJRU5ErkJggg==",Cj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR4nO2Wv2sUQRzFPygqiJLCwlIUBEEbETR/gWChpLHUIoUgudLqGgsNVhb5wc5MFAQLhUshVsZGOFCENInYCEEwYiEKiZEoB0d8MnN7d5O9HKeXuz3QDHxgebMz77Ez35mFndZlk2NIlmLAMZSfcYndMtyRZU0WpawF7R6H+x9gmgORcZaKLA9lOD6oAErZkKGkGU5uz+w+B5VwLMOpPwgQB3kiw9nuAiSM/oVZJ17KcnGQARQwLMhw1W/mppHjuizvWzB86XmAZpAbzQC1elbOFONPfVqWa5XbPP95ixf9xHt4L+/ZsuYrY3xeHWO9S36ktNNDn/foqiLaNU1zJD2A6mtbVcKZ9Lz4vqkkHRfodZNjjyxPowBlOfaHvoQHkf5GUxzqlel5JVzachMbJtuU8ez2jROGZXiV3cX5BTBMbFVG/14A1a7U9UDClUEEmG0MTBjdCUCeS6DaCTYfLUGYUBPsk2WuoTse6Sa7AobHkdGcSuxNA0xG+ryfu3MAx0jm2qymf0bDmdvsl2Y4Gv6S/HPc5zgXxvixm/WRTptvUZYlWT7K8ilg+JBqSzIsN3QX6TY8199fjt5v6rU5vb7YYvy1wIlvBS5XxilXxnndZ8rey3s2AqwUKK4WUJ54z/rOXtiY4m31Lu/yxHt6bx/g2SDhv2+/AezL91uHM/dIAAAAAElFTkSuQmCC",xj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD0UlEQVR4nO1W7U9bZRRv4h/gJ/dN/xA/r9olw2RovzhnZtLY2fWCFtLbl4zutujYSmmhDNYChZKCAycgBhQ3nCzZsizRyICCRHmZwZhsfbn39nW0/ZnntBpIIUjL/CIn+eU+ec7b79znnOdeheJYjuUQolaPvsTx9mHOJOQ4kx27IeSYjtkoqhJ+8TWFMRxSGMOjJYQUhoVXmYrj7VfLE++G3iS0VJT3QoPthN5sr32dH7G8bHz0YCfYHmcS2jiTUDiIALPR83aX3iSo94TZXstylRHQm4SVg4MfEXj7chkB7hAB9LwAXWMTtAYrga3Z3mFiVETgotEGTR2Pyy1u3PpqGnP3HxJuTUzh8pU20jGbnT71FgcmvpnF+PQdWldMQGuwwiy0YGllFfvJYvgXmGxXyPZvP48viKgkE9i6IgJagxWOa+1IJJOUKJsq4NefnuPhTAZztzP4eSGLZLpAOmZjv+b5h4TZ0YrV9U2srm3CZHcensBFow31vA1xUaIEf67kMNuewqQrgVG3jECHDO91Cc6AhPm152QTF0XU8bay46ioBzR1PG5/f48CP1vP4Y4ziRlnEpOtRQL9JQLNN0QY++JY2iqSmJmdI9+qCOh5ARrOiFQqRUHv9aXxrTOJqdYkxl0JfO6W0dshw9MlQfCJMPTFYZkQwQ4jlU6T737T8a8I6BqbqLvptT7NU9IJVwJjbQmMuGUE22V0d0pwdku45I+D64vhvcEoNuI58rF95qIYFRPQGqxwef0U7PfftjHskanqIY+MgXYZPq9E1Tt8Ioy9cWj7Y1CHoniwlSUfl9e3ayIqItDs7KBgf2zl4PdK6PFK9LzeKcHdJeHTGyIsPXFwgRjODUZxejiC+afb5OPYMQ0VH4GuwYp8Po/tbaCzR6akbV0SrnaLsPtEmHviqOuL4YNgFLVDEZweiyCbK5CPzmCp7gj0vIDzHxnweDFMFf3wYwY2n4gmf7Hqxt449IEYzgejeCcUwRs3I+hfLt4V8wtL5FtVE3KlMWTNVCgUkC8AwbtJqlgXiEEzEMPZwSjODEWgvPkMtkcScgWQ7aVmZ/VjyJUuIlbJ8OgYVcZG7P5aFsJ3Et4dieLtL6L45K6ImScZ0jEJjXxJPkdyEXGlZnz/wsfoDQ4hkyl2+F7CdP6BENnu13wVEeBKJKiqBivGv57G+sYTpNNpwtrGJsYmp6jpmM1BySsiwO34HLMk5z6sx1kNR2BrtrfX5/hICXAv8ofk5KmaZeWpGvwnUNWEywgolWdOnHyzplapekv9IsFyqFSqV8oIHMv/Vv4C615yvhW/JToAAAAASUVORK5CYII=",Aj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADKUlEQVR4nO2X30tTYRjHdxF0YUIXBdVNXXRT9A+UgRfuKNVmRph5Isxt9otC3chSK/tBRQpuIuhQ1Gpqbbjj8seZus5gc+amGNbKLkQi0qV0YRaVlvMb7/SstTnbL7upB74wzt7n+X7e9zkHnlcgiDCUGqZY1ci4iJSNTKHgb4aqSX9UqWHmCYSykblMfldomCMxNUlMLFlD0dIEipamE+XfVpbzulPb5Cxr0I7wa0vvaV+TZ75r+DxSg9QKyzxVIomnaNkgRcvAS9XI+EmPKxXqk0Xl6tNKjf9/jDePSEjLHKRmyADCTGkxSaTPF+BmhdqjQICVxeeRGh6ITFlRGACyRySJ67ODjyptW8jmZC0fnM2+dArShyEDULRMR5Is9kFvobF3LrC9A+i0OlYUWUPW8kFqLLVCFxVApPEfwBKrFnAcF5b8WyA6lqMfVyhax+Vy65vc3PVhA0xNTYUlX4B9x0+h7r7WNXa1BBMKBcbl8oEVIagYApj6B5Ff2wSDuQ8dRs7NQ0zI5eWr1oLnphpguBSzz+4i+bEOcS1mlPXYFiG6zd9Hr10fdykUO8MCCDne9wJdaZg1pkFkqIegxeJRnN7igTCaTXB1K26F/Q44nc4/6q2jGQvGg/jGHkJK6z2vOa/tTDumu7IBVrwAVpwXUwDenOz8gCHQfGMLC2dnNmAU+0h0ITYtmHzqc+yB5ht0HTCrhfhhSPEDECPql3DYVAe3d+cNQcyT4KrcgRnN7sgBpoJ8bnO2i0s7b8AmPQtxaz0SmGZs1bdjc0ubx3yyehfmGCrAPCYA06McRB1axOmf4KOtABi68ZuBm13UcuYxacEAVw0Htxdb9O2Y778E9OUHNYsKIFh8HlUClrXo4pKw31AHjs2Du+dw7AGcQT6/c7lZ6KnaBljjYB0qxMuZL8D8HPBhCBipwdfurNUFqKytg8NuAuY/LXtCpIbkzAkYVBkvwIofwCh6BaO4DUaRjijqFqzKPCDkh1Lbr6E00ohoKBVmyor8x/JIxY/lFC0N/fqWKpHEk8uE7+UiGglpqT0x/ew6QTRXMypCJWfk7An7aib4l+InyIMFeS9H2GAAAAAASUVORK5CYII=",Pj=()=>A.jsxs("div",{className:"about-wrapper",children:[A.jsx("div",{className:"about-logo-section",children:A.jsx("img",{src:XS,alt:"Logo TGO Tours",className:"about-logo"})}),A.jsxs("div",{className:"about-content",children:[A.jsxs("p",{children:["Bienvenido a ",A.jsx("strong",{children:"TGoTours"}),", una plataforma pensada para ayudarte a descubrir y disfrutar lo mejor de Tarragona."]}),A.jsx("h2",{children:"¿Qué encontrarás aquí?"}),A.jsxs("ul",{children:[A.jsxs("li",{children:[A.jsx("img",{src:Sj,alt:"icono de mapa"})," Mapas interactivos con rutas peatonales optimizadas"]}),A.jsxs("li",{children:[A.jsx("img",{src:Cj,alt:"icono de lugar"})," Puntos de interés destacados con información histórica"]}),A.jsxs("li",{children:[A.jsx("img",{src:xj,alt:"icono de camara"})," Imágenes y recomendaciones de cada lugar"]}),A.jsxs("li",{children:[A.jsx("img",{src:Aj,alt:"icono de foro"})," Foro donde puedes dejar tus comentarios o experiencias"]})]})]}),A.jsxs("div",{className:"content-who",children:[A.jsx("h2",{children:"¿Quiénes somos?"}),A.jsx("p",{children:"Este proyecto nace con el objetivo de facilitar el turismo local, especialmente para quienes visitan Tarragona por primera vez o desean conocerla a fondo sin usar múltiples apps."}),A.jsx("p",{children:"Nuestro equipo está formado por amantes de la historia, la cultura de Tarragona y desarroladores entusiastas. Juntos hemos creado esta plataforma con la intención de conectar tecnología y patrimonio, permitiendo a cualquier persona descubrir la ciudad a pie, a su ritmo y con información útil."}),A.jsx("p",{children:"Tarragona no solo es un museo al aire libre del pasado romano, también es mar, gastronomía, arte y vida local. Queremos ayudarte a vivir esa riqueza con rutas pensadas para que cada paso cuente una historia."}),A.jsx("h2",{children:"¿Cómo funciona?"}),A.jsx("p",{children:"Elige una ruta dependiendo de lo que desees hacer desde nuestro menú de rutas donde tendras divertidas y entretenidas opciones. Podrás ver los puntos destacados, un mapa en tiempo real y comentarios de otros visitantes."}),A.jsx("h2",{children:"¿Tienes sugerencias?"}),A.jsxs("p",{children:["Estamos en constante mejora. Si tienes ideas, correcciones o quieres colaborar, puedes escribirnos a:"," ",A.jsx("a",{href:"mailto:contacto@tarracoexplorer.com",style:{color:"#81c7ff",textDecoration:"underline"},children:"contacto@tarracoexplorer.com"})]}),A.jsx("p",{style:{marginTop:"1.5rem",fontStyle:"italic"},children:"¡Esperamos que disfrutes tu viaje por Tarragona tanto como nosotros disfrutamos construir esta plataforma!"})]}),A.jsxs("div",{className:"about-section",children:[A.jsx("h2",{children:"Sobre los creadores"}),A.jsxs("div",{className:"creator-container",children:[A.jsxs("div",{className:"creator-card",children:[A.jsx("img",{src:"/assets/adria.jpg",alt:"Foto Adrià",className:"creator.image"}),A.jsx("div",{className:"creator-name",children:"Adrià Gonzales "}),A.jsx("div",{className:"creator-role",children:"Desarrolador Backend"}),A.jsx("p",{className:"creator-bio",children:"Responsable de la base de datos y la interaccion del usuario"})]}),A.jsxs("div",{className:"creator-card",children:[A.jsx("img",{src:"/assets/dani.jpg",alt:"Foto Adrià",className:"creator.image"}),A.jsx("div",{className:"creator-name",children:"Daniel Garcia"}),A.jsx("div",{className:"creator-role",children:"Desarrolador Frontend"}),A.jsx("p",{className:"creator-bio",children:"Responsable del contenido y la interaccion del usuario"})]}),A.jsxs("div",{className:"creator-card",children:[A.jsx("img",{src:"/assets/dani.jpg",alt:"Foto Adrià",className:"creator.image"}),A.jsx("div",{className:"creator-name",children:"Nighjhurey Bueno"}),A.jsx("div",{className:"creator-role",children:"Desarroladora FullStack"}),A.jsx("p",{className:"creator-bio",children:"Responsable de la interaccion del usuario"})]})]})]})]});function XE(){const[n,e]=B.useState(null),[t,r]=B.useState({nombreUsuario:"",email:"",fechaRegistro:"",rol:"",fotoURL:""}),[o,a]=B.useState(null),[u,d]=B.useState(null),[m,_]=B.useState(!0),[w,I]=B.useState(!1);B.useEffect(()=>{const N=h_(Aa,async M=>{if(M){await M.reload(),e(M),I(M.emailVerified);const j=Bn(Ct,"usuarios",M.uid),Q=await ss(j);if(Q.exists()){const te=Q.data();r({nombreUsuario:te.nombreUsuario||"",email:te.email||M.email,fechaRegistro:te.fechaRegistro?.toDate().toLocaleDateString()||"",rol:te.rol||"turista",fotoURL:te.fotoURL||""})}}else e(null);_(!1)});return()=>N()},[]);const S=async()=>{try{if(!n?.uid||!t.fotoURL)return;const N=t.fotoURL.split("%2F")[1].split("?")[0],M=i0(pE,`fotosPerfil/${N}`);await h2(M);const j=Bn(Ct,"usuarios",n.uid);await Fc(j,{fotoURL:""}),r(Q=>({...Q,fotoURL:""})),console.log("Foto de perfil eliminada")}catch(N){console.error("Error al eliminar la foto:",N)}},b=async()=>{const N=Bn(Ct,"usuarios",n.uid);if(await Fc(N,{nombreUsuario:t.nombreUsuario}),await gI(n,{displayName:t.nombreUsuario}),o){const M=i0(pE,`fotosPerfil/${n.uid}`),j=await u2(M,o),Q=await c2(j.ref);await Fc(N,{fotoURL:Q}),r({...t,fotoURL:Q}),d(null)}alert("Perfil actualizado correctamente")},O=async()=>{try{await dI(Aa,n.email),alert("📩 Se ha enviado un correo para cambiar tu contraseña.")}catch(N){console.error(N),alert("Error al enviar el correo: "+N.message)}};return m?A.jsx("p",{children:"Cargando perfil..."}):n?A.jsxs("div",{className:"perfil-page",children:[A.jsx("h2",{children:"👤 Perfil de usuario"}),t.fotoURL&&A.jsx("div",{className:"foto-perfil",children:A.jsx("img",{src:t.fotoURL,alt:"Foto de perfil"})}),u&&A.jsxs("div",{style:{marginBottom:"1rem"},children:[A.jsx("p",{children:"📷 Vista previa de la nueva foto:"}),A.jsx("img",{src:u,alt:"Vista previa",width:100})]}),A.jsxs("div",{className:"perfil-info",children:[A.jsx("label",{children:"Nombre de usuario"}),A.jsx("input",{type:"text",value:t.nombreUsuario,disabled:!0,style:{backgroundColor:"#eee",cursor:"not-allowed"}}),A.jsx("label",{children:"Correo electrónico"}),A.jsx("input",{type:"email",value:t.email,disabled:!0}),A.jsxs("p",{style:{marginBottom:"1rem"},children:["Estado del correo:"," ",w?"✅ Verificado":"⛔ No verificado"]}),A.jsx("label",{children:"Fecha de registro"}),A.jsx("input",{type:"text",value:t.fechaRegistro,disabled:!0}),A.jsx("label",{children:"Rol"}),A.jsx("input",{type:"text",value:t.rol,disabled:!0}),A.jsx("label",{children:"Foto de perfil"}),A.jsx("input",{type:"file",accept:"image/*",onChange:N=>{const M=N.target.files[0];M&&(a(M),d(URL.createObjectURL(M)))}}),A.jsx("button",{onClick:S,children:"🧼 Eliminar foto de perfil"}),A.jsx("button",{onClick:b,children:"💾 Guardar cambios"}),A.jsx("button",{onClick:O,children:"📩 Enviar correo para cambiar contraseña"})]})]}):A.jsx("p",{children:"No se ha iniciado sesión."})}function bj(){const[n,e]=B.useState([]),{usuario:t}=rp();return B.useEffect(()=>{(async()=>{const o=Jf(ai(Ct,"threads"),uv("createdAt","desc")),u=(await ph(o)).docs.map(d=>({id:d.id,...d.data()}));e(u)})()},[]),A.jsxs("div",{className:"comunidad",children:[A.jsx("h1",{children:"Comunidad"}),t&&A.jsx(St,{to:"/nuevo-hilo",children:A.jsx("button",{children:"🧵 Crear nuevo hilo"})}),A.jsx("ul",{children:n.map(r=>A.jsx("li",{children:A.jsxs(St,{to:`/hilo/${r.id}`,children:[A.jsx("strong",{children:r.title})," — por ",r.authorName]})},r.id))})]})}function kj({usuario:n}){const[e,t]=B.useState(""),[r,o]=B.useState(""),a=th(),u=async d=>{d.preventDefault(),!(!e||!r)&&(await mh(ai(Ct,"threads"),{title:e,content:r,authorId:n.uid,authorName:n.displayName||n.email,createdAt:gh()}),a("/comunidad"))};return A.jsxs("div",{className:"nuevo-hilo",children:[A.jsx("h2",{children:"Crear nuevo hilo"}),A.jsxs("form",{onSubmit:u,children:[A.jsx("input",{type:"text",placeholder:"Título",value:e,onChange:d=>t(d.target.value)}),A.jsx("textarea",{placeholder:"Contenido",value:r,onChange:d=>o(d.target.value)}),A.jsx("button",{type:"submit",children:"Publicar hilo"})]})]})}function Rj({usuario:n}){const{threadId:e}=uT(),[t,r]=B.useState(null),[o,a]=B.useState([]),[u,d]=B.useState("");B.useEffect(()=>{const w=Bn(Ct,"threads",e);ss(w).then(b=>{b.exists()&&r(b.data())});const I=Jf(ai(Ct,"threads",e,"comments"),uv("createdAt","asc")),S=GS(I,b=>{const O=b.docs.map(N=>({id:N.id,...N.data()}));a(O)});return()=>S()},[e]);const m=async w=>{try{const I=Bn(Ct,"threads",e,"comments",w);await $S(I),console.log("Comentario eliminado")}catch(I){console.error("Error al eliminar el comentario:",I)}},_=async w=>{if(w.preventDefault(),!u.trim()||!n?.uid)return;const I=n.fotoURL?n.fotoURL:null;await mh(ai(Ct,"threads",e,"comments"),{content:u,authorId:n.uid,authorName:n.displayName||n.email,fotoURL:I,createdAt:gh()}),d("")};return t?A.jsxs("div",{className:"thread-detail",children:[A.jsx("h2",{children:t.title}),A.jsx("p",{children:t.content}),A.jsx("p",{children:A.jsxs("em",{children:["Publicado por ",t.authorName]})}),A.jsx("hr",{}),A.jsx("h3",{children:"Comentarios"}),A.jsx("ul",{children:o.map(w=>{const I=w.authorName?w.authorName[0].toUpperCase()+w.authorName.slice(-1).toUpperCase():"U",S=w.fotoURL?w.fotoURL:`https://ui-avatars.com/api/?name=${I}&background=random&color=fff&size=128`;return A.jsxs("li",{className:"comentario",children:[A.jsx("img",{src:S,alt:"Avatar",className:"avatar-comentario"}),A.jsxs("div",{children:[A.jsx("strong",{children:w.authorName}),A.jsx("p",{children:w.content}),n?.uid===w.authorId&&A.jsx("button",{onClick:()=>m(w.id),children:"🗑️ Eliminar"})]})]},w.id)})}),n?A.jsxs("form",{onSubmit:_,children:[A.jsx("textarea",{placeholder:"Escribe tu comentario...",value:u,onChange:w=>d(w.target.value)}),A.jsx("button",{type:"submit",children:"💬 Comentar"})]}):A.jsx("p",{children:"Debes iniciar sesión para comentar."})]}):A.jsx("p",{children:"Cargando hilo..."})}const Lj=[{pregunta:"¿Cuál es la mejor época para visitar Tarragona?",respuesta:"La primavera y el otoño ofrecen temperaturas agradables y menos aglomeraciones. El verano es ideal para disfrutar de las playas."},{pregunta:"¿Necesito reservar para visitar los monumentos?",respuesta:"Algunos monumentos requieren reserva previa, especialmente en temporada alta. Recomendamos consultar la web oficial de turismo."},{pregunta:"¿Hay opciones de turismo accesible?",respuesta:"Sí, muchos espacios están adaptados para personas con movilidad reducida. Puedes activar el modo accesible en nuestra web para más información."},{pregunta:"¿Dónde puedo encontrar rutas guiadas?",respuesta:"Ofrecemos rutas guiadas temáticas que puedes consultar en el apartado 'Rutas'. También hay opciones privadas con guías locales."}],Nj=()=>{const[n,e]=B.useState(null),t=r=>{e(n===r?null:r)};return A.jsxs("div",{className:"faq-page",children:[A.jsx("h2",{children:"❓ Preguntas Frecuentes"}),A.jsx("p",{children:"Resolvemos tus dudas más comunes sobre turismo en Tarragona."}),A.jsx("div",{className:"faq-list",children:Lj.map((r,o)=>A.jsxs("div",{className:`faq-item ${n===o?"activo":""}`,onClick:()=>t(o),children:[A.jsx("div",{className:"faq-pregunta",children:r.pregunta}),n===o&&A.jsx("div",{className:"faq-respuesta",children:r.respuesta})]},o))})]})},Oj=()=>{const[n,e]=B.useState({nombre:"",email:"",asunto:"",mensaje:""}),[t,r]=B.useState(!1),o=u=>{e({...n,[u.target.name]:u.target.value})},a=async u=>{u.preventDefault();try{await mh(ai(Ct,"mensajesContacto"),{...n,fecha:kt.now()}),r(!0),e({nombre:"",email:"",asunto:"",mensaje:""})}catch(d){console.error("Error al enviar mensaje:",d),alert("Hubo un error al enviar tu mensaje. Intenta de nuevo.")}};return A.jsxs("div",{className:"contacto-page",children:[A.jsx("h2",{children:"📩 Contáctanos"}),A.jsx("p",{children:"¿Tienes dudas, sugerencias o comentarios? ¡Estamos aquí para ayudarte!"}),t&&A.jsx("p",{className:"mensaje-exito",children:"✅ Tu mensaje ha sido enviado correctamente."}),A.jsxs("form",{className:"contacto-form",onSubmit:a,children:[A.jsx("label",{children:"Nombre"}),A.jsx("input",{type:"text",name:"nombre",value:n.nombre,onChange:o,required:!0}),A.jsx("label",{children:"Correo electrónico"}),A.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,required:!0}),A.jsx("label",{children:"Asunto"}),A.jsx("input",{type:"text",name:"asunto",value:n.asunto,onChange:o,required:!0}),A.jsx("label",{children:"Mensaje"}),A.jsx("textarea",{name:"mensaje",rows:"5",value:n.mensaje,onChange:o,required:!0}),A.jsx("button",{type:"submit",children:"Enviar mensaje"})]})]})},Mj=()=>A.jsxs("div",{style:{maxWidth:"800px",margin:"3rem auto",padding:"2rem",backgroundColor:"#1d203e",borderRadius:"12px",color:"#b0b3c2"},children:[A.jsx("h2",{style:{color:"#00CFEA",marginBottom:"1rem"},children:"📜 Términos y Condiciones"}),A.jsx("p",{children:"Última actualización: Julio 2025"}),A.jsxs("section",{style:{marginBottom:"2rem"},children:[A.jsx("h3",{style:{color:"#FDD835"},children:"1. Uso de la plataforma"}),A.jsx("p",{children:"Al registrarte en Turismo Tarragona, aceptas utilizar la plataforma de forma responsable y respetuosa. No se permite el uso indebido, ofensivo o fraudulento."})]}),A.jsxs("section",{style:{marginBottom:"2rem"},children:[A.jsx("h3",{style:{color:"#FDD835"},children:"2. Privacidad de datos"}),A.jsx("p",{children:"Tu información personal será tratada conforme a nuestra política de privacidad. No compartimos tus datos con terceros sin tu consentimiento."})]}),A.jsxs("section",{style:{marginBottom:"2rem"},children:[A.jsx("h3",{style:{color:"#FDD835"},children:"3. Contenido generado por usuarios"}),A.jsx("p",{children:"Los comentarios, reseñas y aportaciones deben respetar las normas de convivencia. Nos reservamos el derecho de moderar o eliminar contenido inapropiado."})]}),A.jsxs("section",{style:{marginBottom:"2rem"},children:[A.jsx("h3",{style:{color:"#FDD835"},children:"4. Propiedad intelectual"}),A.jsx("p",{children:"Todo el contenido de la web (textos, imágenes, rutas, etc.) está protegido por derechos de autor. No está permitido su uso comercial sin autorización."})]}),A.jsxs("section",{children:[A.jsx("h3",{style:{color:"#FDD835"},children:"5. Modificaciones"}),A.jsx("p",{children:"Podemos actualizar estos términos en cualquier momento. Te notificaremos los cambios relevantes a través de la plataforma."})]})]}),Dj=()=>{const{usuario:n,rol:e,cargando:t}=rp(),[r,o]=B.useState({titulo:"",descripcion:"",duracion:"",fecha:"",horaInicio:"",cupos:"",ubicacion:""}),[a,u]=B.useState("");if(t)return null;if(!n||e!=="guia")return A.jsxs("div",{className:"crear-tour",children:[A.jsx("h2",{children:"📍 Crear un Free Tour"}),A.jsx("p",{style:{color:"red"},children:"Solo los guías pueden acceder a esta sección."})]});const d=_=>{o({...r,[_.target.name]:_.target.value})},m=async _=>{if(_.preventDefault(),!n||e!=="guia"){u("Acceso denegado. Solo los guías pueden crear tours.");return}try{await mh(ai(Ct,"freeTours"),{...r,guiaID:n.uid,guiaNombre:n.displayName||"Guía",guiaFoto:n.photoURL||"",creadoEn:gh(),inscritos:[],reseñas:[]}),u("¡Tour creado con éxito!"),o({titulo:"",descripcion:"",duracion:"",fecha:"",horaInicio:"",cupos:"",ubicacion:""})}catch(w){console.error("Error al crear el tour:",w),u("Hubo un error al crear el tour.")}};return A.jsxs("div",{className:"crear-tour",children:[A.jsx("h2",{children:"📍 Crear un Free Tour"}),a&&A.jsx("p",{children:a}),A.jsxs("form",{onSubmit:m,children:[A.jsx("input",{type:"text",name:"titulo",placeholder:"Título del tour",value:r.titulo,onChange:d,required:!0}),A.jsx("textarea",{name:"descripcion",placeholder:"Descripción",value:r.descripcion,onChange:d,required:!0}),A.jsx("input",{type:"text",name:"duracion",placeholder:"Duración (ej. 2h)",value:r.duracion,onChange:d,required:!0}),A.jsx("input",{type:"date",name:"fecha",value:r.fecha,onChange:d,required:!0}),A.jsx("input",{type:"time",name:"horaInicio",value:r.horaInicio,onChange:d,required:!0}),A.jsx("input",{type:"number",name:"cupos",placeholder:"Cupos disponibles",value:r.cupos,onChange:d,required:!0}),A.jsx("input",{type:"text",name:"ubicacion",placeholder:"Ubicación",value:r.ubicacion,onChange:d,required:!0}),A.jsx("button",{type:"submit",children:"Publicar Tour"})]})]})};async function Vj(n){const e=Bn(Ct,"freeTours",n),t=await ss(e);if(!t.exists()){alert("El tour no existe");return}const r=t.data(),o=Aa.currentUser.uid;if(r.inscritos.includes(o)){alert("Ya estás inscrito en este tour");return}if(r.cupos<=0){alert("No hay cupos disponibles");return}return await Fc(e,{inscritos:qD(o),cupos:r.cupos-1}),alert("¡Reserva realizada con éxito!"),"ok"}async function Fj(n){try{const t=m_().currentUser,r=Bn(Ct,"freeTours",n),a=(await ss(r)).data(),u=a.inscritos.filter(d=>d!==t.uid);return await Fc(r,{inscritos:u,cupos:a.cupos+1}),"ok"}catch(e){return console.error("Error al cancelar reserva:",e),"error"}}const jj=()=>{const{usuario:n,rol:e,cargando:t}=rp(),[r,o]=B.useState([]);return B.useEffect(()=>{(async()=>{const u=await ph(ai(Ct,"freeTours")),d=await Promise.all(u.docs.map(async m=>{const _={id:m.id,...m.data()};let w="";if(_.guiaID){const I=Bn(Ct,"usuarios",_.guiaID),S=await ss(I);S.exists()&&(w=S.data().fotoURL||"")}return{..._,guiaFoto:w}}));o(d)})()},[]),t?null:A.jsxs("div",{className:"free-tours",children:[A.jsx("h2",{children:"🌍 Free Tours disponibles"}),n&&e==="guia"&&A.jsx(St,{to:"/crear-tour",children:A.jsx("button",{className:"crear-tour-btn",children:"+ Crear nuevo tour"})}),A.jsx("ul",{children:r.map(a=>A.jsxs("li",{className:"tour-card",children:[A.jsx("h3",{children:a.titulo}),A.jsx("p",{children:a.descripcion}),A.jsxs("p",{children:[A.jsx("strong",{children:"Duración:"})," ",a.duracion]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Fecha:"})," ",a.fecha]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Hora de inicio:"})," ",a.horaInicio]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Ubicación:"})," ",a.ubicacion]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Cupos disponibles:"})," ",a.cupos]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Inscritos:"})," ",a.inscritos?.length||0]}),A.jsxs("div",{className:"guia-info",style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.guiaFoto&&A.jsx("img",{src:a.guiaFoto,alt:`Foto de ${a.guiaNombre}`,className:"guia-foto",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}),A.jsx("span",{className:"guia-nombre",children:a.guiaNombre})," "]}),n&&e==="turista"&&A.jsx(A.Fragment,{children:a.inscritos?.includes(n.uid)?A.jsx("button",{className:"cancelar-btn",onClick:async()=>{if(!window.confirm("¿Seguro que quieres cancelar tu inscripción?"))return;await Fj(a.id)==="ok"&&o(m=>m.map(_=>_.id===a.id?{..._,cupos:_.cupos+1,inscritos:_.inscritos.filter(w=>w!==n.uid)}:_))},children:"Cancelar inscripción"}):A.jsx("button",{className:"reservar-btn",onClick:async()=>{await Vj(a.id)==="ok"&&o(d=>d.map(m=>m.id===a.id?{...m,cupos:m.cupos-1,inscritos:[...m.inscritos||[],n.uid]}:m))},disabled:a.cupos<=0,children:a.cupos<=0?"Sin cupos":"Reservar plaza"})})]},a.id))})]})};function Uj(){const[n,e]=B.useState(null),[t,r]=B.useState(""),[o,a]=B.useState(!1),[u,d]=B.useState(!1),m=()=>{d(w=>{const I=!w;return I?document.body.classList.add("modo-accesible"):document.body.classList.remove("modo-accesible"),I})},_=(w=null)=>{const I=new SpeechSynthesisUtterance;if(I.lang="es-ES",w)I.text=w;else{const S=document.getElementById("main-content")?.innerText;I.text=S||"No se encontró contenido para leer."}window.speechSynthesis.cancel(),window.speechSynthesis.speak(I)};return B.useEffect(()=>{localStorage.getItem("modoAccesible")==="true"&&(document.body.classList.add("modo-accesible"),d(!0))},[]),B.useEffect(()=>{localStorage.setItem("modoAccesible",u)},[u]),B.useEffect(()=>{const w=h_(Aa,I=>{I?(e(I),console.log("Sesión activa:",I.email)):(e(null),console.log("No hay sesión iniciada"))});return()=>w()},[]),B.useEffect(()=>{(async()=>{if(n){const I=Bn(Ct,"usuarios",n.uid),S=await ss(I);S.exists()&&r(S.data().nombreUsuario)}})()},[n]),B.useEffect(()=>{(async()=>{if(n?.uid){const I=Bn(Ct,"usuarios",n.uid),S=await ss(I);if(S.exists()){const b=S.data();e(O=>({...O,...b}))}}})()},[n]),A.jsxs(A.Fragment,{children:[A.jsx(XD,{usuario:n,nombreUsuario:t,cerrarSesion:async()=>{const{signOut:w}=await Bx(async()=>{const{signOut:I}=await Promise.resolve().then(()=>XR);return{signOut:I}},[]);try{await w(Aa),e(null),r(""),a(I=>!I),window.location.href="/"}catch(I){console.error("Error al cerrar sesión:",I)}}}),A.jsx("a",{href:"https://wa.me/34656280412",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir WhatsApp",children:A.jsx("img",{src:"https://icongr.am/fontawesome/whatsapp.svg?size=32&color=ffffff",alt:"WhatsApp"})}),A.jsx(KD,{children:A.jsxs(dT,{children:[A.jsx($t,{path:"/",element:A.jsx(f4,{})}),A.jsx($t,{path:"/login",element:A.jsx(JD,{})}),A.jsx($t,{path:"/registro",element:A.jsx(e4,{})}),A.jsx($t,{path:"/rutas/*",element:A.jsx(YD,{})}),A.jsx($t,{path:"/mapa",element:A.jsx(z4,{})}),A.jsx($t,{path:"/eventos",element:A.jsx(J4,{})}),A.jsx($t,{path:"/eventos/:mes",element:A.jsx(Ij,{})}),A.jsx($t,{path:"/about",element:A.jsx(Pj,{})}),A.jsx($t,{path:"/perfil",element:A.jsx(XE,{})}),A.jsx($t,{path:"/perfil",element:A.jsx(XE,{})}),A.jsx($t,{path:"/comunidad",element:A.jsx(bj,{})}),A.jsx($t,{path:"/nuevo-hilo",element:A.jsx(kj,{usuario:n})}),A.jsx($t,{path:"/hilo/:threadId",element:A.jsx(Rj,{usuario:n})}),A.jsx($t,{path:"/ruta/:id",element:A.jsx(QS,{usuario:n})}),A.jsx($t,{path:"/faq",element:A.jsx(Nj,{})}),A.jsx($t,{path:"/contacto",element:A.jsx(Oj,{})}),A.jsx($t,{path:"/terminos",element:A.jsx(Mj,{})}),A.jsx($t,{path:"/crear-tour",element:A.jsx(Dj,{user:n})}),A.jsx($t,{path:"/tours",element:A.jsx(jj,{user:n})})]})}),A.jsx(Ej,{activarAccesibilidad:m,modoAccesible:u,leerTexto:_})]})}jx.createRoot(document.getElementById("root")).render(A.jsx(Su.StrictMode,{children:A.jsx(nP,{children:A.jsx(Uj,{})})}));
