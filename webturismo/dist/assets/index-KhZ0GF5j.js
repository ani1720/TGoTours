(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function Lh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function tm(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),e}var Tg={exports:{}},Wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function mI(){if(mE)return Wc;mE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:l}}return Wc.Fragment=t,Wc.jsx=e,Wc.jsxs=e,Wc}var pE;function pI(){return pE||(pE=1,Tg.exports=mI()),Tg.exports}var O=pI(),Eg={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function gI(){if(gE)return Wt;gE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function H(V,lt,Tt){this.props=V,this.context=lt,this.refs=N,this.updater=Tt||R}H.prototype.isReactComponent={},H.prototype.setState=function(V,lt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,lt,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=H.prototype;function et(V,lt,Tt){this.props=V,this.context=lt,this.refs=N,this.updater=Tt||R}var nt=et.prototype=new j;nt.constructor=et,k(nt,H.prototype),nt.isPureReactComponent=!0;var pt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},kt=Object.prototype.hasOwnProperty;function q(V,lt,Tt,gt,At,Rt){return Tt=Rt.ref,{$$typeof:n,type:V,key:lt,ref:Tt!==void 0?Tt:null,props:Rt}}function D(V,lt){return q(V.type,lt,void 0,void 0,void 0,V.props)}function U(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function G(V){var lt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Tt){return lt[Tt]})}var Z=/\/+/g;function K(V,lt){return typeof V=="object"&&V!==null&&V.key!=null?G(""+V.key):lt.toString(36)}function F(){}function Ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(F,F):(V.status="pending",V.then(function(lt){V.status==="pending"&&(V.status="fulfilled",V.value=lt)},function(lt){V.status==="pending"&&(V.status="rejected",V.reason=lt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Be(V,lt,Tt,gt,At){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var wt=!1;if(V===null)wt=!0;else switch(Rt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(V.$$typeof){case n:case t:wt=!0;break;case E:return wt=V._init,Be(wt(V._payload),lt,Tt,gt,At)}}if(wt)return At=At(V),wt=gt===""?"."+K(V,0):gt,pt(At)?(Tt="",wt!=null&&(Tt=wt.replace(Z,"$&/")+"/"),Be(At,lt,Tt,"",function(Ei){return Ei})):At!=null&&(U(At)&&(At=D(At,Tt+(At.key==null||V&&V.key===At.key?"":(""+At.key).replace(Z,"$&/")+"/")+wt)),lt.push(At)),1;wt=0;var Ee=gt===""?".":gt+":";if(pt(V))for(var oe=0;oe<V.length;oe++)gt=V[oe],Rt=Ee+K(gt,oe),wt+=Be(gt,lt,Tt,Rt,At);else if(oe=A(V),typeof oe=="function")for(V=oe.call(V),oe=0;!(gt=V.next()).done;)gt=gt.value,Rt=Ee+K(gt,oe++),wt+=Be(gt,lt,Tt,Rt,At);else if(Rt==="object"){if(typeof V.then=="function")return Be(Ce(V),lt,Tt,gt,At);throw lt=String(V),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function ot(V,lt,Tt){if(V==null)return V;var gt=[],At=0;return Be(V,gt,"","",function(Rt){return lt.call(Tt,Rt,At++)}),gt}function bt(V){if(V._status===-1){var lt=V._result;lt=lt(),lt.then(function(Tt){(V._status===0||V._status===-1)&&(V._status=1,V._result=Tt)},function(Tt){(V._status===0||V._status===-1)&&(V._status=2,V._result=Tt)}),V._status===-1&&(V._status=0,V._result=lt)}if(V._status===1)return V._result.default;throw V._result}var _t=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function le(){}return Wt.Children={map:ot,forEach:function(V,lt,Tt){ot(V,function(){lt.apply(this,arguments)},Tt)},count:function(V){var lt=0;return ot(V,function(){lt++}),lt},toArray:function(V){return ot(V,function(lt){return lt})||[]},only:function(V){if(!U(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Wt.Component=H,Wt.Fragment=e,Wt.Profiler=o,Wt.PureComponent=et,Wt.StrictMode=r,Wt.Suspense=g,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return vt.H.useMemoCache(V)}},Wt.cache=function(V){return function(){return V.apply(null,arguments)}},Wt.cloneElement=function(V,lt,Tt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var gt=k({},V.props),At=V.key,Rt=void 0;if(lt!=null)for(wt in lt.ref!==void 0&&(Rt=void 0),lt.key!==void 0&&(At=""+lt.key),lt)!kt.call(lt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&lt.ref===void 0||(gt[wt]=lt[wt]);var wt=arguments.length-2;if(wt===1)gt.children=Tt;else if(1<wt){for(var Ee=Array(wt),oe=0;oe<wt;oe++)Ee[oe]=arguments[oe+2];gt.children=Ee}return q(V.type,At,void 0,void 0,Rt,gt)},Wt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Wt.createElement=function(V,lt,Tt){var gt,At={},Rt=null;if(lt!=null)for(gt in lt.key!==void 0&&(Rt=""+lt.key),lt)kt.call(lt,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(At[gt]=lt[gt]);var wt=arguments.length-2;if(wt===1)At.children=Tt;else if(1<wt){for(var Ee=Array(wt),oe=0;oe<wt;oe++)Ee[oe]=arguments[oe+2];At.children=Ee}if(V&&V.defaultProps)for(gt in wt=V.defaultProps,wt)At[gt]===void 0&&(At[gt]=wt[gt]);return q(V,Rt,void 0,void 0,null,At)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(V){return{$$typeof:d,render:V}},Wt.isValidElement=U,Wt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:bt}},Wt.memo=function(V,lt){return{$$typeof:v,type:V,compare:lt===void 0?null:lt}},Wt.startTransition=function(V){var lt=vt.T,Tt={};vt.T=Tt;try{var gt=V(),At=vt.S;At!==null&&At(Tt,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(le,_t)}catch(Rt){_t(Rt)}finally{vt.T=lt}},Wt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Wt.use=function(V){return vt.H.use(V)},Wt.useActionState=function(V,lt,Tt){return vt.H.useActionState(V,lt,Tt)},Wt.useCallback=function(V,lt){return vt.H.useCallback(V,lt)},Wt.useContext=function(V){return vt.H.useContext(V)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(V,lt){return vt.H.useDeferredValue(V,lt)},Wt.useEffect=function(V,lt,Tt){var gt=vt.H;if(typeof Tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return gt.useEffect(V,lt)},Wt.useId=function(){return vt.H.useId()},Wt.useImperativeHandle=function(V,lt,Tt){return vt.H.useImperativeHandle(V,lt,Tt)},Wt.useInsertionEffect=function(V,lt){return vt.H.useInsertionEffect(V,lt)},Wt.useLayoutEffect=function(V,lt){return vt.H.useLayoutEffect(V,lt)},Wt.useMemo=function(V,lt){return vt.H.useMemo(V,lt)},Wt.useOptimistic=function(V,lt){return vt.H.useOptimistic(V,lt)},Wt.useReducer=function(V,lt,Tt){return vt.H.useReducer(V,lt,Tt)},Wt.useRef=function(V){return vt.H.useRef(V)},Wt.useState=function(V){return vt.H.useState(V)},Wt.useSyncExternalStore=function(V,lt,Tt){return vt.H.useSyncExternalStore(V,lt,Tt)},Wt.useTransition=function(){return vt.H.useTransition()},Wt.version="19.1.0",Wt}var _E;function $_(){return _E||(_E=1,Eg.exports=gI()),Eg.exports}var W=$_();const ju=Lh(W);var bg={exports:{}},Xc={},wg={exports:{}},Ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function _I(){return vE||(vE=1,function(n){function t(ot,bt){var _t=ot.length;ot.push(bt);t:for(;0<_t;){var le=_t-1>>>1,V=ot[le];if(0<o(V,bt))ot[le]=bt,ot[_t]=V,_t=le;else break t}}function e(ot){return ot.length===0?null:ot[0]}function r(ot){if(ot.length===0)return null;var bt=ot[0],_t=ot.pop();if(_t!==bt){ot[0]=_t;t:for(var le=0,V=ot.length,lt=V>>>1;le<lt;){var Tt=2*(le+1)-1,gt=ot[Tt],At=Tt+1,Rt=ot[At];if(0>o(gt,_t))At<V&&0>o(Rt,gt)?(ot[le]=Rt,ot[At]=_t,le=At):(ot[le]=gt,ot[Tt]=_t,le=Tt);else if(At<V&&0>o(Rt,_t))ot[le]=Rt,ot[At]=_t,le=At;else break t}}return bt}function o(ot,bt){var _t=ot.sortIndex-bt.sortIndex;return _t!==0?_t:ot.id-bt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var g=[],v=[],E=1,w=null,A=3,R=!1,k=!1,N=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function pt(ot){for(var bt=e(v);bt!==null;){if(bt.callback===null)r(v);else if(bt.startTime<=ot)r(v),bt.sortIndex=bt.expirationTime,t(g,bt);else break;bt=e(v)}}function vt(ot){if(N=!1,pt(ot),!k)if(e(g)!==null)k=!0,kt||(kt=!0,K());else{var bt=e(v);bt!==null&&Be(vt,bt.startTime-ot)}}var kt=!1,q=-1,D=5,U=-1;function G(){return H?!0:!(n.unstable_now()-U<D)}function Z(){if(H=!1,kt){var ot=n.unstable_now();U=ot;var bt=!0;try{t:{k=!1,N&&(N=!1,et(q),q=-1),R=!0;var _t=A;try{e:{for(pt(ot),w=e(g);w!==null&&!(w.expirationTime>ot&&G());){var le=w.callback;if(typeof le=="function"){w.callback=null,A=w.priorityLevel;var V=le(w.expirationTime<=ot);if(ot=n.unstable_now(),typeof V=="function"){w.callback=V,pt(ot),bt=!0;break e}w===e(g)&&r(g),pt(ot)}else r(g);w=e(g)}if(w!==null)bt=!0;else{var lt=e(v);lt!==null&&Be(vt,lt.startTime-ot),bt=!1}}break t}finally{w=null,A=_t,R=!1}bt=void 0}}finally{bt?K():kt=!1}}}var K;if(typeof nt=="function")K=function(){nt(Z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Ce=F.port2;F.port1.onmessage=Z,K=function(){Ce.postMessage(null)}}else K=function(){j(Z,0)};function Be(ot,bt){q=j(function(){ot(n.unstable_now())},bt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ot){ot.callback=null},n.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ot?Math.floor(1e3/ot):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(ot){switch(A){case 1:case 2:case 3:var bt=3;break;default:bt=A}var _t=A;A=bt;try{return ot()}finally{A=_t}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(ot,bt){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var _t=A;A=ot;try{return bt()}finally{A=_t}},n.unstable_scheduleCallback=function(ot,bt,_t){var le=n.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?le+_t:le):_t=le,ot){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=_t+V,ot={id:E++,callback:bt,priorityLevel:ot,startTime:_t,expirationTime:V,sortIndex:-1},_t>le?(ot.sortIndex=_t,t(v,ot),e(g)===null&&ot===e(v)&&(N?(et(q),q=-1):N=!0,Be(vt,_t-le))):(ot.sortIndex=V,t(g,ot),k||R||(k=!0,kt||(kt=!0,K()))),ot},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(ot){var bt=A;return function(){var _t=A;A=bt;try{return ot.apply(this,arguments)}finally{A=_t}}}}(Ag)),Ag}var yE;function vI(){return yE||(yE=1,wg.exports=_I()),wg.exports}var Sg={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function yI(){if(TE)return Zn;TE=1;var n=$_();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,v,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:v,implementation:E}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zn.createPortal=function(g,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return l(g,v,null,E)},Zn.flushSync=function(g){var v=h.T,E=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=v,r.p=E,r.d.f()}},Zn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},Zn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Zn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var E=v.as,w=d(E,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:R}):E==="script"&&r.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Zn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=d(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},Zn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,w=d(E,v.crossOrigin);r.d.L(g,E,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Zn.preloadModule=function(g,v){if(typeof g=="string")if(v){var E=d(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},Zn.requestFormReset=function(g){r.d.r(g)},Zn.unstable_batchedUpdates=function(g,v){return g(v)},Zn.useFormState=function(g,v,E){return h.H.useFormState(g,v,E)},Zn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zn.version="19.1.0",Zn}var EE;function sA(){if(EE)return Sg.exports;EE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sg.exports=yI(),Sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function TI(){if(bE)return Xc;bE=1;var n=vI(),t=$_(),e=sA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function h(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var _=u.return;if(_===null)break;var y=_.alternate;if(y===null){if(f=_.return,f!==null){u=f;continue}break}if(_.child===y.child){for(y=_.child;y;){if(y===u)return d(_),i;if(y===f)return d(_),s;y=y.sibling}throw Error(r(188))}if(u.return!==f.return)u=_,f=y;else{for(var x=!1,P=_.child;P;){if(P===u){x=!0,u=_,f=y;break}if(P===f){x=!0,f=_,u=y;break}P=P.sibling}if(!x){for(P=y.child;P;){if(P===u){x=!0,u=y,f=_;break}if(P===f){x=!0,f=y,u=_;break}P=P.sibling}if(!x)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case H:return"Profiler";case N:return"StrictMode";case vt:return"Suspense";case kt:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case nt:return(i.displayName||"Context")+".Provider";case et:return(i._context.displayName||"Context")+".Consumer";case pt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return s=i.displayName||null,s!==null?s:Ce(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return Ce(i(s))}catch{}}return null}var Be=Array.isArray,ot=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},le=[],V=-1;function lt(i){return{current:i}}function Tt(i){0>V||(i.current=le[V],le[V]=null,V--)}function gt(i,s){V++,le[V]=i.current,i.current=s}var At=lt(null),Rt=lt(null),wt=lt(null),Ee=lt(null);function oe(i,s){switch(gt(wt,s),gt(Rt,i),gt(At,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?FT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=FT(s),i=HT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Tt(At),gt(At,i)}function Ei(){Tt(At),Tt(Rt),Tt(wt)}function Wi(i){i.memoizedState!==null&&gt(Ee,i);var s=At.current,u=HT(s,i.type);s!==u&&(gt(Rt,i),gt(At,u))}function bi(i){Rt.current===i&&(Tt(At),Tt(Rt)),Ee.current===i&&(Tt(Ee),qc._currentValue=_t)}var wi=Object.prototype.hasOwnProperty,yr=n.unstable_scheduleCallback,As=n.unstable_cancelCallback,ga=n.unstable_shouldYield,zo=n.unstable_requestPaint,Un=n.unstable_now,_a=n.unstable_getCurrentPriorityLevel,Bo=n.unstable_ImmediatePriority,Ss=n.unstable_UserBlockingPriority,Tr=n.unstable_NormalPriority,Fl=n.unstable_LowPriority,Cs=n.unstable_IdlePriority,jo=n.log,Hl=n.unstable_setDisableYieldValue,Pe=null,fe=null;function zn(i){if(typeof jo=="function"&&Hl(i),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(Pe,i)}catch{}}var vn=Math.clz32?Math.clz32:xs,Fo=Math.log,ql=Math.LN2;function xs(i){return i>>>=0,i===0?32:31-(Fo(i)/ql|0)|0}var Fr=256,Er=4194304;function li(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function va(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var _=0,y=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var P=f&134217727;return P!==0?(f=P&~y,f!==0?_=li(f):(x&=P,x!==0?_=li(x):u||(u=P&~i,u!==0&&(_=li(u))))):(P=f&~y,P!==0?_=li(P):x!==0?_=li(x):u||(u=f&~i,u!==0&&(_=li(u)))),_===0?0:s!==0&&s!==_&&(s&y)===0&&(y=_&-_,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:_}function Ai(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ho(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var i=Fr;return Fr<<=1,(Fr&4194048)===0&&(Fr=256),i}function ya(){var i=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),i}function Xi(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Qi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Go(i,s,u,f,_,y){var x=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var P=i.entanglements,B=i.expirationTimes,tt=i.hiddenUpdates;for(u=x&~u;0<u;){var ut=31-vn(u),ft=1<<ut;P[ut]=0,B[ut]=-1;var it=tt[ut];if(it!==null)for(tt[ut]=null,ut=0;ut<it.length;ut++){var rt=it[ut];rt!==null&&(rt.lane&=-536870913)}u&=~ft}f!==0&&$i(i,f,0),y!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=y&~(x&~s))}function $i(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-vn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function Zo(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-vn(u),_=1<<f;_&s|i[f]&s&&(i[f]|=s),u&=~_}}function Hr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ta(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qr(){var i=bt.p;return i!==0?i:(i=window.event,i===void 0?32:lE(i.type))}function Ea(i,s){var u=bt.p;try{return bt.p=i,s()}finally{bt.p=u}}var Le=Math.random().toString(36).slice(2),tn="__reactFiber$"+Le,Ke="__reactProps$"+Le,ui="__reactContainer$"+Le,Bn="__reactEvents$"+Le,Ot="__reactListeners$"+Le,br="__reactHandles$"+Le,Yo="__reactResources$"+Le,Gr="__reactMarker$"+Le;function wr(i){delete i[tn],delete i[Ke],delete i[Bn],delete i[Ot],delete i[br]}function Si(i){var s=i[tn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[ui]||u[tn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=YT(i);i!==null;){if(u=i[tn])return u;i=YT(i)}return s}i=u,u=i.parentNode}return null}function Ci(i){if(i=i[tn]||i[ui]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Rn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function yn(i){var s=i[Yo];return s||(s=i[Yo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function He(i){i[Gr]=!0}var Ko=new Set,ba={};function xi(i,s){Ji(i,s),Ji(i+"Capture",s)}function Ji(i,s){for(ba[i]=s,i=0;i<s.length;i++)Ko.add(s[i])}var Gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rs={},Is={};function Zl(i){return wi.call(Is,i)?!0:wi.call(Rs,i)?!1:Gl.test(i)?Is[i]=!0:(Rs[i]=!0,!1)}function Zr(i,s,u){if(Zl(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function tr(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function dn(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}var Ar,Yr;function er(i){if(Ar===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Ar=s&&s[1]||"",Yr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+i+Yr}var Ps=!1;function nr(i,s){if(!i||Ps)return"";Ps=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(rt){var it=rt}Reflect.construct(i,[],ft)}else{try{ft.call()}catch(rt){it=rt}i.call(ft.prototype)}}else{try{throw Error()}catch(rt){it=rt}(ft=i())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(rt){if(rt&&it&&typeof rt.stack=="string")return[rt.stack,it.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),x=y[0],P=y[1];if(x&&P){var B=x.split(`
`),tt=P.split(`
`);for(_=f=0;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;for(;_<tt.length&&!tt[_].includes("DetermineComponentFrameRoot");)_++;if(f===B.length||_===tt.length)for(f=B.length-1,_=tt.length-1;1<=f&&0<=_&&B[f]!==tt[_];)_--;for(;1<=f&&0<=_;f--,_--)if(B[f]!==tt[_]){if(f!==1||_!==1)do if(f--,_--,0>_||B[f]!==tt[_]){var ut=`
`+B[f].replace(" at new "," at ");return i.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",i.displayName)),ut}while(1<=f&&0<=_);break}}}finally{Ps=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?er(u):""}function $t(i){switch(i.tag){case 26:case 27:case 5:return er(i.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return nr(i.type,!1);case 11:return nr(i.type.render,!1);case 1:return nr(i.type,!0);case 31:return er("Activity");default:return""}}function pe(i){try{var s="";do s+=$t(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function an(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ir(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kr(i){var s=ir(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(x){f=""+x,y.call(this,x)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Wr(i){i._valueTracker||(i._valueTracker=Kr(i))}function Gt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=ir(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wo=/[\n"\\]/g;function Ve(i){return i.replace(Wo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Oe(i,s,u,f,_,y,x,P){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+an(s)):i.value!==""+an(s)&&(i.value=""+an(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?Ri(i,x,an(s)):u!=null?Ri(i,x,an(u)):f!=null&&i.removeAttribute("value"),_==null&&y!=null&&(i.defaultChecked=!!y),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+an(P):i.removeAttribute("name")}function Ls(i,s,u,f,_,y,x,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;u=u!=null?""+an(u):"",s=s!=null?""+an(s):u,P||s===i.value||(i.value=s),i.defaultValue=s}f=f??_,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=P?i.checked:!!f,i.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function Ri(i,s,u){s==="number"&&ve(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function In(i,s,u,f){if(i=i.options,s){s={};for(var _=0;_<u.length;_++)s["$"+u[_]]=!0;for(u=0;u<i.length;u++)_=s.hasOwnProperty("$"+i[u].value),i[u].selected!==_&&(i[u].selected=_),_&&f&&(i[u].defaultSelected=!0)}else{for(u=""+an(u),s=null,_=0;_<i.length;_++){if(i[_].value===u){i[_].selected=!0,f&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function Bt(i,s,u){if(s!=null&&(s=""+an(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+an(u):""}function Jn(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(Be(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=an(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Tn(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Ii=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wa(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||Ii.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function Sr(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var _ in s)f=s[_],s.hasOwnProperty(_)&&u[_]!==f&&wa(i,_,f)}else for(var y in s)s.hasOwnProperty(y)&&wa(i,y,s[y])}function Os(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(i){return Aa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Pi=null;function Pn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rr=null,Li=null;function Qo(i){var s=Ci(i);if(s&&(i=s.stateNode)){var u=i[Ke]||null;t:switch(i=s.stateNode,s.type){case"input":if(Oe(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ve(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var _=f[Ke]||null;if(!_)throw Error(r(90));Oe(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&Gt(f)}break t;case"textarea":Bt(i,u.value,u.defaultValue);break t;case"select":s=u.value,s!=null&&In(i,!!u.multiple,s,!1)}}}var Vt=!1;function ti(i,s,u){if(Vt)return i(s,u);Vt=!0;try{var f=i(s);return f}finally{if(Vt=!1,(rr!==null||Li!==null)&&(Mf(),rr&&(s=rr,i=Li,Li=rr=null,Qo(s),i)))for(s=0;s<i.length;s++)Qo(i[s])}}function ue(i,s){var u=i.stateNode;if(u===null)return null;var f=u[Ke]||null;if(f===null)return null;u=f[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(ci)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{jn=!1}var hi=null,Fn=null,Oi=null;function xr(){if(Oi)return Oi;var i,s=Fn,u=s.length,f,_="value"in hi?hi.value:hi.textContent,y=_.length;for(i=0;i<u&&s[i]===_[i];i++);var x=u-i;for(f=1;f<=x&&s[u-f]===_[y-f];f++);return Oi=_.slice(i,1<f?1-f:void 0)}function be(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function En(){return!0}function Sa(){return!1}function en(i){function s(u,f,_,y,x){this._reactName=u,this._targetInst=_,this.type=f,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?En:Sa,this.isPropagationStopped=Sa,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=En)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=En)},persist:function(){},isPersistent:En}),s}var de={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=en(de),Rr=E({},de,{view:0,detail:0}),Yl=en(Rr),ks,Kt,sr,mn=E({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==sr&&(sr&&i.type==="mousemove"?(ks=i.screenX-sr.screenX,Kt=i.screenY-sr.screenY):Kt=ks=0,sr=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Kt}}),bn=en(mn),$o=E({},mn,{dataTransfer:0}),oc=en($o),Ir=E({},Rr,{relatedTarget:0}),Ca=en(Ir),xa=E({},de,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=en(xa),Kl=E({},de,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qr=en(Kl),lc=E({},de,{data:0}),Hn=en(lc),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ia(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Mi[i])?!!s[i]:!1}function $r(){return Ia}var Pa=E({},Rr,{key:function(i){if(i.key){var s=Ns[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=be(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(i){return i.type==="keypress"?be(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?be(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),La=en(Pa),tl=E({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oa=en(tl),Pr=E({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),Wl=en(Pr),Ma=E({},de,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xl=en(Ma),el=E({},mn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ds=en(el),on=E({},de,{newState:0,oldState:0}),ar=en(on),Ql=[9,13,27,32],qn=ci&&"CompositionEvent"in window,m=null;ci&&"documentMode"in document&&(m=document.documentMode);var b=ci&&"TextEvent"in window&&!m,C=ci&&(!qn||m&&8<m&&11>=m),M=" ",Q=!1;function at(i,s){switch(i){case"keyup":return Ql.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Et(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function We(i,s){switch(i){case"compositionend":return Et(s);case"keypress":return s.which!==32?null:(Q=!0,M);case"textInput":return i=s.data,i===M&&Q?null:i;default:return null}}function re(i,s){if(ie)return i==="compositionend"||!qn&&at(i,s)?(i=xr(),Oi=Fn=hi=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return C&&s.locale!=="ko"?null:s.data;default:return null}}var ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ge[i.type]:s==="textarea"}function Lr(i,s,u,f){rr?Li?Li.push(f):Li=[f]:rr=f,s=zf(s,"onChange"),0<s.length&&(u=new Ms("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var xe=null,or=null;function lr(i){VT(i,0)}function $l(i){var s=Rn(i);if(Gt(s))return i}function ka(i,s){if(i==="change")return s}var uc=!1;if(ci){var Na;if(ci){var cc="oninput"in document;if(!cc){var Or=document.createElement("div");Or.setAttribute("oninput","return;"),cc=typeof Or.oninput=="function"}Na=cc}else Na=!1;uc=Na&&(!document.documentMode||9<document.documentMode)}function nl(){xe&&(xe.detachEvent("onpropertychange",Qh),or=xe=null)}function Qh(i){if(i.propertyName==="value"&&$l(or)){var s=[];Lr(s,or,i,Pn(i)),ti(lr,s)}}function hc(i,s,u){i==="focusin"?(nl(),xe=s,or=u,xe.attachEvent("onpropertychange",Qh)):i==="focusout"&&nl()}function qm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $l(or)}function Mr(i,s){if(i==="click")return $l(s)}function Gm(i,s){if(i==="input"||i==="change")return $l(s)}function Da(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ei=typeof Object.is=="function"?Object.is:Da;function ni(i,s){if(ei(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var _=u[f];if(!wi.call(s,_)||!ei(i[_],s[_]))return!1}return!0}function il(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fc(i,s){var u=il(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=il(u)}}function Jl(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Jl(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function rl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ve(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=ve(i.document)}return s}function sl(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var tu=ci&&"documentMode"in document&&11>=document.documentMode,ki=null,Va=null,Vs=null,eu=!1;function $h(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;eu||ki==null||ki!==ve(f)||(f=ki,"selectionStart"in f&&sl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Vs&&ni(Vs,f)||(Vs=f,f=zf(Va,"onSelect"),0<f.length&&(s=new Ms("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=ki)))}function ur(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Ua={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},nu={},Jh={};ci&&(Jh=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Jr(i){if(nu[i])return nu[i];if(!Ua[i])return i;var s=Ua[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Jh)return nu[i]=s[u];return i}var tf=Jr("animationend"),Ni=Jr("animationiteration"),al=Jr("animationstart"),Zm=Jr("transitionrun"),iu=Jr("transitionstart"),Ym=Jr("transitioncancel"),dc=Jr("transitionend"),ef=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Us.push("scrollEnd");function Di(i,s){ef.set(i,s),xi(s,[i])}var zs=new WeakMap;function ii(i,s){if(typeof i=="object"&&i!==null){var u=zs.get(i);return u!==void 0?u:(s={value:i,source:s,stack:pe(s)},zs.set(i,s),s)}return{value:i,source:s,stack:pe(s)}}var ri=[],za=0,Vi=0;function ol(){for(var i=za,s=Vi=za=0;s<i;){var u=ri[s];ri[s++]=null;var f=ri[s];ri[s++]=null;var _=ri[s];ri[s++]=null;var y=ri[s];if(ri[s++]=null,f!==null&&_!==null){var x=f.pending;x===null?_.next=_:(_.next=x.next,x.next=_),f.pending=_}y!==0&&ul(u,_,y)}}function ll(i,s,u,f){ri[za++]=i,ri[za++]=s,ri[za++]=u,ri[za++]=f,Vi|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Bs(i,s,u,f){return ll(i,s,u,f),ts(i)}function Ba(i,s){return ll(i,null,null,s),ts(i)}function ul(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var _=!1,y=i.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(_=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,_&&s!==null&&(_=31-vn(u),i=y.hiddenUpdates,f=i[_],f===null?i[_]=[s]:f.push(s),s.lane=u|536870912),y):null}function ts(i){if(50<Dc)throw Dc=0,qp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var js={};function nf(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,s,u,f){return new nf(i,s,u,f)}function ru(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cr(i,s){var u=i.alternate;return u===null?(u=si(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function mc(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function cl(i,s,u,f,_,y){var x=0;if(f=i,typeof i=="function")ru(i)&&(x=1);else if(typeof i=="string")x=eI(i,u,At.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case U:return i=si(31,u,s,_),i.elementType=U,i.lanes=y,i;case k:return es(u.children,_,y,s);case N:x=8,_|=24;break;case H:return i=si(12,u,s,_|2),i.elementType=H,i.lanes=y,i;case vt:return i=si(13,u,s,_),i.elementType=vt,i.lanes=y,i;case kt:return i=si(19,u,s,_),i.elementType=kt,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case nt:x=10;break t;case et:x=9;break t;case pt:x=11;break t;case q:x=14;break t;case D:x=16,f=null;break t}x=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=si(x,u,s,_),s.elementType=i,s.type=f,s.lanes=y,s}function es(i,s,u,f){return i=si(7,i,f,s),i.lanes=u,i}function pc(i,s,u){return i=si(6,i,null,s),i.lanes=u,i}function su(i,s,u){return s=si(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Fs=[],ja=0,a=null,c=0,p=[],T=0,S=null,I=1,z="";function $(i,s){Fs[ja++]=c,Fs[ja++]=a,a=i,c=s}function st(i,s,u){p[T++]=I,p[T++]=z,p[T++]=S,S=i;var f=I;i=z;var _=32-vn(f)-1;f&=~(1<<_),u+=1;var y=32-vn(s)+_;if(30<y){var x=_-_%5;y=(f&(1<<x)-1).toString(32),f>>=x,_-=x,I=1<<32-vn(s)+_|u<<_|f,z=y+i}else I=1<<y|u<<_|f,z=i}function mt(i){i.return!==null&&($(i,1),st(i,1,0))}function St(i){for(;i===a;)a=Fs[--ja],Fs[ja]=null,c=Fs[--ja],Fs[ja]=null;for(;i===S;)S=p[--T],p[T]=null,z=p[--T],p[T]=null,I=p[--T],p[T]=null}var It=null,Lt=null,qt=!1,ke=null,qe=!1,wn=Error(r(519));function fi(i){var s=Error(r(418,""));throw Ha(ii(s,i)),wn}function rf(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[tn]=i,s[Ke]=f,u){case"dialog":ee("cancel",s),ee("close",s);break;case"iframe":case"object":case"embed":ee("load",s);break;case"video":case"audio":for(u=0;u<Uc.length;u++)ee(Uc[u],s);break;case"source":ee("error",s);break;case"img":case"image":case"link":ee("error",s),ee("load",s);break;case"details":ee("toggle",s);break;case"input":ee("invalid",s),Ls(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Wr(s);break;case"select":ee("invalid",s);break;case"textarea":ee("invalid",s),Jn(s,f.value,f.defaultValue,f.children),Wr(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||jT(s.textContent,u)?(f.popover!=null&&(ee("beforetoggle",s),ee("toggle",s)),f.onScroll!=null&&ee("scroll",s),f.onScrollEnd!=null&&ee("scrollend",s),f.onClick!=null&&(s.onclick=Bf),s=!0):s=!1,s||fi(i)}function sf(i){for(It=i.return;It;)switch(It.tag){case 5:case 13:qe=!1;return;case 27:case 3:qe=!0;return;default:It=It.return}}function hl(i){if(i!==It)return!1;if(!qt)return sf(i),qt=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||ag(i.type,i.memoizedProps)),u=!u),u&&Lt&&fi(i),sf(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){Lt=Vr(i.nextSibling);break t}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}Lt=null}}else s===27?(s=Lt,ro(i.type)?(i=cg,cg=null,Lt=i):Lt=s):Lt=It?Vr(i.stateNode.nextSibling):null;return!0}function Fa(){Lt=It=null,qt=!1}function af(){var i=ke;return i!==null&&(pi===null?pi=i:pi.push.apply(pi,i),ke=null),i}function Ha(i){ke===null?ke=[i]:ke.push(i)}var je=lt(null),hr=null,kr=null;function ns(i,s,u){gt(je,s._currentValue),s._currentValue=u}function Nr(i){i._currentValue=je.current,Tt(je)}function fl(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function au(i,s,u,f){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var y=_.dependencies;if(y!==null){var x=_.child;y=y.firstContext;t:for(;y!==null;){var P=y;y=_;for(var B=0;B<s.length;B++)if(P.context===s[B]){y.lanes|=u,P=y.alternate,P!==null&&(P.lanes|=u),fl(y.return,u,i),f||(x=null);break t}y=P.next}}else if(_.tag===18){if(x=_.return,x===null)throw Error(r(341));x.lanes|=u,y=x.alternate,y!==null&&(y.lanes|=u),fl(x,u,i),x=null}else x=_.child;if(x!==null)x.return=_;else for(x=_;x!==null;){if(x===i){x=null;break}if(_=x.sibling,_!==null){_.return=x.return,x=_;break}x=x.return}_=x}}function dl(i,s,u,f){i=null;for(var _=s,y=!1;_!==null;){if(!y){if((_.flags&524288)!==0)y=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var x=_.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var P=_.type;ei(_.pendingProps.value,x.value)||(i!==null?i.push(P):i=[P])}}else if(_===Ee.current){if(x=_.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(qc):i=[qc])}_=_.return}i!==null&&au(s,i,u,f),s.flags|=262144}function of(i){for(i=i.firstContext;i!==null;){if(!ei(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ml(i){hr=i,kr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gn(i){return xy(hr,i)}function lf(i,s){return hr===null&&ml(i),xy(i,s)}function xy(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},kr===null){if(i===null)throw Error(r(308));kr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else kr=kr.next=s;return u}var tR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},eR=n.unstable_scheduleCallback,nR=n.unstable_NormalPriority,pn={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new tR,data:new Map,refCount:0}}function gc(i){i.refCount--,i.refCount===0&&eR(nR,function(){i.controller.abort()})}var _c=null,Wm=0,ou=0,lu=null;function iR(i,s){if(_c===null){var u=_c=[];Wm=0,ou=Qp(),lu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Wm++,s.then(Ry,Ry),s}function Ry(){if(--Wm===0&&_c!==null){lu!==null&&(lu.status="fulfilled");var i=_c;_c=null,ou=0,lu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function rR(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var _=0;_<u.length;_++)(0,u[_])(s)},function(_){for(f.status="rejected",f.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),f}var Iy=ot.S;ot.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&iR(i,s),Iy!==null&&Iy(i,s)};var pl=lt(null);function Xm(){var i=pl.current;return i!==null?i:Ne.pooledCache}function uf(i,s){s===null?gt(pl,pl.current):gt(pl,s.pool)}function Py(){var i=Xm();return i===null?null:{parent:pn._currentValue,pool:i}}var vc=Error(r(460)),Ly=Error(r(474)),cf=Error(r(542)),Qm={then:function(){}};function Oy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hf(){}function My(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(hf,hf),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ny(i),i;default:if(typeof s.status=="string")s.then(hf,hf);else{if(i=Ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=f}},function(f){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ny(i),i}throw yc=s,vc}}var yc=null;function ky(){if(yc===null)throw Error(r(459));var i=yc;return yc=null,i}function Ny(i){if(i===vc||i===cf)throw Error(r(483))}var qa=!1;function $m(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ga(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Za(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(ye&2)!==0){var _=f.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),f.pending=s,s=ts(i),ul(i,null,u),s}return ll(i,f,s,u),ts(i)}function Tc(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Zo(i,u)}}function tp(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var _=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var x={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?_=y=x:y=y.next=x,u=u.next}while(u!==null);y===null?_=y=s:y=y.next=s}else _=y=s;u={baseState:f.baseState,firstBaseUpdate:_,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var ep=!1;function Ec(){if(ep){var i=lu;if(i!==null)throw i}}function bc(i,s,u,f){ep=!1;var _=i.updateQueue;qa=!1;var y=_.firstBaseUpdate,x=_.lastBaseUpdate,P=_.shared.pending;if(P!==null){_.shared.pending=null;var B=P,tt=B.next;B.next=null,x===null?y=tt:x.next=tt,x=B;var ut=i.alternate;ut!==null&&(ut=ut.updateQueue,P=ut.lastBaseUpdate,P!==x&&(P===null?ut.firstBaseUpdate=tt:P.next=tt,ut.lastBaseUpdate=B))}if(y!==null){var ft=_.baseState;x=0,ut=tt=B=null,P=y;do{var it=P.lane&-536870913,rt=it!==P.lane;if(rt?(ce&it)===it:(f&it)===it){it!==0&&it===ou&&(ep=!0),ut!==null&&(ut=ut.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Ht=i,Ut=P;it=s;var Se=u;switch(Ut.tag){case 1:if(Ht=Ut.payload,typeof Ht=="function"){ft=Ht.call(Se,ft,it);break t}ft=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Ut.payload,it=typeof Ht=="function"?Ht.call(Se,ft,it):Ht,it==null)break t;ft=E({},ft,it);break t;case 2:qa=!0}}it=P.callback,it!==null&&(i.flags|=64,rt&&(i.flags|=8192),rt=_.callbacks,rt===null?_.callbacks=[it]:rt.push(it))}else rt={lane:it,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ut===null?(tt=ut=rt,B=ft):ut=ut.next=rt,x|=it;if(P=P.next,P===null){if(P=_.shared.pending,P===null)break;rt=P,P=rt.next,rt.next=null,_.lastBaseUpdate=rt,_.shared.pending=null}}while(!0);ut===null&&(B=ft),_.baseState=B,_.firstBaseUpdate=tt,_.lastBaseUpdate=ut,y===null&&(_.shared.lanes=0),to|=x,i.lanes=x,i.memoizedState=ft}}function Dy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Vy(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Dy(u[i],s)}var uu=lt(null),ff=lt(0);function Uy(i,s){i=Ws,gt(ff,i),gt(uu,s),Ws=i|s.baseLanes}function np(){gt(ff,Ws),gt(uu,uu.current)}function ip(){Ws=ff.current,Tt(uu),Tt(ff)}var Ya=0,Xt=null,we=null,ln=null,df=!1,cu=!1,gl=!1,mf=0,wc=0,hu=null,sR=0;function nn(){throw Error(r(321))}function rp(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!ei(i[u],s[u]))return!1;return!0}function sp(i,s,u,f,_,y){return Ya=y,Xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ot.H=i===null||i.memoizedState===null?E0:b0,gl=!1,y=u(f,_),gl=!1,cu&&(y=By(s,u,f,_)),zy(i),y}function zy(i){ot.H=Tf;var s=we!==null&&we.next!==null;if(Ya=0,ln=we=Xt=null,df=!1,wc=0,hu=null,s)throw Error(r(300));i===null||An||(i=i.dependencies,i!==null&&of(i)&&(An=!0))}function By(i,s,u,f){Xt=i;var _=0;do{if(cu&&(hu=null),wc=0,cu=!1,25<=_)throw Error(r(301));if(_+=1,ln=we=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ot.H=fR,y=s(u,f)}while(cu);return y}function aR(){var i=ot.H,s=i.useState()[0];return s=typeof s.then=="function"?Ac(s):s,i=i.useState()[0],(we!==null?we.memoizedState:null)!==i&&(Xt.flags|=1024),s}function ap(){var i=mf!==0;return mf=0,i}function op(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function lp(i){if(df){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}df=!1}Ya=0,ln=we=Xt=null,cu=!1,wc=mf=0,hu=null}function di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Xt.memoizedState=ln=i:ln=ln.next=i,ln}function un(){if(we===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=we.next;var s=ln===null?Xt.memoizedState:ln.next;if(s!==null)ln=s,we=i;else{if(i===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));we=i,i={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},ln===null?Xt.memoizedState=ln=i:ln=ln.next=i}return ln}function up(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ac(i){var s=wc;return wc+=1,hu===null&&(hu=[]),i=My(hu,i,s),s=Xt,(ln===null?s.memoizedState:ln.next)===null&&(s=s.alternate,ot.H=s===null||s.memoizedState===null?E0:b0),i}function pf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ac(i);if(i.$$typeof===nt)return Gn(i)}throw Error(r(438,String(i)))}function cp(i){var s=null,u=Xt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Xt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=up(),Xt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=G;return s.index++,u}function Hs(i,s){return typeof s=="function"?s(i):s}function gf(i){var s=un();return hp(s,we,i)}function hp(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var _=i.baseQueue,y=f.pending;if(y!==null){if(_!==null){var x=_.next;_.next=y.next,y.next=x}s.baseQueue=_=y,f.pending=null}if(y=i.baseState,_===null)i.memoizedState=y;else{s=_.next;var P=x=null,B=null,tt=s,ut=!1;do{var ft=tt.lane&-536870913;if(ft!==tt.lane?(ce&ft)===ft:(Ya&ft)===ft){var it=tt.revertLane;if(it===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),ft===ou&&(ut=!0);else if((Ya&it)===it){tt=tt.next,it===ou&&(ut=!0);continue}else ft={lane:0,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},B===null?(P=B=ft,x=y):B=B.next=ft,Xt.lanes|=it,to|=it;ft=tt.action,gl&&u(y,ft),y=tt.hasEagerState?tt.eagerState:u(y,ft)}else it={lane:ft,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},B===null?(P=B=it,x=y):B=B.next=it,Xt.lanes|=ft,to|=ft;tt=tt.next}while(tt!==null&&tt!==s);if(B===null?x=y:B.next=P,!ei(y,i.memoizedState)&&(An=!0,ut&&(u=lu,u!==null)))throw u;i.memoizedState=y,i.baseState=x,i.baseQueue=B,f.lastRenderedState=y}return _===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function fp(i){var s=un(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,_=u.pending,y=s.memoizedState;if(_!==null){u.pending=null;var x=_=_.next;do y=i(y,x.action),x=x.next;while(x!==_);ei(y,s.memoizedState)||(An=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,f]}function jy(i,s,u){var f=Xt,_=un(),y=qt;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=s();var x=!ei((we||_).memoizedState,u);x&&(_.memoizedState=u,An=!0),_=_.queue;var P=qy.bind(null,f,_,i);if(Sc(2048,8,P,[i]),_.getSnapshot!==s||x||ln!==null&&ln.memoizedState.tag&1){if(f.flags|=2048,fu(9,_f(),Hy.bind(null,f,_,u,s),null),Ne===null)throw Error(r(349));y||(Ya&124)!==0||Fy(f,s,u)}return u}function Fy(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Xt.updateQueue,s===null?(s=up(),Xt.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Hy(i,s,u,f){s.value=u,s.getSnapshot=f,Gy(s)&&Zy(i)}function qy(i,s,u){return u(function(){Gy(s)&&Zy(i)})}function Gy(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!ei(i,u)}catch{return!0}}function Zy(i){var s=Ba(i,2);s!==null&&Fi(s,i,2)}function dp(i){var s=di();if(typeof i=="function"){var u=i;if(i=u(),gl){zn(!0);try{u()}finally{zn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:i},s}function Yy(i,s,u,f){return i.baseState=u,hp(i,we,typeof f=="function"?f:Hs)}function oR(i,s,u,f,_){if(yf(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};ot.T!==null?u(!0):y.isTransition=!1,f(y),u=s.pending,u===null?(y.next=s.pending=y,Ky(s,y)):(y.next=u.next,s.pending=u.next=y)}}function Ky(i,s){var u=s.action,f=s.payload,_=i.state;if(s.isTransition){var y=ot.T,x={};ot.T=x;try{var P=u(_,f),B=ot.S;B!==null&&B(x,P),Wy(i,s,P)}catch(tt){mp(i,s,tt)}finally{ot.T=y}}else try{y=u(_,f),Wy(i,s,y)}catch(tt){mp(i,s,tt)}}function Wy(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Xy(i,s,f)},function(f){return mp(i,s,f)}):Xy(i,s,u)}function Xy(i,s,u){s.status="fulfilled",s.value=u,Qy(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,Ky(i,u)))}function mp(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,Qy(s),s=s.next;while(s!==f)}i.action=null}function Qy(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function $y(i,s){return s}function Jy(i,s){if(qt){var u=Ne.formState;if(u!==null){t:{var f=Xt;if(qt){if(Lt){e:{for(var _=Lt,y=qe;_.nodeType!==8;){if(!y){_=null;break e}if(_=Vr(_.nextSibling),_===null){_=null;break e}}y=_.data,_=y==="F!"||y==="F"?_:null}if(_){Lt=Vr(_.nextSibling),f=_.data==="F!";break t}}fi(f)}f=!1}f&&(s=u[0])}}return u=di(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$y,lastRenderedState:s},u.queue=f,u=v0.bind(null,Xt,f),f.dispatch=u,f=dp(!1),y=yp.bind(null,Xt,!1,f.queue),f=di(),_={state:s,dispatch:null,action:i,pending:null},f.queue=_,u=oR.bind(null,Xt,_,y,u),_.dispatch=u,f.memoizedState=i,[s,u,!1]}function t0(i){var s=un();return e0(s,we,i)}function e0(i,s,u){if(s=hp(i,s,$y)[0],i=gf(Hs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Ac(s)}catch(x){throw x===vc?cf:x}else f=s;s=un();var _=s.queue,y=_.dispatch;return u!==s.memoizedState&&(Xt.flags|=2048,fu(9,_f(),lR.bind(null,_,u),null)),[f,y,i]}function lR(i,s){i.action=s}function n0(i){var s=un(),u=we;if(u!==null)return e0(s,u,i);un(),s=s.memoizedState,u=un();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function fu(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Xt.updateQueue,s===null&&(s=up(),Xt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function _f(){return{destroy:void 0,resource:void 0}}function i0(){return un().memoizedState}function vf(i,s,u,f){var _=di();f=f===void 0?null:f,Xt.flags|=i,_.memoizedState=fu(1|s,_f(),u,f)}function Sc(i,s,u,f){var _=un();f=f===void 0?null:f;var y=_.memoizedState.inst;we!==null&&f!==null&&rp(f,we.memoizedState.deps)?_.memoizedState=fu(s,y,u,f):(Xt.flags|=i,_.memoizedState=fu(1|s,y,u,f))}function r0(i,s){vf(8390656,8,i,s)}function s0(i,s){Sc(2048,8,i,s)}function a0(i,s){return Sc(4,2,i,s)}function o0(i,s){return Sc(4,4,i,s)}function l0(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function u0(i,s,u){u=u!=null?u.concat([i]):null,Sc(4,4,l0.bind(null,s,i),u)}function pp(){}function c0(i,s){var u=un();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&rp(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function h0(i,s){var u=un();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&rp(s,f[1]))return f[0];if(f=i(),gl){zn(!0);try{i()}finally{zn(!1)}}return u.memoizedState=[f,s],f}function gp(i,s,u){return u===void 0||(Ya&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=mT(),Xt.lanes|=i,to|=i,u)}function f0(i,s,u,f){return ei(u,s)?u:uu.current!==null?(i=gp(i,u,f),ei(i,s)||(An=!0),i):(Ya&42)===0?(An=!0,i.memoizedState=u):(i=mT(),Xt.lanes|=i,to|=i,s)}function d0(i,s,u,f,_){var y=bt.p;bt.p=y!==0&&8>y?y:8;var x=ot.T,P={};ot.T=P,yp(i,!1,s,u);try{var B=_(),tt=ot.S;if(tt!==null&&tt(P,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ut=rR(B,f);Cc(i,s,ut,ji(i))}else Cc(i,s,f,ji(i))}catch(ft){Cc(i,s,{then:function(){},status:"rejected",reason:ft},ji())}finally{bt.p=y,ot.T=x}}function uR(){}function _p(i,s,u,f){if(i.tag!==5)throw Error(r(476));var _=m0(i).queue;d0(i,_,s,_t,u===null?uR:function(){return p0(i),u(f)})}function m0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:_t},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function p0(i){var s=m0(i).next.queue;Cc(i,s,{},ji())}function vp(){return Gn(qc)}function g0(){return un().memoizedState}function _0(){return un().memoizedState}function cR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=ji();i=Ga(u);var f=Za(s,i,u);f!==null&&(Fi(f,s,u),Tc(f,s,u)),s={cache:Km()},i.payload=s;return}s=s.return}}function hR(i,s,u){var f=ji();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},yf(i)?y0(s,u):(u=Bs(i,s,u,f),u!==null&&(Fi(u,i,f),T0(u,s,f)))}function v0(i,s,u){var f=ji();Cc(i,s,u,f)}function Cc(i,s,u,f){var _={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(yf(i))y0(s,_);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,P=y(x,u);if(_.hasEagerState=!0,_.eagerState=P,ei(P,x))return ll(i,s,_,0),Ne===null&&ol(),!1}catch{}finally{}if(u=Bs(i,s,_,f),u!==null)return Fi(u,i,f),T0(u,s,f),!0}return!1}function yp(i,s,u,f){if(f={lane:2,revertLane:Qp(),action:f,hasEagerState:!1,eagerState:null,next:null},yf(i)){if(s)throw Error(r(479))}else s=Bs(i,u,f,2),s!==null&&Fi(s,i,2)}function yf(i){var s=i.alternate;return i===Xt||s!==null&&s===Xt}function y0(i,s){cu=df=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function T0(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Zo(i,u)}}var Tf={readContext:Gn,use:pf,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},E0={readContext:Gn,use:pf,useCallback:function(i,s){return di().memoizedState=[i,s===void 0?null:s],i},useContext:Gn,useEffect:r0,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,vf(4194308,4,l0.bind(null,s,i),u)},useLayoutEffect:function(i,s){return vf(4194308,4,i,s)},useInsertionEffect:function(i,s){vf(4,2,i,s)},useMemo:function(i,s){var u=di();s=s===void 0?null:s;var f=i();if(gl){zn(!0);try{i()}finally{zn(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=di();if(u!==void 0){var _=u(s);if(gl){zn(!0);try{u(s)}finally{zn(!1)}}}else _=s;return f.memoizedState=f.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},f.queue=i,i=i.dispatch=hR.bind(null,Xt,i),[f.memoizedState,i]},useRef:function(i){var s=di();return i={current:i},s.memoizedState=i},useState:function(i){i=dp(i);var s=i.queue,u=v0.bind(null,Xt,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:pp,useDeferredValue:function(i,s){var u=di();return gp(u,i,s)},useTransition:function(){var i=dp(!1);return i=d0.bind(null,Xt,i.queue,!0,!1),di().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Xt,_=di();if(qt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Ne===null)throw Error(r(349));(ce&124)!==0||Fy(f,s,u)}_.memoizedState=u;var y={value:u,getSnapshot:s};return _.queue=y,r0(qy.bind(null,f,y,i),[i]),f.flags|=2048,fu(9,_f(),Hy.bind(null,f,y,u,s),null),u},useId:function(){var i=di(),s=Ne.identifierPrefix;if(qt){var u=z,f=I;u=(f&~(1<<32-vn(f)-1)).toString(32)+u,s="«"+s+"R"+u,u=mf++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=sR++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:vp,useFormState:Jy,useActionState:Jy,useOptimistic:function(i){var s=di();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=yp.bind(null,Xt,!0,u),u.dispatch=s,[i,s]},useMemoCache:cp,useCacheRefresh:function(){return di().memoizedState=cR.bind(null,Xt)}},b0={readContext:Gn,use:pf,useCallback:c0,useContext:Gn,useEffect:s0,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:h0,useReducer:gf,useRef:i0,useState:function(){return gf(Hs)},useDebugValue:pp,useDeferredValue:function(i,s){var u=un();return f0(u,we.memoizedState,i,s)},useTransition:function(){var i=gf(Hs)[0],s=un().memoizedState;return[typeof i=="boolean"?i:Ac(i),s]},useSyncExternalStore:jy,useId:g0,useHostTransitionStatus:vp,useFormState:t0,useActionState:t0,useOptimistic:function(i,s){var u=un();return Yy(u,we,i,s)},useMemoCache:cp,useCacheRefresh:_0},fR={readContext:Gn,use:pf,useCallback:c0,useContext:Gn,useEffect:s0,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:h0,useReducer:fp,useRef:i0,useState:function(){return fp(Hs)},useDebugValue:pp,useDeferredValue:function(i,s){var u=un();return we===null?gp(u,i,s):f0(u,we.memoizedState,i,s)},useTransition:function(){var i=fp(Hs)[0],s=un().memoizedState;return[typeof i=="boolean"?i:Ac(i),s]},useSyncExternalStore:jy,useId:g0,useHostTransitionStatus:vp,useFormState:n0,useActionState:n0,useOptimistic:function(i,s){var u=un();return we!==null?Yy(u,we,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:cp,useCacheRefresh:_0},du=null,xc=0;function Ef(i){var s=xc;return xc+=1,du===null&&(du=[]),My(du,i,s)}function Rc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function bf(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function w0(i){var s=i._init;return s(i._payload)}function A0(i){function s(X,Y){if(i){var J=X.deletions;J===null?(X.deletions=[Y],X.flags|=16):J.push(Y)}}function u(X,Y){if(!i)return null;for(;Y!==null;)s(X,Y),Y=Y.sibling;return null}function f(X){for(var Y=new Map;X!==null;)X.key!==null?Y.set(X.key,X):Y.set(X.index,X),X=X.sibling;return Y}function _(X,Y){return X=cr(X,Y),X.index=0,X.sibling=null,X}function y(X,Y,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<Y?(X.flags|=67108866,Y):J):(X.flags|=67108866,Y)):(X.flags|=1048576,Y)}function x(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function P(X,Y,J,ct){return Y===null||Y.tag!==6?(Y=pc(J,X.mode,ct),Y.return=X,Y):(Y=_(Y,J),Y.return=X,Y)}function B(X,Y,J,ct){var Pt=J.type;return Pt===k?ut(X,Y,J.props.children,ct,J.key):Y!==null&&(Y.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===D&&w0(Pt)===Y.type)?(Y=_(Y,J.props),Rc(Y,J),Y.return=X,Y):(Y=cl(J.type,J.key,J.props,null,X.mode,ct),Rc(Y,J),Y.return=X,Y)}function tt(X,Y,J,ct){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=su(J,X.mode,ct),Y.return=X,Y):(Y=_(Y,J.children||[]),Y.return=X,Y)}function ut(X,Y,J,ct,Pt){return Y===null||Y.tag!==7?(Y=es(J,X.mode,ct,Pt),Y.return=X,Y):(Y=_(Y,J),Y.return=X,Y)}function ft(X,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=pc(""+Y,X.mode,J),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return J=cl(Y.type,Y.key,Y.props,null,X.mode,J),Rc(J,Y),J.return=X,J;case R:return Y=su(Y,X.mode,J),Y.return=X,Y;case D:var ct=Y._init;return Y=ct(Y._payload),ft(X,Y,J)}if(Be(Y)||K(Y))return Y=es(Y,X.mode,J,null),Y.return=X,Y;if(typeof Y.then=="function")return ft(X,Ef(Y),J);if(Y.$$typeof===nt)return ft(X,lf(X,Y),J);bf(X,Y)}return null}function it(X,Y,J,ct){var Pt=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Pt!==null?null:P(X,Y,""+J,ct);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return J.key===Pt?B(X,Y,J,ct):null;case R:return J.key===Pt?tt(X,Y,J,ct):null;case D:return Pt=J._init,J=Pt(J._payload),it(X,Y,J,ct)}if(Be(J)||K(J))return Pt!==null?null:ut(X,Y,J,ct,null);if(typeof J.then=="function")return it(X,Y,Ef(J),ct);if(J.$$typeof===nt)return it(X,Y,lf(X,J),ct);bf(X,J)}return null}function rt(X,Y,J,ct,Pt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return X=X.get(J)||null,P(Y,X,""+ct,Pt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case A:return X=X.get(ct.key===null?J:ct.key)||null,B(Y,X,ct,Pt);case R:return X=X.get(ct.key===null?J:ct.key)||null,tt(Y,X,ct,Pt);case D:var Jt=ct._init;return ct=Jt(ct._payload),rt(X,Y,J,ct,Pt)}if(Be(ct)||K(ct))return X=X.get(J)||null,ut(Y,X,ct,Pt,null);if(typeof ct.then=="function")return rt(X,Y,J,Ef(ct),Pt);if(ct.$$typeof===nt)return rt(X,Y,J,lf(Y,ct),Pt);bf(Y,ct)}return null}function Ht(X,Y,J,ct){for(var Pt=null,Jt=null,Nt=Y,zt=Y=0,Cn=null;Nt!==null&&zt<J.length;zt++){Nt.index>zt?(Cn=Nt,Nt=null):Cn=Nt.sibling;var me=it(X,Nt,J[zt],ct);if(me===null){Nt===null&&(Nt=Cn);break}i&&Nt&&me.alternate===null&&s(X,Nt),Y=y(me,Y,zt),Jt===null?Pt=me:Jt.sibling=me,Jt=me,Nt=Cn}if(zt===J.length)return u(X,Nt),qt&&$(X,zt),Pt;if(Nt===null){for(;zt<J.length;zt++)Nt=ft(X,J[zt],ct),Nt!==null&&(Y=y(Nt,Y,zt),Jt===null?Pt=Nt:Jt.sibling=Nt,Jt=Nt);return qt&&$(X,zt),Pt}for(Nt=f(Nt);zt<J.length;zt++)Cn=rt(Nt,X,zt,J[zt],ct),Cn!==null&&(i&&Cn.alternate!==null&&Nt.delete(Cn.key===null?zt:Cn.key),Y=y(Cn,Y,zt),Jt===null?Pt=Cn:Jt.sibling=Cn,Jt=Cn);return i&&Nt.forEach(function(uo){return s(X,uo)}),qt&&$(X,zt),Pt}function Ut(X,Y,J,ct){if(J==null)throw Error(r(151));for(var Pt=null,Jt=null,Nt=Y,zt=Y=0,Cn=null,me=J.next();Nt!==null&&!me.done;zt++,me=J.next()){Nt.index>zt?(Cn=Nt,Nt=null):Cn=Nt.sibling;var uo=it(X,Nt,me.value,ct);if(uo===null){Nt===null&&(Nt=Cn);break}i&&Nt&&uo.alternate===null&&s(X,Nt),Y=y(uo,Y,zt),Jt===null?Pt=uo:Jt.sibling=uo,Jt=uo,Nt=Cn}if(me.done)return u(X,Nt),qt&&$(X,zt),Pt;if(Nt===null){for(;!me.done;zt++,me=J.next())me=ft(X,me.value,ct),me!==null&&(Y=y(me,Y,zt),Jt===null?Pt=me:Jt.sibling=me,Jt=me);return qt&&$(X,zt),Pt}for(Nt=f(Nt);!me.done;zt++,me=J.next())me=rt(Nt,X,zt,me.value,ct),me!==null&&(i&&me.alternate!==null&&Nt.delete(me.key===null?zt:me.key),Y=y(me,Y,zt),Jt===null?Pt=me:Jt.sibling=me,Jt=me);return i&&Nt.forEach(function(dI){return s(X,dI)}),qt&&$(X,zt),Pt}function Se(X,Y,J,ct){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case A:t:{for(var Pt=J.key;Y!==null;){if(Y.key===Pt){if(Pt=J.type,Pt===k){if(Y.tag===7){u(X,Y.sibling),ct=_(Y,J.props.children),ct.return=X,X=ct;break t}}else if(Y.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===D&&w0(Pt)===Y.type){u(X,Y.sibling),ct=_(Y,J.props),Rc(ct,J),ct.return=X,X=ct;break t}u(X,Y);break}else s(X,Y);Y=Y.sibling}J.type===k?(ct=es(J.props.children,X.mode,ct,J.key),ct.return=X,X=ct):(ct=cl(J.type,J.key,J.props,null,X.mode,ct),Rc(ct,J),ct.return=X,X=ct)}return x(X);case R:t:{for(Pt=J.key;Y!==null;){if(Y.key===Pt)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){u(X,Y.sibling),ct=_(Y,J.children||[]),ct.return=X,X=ct;break t}else{u(X,Y);break}else s(X,Y);Y=Y.sibling}ct=su(J,X.mode,ct),ct.return=X,X=ct}return x(X);case D:return Pt=J._init,J=Pt(J._payload),Se(X,Y,J,ct)}if(Be(J))return Ht(X,Y,J,ct);if(K(J)){if(Pt=K(J),typeof Pt!="function")throw Error(r(150));return J=Pt.call(J),Ut(X,Y,J,ct)}if(typeof J.then=="function")return Se(X,Y,Ef(J),ct);if(J.$$typeof===nt)return Se(X,Y,lf(X,J),ct);bf(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(u(X,Y.sibling),ct=_(Y,J),ct.return=X,X=ct):(u(X,Y),ct=pc(J,X.mode,ct),ct.return=X,X=ct),x(X)):u(X,Y)}return function(X,Y,J,ct){try{xc=0;var Pt=Se(X,Y,J,ct);return du=null,Pt}catch(Nt){if(Nt===vc||Nt===cf)throw Nt;var Jt=si(29,Nt,null,X.mode);return Jt.lanes=ct,Jt.return=X,Jt}finally{}}}var mu=A0(!0),S0=A0(!1),fr=lt(null),is=null;function Ka(i){var s=i.alternate;gt(gn,gn.current&1),gt(fr,i),is===null&&(s===null||uu.current!==null||s.memoizedState!==null)&&(is=i)}function C0(i){if(i.tag===22){if(gt(gn,gn.current),gt(fr,i),is===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(is=i)}}else Wa()}function Wa(){gt(gn,gn.current),gt(fr,fr.current)}function qs(i){Tt(fr),is===i&&(is=null),Tt(gn)}var gn=lt(0);function wf(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ug(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Tp(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:E({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ep={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=ji(),_=Ga(f);_.payload=s,u!=null&&(_.callback=u),s=Za(i,_,f),s!==null&&(Fi(s,i,f),Tc(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=ji(),_=Ga(f);_.tag=1,_.payload=s,u!=null&&(_.callback=u),s=Za(i,_,f),s!==null&&(Fi(s,i,f),Tc(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=ji(),f=Ga(u);f.tag=2,s!=null&&(f.callback=s),s=Za(i,f,u),s!==null&&(Fi(s,i,u),Tc(s,i,u))}};function x0(i,s,u,f,_,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,x):s.prototype&&s.prototype.isPureReactComponent?!ni(u,f)||!ni(_,y):!0}function R0(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&Ep.enqueueReplaceState(s,s.state,null)}function _l(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=E({},u));for(var _ in i)u[_]===void 0&&(u[_]=i[_])}return u}var Af=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function I0(i){Af(i)}function P0(i){console.error(i)}function L0(i){Af(i)}function Sf(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function O0(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function bp(i,s,u){return u=Ga(u),u.tag=3,u.payload={element:null},u.callback=function(){Sf(i,s)},u}function M0(i){return i=Ga(i),i.tag=3,i}function k0(i,s,u,f){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var y=f.value;i.payload=function(){return _(y)},i.callback=function(){O0(s,u,f)}}var x=u.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){O0(s,u,f),typeof _!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function dR(i,s,u,f,_){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&dl(s,u,_,!0),u=fr.current,u!==null){switch(u.tag){case 13:return is===null?Zp():u.alternate===null&&Xe===0&&(Xe=3),u.flags&=-257,u.flags|=65536,u.lanes=_,f===Qm?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),Kp(i,f,_)),!1;case 22:return u.flags|=65536,f===Qm?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),Kp(i,f,_)),!1}throw Error(r(435,u.tag))}return Kp(i,f,_),Zp(),!1}if(qt)return s=fr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,f!==wn&&(i=Error(r(422),{cause:f}),Ha(ii(i,u)))):(f!==wn&&(s=Error(r(423),{cause:f}),Ha(ii(s,u))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,f=ii(f,u),_=bp(i.stateNode,f,_),tp(i,_),Xe!==4&&(Xe=2)),!1;var y=Error(r(520),{cause:f});if(y=ii(y,u),Nc===null?Nc=[y]:Nc.push(y),Xe!==4&&(Xe=2),s===null)return!0;f=ii(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=_&-_,u.lanes|=i,i=bp(u.stateNode,f,i),tp(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(eo===null||!eo.has(y))))return u.flags|=65536,_&=-_,u.lanes|=_,_=M0(_),k0(_,i,u,f),tp(u,_),!1}u=u.return}while(u!==null);return!1}var N0=Error(r(461)),An=!1;function Ln(i,s,u,f){s.child=i===null?S0(s,null,u,f):mu(s,i.child,u,f)}function D0(i,s,u,f,_){u=u.render;var y=s.ref;if("ref"in f){var x={};for(var P in f)P!=="ref"&&(x[P]=f[P])}else x=f;return ml(s),f=sp(i,s,u,x,y,_),P=ap(),i!==null&&!An?(op(i,s,_),Gs(i,s,_)):(qt&&P&&mt(s),s.flags|=1,Ln(i,s,f,_),s.child)}function V0(i,s,u,f,_){if(i===null){var y=u.type;return typeof y=="function"&&!ru(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,U0(i,s,y,f,_)):(i=cl(u.type,null,f,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Pp(i,_)){var x=y.memoizedProps;if(u=u.compare,u=u!==null?u:ni,u(x,f)&&i.ref===s.ref)return Gs(i,s,_)}return s.flags|=1,i=cr(y,f),i.ref=s.ref,i.return=s,s.child=i}function U0(i,s,u,f,_){if(i!==null){var y=i.memoizedProps;if(ni(y,f)&&i.ref===s.ref)if(An=!1,s.pendingProps=f=y,Pp(i,_))(i.flags&131072)!==0&&(An=!0);else return s.lanes=i.lanes,Gs(i,s,_)}return wp(i,s,u,f,_)}function z0(i,s,u){var f=s.pendingProps,_=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=y!==null?y.baseLanes|u:u,i!==null){for(_=s.child=i.child,y=0;_!==null;)y=y|_.lanes|_.childLanes,_=_.sibling;s.childLanes=y&~f}else s.childLanes=0,s.child=null;return B0(i,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&uf(s,y!==null?y.cachePool:null),y!==null?Uy(s,y):np(),C0(s);else return s.lanes=s.childLanes=536870912,B0(i,s,y!==null?y.baseLanes|u:u,u)}else y!==null?(uf(s,y.cachePool),Uy(s,y),Wa(),s.memoizedState=null):(i!==null&&uf(s,null),np(),Wa());return Ln(i,s,_,u),s.child}function B0(i,s,u,f){var _=Xm();return _=_===null?null:{parent:pn._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},i!==null&&uf(s,null),np(),C0(s),i!==null&&dl(i,s,f,!0),null}function Cf(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function wp(i,s,u,f,_){return ml(s),u=sp(i,s,u,f,void 0,_),f=ap(),i!==null&&!An?(op(i,s,_),Gs(i,s,_)):(qt&&f&&mt(s),s.flags|=1,Ln(i,s,u,_),s.child)}function j0(i,s,u,f,_,y){return ml(s),s.updateQueue=null,u=By(s,f,u,_),zy(i),f=ap(),i!==null&&!An?(op(i,s,y),Gs(i,s,y)):(qt&&f&&mt(s),s.flags|=1,Ln(i,s,u,y),s.child)}function F0(i,s,u,f,_){if(ml(s),s.stateNode===null){var y=js,x=u.contextType;typeof x=="object"&&x!==null&&(y=Gn(x)),y=new u(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ep,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},$m(s),x=u.contextType,y.context=typeof x=="object"&&x!==null?Gn(x):js,y.state=s.memoizedState,x=u.getDerivedStateFromProps,typeof x=="function"&&(Tp(s,u,x,f),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Ep.enqueueReplaceState(y,y.state,null),bc(s,f,y,_),Ec(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){y=s.stateNode;var P=s.memoizedProps,B=_l(u,P);y.props=B;var tt=y.context,ut=u.contextType;x=js,typeof ut=="object"&&ut!==null&&(x=Gn(ut));var ft=u.getDerivedStateFromProps;ut=typeof ft=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,ut||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||tt!==x)&&R0(s,y,f,x),qa=!1;var it=s.memoizedState;y.state=it,bc(s,f,y,_),Ec(),tt=s.memoizedState,P||it!==tt||qa?(typeof ft=="function"&&(Tp(s,u,ft,f),tt=s.memoizedState),(B=qa||x0(s,u,B,f,it,tt,x))?(ut||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=tt),y.props=f,y.state=tt,y.context=x,f=B):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,Jm(i,s),x=s.memoizedProps,ut=_l(u,x),y.props=ut,ft=s.pendingProps,it=y.context,tt=u.contextType,B=js,typeof tt=="object"&&tt!==null&&(B=Gn(tt)),P=u.getDerivedStateFromProps,(tt=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==ft||it!==B)&&R0(s,y,f,B),qa=!1,it=s.memoizedState,y.state=it,bc(s,f,y,_),Ec();var rt=s.memoizedState;x!==ft||it!==rt||qa||i!==null&&i.dependencies!==null&&of(i.dependencies)?(typeof P=="function"&&(Tp(s,u,P,f),rt=s.memoizedState),(ut=qa||x0(s,u,ut,f,it,rt,B)||i!==null&&i.dependencies!==null&&of(i.dependencies))?(tt||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,rt,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,rt,B)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=rt),y.props=f,y.state=rt,y.context=B,f=ut):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),f=!1)}return y=f,Cf(i,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&f?(s.child=mu(s,i.child,null,_),s.child=mu(s,null,u,_)):Ln(i,s,u,_),s.memoizedState=y.state,i=s.child):i=Gs(i,s,_),i}function H0(i,s,u,f){return Fa(),s.flags|=256,Ln(i,s,u,f),s.child}var Ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sp(i){return{baseLanes:i,cachePool:Py()}}function Cp(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=dr),i}function q0(i,s,u){var f=s.pendingProps,_=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),x&&(_=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(qt){if(_?Ka(s):Wa(),qt){var P=Lt,B;if(B=P){t:{for(B=P,P=qe;B.nodeType!==8;){if(!P){P=null;break t}if(B=Vr(B.nextSibling),B===null){P=null;break t}}P=B}P!==null?(s.memoizedState={dehydrated:P,treeContext:S!==null?{id:I,overflow:z}:null,retryLane:536870912,hydrationErrors:null},B=si(18,null,null,0),B.stateNode=P,B.return=s,s.child=B,It=s,Lt=null,B=!0):B=!1}B||fi(s)}if(P=s.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return ug(P)?s.lanes=32:s.lanes=536870912,null;qs(s)}return P=f.children,f=f.fallback,_?(Wa(),_=s.mode,P=xf({mode:"hidden",children:P},_),f=es(f,_,u,null),P.return=s,f.return=s,P.sibling=f,s.child=P,_=s.child,_.memoizedState=Sp(u),_.childLanes=Cp(i,x,u),s.memoizedState=Ap,f):(Ka(s),xp(s,P))}if(B=i.memoizedState,B!==null&&(P=B.dehydrated,P!==null)){if(y)s.flags&256?(Ka(s),s.flags&=-257,s=Rp(i,s,u)):s.memoizedState!==null?(Wa(),s.child=i.child,s.flags|=128,s=null):(Wa(),_=f.fallback,P=s.mode,f=xf({mode:"visible",children:f.children},P),_=es(_,P,u,null),_.flags|=2,f.return=s,_.return=s,f.sibling=_,s.child=f,mu(s,i.child,null,u),f=s.child,f.memoizedState=Sp(u),f.childLanes=Cp(i,x,u),s.memoizedState=Ap,s=_);else if(Ka(s),ug(P)){if(x=P.nextSibling&&P.nextSibling.dataset,x)var tt=x.dgst;x=tt,f=Error(r(419)),f.stack="",f.digest=x,Ha({value:f,source:null,stack:null}),s=Rp(i,s,u)}else if(An||dl(i,s,u,!1),x=(u&i.childLanes)!==0,An||x){if(x=Ne,x!==null&&(f=u&-u,f=(f&42)!==0?1:Hr(f),f=(f&(x.suspendedLanes|u))!==0?0:f,f!==0&&f!==B.retryLane))throw B.retryLane=f,Ba(i,f),Fi(x,i,f),N0;P.data==="$?"||Zp(),s=Rp(i,s,u)}else P.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,Lt=Vr(P.nextSibling),It=s,qt=!0,ke=null,qe=!1,i!==null&&(p[T++]=I,p[T++]=z,p[T++]=S,I=i.id,z=i.overflow,S=s),s=xp(s,f.children),s.flags|=4096);return s}return _?(Wa(),_=f.fallback,P=s.mode,B=i.child,tt=B.sibling,f=cr(B,{mode:"hidden",children:f.children}),f.subtreeFlags=B.subtreeFlags&65011712,tt!==null?_=cr(tt,_):(_=es(_,P,u,null),_.flags|=2),_.return=s,f.return=s,f.sibling=_,s.child=f,f=_,_=s.child,P=i.child.memoizedState,P===null?P=Sp(u):(B=P.cachePool,B!==null?(tt=pn._currentValue,B=B.parent!==tt?{parent:tt,pool:tt}:B):B=Py(),P={baseLanes:P.baseLanes|u,cachePool:B}),_.memoizedState=P,_.childLanes=Cp(i,x,u),s.memoizedState=Ap,f):(Ka(s),u=i.child,i=u.sibling,u=cr(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=u,s.memoizedState=null,u)}function xp(i,s){return s=xf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function xf(i,s){return i=si(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Rp(i,s,u){return mu(s,i.child,null,u),i=xp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function G0(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),fl(i.return,s,u)}function Ip(i,s,u,f,_){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:_}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=_)}function Z0(i,s,u){var f=s.pendingProps,_=f.revealOrder,y=f.tail;if(Ln(i,s,f.children,u),f=gn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&G0(i,u,s);else if(i.tag===19)G0(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(gt(gn,f),_){case"forwards":for(u=s.child,_=null;u!==null;)i=u.alternate,i!==null&&wf(i)===null&&(_=u),u=u.sibling;u=_,u===null?(_=s.child,s.child=null):(_=u.sibling,u.sibling=null),Ip(s,!1,_,u,y);break;case"backwards":for(u=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&wf(i)===null){s.child=_;break}i=_.sibling,_.sibling=u,u=_,_=i}Ip(s,!0,u,null,y);break;case"together":Ip(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Gs(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),to|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(dl(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=cr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=cr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Pp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&of(i)))}function mR(i,s,u){switch(s.tag){case 3:oe(s,s.stateNode.containerInfo),ns(s,pn,i.memoizedState.cache),Fa();break;case 27:case 5:Wi(s);break;case 4:oe(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ka(s),s.flags|=128,null):(u&s.child.childLanes)!==0?q0(i,s,u):(Ka(s),i=Gs(i,s,u),i!==null?i.sibling:null);Ka(s);break;case 19:var _=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(dl(i,s,u,!1),f=(u&s.childLanes)!==0),_){if(f)return Z0(i,s,u);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),gt(gn,gn.current),f)break;return null;case 22:case 23:return s.lanes=0,z0(i,s,u);case 24:ns(s,pn,i.memoizedState.cache)}return Gs(i,s,u)}function Y0(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)An=!0;else{if(!Pp(i,u)&&(s.flags&128)===0)return An=!1,mR(i,s,u);An=(i.flags&131072)!==0}else An=!1,qt&&(s.flags&1048576)!==0&&st(s,c,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var f=s.elementType,_=f._init;if(f=_(f._payload),s.type=f,typeof f=="function")ru(f)?(i=_l(f,i),s.tag=1,s=F0(null,s,f,i,u)):(s.tag=0,s=wp(null,s,f,i,u));else{if(f!=null){if(_=f.$$typeof,_===pt){s.tag=11,s=D0(null,s,f,i,u);break t}else if(_===q){s.tag=14,s=V0(null,s,f,i,u);break t}}throw s=Ce(f)||f,Error(r(306,s,""))}}return s;case 0:return wp(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,_=_l(f,s.pendingProps),F0(i,s,f,_,u);case 3:t:{if(oe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var y=s.memoizedState;_=y.element,Jm(i,s),bc(s,f,null,u);var x=s.memoizedState;if(f=x.cache,ns(s,pn,f),f!==y.cache&&au(s,[pn],u,!0),Ec(),f=x.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=H0(i,s,f,u);break t}else if(f!==_){_=ii(Error(r(424)),s),Ha(_),s=H0(i,s,f,u);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lt=Vr(i.firstChild),It=s,qt=!0,ke=null,qe=!0,u=S0(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Fa(),f===_){s=Gs(i,s,u);break t}Ln(i,s,f,u)}s=s.child}return s;case 26:return Cf(i,s),i===null?(u=QT(s.type,null,s.pendingProps,null))?s.memoizedState=u:qt||(u=s.type,i=s.pendingProps,f=jf(wt.current).createElement(u),f[tn]=s,f[Ke]=i,Mn(f,u,i),He(f),s.stateNode=f):s.memoizedState=QT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Wi(s),i===null&&qt&&(f=s.stateNode=KT(s.type,s.pendingProps,wt.current),It=s,qe=!0,_=Lt,ro(s.type)?(cg=_,Lt=Vr(f.firstChild)):Lt=_),Ln(i,s,s.pendingProps.children,u),Cf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&qt&&((_=f=Lt)&&(f=FR(f,s.type,s.pendingProps,qe),f!==null?(s.stateNode=f,It=s,Lt=Vr(f.firstChild),qe=!1,_=!0):_=!1),_||fi(s)),Wi(s),_=s.type,y=s.pendingProps,x=i!==null?i.memoizedProps:null,f=y.children,ag(_,y)?f=null:x!==null&&ag(_,x)&&(s.flags|=32),s.memoizedState!==null&&(_=sp(i,s,aR,null,null,u),qc._currentValue=_),Cf(i,s),Ln(i,s,f,u),s.child;case 6:return i===null&&qt&&((i=u=Lt)&&(u=HR(u,s.pendingProps,qe),u!==null?(s.stateNode=u,It=s,Lt=null,i=!0):i=!1),i||fi(s)),null;case 13:return q0(i,s,u);case 4:return oe(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=mu(s,null,f,u):Ln(i,s,f,u),s.child;case 11:return D0(i,s,s.type,s.pendingProps,u);case 7:return Ln(i,s,s.pendingProps,u),s.child;case 8:return Ln(i,s,s.pendingProps.children,u),s.child;case 12:return Ln(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,ns(s,s.type,f.value),Ln(i,s,f.children,u),s.child;case 9:return _=s.type._context,f=s.pendingProps.children,ml(s),_=Gn(_),f=f(_),s.flags|=1,Ln(i,s,f,u),s.child;case 14:return V0(i,s,s.type,s.pendingProps,u);case 15:return U0(i,s,s.type,s.pendingProps,u);case 19:return Z0(i,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},i===null?(u=xf(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=cr(i.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return z0(i,s,u);case 24:return ml(s),f=Gn(pn),i===null?(_=Xm(),_===null&&(_=Ne,y=Km(),_.pooledCache=y,y.refCount++,y!==null&&(_.pooledCacheLanes|=u),_=y),s.memoizedState={parent:f,cache:_},$m(s),ns(s,pn,_)):((i.lanes&u)!==0&&(Jm(i,s),bc(s,null,null,u),Ec()),_=i.memoizedState,y=s.memoizedState,_.parent!==f?(_={parent:f,cache:f},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),ns(s,pn,f)):(f=y.cache,ns(s,pn,f),f!==_.cache&&au(s,[pn],u,!0))),Ln(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Zs(i){i.flags|=4}function K0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nE(s)){if(s=fr.current,s!==null&&((ce&4194048)===ce?is!==null:(ce&62914560)!==ce&&(ce&536870912)===0||s!==is))throw yc=Qm,Ly;i.flags|=8192}}function Rf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ya():536870912,i.lanes|=s,vu|=s)}function Ic(i,s){if(!qt)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ge(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var _=i.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags&65011712,f|=_.flags&65011712,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags,f|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function pR(i,s,u){var f=s.pendingProps;switch(St(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(s),null;case 1:return Ge(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Nr(pn),Ei(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(hl(s)?Zs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,af())),Ge(s),null;case 26:return u=s.memoizedState,i===null?(Zs(s),u!==null?(Ge(s),K0(s,u)):(Ge(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Zs(s),Ge(s),K0(s,u)):(Ge(s),s.flags&=-16777217):(i.memoizedProps!==f&&Zs(s),Ge(s),s.flags&=-16777217),null;case 27:bi(s),u=wt.current;var _=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Zs(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Ge(s),null}i=At.current,hl(s)?rf(s):(i=KT(_,f,u),s.stateNode=i,Zs(s))}return Ge(s),null;case 5:if(bi(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Zs(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Ge(s),null}if(i=At.current,hl(s))rf(s);else{switch(_=jf(wt.current),i){case 1:i=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?_.createElement(u,{is:f.is}):_.createElement(u)}}i[tn]=s,i[Ke]=f;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)i.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=i;t:switch(Mn(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Zs(s)}}return Ge(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Zs(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=wt.current,hl(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,_=It,_!==null)switch(_.tag){case 27:case 5:f=_.memoizedProps}i[tn]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||jT(i.nodeValue,u)),i||fi(s)}else i=jf(i).createTextNode(f),i[tn]=s,s.stateNode=i}return Ge(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=hl(s),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[tn]=s}else Fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ge(s),_=!1}else _=af(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(qs(s),s):(qs(s),null)}if(qs(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=s.child,_=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(_=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==_&&(f.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),Rf(s,s.updateQueue),Ge(s),null;case 4:return Ei(),i===null&&eg(s.stateNode.containerInfo),Ge(s),null;case 10:return Nr(s.type),Ge(s),null;case 19:if(Tt(gn),_=s.memoizedState,_===null)return Ge(s),null;if(f=(s.flags&128)!==0,y=_.rendering,y===null)if(f)Ic(_,!1);else{if(Xe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=wf(i),y!==null){for(s.flags|=128,Ic(_,!1),i=y.updateQueue,s.updateQueue=i,Rf(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)mc(u,i),u=u.sibling;return gt(gn,gn.current&1|2),s.child}i=i.sibling}_.tail!==null&&Un()>Lf&&(s.flags|=128,f=!0,Ic(_,!1),s.lanes=4194304)}else{if(!f)if(i=wf(y),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Rf(s,i),Ic(_,!0),_.tail===null&&_.tailMode==="hidden"&&!y.alternate&&!qt)return Ge(s),null}else 2*Un()-_.renderingStartTime>Lf&&u!==536870912&&(s.flags|=128,f=!0,Ic(_,!1),s.lanes=4194304);_.isBackwards?(y.sibling=s.child,s.child=y):(i=_.last,i!==null?i.sibling=y:s.child=y,_.last=y)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=Un(),s.sibling=null,i=gn.current,gt(gn,f?i&1|2:i&1),s):(Ge(s),null);case 22:case 23:return qs(s),ip(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(Ge(s),s.subtreeFlags&6&&(s.flags|=8192)):Ge(s),u=s.updateQueue,u!==null&&Rf(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&Tt(pl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Nr(pn),Ge(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function gR(i,s){switch(St(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Nr(pn),Ei(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return bi(s),null;case 13:if(qs(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Tt(gn),null;case 4:return Ei(),null;case 10:return Nr(s.type),null;case 22:case 23:return qs(s),ip(),i!==null&&Tt(pl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Nr(pn),null;case 25:return null;default:return null}}function W0(i,s){switch(St(s),s.tag){case 3:Nr(pn),Ei();break;case 26:case 27:case 5:bi(s);break;case 4:Ei();break;case 13:qs(s);break;case 19:Tt(gn);break;case 10:Nr(s.type);break;case 22:case 23:qs(s),ip(),i!==null&&Tt(pl);break;case 24:Nr(pn)}}function Pc(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&i)===i){f=void 0;var y=u.create,x=u.inst;f=y(),x.destroy=f}u=u.next}while(u!==_)}}catch(P){Re(s,s.return,P)}}function Xa(i,s,u){try{var f=s.updateQueue,_=f!==null?f.lastEffect:null;if(_!==null){var y=_.next;f=y;do{if((f.tag&i)===i){var x=f.inst,P=x.destroy;if(P!==void 0){x.destroy=void 0,_=s;var B=u,tt=P;try{tt()}catch(ut){Re(_,B,ut)}}}f=f.next}while(f!==y)}}catch(ut){Re(s,s.return,ut)}}function X0(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{Vy(s,u)}catch(f){Re(i,i.return,f)}}}function Q0(i,s,u){u.props=_l(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Re(i,s,f)}}function Lc(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(_){Re(i,s,_)}}function rs(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(_){Re(i,s,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Re(i,s,_)}else u.current=null}function $0(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(_){Re(i,i.return,_)}}function Lp(i,s,u){try{var f=i.stateNode;VR(f,i.type,u,s),f[Ke]=s}catch(_){Re(i,i.return,_)}}function J0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ro(i.type)||i.tag===4}function Op(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||J0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ro(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mp(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Bf));else if(f!==4&&(f===27&&ro(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(Mp(i,s,u),i=i.sibling;i!==null;)Mp(i,s,u),i=i.sibling}function If(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&ro(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(If(i,s,u),i=i.sibling;i!==null;)If(i,s,u),i=i.sibling}function tT(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);Mn(s,f,u),s[tn]=i,s[Ke]=u}catch(y){Re(i,i.return,y)}}var Ys=!1,rn=!1,kp=!1,eT=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function _R(i,s){if(i=i.containerInfo,rg=Yf,i=rl(i),sl(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var _=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var x=0,P=-1,B=-1,tt=0,ut=0,ft=i,it=null;e:for(;;){for(var rt;ft!==u||_!==0&&ft.nodeType!==3||(P=x+_),ft!==y||f!==0&&ft.nodeType!==3||(B=x+f),ft.nodeType===3&&(x+=ft.nodeValue.length),(rt=ft.firstChild)!==null;)it=ft,ft=rt;for(;;){if(ft===i)break e;if(it===u&&++tt===_&&(P=x),it===y&&++ut===f&&(B=x),(rt=ft.nextSibling)!==null)break;ft=it,it=ft.parentNode}ft=rt}u=P===-1||B===-1?null:{start:P,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(sg={focusedElem:i,selectionRange:u},Yf=!1,Sn=s;Sn!==null;)if(s=Sn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Sn=i;else for(;Sn!==null;){switch(s=Sn,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,_=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var Ht=_l(u.type,_,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(Ht,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ut){Re(u,u.return,Ut)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)lg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":lg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Sn=i;break}Sn=s.return}}function nT(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Qa(i,u),f&4&&Pc(5,u);break;case 1:if(Qa(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(x){Re(u,u.return,x)}else{var _=_l(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(_,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Re(u,u.return,x)}}f&64&&X0(u),f&512&&Lc(u,u.return);break;case 3:if(Qa(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Vy(i,s)}catch(x){Re(u,u.return,x)}}break;case 27:s===null&&f&4&&tT(u);case 26:case 5:Qa(i,u),s===null&&f&4&&$0(u),f&512&&Lc(u,u.return);break;case 12:Qa(i,u);break;case 13:Qa(i,u),f&4&&sT(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=CR.bind(null,u),qR(i,u))));break;case 22:if(f=u.memoizedState!==null||Ys,!f){s=s!==null&&s.memoizedState!==null||rn,_=Ys;var y=rn;Ys=f,(rn=s)&&!y?$a(i,u,(u.subtreeFlags&8772)!==0):Qa(i,u),Ys=_,rn=y}break;case 30:break;default:Qa(i,u)}}function iT(i){var s=i.alternate;s!==null&&(i.alternate=null,iT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&wr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Fe=null,mi=!1;function Ks(i,s,u){for(u=u.child;u!==null;)rT(i,s,u),u=u.sibling}function rT(i,s,u){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(Pe,u)}catch{}switch(u.tag){case 26:rn||rs(u,s),Ks(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:rn||rs(u,s);var f=Fe,_=mi;ro(u.type)&&(Fe=u.stateNode,mi=!1),Ks(i,s,u),Bc(u.stateNode),Fe=f,mi=_;break;case 5:rn||rs(u,s);case 6:if(f=Fe,_=mi,Fe=null,Ks(i,s,u),Fe=f,mi=_,Fe!==null)if(mi)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(u.stateNode)}catch(y){Re(u,s,y)}else try{Fe.removeChild(u.stateNode)}catch(y){Re(u,s,y)}break;case 18:Fe!==null&&(mi?(i=Fe,ZT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Kc(i)):ZT(Fe,u.stateNode));break;case 4:f=Fe,_=mi,Fe=u.stateNode.containerInfo,mi=!0,Ks(i,s,u),Fe=f,mi=_;break;case 0:case 11:case 14:case 15:rn||Xa(2,u,s),rn||Xa(4,u,s),Ks(i,s,u);break;case 1:rn||(rs(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Q0(u,s,f)),Ks(i,s,u);break;case 21:Ks(i,s,u);break;case 22:rn=(f=rn)||u.memoizedState!==null,Ks(i,s,u),rn=f;break;default:Ks(i,s,u)}}function sT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kc(i)}catch(u){Re(s,s.return,u)}}function vR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new eT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new eT),s;default:throw Error(r(435,i.tag))}}function Np(i,s){var u=vR(i);s.forEach(function(f){var _=xR.bind(null,i,f);u.has(f)||(u.add(f),f.then(_,_))})}function Ui(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var _=u[f],y=i,x=s,P=x;t:for(;P!==null;){switch(P.tag){case 27:if(ro(P.type)){Fe=P.stateNode,mi=!1;break t}break;case 5:Fe=P.stateNode,mi=!1;break t;case 3:case 4:Fe=P.stateNode.containerInfo,mi=!0;break t}P=P.return}if(Fe===null)throw Error(r(160));rT(y,x,_),Fe=null,mi=!1,y=_.alternate,y!==null&&(y.return=null),_.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)aT(s,i),s=s.sibling}var Dr=null;function aT(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ui(s,i),zi(i),f&4&&(Xa(3,i,i.return),Pc(3,i),Xa(5,i,i.return));break;case 1:Ui(s,i),zi(i),f&512&&(rn||u===null||rs(u,u.return)),f&64&&Ys&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var _=Dr;if(Ui(s,i),zi(i),f&512&&(rn||u===null||rs(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){t:{f=i.type,u=i.memoizedProps,_=_.ownerDocument||_;e:switch(f){case"title":y=_.getElementsByTagName("title")[0],(!y||y[Gr]||y[tn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=_.createElement(f),_.head.insertBefore(y,_.querySelector("head > title"))),Mn(y,f,u),y[tn]=i,He(y),f=y;break t;case"link":var x=tE("link","href",_).get(f+(u.href||""));if(x){for(var P=0;P<x.length;P++)if(y=x[P],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){x.splice(P,1);break e}}y=_.createElement(f),Mn(y,f,u),_.head.appendChild(y);break;case"meta":if(x=tE("meta","content",_).get(f+(u.content||""))){for(P=0;P<x.length;P++)if(y=x[P],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){x.splice(P,1);break e}}y=_.createElement(f),Mn(y,f,u),_.head.appendChild(y);break;default:throw Error(r(468,f))}y[tn]=i,He(y),f=y}i.stateNode=f}else eE(_,i.type,i.stateNode);else i.stateNode=JT(_,f,i.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?eE(_,i.type,i.stateNode):JT(_,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Lp(i,i.memoizedProps,u.memoizedProps)}break;case 27:Ui(s,i),zi(i),f&512&&(rn||u===null||rs(u,u.return)),u!==null&&f&4&&Lp(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Ui(s,i),zi(i),f&512&&(rn||u===null||rs(u,u.return)),i.flags&32){_=i.stateNode;try{Tn(_,"")}catch(rt){Re(i,i.return,rt)}}f&4&&i.stateNode!=null&&(_=i.memoizedProps,Lp(i,_,u!==null?u.memoizedProps:_)),f&1024&&(kp=!0);break;case 6:if(Ui(s,i),zi(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(rt){Re(i,i.return,rt)}}break;case 3:if(qf=null,_=Dr,Dr=Ff(s.containerInfo),Ui(s,i),Dr=_,zi(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Kc(s.containerInfo)}catch(rt){Re(i,i.return,rt)}kp&&(kp=!1,oT(i));break;case 4:f=Dr,Dr=Ff(i.stateNode.containerInfo),Ui(s,i),zi(i),Dr=f;break;case 12:Ui(s,i),zi(i);break;case 13:Ui(s,i),zi(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(jp=Un()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Np(i,f)));break;case 22:_=i.memoizedState!==null;var B=u!==null&&u.memoizedState!==null,tt=Ys,ut=rn;if(Ys=tt||_,rn=ut||B,Ui(s,i),rn=ut,Ys=tt,zi(i),f&8192)t:for(s=i.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(u===null||B||Ys||rn||vl(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){B=u=s;try{if(y=B.stateNode,_)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{P=B.stateNode;var ft=B.memoizedProps.style,it=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;P.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(rt){Re(B,B.return,rt)}}}else if(s.tag===6){if(u===null){B=s;try{B.stateNode.nodeValue=_?"":B.memoizedProps}catch(rt){Re(B,B.return,rt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Np(i,u))));break;case 19:Ui(s,i),zi(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Np(i,f)));break;case 30:break;case 21:break;default:Ui(s,i),zi(i)}}function zi(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(J0(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,y=Op(i);If(i,y,_);break;case 5:var x=u.stateNode;u.flags&32&&(Tn(x,""),u.flags&=-33);var P=Op(i);If(i,P,x);break;case 3:case 4:var B=u.stateNode.containerInfo,tt=Op(i);Mp(i,tt,B);break;default:throw Error(r(161))}}catch(ut){Re(i,i.return,ut)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function oT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;oT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Qa(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nT(i,s.alternate,s),s=s.sibling}function vl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Xa(4,s,s.return),vl(s);break;case 1:rs(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Q0(s,s.return,u),vl(s);break;case 27:Bc(s.stateNode);case 26:case 5:rs(s,s.return),vl(s);break;case 22:s.memoizedState===null&&vl(s);break;case 30:vl(s);break;default:vl(s)}i=i.sibling}}function $a(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,_=i,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:$a(_,y,u),Pc(4,y);break;case 1:if($a(_,y,u),f=y,_=f.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(tt){Re(f,f.return,tt)}if(f=y,_=f.updateQueue,_!==null){var P=f.stateNode;try{var B=_.shared.hiddenCallbacks;if(B!==null)for(_.shared.hiddenCallbacks=null,_=0;_<B.length;_++)Dy(B[_],P)}catch(tt){Re(f,f.return,tt)}}u&&x&64&&X0(y),Lc(y,y.return);break;case 27:tT(y);case 26:case 5:$a(_,y,u),u&&f===null&&x&4&&$0(y),Lc(y,y.return);break;case 12:$a(_,y,u);break;case 13:$a(_,y,u),u&&x&4&&sT(_,y);break;case 22:y.memoizedState===null&&$a(_,y,u),Lc(y,y.return);break;case 30:break;default:$a(_,y,u)}s=s.sibling}}function Dp(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&gc(u))}function Vp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gc(i))}function ss(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lT(i,s,u,f),s=s.sibling}function lT(i,s,u,f){var _=s.flags;switch(s.tag){case 0:case 11:case 15:ss(i,s,u,f),_&2048&&Pc(9,s);break;case 1:ss(i,s,u,f);break;case 3:ss(i,s,u,f),_&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gc(i)));break;case 12:if(_&2048){ss(i,s,u,f),i=s.stateNode;try{var y=s.memoizedProps,x=y.id,P=y.onPostCommit;typeof P=="function"&&P(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){Re(s,s.return,B)}}else ss(i,s,u,f);break;case 13:ss(i,s,u,f);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?ss(i,s,u,f):Oc(i,s):y._visibility&2?ss(i,s,u,f):(y._visibility|=2,pu(i,s,u,f,(s.subtreeFlags&10256)!==0)),_&2048&&Dp(x,s);break;case 24:ss(i,s,u,f),_&2048&&Vp(s.alternate,s);break;default:ss(i,s,u,f)}}function pu(i,s,u,f,_){for(_=_&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,x=s,P=u,B=f,tt=x.flags;switch(x.tag){case 0:case 11:case 15:pu(y,x,P,B,_),Pc(8,x);break;case 23:break;case 22:var ut=x.stateNode;x.memoizedState!==null?ut._visibility&2?pu(y,x,P,B,_):Oc(y,x):(ut._visibility|=2,pu(y,x,P,B,_)),_&&tt&2048&&Dp(x.alternate,x);break;case 24:pu(y,x,P,B,_),_&&tt&2048&&Vp(x.alternate,x);break;default:pu(y,x,P,B,_)}s=s.sibling}}function Oc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,_=f.flags;switch(f.tag){case 22:Oc(u,f),_&2048&&Dp(f.alternate,f);break;case 24:Oc(u,f),_&2048&&Vp(f.alternate,f);break;default:Oc(u,f)}s=s.sibling}}var Mc=8192;function gu(i){if(i.subtreeFlags&Mc)for(i=i.child;i!==null;)uT(i),i=i.sibling}function uT(i){switch(i.tag){case 26:gu(i),i.flags&Mc&&i.memoizedState!==null&&iI(Dr,i.memoizedState,i.memoizedProps);break;case 5:gu(i);break;case 3:case 4:var s=Dr;Dr=Ff(i.stateNode.containerInfo),gu(i),Dr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Mc,Mc=16777216,gu(i),Mc=s):gu(i));break;default:gu(i)}}function cT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function kc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Sn=f,fT(f,i)}cT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hT(i),i=i.sibling}function hT(i){switch(i.tag){case 0:case 11:case 15:kc(i),i.flags&2048&&Xa(9,i,i.return);break;case 3:kc(i);break;case 12:kc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Pf(i)):kc(i);break;default:kc(i)}}function Pf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Sn=f,fT(f,i)}cT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Xa(8,s,s.return),Pf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Pf(s));break;default:Pf(s)}i=i.sibling}}function fT(i,s){for(;Sn!==null;){var u=Sn;switch(u.tag){case 0:case 11:case 15:Xa(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:gc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Sn=f;else t:for(u=i;Sn!==null;){f=Sn;var _=f.sibling,y=f.return;if(iT(f),f===u){Sn=null;break t}if(_!==null){_.return=y,Sn=_;break t}Sn=y}}}var yR={getCacheForType:function(i){var s=Gn(pn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},TR=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ne=null,te=null,ce=0,Te=0,Bi=null,Ja=!1,_u=!1,Up=!1,Ws=0,Xe=0,to=0,yl=0,zp=0,dr=0,vu=0,Nc=null,pi=null,Bp=!1,jp=0,Lf=1/0,Of=null,eo=null,On=0,no=null,yu=null,Tu=0,Fp=0,Hp=null,dT=null,Dc=0,qp=null;function ji(){if((ye&2)!==0&&ce!==0)return ce&-ce;if(ot.T!==null){var i=ou;return i!==0?i:Qp()}return qr()}function mT(){dr===0&&(dr=(ce&536870912)===0||qt?qo():536870912);var i=fr.current;return i!==null&&(i.flags|=32),dr}function Fi(i,s,u){(i===Ne&&(Te===2||Te===9)||i.cancelPendingCommit!==null)&&(Eu(i,0),io(i,ce,dr,!1)),Qi(i,u),((ye&2)===0||i!==Ne)&&(i===Ne&&((ye&2)===0&&(yl|=u),Xe===4&&io(i,ce,dr,!1)),as(i))}function pT(i,s,u){if((ye&6)!==0)throw Error(r(327));var f=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Ai(i,s),_=f?wR(i,s):Yp(i,s,!0),y=f;do{if(_===0){_u&&!f&&io(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!ER(u)){_=Yp(i,s,!1),y=!1;continue}if(_===2){if(y=s,i.errorRecoveryDisabledLanes&y)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;t:{var P=i;_=Nc;var B=P.current.memoizedState.isDehydrated;if(B&&(Eu(P,x).flags|=256),x=Yp(P,x,!1),x!==2){if(Up&&!B){P.errorRecoveryDisabledLanes|=y,yl|=y,_=4;break t}y=pi,pi=_,y!==null&&(pi===null?pi=y:pi.push.apply(pi,y))}_=x}if(y=!1,_!==2)continue}}if(_===1){Eu(i,0),io(i,s,0,!0);break}t:{switch(f=i,y=_,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:io(f,s,dr,!Ja);break t;case 2:pi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(_=jp+300-Un(),10<_)){if(io(f,s,dr,!Ja),va(f,0,!0)!==0)break t;f.timeoutHandle=qT(gT.bind(null,f,u,pi,Of,Bp,s,dr,yl,vu,Ja,y,2,-0,0),_);break t}gT(f,u,pi,Of,Bp,s,dr,yl,vu,Ja,y,0,-0,0)}}break}while(!0);as(i)}function gT(i,s,u,f,_,y,x,P,B,tt,ut,ft,it,rt){if(i.timeoutHandle=-1,ft=s.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(Hc={stylesheets:null,count:0,unsuspend:nI},uT(s),ft=rI(),ft!==null)){i.cancelPendingCommit=ft(wT.bind(null,i,s,y,u,f,_,x,P,B,ut,1,it,rt)),io(i,y,x,!tt);return}wT(i,s,y,u,f,_,x,P,B)}function ER(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var _=u[f],y=_.getSnapshot;_=_.value;try{if(!ei(y(),_))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function io(i,s,u,f){s&=~zp,s&=~yl,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var _=s;0<_;){var y=31-vn(_),x=1<<y;f[y]=-1,_&=~x}u!==0&&$i(i,u,s)}function Mf(){return(ye&6)===0?(Vc(0),!1):!0}function Gp(){if(te!==null){if(Te===0)var i=te.return;else i=te,kr=hr=null,lp(i),du=null,xc=0,i=te;for(;i!==null;)W0(i.alternate,i),i=i.return;te=null}}function Eu(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,zR(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Gp(),Ne=i,te=u=cr(i.current,null),ce=s,Te=0,Bi=null,Ja=!1,_u=Ai(i,s),Up=!1,vu=dr=zp=yl=to=Xe=0,pi=Nc=null,Bp=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var _=31-vn(f),y=1<<_;s|=i[_],f&=~y}return Ws=s,ol(),u}function _T(i,s){Xt=null,ot.H=Tf,s===vc||s===cf?(s=ky(),Te=3):s===Ly?(s=ky(),Te=4):Te=s===N0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bi=s,te===null&&(Xe=1,Sf(i,ii(s,i.current)))}function vT(){var i=ot.H;return ot.H=Tf,i===null?Tf:i}function yT(){var i=ot.A;return ot.A=yR,i}function Zp(){Xe=4,Ja||(ce&4194048)!==ce&&fr.current!==null||(_u=!0),(to&134217727)===0&&(yl&134217727)===0||Ne===null||io(Ne,ce,dr,!1)}function Yp(i,s,u){var f=ye;ye|=2;var _=vT(),y=yT();(Ne!==i||ce!==s)&&(Of=null,Eu(i,s)),s=!1;var x=Xe;t:do try{if(Te!==0&&te!==null){var P=te,B=Bi;switch(Te){case 8:Gp(),x=6;break t;case 3:case 2:case 9:case 6:fr.current===null&&(s=!0);var tt=Te;if(Te=0,Bi=null,bu(i,P,B,tt),u&&_u){x=0;break t}break;default:tt=Te,Te=0,Bi=null,bu(i,P,B,tt)}}bR(),x=Xe;break}catch(ut){_T(i,ut)}while(!0);return s&&i.shellSuspendCounter++,kr=hr=null,ye=f,ot.H=_,ot.A=y,te===null&&(Ne=null,ce=0,ol()),x}function bR(){for(;te!==null;)TT(te)}function wR(i,s){var u=ye;ye|=2;var f=vT(),_=yT();Ne!==i||ce!==s?(Of=null,Lf=Un()+500,Eu(i,s)):_u=Ai(i,s);t:do try{if(Te!==0&&te!==null){s=te;var y=Bi;e:switch(Te){case 1:Te=0,Bi=null,bu(i,s,y,1);break;case 2:case 9:if(Oy(y)){Te=0,Bi=null,ET(s);break}s=function(){Te!==2&&Te!==9||Ne!==i||(Te=7),as(i)},y.then(s,s);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:Oy(y)?(Te=0,Bi=null,ET(s)):(Te=0,Bi=null,bu(i,s,y,7));break;case 5:var x=null;switch(te.tag){case 26:x=te.memoizedState;case 5:case 27:var P=te;if(!x||nE(x)){Te=0,Bi=null;var B=P.sibling;if(B!==null)te=B;else{var tt=P.return;tt!==null?(te=tt,kf(tt)):te=null}break e}}Te=0,Bi=null,bu(i,s,y,5);break;case 6:Te=0,Bi=null,bu(i,s,y,6);break;case 8:Gp(),Xe=6;break t;default:throw Error(r(462))}}AR();break}catch(ut){_T(i,ut)}while(!0);return kr=hr=null,ot.H=f,ot.A=_,ye=u,te!==null?0:(Ne=null,ce=0,ol(),Xe)}function AR(){for(;te!==null&&!ga();)TT(te)}function TT(i){var s=Y0(i.alternate,i,Ws);i.memoizedProps=i.pendingProps,s===null?kf(i):te=s}function ET(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=j0(u,s,s.pendingProps,s.type,void 0,ce);break;case 11:s=j0(u,s,s.pendingProps,s.type.render,s.ref,ce);break;case 5:lp(s);default:W0(u,s),s=te=mc(s,Ws),s=Y0(u,s,Ws)}i.memoizedProps=i.pendingProps,s===null?kf(i):te=s}function bu(i,s,u,f){kr=hr=null,lp(s),du=null,xc=0;var _=s.return;try{if(dR(i,_,s,u,ce)){Xe=1,Sf(i,ii(u,i.current)),te=null;return}}catch(y){if(_!==null)throw te=_,y;Xe=1,Sf(i,ii(u,i.current)),te=null;return}s.flags&32768?(qt||f===1?i=!0:_u||(ce&536870912)!==0?i=!1:(Ja=i=!0,(f===2||f===9||f===3||f===6)&&(f=fr.current,f!==null&&f.tag===13&&(f.flags|=16384))),bT(s,i)):kf(s)}function kf(i){var s=i;do{if((s.flags&32768)!==0){bT(s,Ja);return}i=s.return;var u=pR(s.alternate,s,Ws);if(u!==null){te=u;return}if(s=s.sibling,s!==null){te=s;return}te=s=i}while(s!==null);Xe===0&&(Xe=5)}function bT(i,s){do{var u=gR(i.alternate,i);if(u!==null){u.flags&=32767,te=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){te=i;return}te=i=u}while(i!==null);Xe=6,te=null}function wT(i,s,u,f,_,y,x,P,B){i.cancelPendingCommit=null;do Nf();while(On!==0);if((ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Vi,Go(i,u,y,x,P,B),i===Ne&&(te=Ne=null,ce=0),yu=s,no=i,Tu=u,Fp=y,Hp=_,dT=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,RR(Tr,function(){return RT(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=ot.T,ot.T=null,_=bt.p,bt.p=2,x=ye,ye|=4;try{_R(i,s,u)}finally{ye=x,bt.p=_,ot.T=f}}On=1,AT(),ST(),CT()}}function AT(){if(On===1){On=0;var i=no,s=yu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=ot.T,ot.T=null;var f=bt.p;bt.p=2;var _=ye;ye|=4;try{aT(s,i);var y=sg,x=rl(i.containerInfo),P=y.focusedElem,B=y.selectionRange;if(x!==P&&P&&P.ownerDocument&&Jl(P.ownerDocument.documentElement,P)){if(B!==null&&sl(P)){var tt=B.start,ut=B.end;if(ut===void 0&&(ut=tt),"selectionStart"in P)P.selectionStart=tt,P.selectionEnd=Math.min(ut,P.value.length);else{var ft=P.ownerDocument||document,it=ft&&ft.defaultView||window;if(it.getSelection){var rt=it.getSelection(),Ht=P.textContent.length,Ut=Math.min(B.start,Ht),Se=B.end===void 0?Ut:Math.min(B.end,Ht);!rt.extend&&Ut>Se&&(x=Se,Se=Ut,Ut=x);var X=fc(P,Ut),Y=fc(P,Se);if(X&&Y&&(rt.rangeCount!==1||rt.anchorNode!==X.node||rt.anchorOffset!==X.offset||rt.focusNode!==Y.node||rt.focusOffset!==Y.offset)){var J=ft.createRange();J.setStart(X.node,X.offset),rt.removeAllRanges(),Ut>Se?(rt.addRange(J),rt.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),rt.addRange(J))}}}}for(ft=[],rt=P;rt=rt.parentNode;)rt.nodeType===1&&ft.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ft.length;P++){var ct=ft[P];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}Yf=!!rg,sg=rg=null}finally{ye=_,bt.p=f,ot.T=u}}i.current=s,On=2}}function ST(){if(On===2){On=0;var i=no,s=yu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=ot.T,ot.T=null;var f=bt.p;bt.p=2;var _=ye;ye|=4;try{nT(i,s.alternate,s)}finally{ye=_,bt.p=f,ot.T=u}}On=3}}function CT(){if(On===4||On===3){On=0,zo();var i=no,s=yu,u=Tu,f=dT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?On=5:(On=0,yu=no=null,xT(i,i.pendingLanes));var _=i.pendingLanes;if(_===0&&(eo=null),Ta(u),s=s.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(Pe,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=ot.T,_=bt.p,bt.p=2,ot.T=null;try{for(var y=i.onRecoverableError,x=0;x<f.length;x++){var P=f[x];y(P.value,{componentStack:P.stack})}}finally{ot.T=s,bt.p=_}}(Tu&3)!==0&&Nf(),as(i),_=i.pendingLanes,(u&4194090)!==0&&(_&42)!==0?i===qp?Dc++:(Dc=0,qp=i):Dc=0,Vc(0)}}function xT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,gc(s)))}function Nf(i){return AT(),ST(),CT(),RT()}function RT(){if(On!==5)return!1;var i=no,s=Fp;Fp=0;var u=Ta(Tu),f=ot.T,_=bt.p;try{bt.p=32>u?32:u,ot.T=null,u=Hp,Hp=null;var y=no,x=Tu;if(On=0,yu=no=null,Tu=0,(ye&6)!==0)throw Error(r(331));var P=ye;if(ye|=4,hT(y.current),lT(y,y.current,x,u),ye=P,Vc(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(Pe,y)}catch{}return!0}finally{bt.p=_,ot.T=f,xT(i,s)}}function IT(i,s,u){s=ii(u,s),s=bp(i.stateNode,s,2),i=Za(i,s,2),i!==null&&(Qi(i,2),as(i))}function Re(i,s,u){if(i.tag===3)IT(i,i,u);else for(;s!==null;){if(s.tag===3){IT(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(eo===null||!eo.has(f))){i=ii(u,i),u=M0(2),f=Za(s,u,2),f!==null&&(k0(u,f,s,i),Qi(f,2),as(f));break}}s=s.return}}function Kp(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new TR;var _=new Set;f.set(s,_)}else _=f.get(s),_===void 0&&(_=new Set,f.set(s,_));_.has(u)||(Up=!0,_.add(u),i=SR.bind(null,i,s,u),s.then(i,i))}function SR(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ne===i&&(ce&u)===u&&(Xe===4||Xe===3&&(ce&62914560)===ce&&300>Un()-jp?(ye&2)===0&&Eu(i,0):zp|=u,vu===ce&&(vu=0)),as(i)}function PT(i,s){s===0&&(s=ya()),i=Ba(i,s),i!==null&&(Qi(i,s),as(i))}function CR(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),PT(i,u)}function xR(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,_=i.memoizedState;_!==null&&(u=_.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),PT(i,u)}function RR(i,s){return yr(i,s)}var Df=null,wu=null,Wp=!1,Vf=!1,Xp=!1,Tl=0;function as(i){i!==wu&&i.next===null&&(wu===null?Df=wu=i:wu=wu.next=i),Vf=!0,Wp||(Wp=!0,PR())}function Vc(i,s){if(!Xp&&Vf){Xp=!0;do for(var u=!1,f=Df;f!==null;){if(i!==0){var _=f.pendingLanes;if(_===0)var y=0;else{var x=f.suspendedLanes,P=f.pingedLanes;y=(1<<31-vn(42|i)+1)-1,y&=_&~(x&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,kT(f,y))}else y=ce,y=va(f,f===Ne?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Ai(f,y)||(u=!0,kT(f,y));f=f.next}while(u);Xp=!1}}function IR(){LT()}function LT(){Vf=Wp=!1;var i=0;Tl!==0&&(UR()&&(i=Tl),Tl=0);for(var s=Un(),u=null,f=Df;f!==null;){var _=f.next,y=OT(f,s);y===0?(f.next=null,u===null?Df=_:u.next=_,_===null&&(wu=u)):(u=f,(i!==0||(y&3)!==0)&&(Vf=!0)),f=_}Vc(i)}function OT(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,_=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var x=31-vn(y),P=1<<x,B=_[x];B===-1?((P&u)===0||(P&f)!==0)&&(_[x]=Ho(P,s)):B<=s&&(i.expiredLanes|=P),y&=~P}if(s=Ne,u=ce,u=va(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(Te===2||Te===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&As(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ai(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&As(f),Ta(u)){case 2:case 8:u=Ss;break;case 32:u=Tr;break;case 268435456:u=Cs;break;default:u=Tr}return f=MT.bind(null,i),u=yr(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&As(f),i.callbackPriority=2,i.callbackNode=null,2}function MT(i,s){if(On!==0&&On!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Nf()&&i.callbackNode!==u)return null;var f=ce;return f=va(i,i===Ne?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(pT(i,f,s),OT(i,Un()),i.callbackNode!=null&&i.callbackNode===u?MT.bind(null,i):null)}function kT(i,s){if(Nf())return null;pT(i,s,!0)}function PR(){BR(function(){(ye&6)!==0?yr(Bo,IR):LT()})}function Qp(){return Tl===0&&(Tl=qo()),Tl}function NT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xr(""+i)}function DT(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function LR(i,s,u,f,_){if(s==="submit"&&u&&u.stateNode===_){var y=NT((_[Ke]||null).action),x=f.submitter;x&&(s=(s=x[Ke]||null)?NT(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var P=new Ms("action","action",null,f,_);i.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Tl!==0){var B=x?DT(_,x):new FormData(_);_p(u,{pending:!0,data:B,method:_.method,action:y},null,B)}}else typeof y=="function"&&(P.preventDefault(),B=x?DT(_,x):new FormData(_),_p(u,{pending:!0,data:B,method:_.method,action:y},y,B))},currentTarget:_}]})}}for(var $p=0;$p<Us.length;$p++){var Jp=Us[$p],OR=Jp.toLowerCase(),MR=Jp[0].toUpperCase()+Jp.slice(1);Di(OR,"on"+MR)}Di(tf,"onAnimationEnd"),Di(Ni,"onAnimationIteration"),Di(al,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Zm,"onTransitionRun"),Di(iu,"onTransitionStart"),Di(Ym,"onTransitionCancel"),Di(dc,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uc));function VT(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],_=f.event;f=f.listeners;t:{var y=void 0;if(s)for(var x=f.length-1;0<=x;x--){var P=f[x],B=P.instance,tt=P.currentTarget;if(P=P.listener,B!==y&&_.isPropagationStopped())break t;y=P,_.currentTarget=tt;try{y(_)}catch(ut){Af(ut)}_.currentTarget=null,y=B}else for(x=0;x<f.length;x++){if(P=f[x],B=P.instance,tt=P.currentTarget,P=P.listener,B!==y&&_.isPropagationStopped())break t;y=P,_.currentTarget=tt;try{y(_)}catch(ut){Af(ut)}_.currentTarget=null,y=B}}}}function ee(i,s){var u=s[Bn];u===void 0&&(u=s[Bn]=new Set);var f=i+"__bubble";u.has(f)||(UT(s,i,2,!1),u.add(f))}function tg(i,s,u){var f=0;s&&(f|=4),UT(u,i,f,s)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function eg(i){if(!i[Uf]){i[Uf]=!0,Ko.forEach(function(u){u!=="selectionchange"&&(kR.has(u)||tg(u,!1,i),tg(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Uf]||(s[Uf]=!0,tg("selectionchange",!1,s))}}function UT(i,s,u,f){switch(lE(s)){case 2:var _=oI;break;case 8:_=lI;break;default:_=pg}u=_.bind(null,s,u,i),_=void 0,!jn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),f?_!==void 0?i.addEventListener(s,u,{capture:!0,passive:_}):i.addEventListener(s,u,!0):_!==void 0?i.addEventListener(s,u,{passive:_}):i.addEventListener(s,u,!1)}function ng(i,s,u,f,_){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)t:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var P=f.stateNode.containerInfo;if(P===_)break;if(x===4)for(x=f.return;x!==null;){var B=x.tag;if((B===3||B===4)&&x.stateNode.containerInfo===_)return;x=x.return}for(;P!==null;){if(x=Si(P),x===null)return;if(B=x.tag,B===5||B===6||B===26||B===27){f=y=x;continue t}P=P.parentNode}}f=f.return}ti(function(){var tt=y,ut=Pn(u),ft=[];t:{var it=ef.get(i);if(it!==void 0){var rt=Ms,Ht=i;switch(i){case"keypress":if(be(u)===0)break t;case"keydown":case"keyup":rt=La;break;case"focusin":Ht="focus",rt=Ca;break;case"focusout":Ht="blur",rt=Ca;break;case"beforeblur":case"afterblur":rt=Ca;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Wl;break;case tf:case Ni:case al:rt=Ra;break;case dc:rt=Xl;break;case"scroll":case"scrollend":rt=Yl;break;case"wheel":rt=Ds;break;case"copy":case"cut":case"paste":rt=Qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Oa;break;case"toggle":case"beforetoggle":rt=ar}var Ut=(s&4)!==0,Se=!Ut&&(i==="scroll"||i==="scrollend"),X=Ut?it!==null?it+"Capture":null:it;Ut=[];for(var Y=tt,J;Y!==null;){var ct=Y;if(J=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||J===null||X===null||(ct=ue(Y,X),ct!=null&&Ut.push(zc(Y,ct,J))),Se)break;Y=Y.return}0<Ut.length&&(it=new rt(it,Ht,null,u,ut),ft.push({event:it,listeners:Ut}))}}if((s&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",it&&u!==Pi&&(Ht=u.relatedTarget||u.fromElement)&&(Si(Ht)||Ht[ui]))break t;if((rt||it)&&(it=ut.window===ut?ut:(it=ut.ownerDocument)?it.defaultView||it.parentWindow:window,rt?(Ht=u.relatedTarget||u.toElement,rt=tt,Ht=Ht?Si(Ht):null,Ht!==null&&(Se=l(Ht),Ut=Ht.tag,Ht!==Se||Ut!==5&&Ut!==27&&Ut!==6)&&(Ht=null)):(rt=null,Ht=tt),rt!==Ht)){if(Ut=bn,ct="onMouseLeave",X="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Ut=Oa,ct="onPointerLeave",X="onPointerEnter",Y="pointer"),Se=rt==null?it:Rn(rt),J=Ht==null?it:Rn(Ht),it=new Ut(ct,Y+"leave",rt,u,ut),it.target=Se,it.relatedTarget=J,ct=null,Si(ut)===tt&&(Ut=new Ut(X,Y+"enter",Ht,u,ut),Ut.target=J,Ut.relatedTarget=Se,ct=Ut),Se=ct,rt&&Ht)e:{for(Ut=rt,X=Ht,Y=0,J=Ut;J;J=Au(J))Y++;for(J=0,ct=X;ct;ct=Au(ct))J++;for(;0<Y-J;)Ut=Au(Ut),Y--;for(;0<J-Y;)X=Au(X),J--;for(;Y--;){if(Ut===X||X!==null&&Ut===X.alternate)break e;Ut=Au(Ut),X=Au(X)}Ut=null}else Ut=null;rt!==null&&zT(ft,it,rt,Ut,!1),Ht!==null&&Se!==null&&zT(ft,Se,Ht,Ut,!0)}}t:{if(it=tt?Rn(tt):window,rt=it.nodeName&&it.nodeName.toLowerCase(),rt==="select"||rt==="input"&&it.type==="file")var Pt=ka;else if(Me(it))if(uc)Pt=Gm;else{Pt=qm;var Jt=hc}else rt=it.nodeName,!rt||rt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?tt&&Os(tt.elementType)&&(Pt=ka):Pt=Mr;if(Pt&&(Pt=Pt(i,tt))){Lr(ft,Pt,u,ut);break t}Jt&&Jt(i,it,tt),i==="focusout"&&tt&&it.type==="number"&&tt.memoizedProps.value!=null&&Ri(it,"number",it.value)}switch(Jt=tt?Rn(tt):window,i){case"focusin":(Me(Jt)||Jt.contentEditable==="true")&&(ki=Jt,Va=tt,Vs=null);break;case"focusout":Vs=Va=ki=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,$h(ft,u,ut);break;case"selectionchange":if(tu)break;case"keydown":case"keyup":$h(ft,u,ut)}var Nt;if(qn)t:{switch(i){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else ie?at(i,u)&&(zt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(zt="onCompositionStart");zt&&(C&&u.locale!=="ko"&&(ie||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie&&(Nt=xr()):(hi=ut,Fn="value"in hi?hi.value:hi.textContent,ie=!0)),Jt=zf(tt,zt),0<Jt.length&&(zt=new Hn(zt,i,null,u,ut),ft.push({event:zt,listeners:Jt}),Nt?zt.data=Nt:(Nt=Et(u),Nt!==null&&(zt.data=Nt)))),(Nt=b?We(i,u):re(i,u))&&(zt=zf(tt,"onBeforeInput"),0<zt.length&&(Jt=new Hn("onBeforeInput","beforeinput",null,u,ut),ft.push({event:Jt,listeners:zt}),Jt.data=Nt)),LR(ft,i,tt,u,ut)}VT(ft,s)})}function zc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function zf(i,s){for(var u=s+"Capture",f=[];i!==null;){var _=i,y=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||y===null||(_=ue(i,u),_!=null&&f.unshift(zc(i,_,y)),_=ue(i,s),_!=null&&f.push(zc(i,_,y))),i.tag===3)return f;i=i.return}return[]}function Au(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zT(i,s,u,f,_){for(var y=s._reactName,x=[];u!==null&&u!==f;){var P=u,B=P.alternate,tt=P.stateNode;if(P=P.tag,B!==null&&B===f)break;P!==5&&P!==26&&P!==27||tt===null||(B=tt,_?(tt=ue(u,y),tt!=null&&x.unshift(zc(u,tt,B))):_||(tt=ue(u,y),tt!=null&&x.push(zc(u,tt,B)))),u=u.return}x.length!==0&&i.push({event:s,listeners:x})}var NR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function BT(i){return(typeof i=="string"?i:""+i).replace(NR,`
`).replace(DR,"")}function jT(i,s){return s=BT(s),BT(i)===s}function Bf(){}function Ae(i,s,u,f,_,y){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Tn(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Tn(i,""+f);break;case"className":tr(i,"class",f);break;case"tabIndex":tr(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(i,u,f);break;case"style":Sr(i,f,y);break;case"data":if(s!=="object"){tr(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Xr(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&Ae(i,s,"name",_.name,_,null),Ae(i,s,"formEncType",_.formEncType,_,null),Ae(i,s,"formMethod",_.formMethod,_,null),Ae(i,s,"formTarget",_.formTarget,_,null)):(Ae(i,s,"encType",_.encType,_,null),Ae(i,s,"method",_.method,_,null),Ae(i,s,"target",_.target,_,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Xr(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Bf);break;case"onScroll":f!=null&&ee("scroll",i);break;case"onScrollEnd":f!=null&&ee("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Xr(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":ee("beforetoggle",i),ee("toggle",i),Zr(i,"popover",f);break;case"xlinkActuate":dn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":dn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":dn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":dn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":dn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":dn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":dn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":dn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":dn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Zr(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Xo.get(u)||u,Zr(i,u,f))}}function ig(i,s,u,f,_,y){switch(u){case"style":Sr(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Tn(i,f):(typeof f=="number"||typeof f=="bigint")&&Tn(i,""+f);break;case"onScroll":f!=null&&ee("scroll",i);break;case"onScrollEnd":f!=null&&ee("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Bf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),s=u.slice(2,_?u.length-7:void 0),y=i[Ke]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,_),typeof f=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,_);break t}u in i?i[u]=f:f===!0?i.setAttribute(u,""):Zr(i,u,f)}}}function Mn(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",i),ee("load",i);var f=!1,_=!1,y;for(y in u)if(u.hasOwnProperty(y)){var x=u[y];if(x!=null)switch(y){case"src":f=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ae(i,s,y,x,u,null)}}_&&Ae(i,s,"srcSet",u.srcSet,u,null),f&&Ae(i,s,"src",u.src,u,null);return;case"input":ee("invalid",i);var P=y=x=_=null,B=null,tt=null;for(f in u)if(u.hasOwnProperty(f)){var ut=u[f];if(ut!=null)switch(f){case"name":_=ut;break;case"type":x=ut;break;case"checked":B=ut;break;case"defaultChecked":tt=ut;break;case"value":y=ut;break;case"defaultValue":P=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,s));break;default:Ae(i,s,f,ut,u,null)}}Ls(i,y,P,B,tt,x,_,!1),Wr(i);return;case"select":ee("invalid",i),f=x=y=null;for(_ in u)if(u.hasOwnProperty(_)&&(P=u[_],P!=null))switch(_){case"value":y=P;break;case"defaultValue":x=P;break;case"multiple":f=P;default:Ae(i,s,_,P,u,null)}s=y,u=x,i.multiple=!!f,s!=null?In(i,!!f,s,!1):u!=null&&In(i,!!f,u,!0);return;case"textarea":ee("invalid",i),y=_=f=null;for(x in u)if(u.hasOwnProperty(x)&&(P=u[x],P!=null))switch(x){case"value":f=P;break;case"defaultValue":_=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Ae(i,s,x,P,u,null)}Jn(i,f,_,y),Wr(i);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(f=u[B],f!=null))switch(B){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ae(i,s,B,f,u,null)}return;case"dialog":ee("beforetoggle",i),ee("toggle",i),ee("cancel",i),ee("close",i);break;case"iframe":case"object":ee("load",i);break;case"video":case"audio":for(f=0;f<Uc.length;f++)ee(Uc[f],i);break;case"image":ee("error",i),ee("load",i);break;case"details":ee("toggle",i);break;case"embed":case"source":case"link":ee("error",i),ee("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in u)if(u.hasOwnProperty(tt)&&(f=u[tt],f!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ae(i,s,tt,f,u,null)}return;default:if(Os(s)){for(ut in u)u.hasOwnProperty(ut)&&(f=u[ut],f!==void 0&&ig(i,s,ut,f,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(f=u[P],f!=null&&Ae(i,s,P,f,u,null))}function VR(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,y=null,x=null,P=null,B=null,tt=null,ut=null;for(rt in u){var ft=u[rt];if(u.hasOwnProperty(rt)&&ft!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":B=ft;default:f.hasOwnProperty(rt)||Ae(i,s,rt,null,f,ft)}}for(var it in f){var rt=f[it];if(ft=u[it],f.hasOwnProperty(it)&&(rt!=null||ft!=null))switch(it){case"type":y=rt;break;case"name":_=rt;break;case"checked":tt=rt;break;case"defaultChecked":ut=rt;break;case"value":x=rt;break;case"defaultValue":P=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,s));break;default:rt!==ft&&Ae(i,s,it,rt,f,ft)}}Oe(i,x,P,B,tt,ut,y,_);return;case"select":rt=x=P=it=null;for(y in u)if(B=u[y],u.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":rt=B;default:f.hasOwnProperty(y)||Ae(i,s,y,null,f,B)}for(_ in f)if(y=f[_],B=u[_],f.hasOwnProperty(_)&&(y!=null||B!=null))switch(_){case"value":it=y;break;case"defaultValue":P=y;break;case"multiple":x=y;default:y!==B&&Ae(i,s,_,y,f,B)}s=P,u=x,f=rt,it!=null?In(i,!!u,it,!1):!!f!=!!u&&(s!=null?In(i,!!u,s,!0):In(i,!!u,u?[]:"",!1));return;case"textarea":rt=it=null;for(P in u)if(_=u[P],u.hasOwnProperty(P)&&_!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ae(i,s,P,null,f,_)}for(x in f)if(_=f[x],y=u[x],f.hasOwnProperty(x)&&(_!=null||y!=null))switch(x){case"value":it=_;break;case"defaultValue":rt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==y&&Ae(i,s,x,_,f,y)}Bt(i,it,rt);return;case"option":for(var Ht in u)if(it=u[Ht],u.hasOwnProperty(Ht)&&it!=null&&!f.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:Ae(i,s,Ht,null,f,it)}for(B in f)if(it=f[B],rt=u[B],f.hasOwnProperty(B)&&it!==rt&&(it!=null||rt!=null))switch(B){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Ae(i,s,B,it,f,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in u)it=u[Ut],u.hasOwnProperty(Ut)&&it!=null&&!f.hasOwnProperty(Ut)&&Ae(i,s,Ut,null,f,it);for(tt in f)if(it=f[tt],rt=u[tt],f.hasOwnProperty(tt)&&it!==rt&&(it!=null||rt!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:Ae(i,s,tt,it,f,rt)}return;default:if(Os(s)){for(var Se in u)it=u[Se],u.hasOwnProperty(Se)&&it!==void 0&&!f.hasOwnProperty(Se)&&ig(i,s,Se,void 0,f,it);for(ut in f)it=f[ut],rt=u[ut],!f.hasOwnProperty(ut)||it===rt||it===void 0&&rt===void 0||ig(i,s,ut,it,f,rt);return}}for(var X in u)it=u[X],u.hasOwnProperty(X)&&it!=null&&!f.hasOwnProperty(X)&&Ae(i,s,X,null,f,it);for(ft in f)it=f[ft],rt=u[ft],!f.hasOwnProperty(ft)||it===rt||it==null&&rt==null||Ae(i,s,ft,it,f,rt)}var rg=null,sg=null;function jf(i){return i.nodeType===9?i:i.ownerDocument}function FT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ag(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var og=null;function UR(){var i=window.event;return i&&i.type==="popstate"?i===og?!1:(og=i,!0):(og=null,!1)}var qT=typeof setTimeout=="function"?setTimeout:void 0,zR=typeof clearTimeout=="function"?clearTimeout:void 0,GT=typeof Promise=="function"?Promise:void 0,BR=typeof queueMicrotask=="function"?queueMicrotask:typeof GT<"u"?function(i){return GT.resolve(null).then(i).catch(jR)}:qT;function jR(i){setTimeout(function(){throw i})}function ro(i){return i==="head"}function ZT(i,s){var u=s,f=0,_=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<f&&8>f){u=f;var x=i.ownerDocument;if(u&1&&Bc(x.documentElement),u&2&&Bc(x.body),u&4)for(u=x.head,Bc(u),x=u.firstChild;x;){var P=x.nextSibling,B=x.nodeName;x[Gr]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=P}}if(_===0){i.removeChild(y),Kc(s);return}_--}else u==="$"||u==="$?"||u==="$!"?_++:f=u.charCodeAt(0)-48;else f=0;u=y}while(u);Kc(s)}function lg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":lg(u),wr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function FR(i,s,u,f){for(;i.nodeType===1;){var _=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Gr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==_.rel||i.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Vr(i.nextSibling),i===null)break}return null}function HR(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Vr(i.nextSibling),i===null))return null;return i}function ug(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function qR(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Vr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var cg=null;function YT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function KT(i,s,u){switch(s=jf(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Bc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);wr(i)}var mr=new Map,WT=new Set;function Ff(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Xs=bt.d;bt.d={f:GR,r:ZR,D:YR,C:KR,L:WR,m:XR,X:$R,S:QR,M:JR};function GR(){var i=Xs.f(),s=Mf();return i||s}function ZR(i){var s=Ci(i);s!==null&&s.tag===5&&s.type==="form"?p0(s):Xs.r(i)}var Su=typeof document>"u"?null:document;function XT(i,s,u){var f=Su;if(f&&typeof s=="string"&&s){var _=Ve(s);_='link[rel="'+i+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),WT.has(_)||(WT.add(_),i={rel:i,crossOrigin:u,href:s},f.querySelector(_)===null&&(s=f.createElement("link"),Mn(s,"link",i),He(s),f.head.appendChild(s)))}}function YR(i){Xs.D(i),XT("dns-prefetch",i,null)}function KR(i,s){Xs.C(i,s),XT("preconnect",i,s)}function WR(i,s,u){Xs.L(i,s,u);var f=Su;if(f&&i&&s){var _='link[rel="preload"][as="'+Ve(s)+'"]';s==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+Ve(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+Ve(u.imageSizes)+'"]')):_+='[href="'+Ve(i)+'"]';var y=_;switch(s){case"style":y=Cu(i);break;case"script":y=xu(i)}mr.has(y)||(i=E({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),mr.set(y,i),f.querySelector(_)!==null||s==="style"&&f.querySelector(jc(y))||s==="script"&&f.querySelector(Fc(y))||(s=f.createElement("link"),Mn(s,"link",i),He(s),f.head.appendChild(s)))}}function XR(i,s){Xs.m(i,s);var u=Su;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+Ve(f)+'"][href="'+Ve(i)+'"]',y=_;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=xu(i)}if(!mr.has(y)&&(i=E({rel:"modulepreload",href:i},s),mr.set(y,i),u.querySelector(_)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Fc(y)))return}f=u.createElement("link"),Mn(f,"link",i),He(f),u.head.appendChild(f)}}}function QR(i,s,u){Xs.S(i,s,u);var f=Su;if(f&&i){var _=yn(f).hoistableStyles,y=Cu(i);s=s||"default";var x=_.get(y);if(!x){var P={loading:0,preload:null};if(x=f.querySelector(jc(y)))P.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},u),(u=mr.get(y))&&hg(i,u);var B=x=f.createElement("link");He(B),Mn(B,"link",i),B._p=new Promise(function(tt,ut){B.onload=tt,B.onerror=ut}),B.addEventListener("load",function(){P.loading|=1}),B.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Hf(x,s,f)}x={type:"stylesheet",instance:x,count:1,state:P},_.set(y,x)}}}function $R(i,s){Xs.X(i,s);var u=Su;if(u&&i){var f=yn(u).hoistableScripts,_=xu(i),y=f.get(_);y||(y=u.querySelector(Fc(_)),y||(i=E({src:i,async:!0},s),(s=mr.get(_))&&fg(i,s),y=u.createElement("script"),He(y),Mn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(_,y))}}function JR(i,s){Xs.M(i,s);var u=Su;if(u&&i){var f=yn(u).hoistableScripts,_=xu(i),y=f.get(_);y||(y=u.querySelector(Fc(_)),y||(i=E({src:i,async:!0,type:"module"},s),(s=mr.get(_))&&fg(i,s),y=u.createElement("script"),He(y),Mn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(_,y))}}function QT(i,s,u,f){var _=(_=wt.current)?Ff(_):null;if(!_)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Cu(u.href),u=yn(_).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Cu(u.href);var y=yn(_).hoistableStyles,x=y.get(i);if(x||(_=_.ownerDocument||_,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,x),(y=_.querySelector(jc(i)))&&!y._p&&(x.instance=y,x.state.loading=5),mr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},mr.set(i,u),y||tI(_,i,u,x.state))),s&&f===null)throw Error(r(528,""));return x}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xu(u),u=yn(_).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Cu(i){return'href="'+Ve(i)+'"'}function jc(i){return'link[rel="stylesheet"]['+i+"]"}function $T(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function tI(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Mn(s,"link",u),He(s),i.head.appendChild(s))}function xu(i){return'[src="'+Ve(i)+'"]'}function Fc(i){return"script[async]"+i}function JT(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Ve(u.href)+'"]');if(f)return s.instance=f,He(f),f;var _=E({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),He(f),Mn(f,"style",_),Hf(f,u.precedence,i),s.instance=f;case"stylesheet":_=Cu(u.href);var y=i.querySelector(jc(_));if(y)return s.state.loading|=4,s.instance=y,He(y),y;f=$T(u),(_=mr.get(_))&&hg(f,_),y=(i.ownerDocument||i).createElement("link"),He(y);var x=y;return x._p=new Promise(function(P,B){x.onload=P,x.onerror=B}),Mn(y,"link",f),s.state.loading|=4,Hf(y,u.precedence,i),s.instance=y;case"script":return y=xu(u.src),(_=i.querySelector(Fc(y)))?(s.instance=_,He(_),_):(f=u,(_=mr.get(y))&&(f=E({},u),fg(f,_)),i=i.ownerDocument||i,_=i.createElement("script"),He(_),Mn(_,"link",f),i.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Hf(f,u.precedence,i));return s.instance}function Hf(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=f.length?f[f.length-1]:null,y=_,x=0;x<f.length;x++){var P=f[x];if(P.dataset.precedence===s)y=P;else if(y!==_)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function hg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function fg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var qf=null;function tE(i,s,u){if(qf===null){var f=new Map,_=qf=new Map;_.set(u,f)}else _=qf,f=_.get(u),f||(f=new Map,_.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),_=0;_<u.length;_++){var y=u[_];if(!(y[Gr]||y[tn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=i+x;var P=f.get(x);P?P.push(y):f.set(x,[y])}}return f}function eE(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function eI(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Hc=null;function nI(){}function iI(i,s,u){if(Hc===null)throw Error(r(475));var f=Hc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var _=Cu(u.href),y=i.querySelector(jc(_));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Gf.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=y,He(y);return}y=i.ownerDocument||i,u=$T(u),(_=mr.get(_))&&hg(u,_),y=y.createElement("link"),He(y);var x=y;x._p=new Promise(function(P,B){x.onload=P,x.onerror=B}),Mn(y,"link",u),s.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Gf.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function rI(){if(Hc===null)throw Error(r(475));var i=Hc;return i.stylesheets&&i.count===0&&dg(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&dg(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Gf(){if(this.count--,this.count===0){if(this.stylesheets)dg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zf=null;function dg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zf=new Map,s.forEach(sI,i),Zf=null,Gf.call(i))}function sI(i,s){if(!(s.state.loading&4)){var u=Zf.get(i);if(u)var f=u.get(null);else{u=new Map,Zf.set(i,u);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<_.length;y++){var x=_[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(u.set(x.dataset.precedence,x),f=x)}f&&u.set(null,f)}_=s.instance,x=_.getAttribute("data-precedence"),y=u.get(x)||f,y===f&&u.set(null,_),u.set(x,_),this.count++,f=Gf.bind(this),_.addEventListener("load",f),_.addEventListener("error",f),y?y.parentNode.insertBefore(_,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),s.state.loading|=4}}var qc={$$typeof:nt,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function aI(i,s,u,f,_,y,x,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=f,this.onUncaughtError=_,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function iE(i,s,u,f,_,y,x,P,B,tt,ut,ft){return i=new aI(i,s,u,x,P,B,tt,ft),s=1,y===!0&&(s|=24),y=si(3,null,null,s),i.current=y,y.stateNode=i,s=Km(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:s},$m(y),i}function rE(i){return i?(i=js,i):js}function sE(i,s,u,f,_,y){_=rE(_),f.context===null?f.context=_:f.pendingContext=_,f=Ga(s),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=Za(i,f,s),u!==null&&(Fi(u,i,s),Tc(u,i,s))}function aE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function mg(i,s){aE(i,s),(i=i.alternate)&&aE(i,s)}function oE(i){if(i.tag===13){var s=Ba(i,67108864);s!==null&&Fi(s,i,67108864),mg(i,67108864)}}var Yf=!0;function oI(i,s,u,f){var _=ot.T;ot.T=null;var y=bt.p;try{bt.p=2,pg(i,s,u,f)}finally{bt.p=y,ot.T=_}}function lI(i,s,u,f){var _=ot.T;ot.T=null;var y=bt.p;try{bt.p=8,pg(i,s,u,f)}finally{bt.p=y,ot.T=_}}function pg(i,s,u,f){if(Yf){var _=gg(f);if(_===null)ng(i,s,f,Kf,u),uE(i,f);else if(cI(_,i,s,u,f))f.stopPropagation();else if(uE(i,f),s&4&&-1<uI.indexOf(i)){for(;_!==null;){var y=Ci(_);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=li(y.pendingLanes);if(x!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;x;){var B=1<<31-vn(x);P.entanglements[1]|=B,x&=~B}as(y),(ye&6)===0&&(Lf=Un()+500,Vc(0))}}break;case 13:P=Ba(y,2),P!==null&&Fi(P,y,2),Mf(),mg(y,2)}if(y=gg(f),y===null&&ng(i,s,f,Kf,u),y===_)break;_=y}_!==null&&f.stopPropagation()}else ng(i,s,f,null,u)}}function gg(i){return i=Pn(i),_g(i)}var Kf=null;function _g(i){if(Kf=null,i=Si(i),i!==null){var s=l(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=h(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Kf=i,null}function lE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_a()){case Bo:return 2;case Ss:return 8;case Tr:case Fl:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var vg=!1,so=null,ao=null,oo=null,Gc=new Map,Zc=new Map,lo=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uE(i,s){switch(i){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":Gc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(s.pointerId)}}function Yc(i,s,u,f,_,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[_]},s!==null&&(s=Ci(s),s!==null&&oE(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function cI(i,s,u,f,_){switch(s){case"focusin":return so=Yc(so,i,s,u,f,_),!0;case"dragenter":return ao=Yc(ao,i,s,u,f,_),!0;case"mouseover":return oo=Yc(oo,i,s,u,f,_),!0;case"pointerover":var y=_.pointerId;return Gc.set(y,Yc(Gc.get(y)||null,i,s,u,f,_)),!0;case"gotpointercapture":return y=_.pointerId,Zc.set(y,Yc(Zc.get(y)||null,i,s,u,f,_)),!0}return!1}function cE(i){var s=Si(i.target);if(s!==null){var u=l(s);if(u!==null){if(s=u.tag,s===13){if(s=h(u),s!==null){i.blockedOn=s,Ea(i.priority,function(){if(u.tag===13){var f=ji();f=Hr(f);var _=Ba(u,f);_!==null&&Fi(_,u,f),mg(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=gg(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Pi=f,u.target.dispatchEvent(f),Pi=null}else return s=Ci(u),s!==null&&oE(s),i.blockedOn=u,!1;s.shift()}return!0}function hE(i,s,u){Wf(i)&&u.delete(s)}function hI(){vg=!1,so!==null&&Wf(so)&&(so=null),ao!==null&&Wf(ao)&&(ao=null),oo!==null&&Wf(oo)&&(oo=null),Gc.forEach(hE),Zc.forEach(hE)}function Xf(i,s){i.blockedOn===s&&(i.blockedOn=null,vg||(vg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hI)))}var Qf=null;function fE(i){Qf!==i&&(Qf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Qf===i&&(Qf=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],_=i[s+2];if(typeof f!="function"){if(_g(f||u)===null)continue;break}var y=Ci(u);y!==null&&(i.splice(s,3),s-=3,_p(y,{pending:!0,data:_,method:u.method,action:f},f,_))}}))}function Kc(i){function s(B){return Xf(B,i)}so!==null&&Xf(so,i),ao!==null&&Xf(ao,i),oo!==null&&Xf(oo,i),Gc.forEach(s),Zc.forEach(s);for(var u=0;u<lo.length;u++){var f=lo[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<lo.length&&(u=lo[0],u.blockedOn===null);)cE(u),u.blockedOn===null&&lo.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var _=u[f],y=u[f+1],x=_[Ke]||null;if(typeof y=="function")x||fE(u);else if(x){var P=null;if(y&&y.hasAttribute("formAction")){if(_=y,x=y[Ke]||null)P=x.formAction;else if(_g(_)!==null)continue}else P=x.action;typeof P=="function"?u[f+1]=P:(u.splice(f,3),f-=3),fE(u)}}}function yg(i){this._internalRoot=i}$f.prototype.render=yg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=ji();sE(u,f,i,s,null,null)},$f.prototype.unmount=yg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;sE(i.current,2,null,i,null,null),Mf(),s[ui]=null}};function $f(i){this._internalRoot=i}$f.prototype.unstable_scheduleHydration=function(i){if(i){var s=qr();i={blockedOn:null,target:i,priority:s};for(var u=0;u<lo.length&&s!==0&&s<lo[u].priority;u++);lo.splice(u,0,i),u===0&&cE(i)}};var dE=t.version;if(dE!=="19.1.0")throw Error(r(527,dE,"19.1.0"));bt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var fI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ot,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Pe=Jf.inject(fI),fe=Jf}catch{}}return Xc.createRoot=function(i,s){if(!o(i))throw Error(r(299));var u=!1,f="",_=I0,y=P0,x=L0,P=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks)),s=iE(i,1,!1,null,null,u,f,_,y,x,P,null),i[ui]=s.current,eg(i),new yg(s)},Xc.hydrateRoot=function(i,s,u){if(!o(i))throw Error(r(299));var f=!1,_="",y=I0,x=P0,P=L0,B=null,tt=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(x=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(B=u.unstable_transitionCallbacks),u.formState!==void 0&&(tt=u.formState)),s=iE(i,1,!0,s,u??null,f,_,y,x,P,B,tt),s.context=rE(null),u=s.current,f=ji(),f=Hr(f),_=Ga(f),_.callback=null,Za(u,_,f),u=f,s.current.lanes=u,Qi(s,u),as(s),i[ui]=s.current,eg(i),new $f(s)},Xc.version="19.1.0",Xc}var wE;function EI(){if(wE)return bg.exports;wE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bg.exports=TI(),bg.exports}var bI=EI();const wI=Lh(bI),AI="modulepreload",SI=function(n){return"/"+n},AE={},CI=function(t,e,r){let o=Promise.resolve();if(e&&e.length>0){let v=function(E){return Promise.all(E.map(w=>Promise.resolve(w).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};var h=v;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");o=v(e.map(E=>{if(E=SI(E),E in AE)return;AE[E]=!0;const w=E.endsWith(".css"),A=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${A}`))return;const R=document.createElement("link");if(R.rel=w?"stylesheet":AI,w||(R.as="script"),R.crossOrigin="",R.href=E,g&&R.setAttribute("nonce",g),document.head.appendChild(R),w)return new Promise((k,N)=>{R.addEventListener("load",k),R.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${E}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return t().catch(l)})};var Qc={},SE;function xI(){if(SE)return Qc;SE=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.parse=h,Qc.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,R){const k=new l,N=A.length;if(N<2)return k;const H=R?.decode||E;let j=0;do{const et=A.indexOf("=",j);if(et===-1)break;const nt=A.indexOf(";",j),pt=nt===-1?N:nt;if(et>pt){j=A.lastIndexOf(";",et-1)+1;continue}const vt=d(A,j,et),kt=g(A,et,vt),q=A.slice(vt,kt);if(k[q]===void 0){let D=d(A,et+1,pt),U=g(A,pt,D);const G=H(A.slice(D,U));k[q]=G}j=pt+1}while(j<N);return k}function d(A,R,k){do{const N=A.charCodeAt(R);if(N!==32&&N!==9)return R}while(++R<k);return k}function g(A,R,k){for(;R>k;){const N=A.charCodeAt(--R);if(N!==32&&N!==9)return R+1}return k}function v(A,R,k){const N=k?.encode||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const H=N(R);if(!t.test(H))throw new TypeError(`argument val is invalid: ${R}`);let j=A+"="+H;if(!k)return j;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);j+="; Max-Age="+k.maxAge}if(k.domain){if(!e.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);j+="; Domain="+k.domain}if(k.path){if(!r.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);j+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);j+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(j+="; HttpOnly"),k.secure&&(j+="; Secure"),k.partitioned&&(j+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return j}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Qc}xI();var CE="popstate";function RI(n={}){function t(r,o){let{pathname:l,search:h,hash:d}=r.location;return t_("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){return typeof o=="string"?o:yh(o)}return PI(t,e,null,n)}function Ze(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ys(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function II(){return Math.random().toString(36).substring(2,10)}function xE(n,t){return{usr:n.state,key:n.key,idx:t}}function t_(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?$u(t):t,state:e,key:t&&t.key||r||II()}}function yh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function $u(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function PI(n,t,e,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,h=o.history,d="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function w(){d="POP";let H=E(),j=H==null?null:H-v;v=H,g&&g({action:d,location:N.location,delta:j})}function A(H,j){d="PUSH";let et=t_(N.location,H,j);v=E()+1;let nt=xE(et,v),pt=N.createHref(et);try{h.pushState(nt,"",pt)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;o.location.assign(pt)}l&&g&&g({action:d,location:N.location,delta:1})}function R(H,j){d="REPLACE";let et=t_(N.location,H,j);v=E();let nt=xE(et,v),pt=N.createHref(et);h.replaceState(nt,"",pt),l&&g&&g({action:d,location:N.location,delta:0})}function k(H){return LI(H)}let N={get action(){return d},get location(){return n(o,h)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(CE,w),g=H,()=>{o.removeEventListener(CE,w),g=null}},createHref(H){return t(o,H)},createURL:k,encodeLocation(H){let j=k(H);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:R,go(H){return h.go(H)}};return N}function LI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:yh(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function aA(n,t,e="/"){return OI(n,t,e,!1)}function OI(n,t,e,r){let o=typeof t=="string"?$u(t):t,l=aa(o.pathname||"/",e);if(l==null)return null;let h=oA(n);MI(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let v=qI(l);d=FI(h[g],v,r)}return d}function oA(n,t=[],e=[],r=""){let o=(l,h,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(Ze(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length));let v=ia([r,g.relativePath]),E=e.concat(g);l.children&&l.children.length>0&&(Ze(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),oA(l.children,t,E,v)),!(l.path==null&&!l.index)&&t.push({path:v,score:BI(v,l.index),routesMeta:E})};return n.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))o(l,h);else for(let d of lA(l.path))o(l,h,d)}),t}function lA(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,o=e.endsWith("?"),l=e.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let h=lA(r.join("/")),d=[];return d.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&d.push(...h),d.map(g=>n.startsWith("/")&&g===""?"/":g)}function MI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:jI(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var kI=/^:[\w-]+$/,NI=3,DI=2,VI=1,UI=10,zI=-2,RE=n=>n==="*";function BI(n,t){let e=n.split("/"),r=e.length;return e.some(RE)&&(r+=zI),t&&(r+=DI),e.filter(o=>!RE(o)).reduce((o,l)=>o+(kI.test(l)?NI:l===""?VI:UI),r)}function jI(n,t){return n.length===t.length&&n.slice(0,-1).every((r,o)=>r===t[o])?n[n.length-1]-t[t.length-1]:0}function FI(n,t,e=!1){let{routesMeta:r}=n,o={},l="/",h=[];for(let d=0;d<r.length;++d){let g=r[d],v=d===r.length-1,E=l==="/"?t:t.slice(l.length)||"/",w=xd({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),A=g.route;if(!w&&v&&e&&!r[r.length-1].route.index&&(w=xd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:ia([l,w.pathname]),pathnameBase:KI(ia([l,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(l=ia([l,w.pathnameBase]))}return h}function xd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=HI(n.path,n.caseSensitive,n.end),o=t.match(e);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((v,{paramName:E,isOptional:w},A)=>{if(E==="*"){let k=d[A]||"";h=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const R=d[A];return w&&!R?v[E]=void 0:v[E]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:n}}function HI(n,t=!1,e=!0){ys(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(r.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function qI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ys(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function aa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function GI(n,t="/"){let{pathname:e,search:r="",hash:o=""}=typeof n=="string"?$u(n):n;return{pathname:e?e.startsWith("/")?e:ZI(e,t):t,search:WI(r),hash:XI(o)}}function ZI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function Cg(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function uA(n){let t=YI(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function cA(n,t,e,r=!1){let o;typeof n=="string"?o=$u(n):(o={...n},Ze(!o.pathname||!o.pathname.includes("?"),Cg("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Cg("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Cg("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=e;else{let w=t.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}d=w>=0?t[w]:"/"}let g=GI(o,d),v=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&e.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var ia=n=>n.join("/").replace(/\/\/+/g,"/"),KI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function QI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hA=["POST","PUT","PATCH","DELETE"];new Set(hA);var $I=["GET",...hA];new Set($I);var Ju=W.createContext(null);Ju.displayName="DataRouter";var em=W.createContext(null);em.displayName="DataRouterState";var fA=W.createContext({isTransitioning:!1});fA.displayName="ViewTransition";var JI=W.createContext(new Map);JI.displayName="Fetchers";var tP=W.createContext(null);tP.displayName="Await";var Es=W.createContext(null);Es.displayName="Navigation";var Oh=W.createContext(null);Oh.displayName="Location";var bs=W.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var J_=W.createContext(null);J_.displayName="RouteError";function eP(n,{relative:t}={}){Ze(Mh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=W.useContext(Es),{hash:o,pathname:l,search:h}=kh(n,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:ia([e,l])),r.createHref({pathname:d,search:h,hash:o})}function Mh(){return W.useContext(Oh)!=null}function Dl(){return Ze(Mh(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Oh).location}var dA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mA(n){W.useContext(Es).static||W.useLayoutEffect(n)}function nm(){let{isDataRoute:n}=W.useContext(bs);return n?pP():nP()}function nP(){Ze(Mh(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Ju),{basename:t,navigator:e}=W.useContext(Es),{matches:r}=W.useContext(bs),{pathname:o}=Dl(),l=JSON.stringify(uA(r)),h=W.useRef(!1);return mA(()=>{h.current=!0}),W.useCallback((g,v={})=>{if(ys(h.current,dA),!h.current)return;if(typeof g=="number"){e.go(g);return}let E=cA(g,JSON.parse(l),o,v.relative==="path");n==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ia([t,E.pathname])),(v.replace?e.replace:e.push)(E,v.state,v)},[t,e,l,o,n])}W.createContext(null);function iP(){let{matches:n}=W.useContext(bs),t=n[n.length-1];return t?t.params:{}}function kh(n,{relative:t}={}){let{matches:e}=W.useContext(bs),{pathname:r}=Dl(),o=JSON.stringify(uA(e));return W.useMemo(()=>cA(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function rP(n,t){return pA(n,t)}function pA(n,t,e,r){Ze(Mh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Es),{matches:l}=W.useContext(bs),h=l[l.length-1],d=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let j=E&&E.path||"";gA(g,!E||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=Dl(),A;if(t){let j=typeof t=="string"?$u(t):t;Ze(v==="/"||j.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${j.pathname}" was given in the \`location\` prop.`),A=j}else A=w;let R=A.pathname||"/",k=R;if(v!=="/"){let j=v.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=aA(n,{pathname:k});ys(E||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ys(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=uP(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ia([v,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:ia([v,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,e,r);return t&&H?W.createElement(Oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},H):H}function sP(){let n=mP(),t=QI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),e?W.createElement("pre",{style:o},e):null,h)}var aP=W.createElement(sP,null),oP=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?W.createElement(bs.Provider,{value:this.props.routeContext},W.createElement(J_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lP({routeContext:n,match:t,children:e}){let r=W.useContext(Ju);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(bs.Provider,{value:n},e)}function uP(n,t=[],e=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let g=o.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);Ze(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(e)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:E,errors:w}=e,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||A){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,v,E)=>{let w,A=!1,R=null,k=null;e&&(w=l&&v.route.id?l[v.route.id]:void 0,R=v.route.errorElement||aP,h&&(d<0&&E===0?(gA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):d===E&&(A=!0,k=v.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,E+1)),H=()=>{let j;return w?j=R:A?j=k:v.route.Component?j=W.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=g,W.createElement(lP,{match:v,routeContext:{outlet:g,matches:N,isDataRoute:e!=null},children:j})};return e&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?W.createElement(oP,{location:e.location,revalidation:e.revalidation,component:R,error:w,children:H(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):H()},null)}function tv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cP(n){let t=W.useContext(Ju);return Ze(t,tv(n)),t}function hP(n){let t=W.useContext(em);return Ze(t,tv(n)),t}function fP(n){let t=W.useContext(bs);return Ze(t,tv(n)),t}function ev(n){let t=fP(n),e=t.matches[t.matches.length-1];return Ze(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function dP(){return ev("useRouteId")}function mP(){let n=W.useContext(J_),t=hP("useRouteError"),e=ev("useRouteError");return n!==void 0?n:t.errors?.[e]}function pP(){let{router:n}=cP("useNavigate"),t=ev("useNavigate"),e=W.useRef(!1);return mA(()=>{e.current=!0}),W.useCallback(async(o,l={})=>{ys(e.current,dA),e.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:t,...l}))},[n,t])}var IE={};function gA(n,t,e){!t&&!IE[n]&&(IE[n]=!0,ys(!1,e))}W.memo(gP);function gP({routes:n,future:t,state:e}){return pA(n,void 0,e,t)}function oi(n){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _P({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:o,static:l=!1}){Ze(!Mh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof e=="string"&&(e=$u(e));let{pathname:g="/",search:v="",hash:E="",state:w=null,key:A="default"}=e,R=W.useMemo(()=>{let k=aa(g,h);return k==null?null:{location:{pathname:k,search:v,hash:E,state:w,key:A},navigationType:r}},[h,g,v,E,w,A,r]);return ys(R!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:W.createElement(Es.Provider,{value:d},W.createElement(Oh.Provider,{children:t,value:R}))}function _A({children:n,location:t}){return rP(e_(n),t)}function e_(n,t=[]){let e=[];return W.Children.forEach(n,(r,o)=>{if(!W.isValidElement(r))return;let l=[...t,o];if(r.type===W.Fragment){e.push.apply(e,e_(r.props.children,l));return}Ze(r.type===oi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=e_(r.props.children,l)),e.push(h)}),e}var fd="get",dd="application/x-www-form-urlencoded";function im(n){return n!=null&&typeof n.tagName=="string"}function vP(n){return im(n)&&n.tagName.toLowerCase()==="button"}function yP(n){return im(n)&&n.tagName.toLowerCase()==="form"}function TP(n){return im(n)&&n.tagName.toLowerCase()==="input"}function EP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bP(n,t){return n.button===0&&(!t||t==="_self")&&!EP(n)}var td=null;function wP(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var AP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xg(n){return n!=null&&!AP.has(n)?(ys(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dd}"`),null):n}function SP(n,t){let e,r,o,l,h;if(yP(n)){let d=n.getAttribute("action");r=d?aa(d,t):null,e=n.getAttribute("method")||fd,o=xg(n.getAttribute("enctype"))||dd,l=new FormData(n)}else if(vP(n)||TP(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||d.getAttribute("action");if(r=g?aa(g,t):null,e=n.getAttribute("formmethod")||d.getAttribute("method")||fd,o=xg(n.getAttribute("formenctype"))||xg(d.getAttribute("enctype"))||dd,l=new FormData(d,n),!wP()){let{name:v,type:E,value:w}=n;if(E==="image"){let A=v?`${v}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else v&&l.append(v,w)}}else{if(im(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=fd,r=null,o=dd,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:r,method:e.toLowerCase(),encType:o,formData:l,body:h}}function nv(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function CP(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function RP(n,t,e){let r=await Promise.all(n.map(async o=>{let l=t.routes[o.route.id];if(l){let h=await CP(l,e);return h.links?h.links():[]}return[]}));return OP(r.flat(1).filter(xP).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function PE(n,t,e,r,o,l){let h=(g,v)=>e[v]?g.route.id!==e[v].route.id:!0,d=(g,v)=>e[v].pathname!==g.pathname||e[v].route.path?.endsWith("*")&&e[v].params["*"]!==g.params["*"];return l==="assets"?t.filter((g,v)=>h(g,v)||d(g,v)):l==="data"?t.filter((g,v)=>{let E=r.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||d(g,v))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function IP(n,t,{includeHydrateFallback:e}={}){return PP(n.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function PP(n){return[...new Set(n)]}function LP(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function OP(n,t){let e=new Set;return new Set(t),n.reduce((r,o)=>{let l=JSON.stringify(LP(o));return e.has(l)||(e.add(l),r.push({key:l,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MP=new Set([100,101,204,205]);function kP(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&aa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vA(){let n=W.useContext(Ju);return nv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function NP(){let n=W.useContext(em);return nv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iv=W.createContext(void 0);iv.displayName="FrameworkContext";function yA(){let n=W.useContext(iv);return nv(n,"You must render this element inside a <HydratedRouter> element"),n}function DP(n,t){let e=W.useContext(iv),[r,o]=W.useState(!1),[l,h]=W.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:w}=t,A=W.useRef(null);W.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let N=j=>{j.forEach(et=>{h(et.isIntersecting)})},H=new IntersectionObserver(N,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[n]),W.useEffect(()=>{if(r){let N=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(N)}}},[r]);let R=()=>{o(!0)},k=()=>{o(!1),h(!1)};return e?n!=="intent"?[l,A,{}]:[l,A,{onFocus:$c(d,R),onBlur:$c(g,k),onMouseEnter:$c(v,R),onMouseLeave:$c(E,k),onTouchStart:$c(w,R)}]:[!1,A,{}]}function $c(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function VP({page:n,...t}){let{router:e}=vA(),r=W.useMemo(()=>aA(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?W.createElement(zP,{page:n,matches:r,...t}):null}function UP(n){let{manifest:t,routeModules:e}=yA(),[r,o]=W.useState([]);return W.useEffect(()=>{let l=!1;return RP(n,t,e).then(h=>{l||o(h)}),()=>{l=!0}},[n,t,e]),r}function zP({page:n,matches:t,...e}){let r=Dl(),{manifest:o,routeModules:l}=yA(),{basename:h}=vA(),{loaderData:d,matches:g}=NP(),v=W.useMemo(()=>PE(n,t,g,o,r,"data"),[n,t,g,o,r]),E=W.useMemo(()=>PE(n,t,g,o,r,"assets"),[n,t,g,o,r]),w=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,N=!1;if(t.forEach(j=>{let et=o.routes[j.route.id];!et||!et.hasLoader||(!v.some(nt=>nt.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||et.hasClientLoader?N=!0:k.add(j.route.id))}),k.size===0)return[];let H=kP(n,h);return N&&k.size>0&&H.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[H.pathname+H.search]},[h,d,r,o,v,t,n,l]),A=W.useMemo(()=>IP(E,o),[E,o]),R=UP(E);return W.createElement(W.Fragment,null,w.map(k=>W.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...e})),A.map(k=>W.createElement("link",{key:k,rel:"modulepreload",href:k,...e})),R.map(({key:k,link:N})=>W.createElement("link",{key:k,...N})))}function BP(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var TA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TA&&(window.__reactRouterVersion="7.6.3")}catch{}function jP({basename:n,children:t,window:e}){let r=W.useRef();r.current==null&&(r.current=RI({window:e,v5Compat:!0}));let o=r.current,[l,h]=W.useState({action:o.action,location:o.location}),d=W.useCallback(g=>{W.startTransition(()=>h(g))},[h]);return W.useLayoutEffect(()=>o.listen(d),[o,d]),W.createElement(_P,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:o})}var EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kn=W.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:o,reloadDocument:l,replace:h,state:d,target:g,to:v,preventScrollReset:E,viewTransition:w,...A},R){let{basename:k}=W.useContext(Es),N=typeof v=="string"&&EA.test(v),H,j=!1;if(typeof v=="string"&&N&&(H=v,TA))try{let U=new URL(window.location.href),G=v.startsWith("//")?new URL(U.protocol+v):new URL(v),Z=aa(G.pathname,k);G.origin===U.origin&&Z!=null?v=Z+G.search+G.hash:j=!0}catch{ys(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=eP(v,{relative:o}),[nt,pt,vt]=DP(r,A),kt=GP(v,{replace:h,state:d,target:g,preventScrollReset:E,relative:o,viewTransition:w});function q(U){t&&t(U),U.defaultPrevented||kt(U)}let D=W.createElement("a",{...A,...vt,href:H||et,onClick:j||l?t:q,ref:BP(R,pt),target:g,"data-discover":!N&&e==="render"?"true":void 0});return nt&&!N?W.createElement(W.Fragment,null,D,W.createElement(VP,{page:et})):D});Kn.displayName="Link";var FP=W.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:o=!1,style:l,to:h,viewTransition:d,children:g,...v},E){let w=kh(h,{relative:v.relative}),A=Dl(),R=W.useContext(em),{navigator:k,basename:N}=W.useContext(Es),H=R!=null&&XP(w)&&d===!0,j=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,et=A.pathname,nt=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;e||(et=et.toLowerCase(),nt=nt?nt.toLowerCase():null,j=j.toLowerCase()),nt&&N&&(nt=aa(nt,N)||nt);const pt=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let vt=et===j||!o&&et.startsWith(j)&&et.charAt(pt)==="/",kt=nt!=null&&(nt===j||!o&&nt.startsWith(j)&&nt.charAt(j.length)==="/"),q={isActive:vt,isPending:kt,isTransitioning:H},D=vt?t:void 0,U;typeof r=="function"?U=r(q):U=[r,vt?"active":null,kt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let G=typeof l=="function"?l(q):l;return W.createElement(Kn,{...v,"aria-current":D,className:U,ref:E,style:G,to:h,viewTransition:d},typeof g=="function"?g(q):g)});FP.displayName="NavLink";var HP=W.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:o,state:l,method:h=fd,action:d,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:w,...A},R)=>{let k=KP(),N=WP(d,{relative:v}),H=h.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&EA.test(d),et=nt=>{if(g&&g(nt),nt.defaultPrevented)return;nt.preventDefault();let pt=nt.nativeEvent.submitter,vt=pt?.getAttribute("formmethod")||h;k(pt||nt.currentTarget,{fetcherKey:t,method:vt,navigate:e,replace:o,state:l,relative:v,preventScrollReset:E,viewTransition:w})};return W.createElement("form",{ref:R,method:H,action:N,onSubmit:r?g:et,...A,"data-discover":!j&&n==="render"?"true":void 0})});HP.displayName="Form";function qP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(n){let t=W.useContext(Ju);return Ze(t,qP(n)),t}function GP(n,{target:t,replace:e,state:r,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=nm(),g=Dl(),v=kh(n,{relative:l});return W.useCallback(E=>{if(bP(E,t)){E.preventDefault();let w=e!==void 0?e:yh(g)===yh(v);d(n,{replace:w,state:r,preventScrollReset:o,relative:l,viewTransition:h})}},[g,d,v,e,r,t,n,o,l,h])}var ZP=0,YP=()=>`__${String(++ZP)}__`;function KP(){let{router:n}=bA("useSubmit"),{basename:t}=W.useContext(Es),e=dP();return W.useCallback(async(r,o={})=>{let{action:l,method:h,encType:d,formData:g,body:v}=SP(r,t);if(o.navigate===!1){let E=o.fetcherKey||YP();await n.fetch(E,e,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:e,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,t,e])}function WP(n,{relative:t}={}){let{basename:e}=W.useContext(Es),r=W.useContext(bs);Ze(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...kh(n||".",{relative:t})},h=Dl();if(n==null){l.search=h.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(w=>w).forEach(w=>d.append("index",w));let E=d.toString();l.search=E?`?${E}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:ia([e,l.pathname])),yh(l)}function XP(n,t={}){let e=W.useContext(fA);Ze(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bA("useViewTransitionState"),o=kh(n,{relative:t.relative});if(!e.isTransitioning)return!1;let l=aa(e.currentLocation.pathname,r)||e.currentLocation.pathname,h=aa(e.nextLocation.pathname,r)||e.nextLocation.pathname;return xd(o.pathname,h)!=null||xd(o.pathname,l)!=null}[...MP];var QP=sA();const $P=()=>{};var LE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},JP=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[e++];t[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[e++],h=n[e++],d=n[e++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const l=n[e++],h=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return t.join("")},AA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,d=h?n[o+1]:0,g=o+2<n.length,v=g?n[o+2]:0,E=l>>2,w=(l&3)<<4|d>>4;let A=(d&15)<<2|v>>6,R=v&63;g||(R=64,h||(A=64)),r.push(e[E],e[w],e[A],e[R])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(wA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):JP(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const l=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const v=o<n.length?e[n.charAt(o)]:64;++o;const w=o<n.length?e[n.charAt(o)]:64;if(++o,l==null||d==null||v==null||w==null)throw new tL;const A=l<<2|d>>4;if(r.push(A),v!==64){const R=d<<4&240|v>>2;if(r.push(R),w!==64){const k=v<<6&192|w;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eL=function(n){const t=wA(n);return AA.encodeByteArray(t,!0)},Rd=function(n){return eL(n).replace(/\./g,"")},SA=function(n){try{return AA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=()=>nL().__FIREBASE_DEFAULTS__,rL=()=>{if(typeof process>"u"||typeof LE>"u")return;const n=LE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&SA(n[1]);return t&&JSON.parse(t)},rm=()=>{try{return $P()||iL()||rL()||sL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CA=n=>{var t,e;return(e=(t=rm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},xA=n=>{const t=CA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},RA=()=>{var n;return(n=rm())===null||n===void 0?void 0:n.config},IA=n=>{var t;return(t=rm())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rd(JSON.stringify(e)),Rd(JSON.stringify(h)),""].join(".")}const uh={};function oL(){const n={prod:[],emulator:[]};for(const t of Object.keys(uh))uh[t]?n.emulator.push(t):n.prod.push(t);return n}function lL(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let OE=!1;function sv(n,t){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||uh[n]===t||uh[n]||OE)return;uh[n]=t;function e(A){return`__firebase__banner__${A}`}const r="__firebase__banner",l=oL().prod.length>0;function h(){const A=document.getElementById(r);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,R){A.setAttribute("width","24"),A.setAttribute("id",R),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{OE=!0,h()},A}function E(A,R){A.setAttribute("id",R),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=lL(r),R=e("text"),k=document.getElementById(R)||document.createElement("span"),N=e("learnmore"),H=document.getElementById(N)||document.createElement("a"),j=e("preprendIcon"),et=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const nt=A.element;d(nt),E(H,N);const pt=v();g(et,j),nt.append(et,k,H,pt),document.body.appendChild(nt)}l?(k.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function cL(){var n;const t=(n=rm())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dL(){const n=Qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mL(){return!cL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OA(){try{return typeof indexedDB=="object"}catch{return!1}}function MA(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}function pL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="FirebaseError";class vr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=gL,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],h=l?_L(l,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new vr(o,d,r)}}function _L(n,t){return n.replace(vL,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const vL=/\{\$([^}]+)}/g;function yL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function yo(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const l=n[o],h=t[o];if(ME(l)&&ME(h)){if(!yo(l,h))return!1}else if(l!==h)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function ME(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function th(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function eh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function TL(n,t){const e=new EL(n,t);return e.subscribe.bind(e)}class EL{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");bL(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Rg),o.error===void 0&&(o.error=Rg),o.complete===void 0&&(o.complete=Rg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bL(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=1e3,AL=2,SL=4*60*60*1e3,CL=.5;function kE(n,t=wL,e=AL){const r=t*Math.pow(e,n),o=Math.round(CL*r*(Math.random()-.5)*2);return Math.min(SL,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n){return n&&n._delegate?n._delegate:n}class _r{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new aL;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t?.identifier),o=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IL(t))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(t=El){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=El){return this.instances.has(t)}getOptions(t=El){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&h.resolve(o)}return o}onInit(t,e){var r;const o=this.normalizeInstanceIdentifier(e),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&t(h,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RL(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=El){return this.component?this.component.multipleInstances?t:El:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RL(n){return n===El?void 0:n}function IL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new xL(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(se||(se={}));const LL={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},OL=se.INFO,ML={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},kL=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=ML[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sm{constructor(t){this.name=t,this._logLevel=OL,this._logHandler=kL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const NL=(n,t)=>t.some(e=>n instanceof e);let NE,DE;function DL(){return NE||(NE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VL(){return DE||(DE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kA=new WeakMap,n_=new WeakMap,NA=new WeakMap,Ig=new WeakMap,av=new WeakMap;function UL(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{e(po(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&kA.set(e,n)}).catch(()=>{}),av.set(t,n),t}function zL(n){if(n_.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{e(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});n_.set(n,t)}let i_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return n_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||NA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return po(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function BL(n){i_=n(i_)}function jL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Pg(this),t,...e);return NA.set(r,t.sort?t.sort():[t]),po(r)}:VL().includes(n)?function(...t){return n.apply(Pg(this),t),po(kA.get(this))}:function(...t){return po(n.apply(Pg(this),t))}}function FL(n){return typeof n=="function"?jL(n):(n instanceof IDBTransaction&&zL(n),NL(n,DL())?new Proxy(n,i_):n)}function po(n){if(n instanceof IDBRequest)return UL(n);if(Ig.has(n))return Ig.get(n);const t=FL(n);return t!==n&&(Ig.set(n,t),av.set(t,n)),t}const Pg=n=>av.get(n);function DA(n,t,{blocked:e,upgrade:r,blocking:o,terminated:l}={}){const h=indexedDB.open(n,t),d=po(h);return r&&h.addEventListener("upgradeneeded",g=>{r(po(h.result),g.oldVersion,g.newVersion,po(h.transaction),g)}),e&&h.addEventListener("blocked",g=>e(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const HL=["get","getKey","getAll","getAllKeys","count"],qL=["put","add","delete","clear"],Lg=new Map;function VE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Lg.get(t))return Lg.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=qL.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||HL.includes(e)))return;const l=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(d.shift())),(await Promise.all([v[e](...d),o&&g.done]))[0]};return Lg.set(t,l),l}BL(n=>({...n,get:(t,e,r)=>VE(t,e)||n.get(t,e,r),has:(t,e)=>!!VE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(ZL(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function ZL(n){const t=n.getComponent();return t?.type==="VERSION"}const r_="@firebase/app",UE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new sm("@firebase/app"),YL="@firebase/app-compat",KL="@firebase/analytics-compat",WL="@firebase/analytics",XL="@firebase/app-check-compat",QL="@firebase/app-check",$L="@firebase/auth",JL="@firebase/auth-compat",t2="@firebase/database",e2="@firebase/data-connect",n2="@firebase/database-compat",i2="@firebase/functions",r2="@firebase/functions-compat",s2="@firebase/installations",a2="@firebase/installations-compat",o2="@firebase/messaging",l2="@firebase/messaging-compat",u2="@firebase/performance",c2="@firebase/performance-compat",h2="@firebase/remote-config",f2="@firebase/remote-config-compat",d2="@firebase/storage",m2="@firebase/storage-compat",p2="@firebase/firestore",g2="@firebase/ai",_2="@firebase/firestore-compat",v2="firebase",y2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="[DEFAULT]",T2={[r_]:"fire-core",[YL]:"fire-core-compat",[WL]:"fire-analytics",[KL]:"fire-analytics-compat",[QL]:"fire-app-check",[XL]:"fire-app-check-compat",[$L]:"fire-auth",[JL]:"fire-auth-compat",[t2]:"fire-rtdb",[e2]:"fire-data-connect",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[r2]:"fire-fn-compat",[s2]:"fire-iid",[a2]:"fire-iid-compat",[o2]:"fire-fcm",[l2]:"fire-fcm-compat",[u2]:"fire-perf",[c2]:"fire-perf-compat",[h2]:"fire-rc",[f2]:"fire-rc-compat",[d2]:"fire-gcs",[m2]:"fire-gcs-compat",[p2]:"fire-fst",[_2]:"fire-fst-compat",[g2]:"fire-vertex","fire-js":"fire-js",[v2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Map,E2=new Map,a_=new Map;function zE(n,t){try{n.container.addComponent(t)}catch(e){oa.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function zr(n){const t=n.name;if(a_.has(t))return oa.debug(`There were multiple attempts to register component ${t}.`),!1;a_.set(t,n);for(const e of Id.values())zE(e,n);for(const e of E2.values())zE(e,n);return!0}function Mo(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Hi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new Vl("app","Firebase",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=y2;function VA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:s_,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw go.create("bad-app-name",{appName:String(o)});if(e||(e=RA()),!e)throw go.create("no-options");const l=Id.get(o);if(l){if(yo(e,l.options)&&yo(r,l.config))return l;throw go.create("duplicate-app",{appName:o})}const h=new PL(o);for(const g of a_.values())h.addComponent(g);const d=new w2(e,r,h);return Id.set(o,d),d}function am(n=s_){const t=Id.get(n);if(!t&&n===s_&&RA())return VA();if(!t)throw go.create("no-app",{appName:n});return t}function vi(n,t,e){var r;let o=(r=T2[n])!==null&&r!==void 0?r:n;e&&(o+=`-${e}`);const l=o.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${t}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oa.warn(d.join(" "));return}zr(new _r(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",S2=1,Th="firebase-heartbeat-store";let Og=null;function UA(){return Og||(Og=DA(A2,S2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Th)}catch(e){console.warn(e)}}}}).catch(n=>{throw go.create("idb-open",{originalErrorMessage:n.message})})),Og}async function C2(n){try{const e=(await UA()).transaction(Th),r=await e.objectStore(Th).get(zA(n));return await e.done,r}catch(t){if(t instanceof vr)oa.warn(t.message);else{const e=go.create("idb-get",{originalErrorMessage:t?.message});oa.warn(e.message)}}}async function BE(n,t){try{const r=(await UA()).transaction(Th,"readwrite");await r.objectStore(Th).put(t,zA(n)),await r.done}catch(e){if(e instanceof vr)oa.warn(e.message);else{const r=go.create("idb-set",{originalErrorMessage:e?.message});oa.warn(r.message)}}}function zA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=1024,R2=30;class I2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new L2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=jE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>R2){const h=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oa.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jE(),{heartbeatsToSend:r,unsentEntries:o}=P2(this._heartbeatsCache.heartbeats),l=Rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return oa.warn(e),""}}}function jE(){return new Date().toISOString().substring(0,10)}function P2(n,t=x2){const e=[];let r=n.slice();for(const o of n){const l=e.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),FE(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),FE(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class L2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OA()?MA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await C2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return BE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return BE(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function FE(n){return Rd(JSON.stringify({version:2,heartbeats:n})).length}function O2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n){zr(new _r("platform-logger",t=>new GL(t),"PRIVATE")),zr(new _r("heartbeat",t=>new I2(t),"PRIVATE")),vi(r_,UE,n),vi(r_,UE,"esm2017"),vi("fire-js","")}M2("");function ov(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e}function BA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jA=BA,FA=new Vl("auth","Firebase",BA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new sm("@firebase/auth");function k2(n,...t){Pd.logLevel<=se.WARN&&Pd.warn(`Auth (${Ul}): ${n}`,...t)}function md(n,...t){Pd.logLevel<=se.ERROR&&Pd.error(`Auth (${Ul}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(n,...t){throw lv(n,...t)}function ds(n,...t){return lv(n,...t)}function HA(n,t,e){const r=Object.assign(Object.assign({},jA()),{[t]:e});return new Vl("auth","Firebase",r).create(t,{appName:n.name})}function ra(n){return HA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lv(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return FA.create(n,...t)}function jt(n,t,...e){if(!n)throw lv(t,...e)}function ea(n){const t="INTERNAL ASSERTION FAILED: "+n;throw md(t),new Error(t)}function la(n,t){n||ea(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function N2(){return HE()==="http:"||HE()==="https:"}function HE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N2()||LA()||"connection"in navigator)?navigator.onLine:!0}function V2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,e){this.shortDelay=t,this.longDelay=e,la(e>t,"Short delay should be less than long delay!"),this.isMobile=uL()||fL()}get(){return D2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n,t){la(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B2=new Dh(3e4,6e4);function ma(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function ws(n,t,e,r,o={}){return GA(n,o,async()=>{let l={},h={};r&&(t==="GET"?h=r:l={body:JSON.stringify(r)});const d=Nh(Object.assign({key:n.config.apiKey},h)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:t,headers:g},l);return hL()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Oo(n.emulatorConfig.host)&&(v.credentials="include"),qA.fetch()(await ZA(n,n.config.apiHost,e,d),v)})}async function GA(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},U2),t);try{const o=new F2(n),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw ed(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[g,v]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ed(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw ed(n,"user-disabled",h);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw HA(n,E,v);Br(n,E)}}catch(o){if(o instanceof vr)throw o;Br(n,"network-request-failed",{message:String(o)})}}async function Vh(n,t,e,r,o={}){const l=await ws(n,t,e,r,o);return"mfaPendingCredential"in l&&Br(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function ZA(n,t,e,r){const o=`${t}${e}?${r}`,l=n,h=l.config.emulator?uv(n.config,o):`${n.config.apiScheme}://${o}`;return z2.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function j2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ds(this.auth,"network-request-failed")),B2.get())})}}function ed(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=ds(n,t,r);return o.customData._tokenResponse=e,o}function qE(n){return n!==void 0&&n.enterprise!==void 0}class H2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return j2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q2(n,t){return ws(n,"GET","/v2/recaptchaConfig",ma(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,t){return ws(n,"POST","/v1/accounts:delete",t)}async function Ld(n,t){return ws(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YA(n,t=!1){const e=Ie(n),r=await e.getIdToken(t),o=cv(r);jt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:r,authTime:ch(Mg(o.auth_time)),issuedAtTime:ch(Mg(o.iat)),expirationTime:ch(Mg(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Mg(n){return Number(n)*1e3}function cv(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const o=SA(e);return o?JSON.parse(o):(md("Failed to decode base64 JWT payload"),null)}catch(o){return md("Caught error parsing JWT payload as JSON",o?.toString()),null}}function GE(n){const t=cv(n);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof vr&&Z2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Z2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ch(this.lastLoginAt),this.creationTime=ch(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(n){var t;const e=n.auth,r=await n.getIdToken(),o=await Fu(n,Ld(e,{idToken:r}));jt(o?.users.length,e,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?WA(l.providerUserInfo):[],d=K2(n.providerData,h),g=n.isAnonymous,v=!(n.email&&l.passwordHash)&&!d?.length,E=g?v:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new l_(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(n,w)}async function KA(n){const t=Ie(n);await Od(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function K2(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function WA(n){return n.map(t=>{var{providerId:e}=t,r=ov(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(n,t){const e=await GA(n,{},async()=>{const r=Nh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=await ZA(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:r};return n.emulatorConfig&&Oo(n.emulatorConfig.host)&&(g.credentials="include"),qA.fetch()(h,g)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function X2(n,t){return ws(n,"POST","/v2/accounts:revokeToken",ma(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):GE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const e=GE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:l}=await W2(t,e);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:l}=e,h=new Du;return r&&(jt(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(jt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),l&&(jt(typeof l=="number","internal-error",{appName:t}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(n,t){jt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ur{constructor(t){var{uid:e,auth:r,stsTokenManager:o}=t,l=ov(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new l_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Fu(this,this.stsTokenManager.getToken(this.auth,t));return jt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return YA(this,t)}reload(){return KA(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ur(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(ra(this.auth));const t=await this.getIdToken();return await Fu(this,G2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,o,l,h,d,g,v,E;const w=(r=e.displayName)!==null&&r!==void 0?r:void 0,A=(o=e.email)!==null&&o!==void 0?o:void 0,R=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,k=(h=e.photoURL)!==null&&h!==void 0?h:void 0,N=(d=e.tenantId)!==null&&d!==void 0?d:void 0,H=(g=e._redirectEventId)!==null&&g!==void 0?g:void 0,j=(v=e.createdAt)!==null&&v!==void 0?v:void 0,et=(E=e.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:nt,emailVerified:pt,isAnonymous:vt,providerData:kt,stsTokenManager:q}=e;jt(nt&&q,t,"internal-error");const D=Du.fromJSON(this.name,q);jt(typeof nt=="string",t,"internal-error"),co(w,t.name),co(A,t.name),jt(typeof pt=="boolean",t,"internal-error"),jt(typeof vt=="boolean",t,"internal-error"),co(R,t.name),co(k,t.name),co(N,t.name),co(H,t.name),co(j,t.name),co(et,t.name);const U=new Ur({uid:nt,auth:t,email:A,emailVerified:pt,displayName:w,isAnonymous:vt,photoURL:k,phoneNumber:R,tenantId:N,stsTokenManager:D,createdAt:j,lastLoginAt:et});return kt&&Array.isArray(kt)&&(U.providerData=kt.map(G=>Object.assign({},G))),H&&(U._redirectEventId=H),U}static async _fromIdTokenResponse(t,e,r=!1){const o=new Du;o.updateFromServerResponse(e);const l=new Ur({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Od(l),l}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];jt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?WA(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,d=new Du;d.updateFromIdToken(r);const g=new Ur({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new l_(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;function na(n){la(n instanceof Function,"Expected a class definition");let t=ZE.get(n);return t?(la(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ZE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}XA.type="NONE";const u_=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n,t,e){return`firebase:${n}:${t}:${e}`}class Vu{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=pd(this.userKey,o.apiKey,l),this.fullPersistenceKey=pd("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Ld(this.auth,{idToken:t}).catch(()=>{});return e?Ur._fromGetAccountInfoResponse(this.auth,e,t):null}return Ur._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Vu(na(u_),t,r);const o=(await Promise.all(e.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||na(u_);const h=pd(r,t.config.apiKey,t.name);let d=null;for(const v of e)try{const E=await v._get(h);if(E){let w;if(typeof E=="string"){const A=await Ld(t,{idToken:E}).catch(()=>{});if(!A)break;w=await Ur._fromGetAccountInfoResponse(t,A,E)}else w=Ur._fromJSON(t,E);v!==l&&(d=w),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Vu(l,t,r):(l=g[0],d&&await l._set(h,d.toJSON()),await Promise.all(e.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new Vu(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(t1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(n1(t))return"Blackberry";if(i1(t))return"Webos";if($A(t))return"Safari";if((t.includes("chrome/")||JA(t))&&!t.includes("edge/"))return"Chrome";if(e1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function QA(n=Qn()){return/firefox\//i.test(n)}function $A(n=Qn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function JA(n=Qn()){return/crios\//i.test(n)}function t1(n=Qn()){return/iemobile/i.test(n)}function e1(n=Qn()){return/android/i.test(n)}function n1(n=Qn()){return/blackberry/i.test(n)}function i1(n=Qn()){return/webos/i.test(n)}function hv(n=Qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Q2(n=Qn()){var t;return hv(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $2(){return dL()&&document.documentMode===10}function r1(n=Qn()){return hv(n)||e1(n)||i1(n)||n1(n)||/windows phone/i.test(n)||t1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,t=[]){let e;switch(n){case"Browser":e=YE(Qn());break;case"Worker":e=`${YE(Qn())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=l=>new Promise((h,d)=>{try{const g=t(l);h(g)}catch(g){d(g)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(n,t={}){return ws(n,"GET","/v2/passwordPolicy",ma(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=6;class nO{constructor(t){var e,r,o,l;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:eO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,o,l,h,d;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(e=g.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(d=g.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),g}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new J2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=na(e)),this._initializationPromise=this.queue(async()=>{var r,o,l;if(!this._deleted&&(this.persistenceManager=await Vu.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ld(this,{idToken:t}),r=await Ur._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Hi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Od(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=V2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hi(this.app))return Promise.reject(ra(this));const e=t?Ie(t):null;return e&&jt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hi(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tO(this),e=new nO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await X2(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&na(t)||this._popupRedirectResolver;jt(e,this,"argument-error"),this.redirectPersistenceManager=await Vu.create(this,[na(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof e=="function"){const g=t.addObserver(e,r,o);return()=>{h=!0,g()}}else{const g=t.addObserver(e);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&k2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ko(n){return Ie(n)}class KE{constructor(t){this.auth=t,this.observer=null,this.addObserver=TL(e=>this.observer=e)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rO(n){om=n}function a1(n){return om.loadJS(n)}function sO(){return om.recaptchaEnterpriseScript}function aO(){return om.gapiScript}function oO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lO{constructor(){this.enterprise=new uO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class uO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const cO="recaptcha-enterprise",o1="NO_RECAPTCHA";class hO{constructor(t){this.type=cO,this.auth=ko(t)}async verify(t="verify",e=!1){async function r(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{q2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const v=new H2(g);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,h(v.siteKey)}}).catch(g=>{d(g)})})}function o(l,h,d){const g=window.grecaptcha;qE(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:t}).then(v=>{h(v)}).catch(()=>{h(o1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lO().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{r(this.auth).then(d=>{if(!e&&qE(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=sO();g.length!==0&&(g+=d),a1(g).then(()=>{o(d,l,h)}).catch(v=>{h(v)})}}).catch(d=>{h(d)})})}}async function WE(n,t,e,r=!1,o=!1){const l=new hO(n);let h;if(o)h=o1;else try{h=await l.verify(e)}catch{h=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,v=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Md(n,t,e,r,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await WE(n,t,e,e==="getOobCode");return r(n,h)}else return r(n,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await WE(n,t,e,e==="getOobCode");return r(n,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n,t){const e=Mo(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(yo(l,t??{}))return o;Br(o,"already-initialized")}return e.initialize({options:t})}function fO(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(na);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function u1(n,t,e){const r=ko(n);jt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,l=c1(t),{host:h,port:d}=dO(t),g=d===null?"":`:${d}`,v={url:`${l}//${h}${g}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){jt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),jt(yo(v,r.config.emulator)&&yo(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Oo(h)?(rv(`${l}//${h}${g}`),sv("Auth",!0)):mO()}function c1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function dO(n){const t=c1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:XE(r.substr(l.length+1))}}else{const[l,h]=r.split(":");return{host:l,port:XE(h)}}}function XE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function mO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ea("not implemented")}_getIdTokenResponse(t){return ea("not implemented")}_linkToIdToken(t,e){return ea("not implemented")}_getReauthenticationResolver(t){return ea("not implemented")}}async function pO(n,t){return ws(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,t){return Vh(n,"POST","/v1/accounts:signInWithPassword",ma(n,t))}async function h1(n,t){return ws(n,"POST","/v1/accounts:sendOobCode",ma(n,t))}async function _O(n,t){return h1(n,t)}async function vO(n,t){return h1(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,t){return Vh(n,"POST","/v1/accounts:signInWithEmailLink",ma(n,t))}async function TO(n,t){return Vh(n,"POST","/v1/accounts:signInWithEmailLink",ma(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends lm{constructor(t,e,r,o=null){super("password",r),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Hu(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Hu(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(t,e,"signInWithPassword",gO);case"emailLink":return yO(t,{email:this._email,oobCode:this._password});default:Br(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(t,r,"signUpPassword",pO);case"emailLink":return TO(t,{idToken:e,email:this._email,oobCode:this._password});default:Br(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(n,t){return Vh(n,"POST","/v1/accounts:signInWithIdp",ma(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="http://localhost";class To extends lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new To(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Br("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=e,l=ov(e,["providerId","signInMethod"]);if(!r||!o)return null;const h=new To(r,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return Uu(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Uu(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Uu(t,e)}buildRequest(){const t={requestUri:EO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Nh(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(n){const t=th(eh(n)).link,e=t?th(eh(t)).deep_link_id:null,r=th(eh(n)).deep_link_id;return(r?th(eh(r)).link:null)||r||e||t||n}class um{constructor(t){var e,r,o,l,h,d;const g=th(eh(t)),v=(e=g.apiKey)!==null&&e!==void 0?e:null,E=(r=g.oobCode)!==null&&r!==void 0?r:null,w=bO((o=g.mode)!==null&&o!==void 0?o:null);jt(v&&E&&w,"argument-error"),this.apiKey=v,this.operation=w,this.code=E,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=g.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=wO(t);try{return new um(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(t,e){return Hu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=um.parseLink(e);return jt(r,"argument-error"),Hu._fromEmailAndCode(t,r.code,r.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Uh{constructor(){super("facebook.com")}static credential(t){return To._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Uh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return To._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return $s.credential(e,r)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Uh{constructor(){super("github.com")}static credential(t){return To._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Uh{constructor(){super("twitter.com")}static credential(t,e){return To._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return ta.credential(e,r)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(n,t){return Vh(n,"POST","/v1/accounts:signUp",ma(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const l=await Ur._fromIdTokenResponse(t,r,o),h=QE(r);return new Rl({user:l,providerId:h,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=QE(r);return new Rl({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function QE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends vr{constructor(t,e,r,o){var l;super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new kd(t,e,r,o)}}function d1(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?kd._fromErrorAndOperation(n,l,t,r):l})}async function SO(n,t,e=!1){const r=await Fu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Rl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,t,e=!1){const{auth:r}=n;if(Hi(r.app))return Promise.reject(ra(r));const o="reauthenticate";try{const l=await Fu(n,d1(r,o,t,n),e);jt(l.idToken,r,"internal-error");const h=cv(l.idToken);jt(h,r,"internal-error");const{sub:d}=h;return jt(n.uid===d,r,"user-mismatch"),Rl._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Br(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(n,t,e=!1){if(Hi(n.app))return Promise.reject(ra(n));const r="signIn",o=await d1(n,r,t),l=await Rl._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(l.user),l}async function p1(n,t){return m1(ko(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(n){const t=ko(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function _1(n,t,e){const r=ko(n);await Md(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vO)}async function v1(n,t,e){if(Hi(n.app))return Promise.reject(ra(n));const r=ko(n),h=await Md(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AO).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&g1(n),g}),d=await Rl._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(d.user),d}function y1(n,t,e){return Hi(n.app)?Promise.reject(ra(n)):p1(Ie(n),zl.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g1(n),r})}async function T1(n,t){const e=Ie(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await _O(e.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,t){return ws(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const r=Ie(n),l={idToken:await r.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},h=await Fu(r,xO(r.auth,l));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const d=r.providerData.find(({providerId:g})=>g==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(h)}function b1(n,t,e,r){return Ie(n).onIdTokenChanged(t,e,r)}function w1(n,t,e){return Ie(n).beforeAuthStateChanged(t,e)}function fv(n,t,e,r){return Ie(n).onAuthStateChanged(t,e,r)}function RO(n){return Ie(n).signOut()}const Nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Nd,"1"),this.storage.removeItem(Nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=1e3,PO=10;class S1 extends A1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,d,g)=>{this.notifyListeners(h,g)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!e&&this.localCache[r]===h||this.notifyListeners(r,h)},l=this.storage.getItem(r);$2()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,PO):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},IO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}S1.type="LOCAL";const C1=S1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends A1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}x1.type="SESSION";const dv=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new cm(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:l}=e.data,h=this.handlersMap[o];if(!h?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(h).map(async v=>v(e.origin,l)),g=await LO(d);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,g)=>{const v=mv("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(E),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:v,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return window}function MO(n){ms().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function kO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NO(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DO(){return R1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebaseLocalStorageDb",VO=1,Dd="firebaseLocalStorage",P1="fbase_key";class zh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function hm(n,t){return n.transaction([Dd],t?"readwrite":"readonly").objectStore(Dd)}function UO(){const n=indexedDB.deleteDatabase(I1);return new zh(n).toPromise()}function c_(){const n=indexedDB.open(I1,VO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Dd,{keyPath:P1})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Dd)?t(r):(r.close(),await UO(),t(await c_()))})})}async function $E(n,t,e){const r=hm(n,!0).put({[P1]:t,value:e});return new zh(r).toPromise()}async function zO(n,t){const e=hm(n,!1).get(t),r=await new zh(e).toPromise();return r===void 0?null:r.value}function JE(n,t){const e=hm(n,!0).delete(t);return new zh(e).toPromise()}const BO=800,jO=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>jO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(DO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await kO(),!this.activeServiceWorker)return;this.sender=new OO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||NO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await c_();return await $E(t,Nd,"1"),await JE(t,Nd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>$E(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>zO(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>JE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=hm(o,!1).getAll();return new zh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const O1=L1;new Dh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n,t){return t?na(t):(jt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends lm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Uu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Uu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Uu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function HO(n){return m1(n.auth,new pv(n),n.bypassAuthState)}function qO(n){const{auth:t,user:e}=n;return jt(e,t,"internal-error"),CO(e,new pv(n),n.bypassAuthState)}async function GO(n){const{auth:t,user:e}=n;return jt(e,t,"internal-error"),SO(e,new pv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,e,r,o,l=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:l,error:h,type:d}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:e,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HO;case"linkViaPopup":case"linkViaRedirect":return GO;case"reauthViaPopup":case"reauthViaRedirect":return qO;default:Br(this.auth,"internal-error")}}resolve(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=new Dh(2e3,1e4);class Ou extends M1{constructor(t,e,r,o,l){super(t,e,o,l),this.provider=r,this.authWindow=null,this.pollId=null,Ou.currentPopupAction&&Ou.currentPopupAction.cancel(),Ou.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const t=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ou.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ZO.get())};t()}}Ou.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="pendingRedirect",gd=new Map;class KO extends M1{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=gd.get(this.auth._key());if(!t){try{const r=await WO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}gd.set(this.auth._key(),t)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WO(n,t){const e=$O(t),r=QO(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function XO(n,t){gd.set(n._key(),t)}function QO(n){return na(n._redirectPersistence)}function $O(n){return pd(YO,n.config.apiKey,n.name)}async function JO(n,t,e=!1){if(Hi(n.app))return Promise.reject(ra(n));const r=ko(n),o=FO(r,t),h=await new KO(r,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=10*60*1e3;class eM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!k1(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(ds(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tM&&this.cachedEventUids.clear(),this.cachedEventUids.has(tb(t))}saveEventToCache(t){this.cachedEventUids.add(tb(t)),this.lastProcessedEventTime=Date.now()}}function tb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function k1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function nM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(n,t={}){return ws(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sM=/^https?/;async function aM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await iM(n);for(const e of t)try{if(oM(e))return}catch{}Br(n,"unauthorized-domain")}function oM(n){const t=o_(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===r}if(!sM.test(e))return!1;if(rM.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Dh(3e4,6e4);function eb(){const n=ms().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function uM(n){return new Promise((t,e)=>{var r,o,l;function h(){eb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{eb(),e(ds(n,"network-request-failed"))},timeout:lM.get()})}if(!((o=(r=ms().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=ms().gapi)===null||l===void 0)&&l.load)h();else{const d=oO("iframefcb");return ms()[d]=()=>{gapi.load?h():e(ds(n,"network-request-failed"))},a1(`${aO()}?onload=${d}`).catch(g=>e(g))}}).catch(t=>{throw _d=null,t})}let _d=null;function cM(n){return _d=_d||uM(n),_d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new Dh(5e3,15e3),fM="__/auth/iframe",dM="emulator/auth/iframe",mM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gM(n){const t=n.config;jt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?uv(t,dM):`https://${n.config.authDomain}/${fM}`,r={apiKey:t.apiKey,appName:n.name,v:Ul},o=pM.get(n.config.apiHost);o&&(r.eid=o);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${e}?${Nh(r).slice(1)}`}async function _M(n){const t=await cM(n),e=ms().gapi;return jt(e,n,"internal-error"),t.open({where:document.body,url:gM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mM,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const h=ds(n,"network-request-failed"),d=ms().setTimeout(()=>{l(h)},hM.get());function g(){ms().clearTimeout(d),o(r)}r.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yM=500,TM=600,EM="_blank",bM="http://localhost";class nb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wM(n,t,e,r=yM,o=TM){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const g=Object.assign(Object.assign({},vM),{width:r.toString(),height:o.toString(),top:l,left:h}),v=Qn().toLowerCase();e&&(d=JA(v)?EM:e),QA(v)&&(t=t||bM,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[R,k])=>`${A}${R}=${k},`,"");if(Q2(v)&&d!=="_self")return AM(t||"",d),new nb(null);const w=window.open(t||"",d,E);jt(w,n,"popup-blocked");try{w.focus()}catch{}return new nb(w)}function AM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="__/auth/handler",CM="emulator/auth/handler",xM=encodeURIComponent("fac");async function ib(n,t,e,r,o,l){jt(n.config.authDomain,n,"auth-domain-config-required"),jt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Ul,eventId:o};if(t instanceof f1){t.setDefaultLanguage(n.languageCode),h.providerId=t.providerId||"",yL(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(t instanceof Uh){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const g=await n._getAppCheckToken(),v=g?`#${xM}=${encodeURIComponent(g)}`:"";return`${RM(n)}?${Nh(d).slice(1)}${v}`}function RM({config:n}){return n.emulator?uv(n,CM):`https://${n.authDomain}/${SM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="webStorageSupport";class IM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=JO,this._overrideRedirectResult=XO}async _openPopup(t,e,r,o){var l;la((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await ib(t,e,r,o_(),o);return wM(t,h,mv())}async _openRedirect(t,e,r,o){await this._originValidation(t);const l=await ib(t,e,r,o_(),o);return MO(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(la(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await _M(t),r=new eM(t);return e.register("authEvent",o=>(jt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(kg,{type:kg},o=>{var l;const h=(l=o?.[0])===null||l===void 0?void 0:l[kg];h!==void 0&&e(!!h),Br(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=aM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return r1()||$A()||hv()}}const N1=IM;var rb="@firebase/auth",sb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OM(n){zr(new _r("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=r.options;jt(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(n)},v=new iO(r,o,l,g);return fO(v,e),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),zr(new _r("auth-internal",t=>{const e=ko(t.getProvider("auth").getImmediate());return(r=>new PM(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(rb,sb,LM(n)),vi(rb,sb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=5*60,kM=IA("authIdTokenMaxAge")||MM;let ab=null;const NM=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>kM)return;const o=e?.token;ab!==o&&(ab=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function D1(n=am()){const t=Mo(n,"auth");if(t.isInitialized())return t.getImmediate();const e=l1(n,{popupRedirectResolver:N1,persistence:[O1,C1,dv]}),r=IA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const h=NM(l.toString());w1(e,h,()=>h(e.currentUser)),b1(e,d=>h(d))}}const o=CA("auth");return o&&u1(e,`http://${o}`),e}function DM(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}rO({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const l=ds("internal-error");l.customData=o,e(l)},r.type="text/javascript",r.charset="UTF-8",DM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OM("Browser");const VM=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:um,AuthCredential:lm,EmailAuthCredential:Hu,EmailAuthProvider:zl,FacebookAuthProvider:Qs,GithubAuthProvider:Js,GoogleAuthProvider:$s,OAuthCredential:To,TwitterAuthProvider:ta,beforeAuthStateChanged:w1,browserLocalPersistence:C1,browserPopupRedirectResolver:N1,browserSessionPersistence:dv,connectAuthEmulator:u1,createUserWithEmailAndPassword:v1,getAuth:D1,getIdTokenResult:YA,inMemoryPersistence:u_,indexedDBLocalPersistence:O1,initializeAuth:l1,onAuthStateChanged:fv,onIdTokenChanged:b1,prodErrorMap:jA,reload:KA,sendEmailVerification:T1,sendPasswordResetEmail:_1,signInWithCredential:p1,signInWithEmailAndPassword:y1,signOut:RO,updateProfile:E1},Symbol.toStringTag,{value:"Module"}));var UM="firebase",zM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(UM,zM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebasestorage.googleapis.com",U1="storageBucket",BM=2*60*1e3,jM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends vr{constructor(t,e,r=0){super(Ng(t),`Firebase Storage: ${e} (${Ng(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ng(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function Ng(n){return"storage/"+n}function gv(){const n="An unknown error occurred, please check the error payload for server response.";return new Je($e.UNKNOWN,n)}function FM(n){return new Je($e.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function HM(n){return new Je($e.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je($e.UNAUTHENTICATED,n)}function GM(){return new Je($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZM(n){return new Je($e.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function YM(){return new Je($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KM(){return new Je($e.CANCELED,"User canceled the upload/download.")}function WM(n){return new Je($e.INVALID_URL,"Invalid URL '"+n+"'.")}function XM(n){return new Je($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function QM(){return new Je($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+U1+"' property when initializing the app?")}function $M(){return new Je($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JM(){return new Je($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tk(n){return new Je($e.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function h_(n){return new Je($e.INVALID_ARGUMENT,n)}function z1(){return new Je($e.APP_DELETED,"The Firebase app was deleted.")}function ek(n){return new Je($e.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hh(n,t){return new Je($e.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Jc(n){throw new Je($e.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=qi.makeFromUrl(t,e)}catch{return new qi(t,"")}if(r.path==="")return r;throw XM(t)}static makeFromUrl(t,e){let r=null;const o="([A-Za-z0-9.\\-_]+)";function l(pt){pt.path.charAt(pt.path.length-1)==="/"&&(pt.path_=pt.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function v(pt){pt.path_=decodeURIComponent(pt.path)}const E="v[A-Za-z0-9_]+",w=e.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",R=new RegExp(`^https?://${w}/${E}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},N=e===V1?"(?:storage.googleapis.com|storage.cloud.google.com)":e,H="([^?#]*)",j=new RegExp(`^https?://${N}/${o}/${H}`,"i"),nt=[{regex:d,indices:g,postModify:l},{regex:R,indices:k,postModify:v},{regex:j,indices:{bucket:1,path:2},postModify:v}];for(let pt=0;pt<nt.length;pt++){const vt=nt[pt],kt=vt.regex.exec(t);if(kt){const q=kt[vt.indices.bucket];let D=kt[vt.indices.path];D||(D=""),r=new qi(q,D),vt.postModify(r);break}}if(r==null)throw WM(t);return r}}class nk{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n,t,e){let r=1,o=null,l=null,h=!1,d=0;function g(){return d===2}let v=!1;function E(...H){v||(v=!0,t.apply(null,H))}function w(H){o=setTimeout(()=>{o=null,n(R,g())},H)}function A(){l&&clearTimeout(l)}function R(H,...j){if(v){A();return}if(H){A(),E.call(null,H,...j);return}if(g()||h){A(),E.call(null,H,...j);return}r<64&&(r*=2);let nt;d===1?(d=2,nt=0):nt=(r+Math.random())*1e3,w(nt)}let k=!1;function N(H){k||(k=!0,A(),!v&&(o!==null?(H||(d=2),clearTimeout(o),w(0)):H||(d=1)))}return w(0),l=setTimeout(()=>{h=!0,N(!0)},e),N}function rk(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n){return n!==void 0}function ak(n){return typeof n=="object"&&!Array.isArray(n)}function _v(n){return typeof n=="string"||n instanceof String}function ob(n){return vv()&&n instanceof Blob}function vv(){return typeof Blob<"u"}function lb(n,t,e,r){if(r<t)throw h_(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw h_(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(n,t,e){let r=t;return e==null&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function B1(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const o=t(r)+"="+t(n[r]);e=e+o+"&"}return e=e.slice(0,-1),e}var Sl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Sl||(Sl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n,t){const e=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=t.indexOf(n)!==-1;return e||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,e,r,o,l,h,d,g,v,E,w,A=!0,R=!1){this.url_=t,this.method_=e,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=E,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,N)=>{this.resolve_=k,this.reject_=N,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new nd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const g=d.loaded,v=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,v)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===Sl.NO_ERROR,g=l.getStatus();if(!d||ok(g,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===Sl.ABORT;r(!1,new nd(!1,null,E));return}const v=this.successCodes_.indexOf(g)!==-1;r(!0,new nd(v,l))})},e=(r,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());sk(g)?l(g):l()}catch(g){h(g)}else if(d!==null){const g=gv();g.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,g)):h(g)}else if(o.canceled){const g=this.appDelete_?z1():KM();h(g)}else{const g=YM();h(g)}};this.canceled_?e(!1,new nd(!1,null,!0)):this.backoffId_=ik(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nd{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function uk(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function ck(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hk(n,t){t&&(n["X-Firebase-GMPID"]=t)}function fk(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function dk(n,t,e,r,o,l,h=!0,d=!1){const g=B1(n.urlParams),v=n.url+g,E=Object.assign({},n.headers);return hk(E,t),uk(E,e),ck(E,l),fk(E,r),new lk(v,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pk(...n){const t=mk();if(t!==void 0){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}else{if(vv())return new Blob(n);throw new Je($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gk(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){if(typeof atob>"u")throw tk("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dg{constructor(t,e){this.data=t,this.contentType=e||null}}function vk(n,t){switch(n){case cs.RAW:return new Dg(j1(t));case cs.BASE64:case cs.BASE64URL:return new Dg(F1(n,t));case cs.DATA_URL:return new Dg(Tk(t),Ek(t))}throw gv()}function j1(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const l=r,h=n.charCodeAt(++e);r=65536|(l&1023)<<10|h&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function yk(n){let t;try{t=decodeURIComponent(n)}catch{throw hh(cs.DATA_URL,"Malformed data URL.")}return j1(t)}function F1(n,t){switch(n){case cs.BASE64:{const o=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(o||l)throw hh(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case cs.BASE64URL:{const o=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(o||l)throw hh(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=_k(t)}catch(o){throw o.message.includes("polyfill")?o:hh(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}class H1{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw hh(cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;r!=null&&(this.base64=bk(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Tk(n){const t=new H1(n);return t.base64?F1(cs.BASE64,t.rest):yk(t.rest)}function Ek(n){return new H1(n).contentType}function bk(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,e){let r=0,o="";ob(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(ob(this.data_)){const r=this.data_,o=gk(r,t,e);return o===null?null:new fo(o)}else{const r=new Uint8Array(this.data_.buffer,t,e-t);return new fo(r,!0)}}static getBlob(...t){if(vv()){const e=t.map(r=>r instanceof fo?r.data_:r);return new fo(pk.apply(null,e))}else{const e=t.map(h=>_v(h)?vk(cs.RAW,h).data:h.data_);let r=0;e.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let l=0;return e.forEach(h=>{for(let d=0;d<h.length;d++)o[l++]=h[d]}),new fo(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n){let t;try{t=JSON.parse(n)}catch{return null}return ak(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function Ak(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return n.length===0?e:n+"/"+e}function G1(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n,t){return t}class ai{constructor(t,e,r,o){this.server=t,this.local=e||t,this.writable=!!r,this.xform=o||Sk}}let id=null;function Ck(n){return!_v(n)||n.length<2?n:G1(n)}function Z1(){if(id)return id;const n=[];n.push(new ai("bucket")),n.push(new ai("generation")),n.push(new ai("metageneration")),n.push(new ai("name","fullPath",!0));function t(l,h){return Ck(h)}const e=new ai("name");e.xform=t,n.push(e);function r(l,h){return h!==void 0?Number(h):h}const o=new ai("size");return o.xform=r,n.push(o),n.push(new ai("timeCreated")),n.push(new ai("updated")),n.push(new ai("md5Hash",null,!0)),n.push(new ai("cacheControl",null,!0)),n.push(new ai("contentDisposition",null,!0)),n.push(new ai("contentEncoding",null,!0)),n.push(new ai("contentLanguage",null,!0)),n.push(new ai("contentType",null,!0)),n.push(new ai("metadata","customMetadata",!0)),id=n,id}function xk(n,t){function e(){const r=n.bucket,o=n.fullPath,l=new qi(r,o);return t._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:e})}function Rk(n,t,e){const r={};r.type="file";const o=e.length;for(let l=0;l<o;l++){const h=e[l];r[h.local]=h.xform(r,t[h.server])}return xk(r,n),r}function Y1(n,t,e){const r=q1(t);return r===null?null:Rk(n,r,e)}function Ik(n,t,e,r){const o=q1(t);if(o===null||!_v(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const h=encodeURIComponent;return l.split(",").map(v=>{const E=n.bucket,w=n.fullPath,A="/b/"+h(E)+"/o/"+h(w),R=yv(A,e,r),k=B1({alt:"media",token:v});return R+k})[0]}function Pk(n,t){const e={},r=t.length;for(let o=0;o<r;o++){const l=t[o];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}class K1{constructor(t,e,r,o){this.url=t,this.method=e,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n){if(!n)throw gv()}function Lk(n,t){function e(r,o){const l=Y1(n,o,t);return W1(l!==null),l}return e}function Ok(n,t){function e(r,o){const l=Y1(n,o,t);return W1(l!==null),Ik(l,o,n.host,n._protocol)}return e}function X1(n){function t(e,r){let o;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?o=GM():o=qM():e.getStatus()===402?o=HM(n.bucket):e.getStatus()===403?o=ZM(n.path):o=r,o.status=e.getStatus(),o.serverResponse=r.serverResponse,o}return t}function Mk(n){const t=X1(n);function e(r,o){let l=t(r,o);return r.getStatus()===404&&(l=FM(n.path)),l.serverResponse=o.serverResponse,l}return e}function kk(n,t,e){const r=t.fullServerUrl(),o=yv(r,n.host,n._protocol),l="GET",h=n.maxOperationRetryTime,d=new K1(o,l,Ok(n,e),h);return d.errorHandler=Mk(t),d}function Nk(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function Dk(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=Nk(null,t)),r}function Vk(n,t,e,r,o){const l=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let nt="";for(let pt=0;pt<2;pt++)nt=nt+Math.random().toString().slice(2);return nt}const g=d();h["Content-Type"]="multipart/related; boundary="+g;const v=Dk(t,r,o),E=Pk(v,e),w="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+v.contentType+`\r
\r
`,A=`\r
--`+g+"--",R=fo.getBlob(w,r,A);if(R===null)throw $M();const k={name:v.fullPath},N=yv(l,n.host,n._protocol),H="POST",j=n.maxUploadRetryTime,et=new K1(N,H,Lk(n,e),j);return et.urlParams=k,et.headers=h,et.body=R.uploadData(),et.errorHandler=X1(t),et}class Uk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sl.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sl.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sl.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,o,l){if(this.sent_)throw Jc("cannot .send() more than once");if(Oo(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),l!==void 0)for(const h in l)l.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,l[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class zk extends Uk{initXhr(){this.xhr_.responseType="text"}}function Q1(){return new zk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,e){this._service=t,e instanceof qi?this._location=e:this._location=qi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Il(t,e)}get root(){const t=new qi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G1(this._location.path)}get storage(){return this._service}get parent(){const t=wk(this._location.path);if(t===null)return null;const e=new qi(this._location.bucket,t);return new Il(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw ek(t)}}function Bk(n,t,e){n._throwIfRoot("uploadBytes");const r=Vk(n.storage,n._location,Z1(),new fo(t,!0),e);return n.storage.makeRequestWithTokens(r,Q1).then(o=>({metadata:o,ref:n}))}function jk(n){n._throwIfRoot("getDownloadURL");const t=kk(n.storage,n._location,Z1());return n.storage.makeRequestWithTokens(t,Q1).then(e=>{if(e===null)throw JM();return e})}function Fk(n,t){const e=Ak(n._location.path,t),r=new qi(n._location.bucket,e);return new Il(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){return/^[A-Za-z]+:\/\//.test(n)}function qk(n,t){return new Il(n,t)}function $1(n,t){if(n instanceof Tv){const e=n;if(e._bucket==null)throw QM();const r=new Il(e,e._bucket);return t!=null?$1(r,t):r}else return t!==void 0?Fk(n,t):n}function Gk(n,t){if(t&&Hk(t)){if(n instanceof Tv)return qk(n,t);throw h_("To use ref(service, url), the first argument must be a Storage instance.")}else return $1(n,t)}function ub(n,t){const e=t?.[U1];return e==null?null:qi.makeFromBucketSpec(e,n)}function Zk(n,t,e,r={}){n.host=`${t}:${e}`;const o=Oo(t);o&&(rv(`https://${n.host}/b`),sv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:PA(l,n.app.options.projectId))}class Tv{constructor(t,e,r,o,l,h=!1){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=h,this._bucket=null,this._host=V1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BM,this._maxUploadRetryTime=jM,this._requests=new Set,o!=null?this._bucket=qi.makeFromBucketSpec(o,this._host):this._bucket=ub(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=qi.makeFromBucketSpec(this._url,t):this._bucket=ub(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){lb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){lb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Il(this,t)}_makeRequest(t,e,r,o,l=!0){if(this._deleted)return new nk(z1());{const h=dk(t,this._appId,r,o,e,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(t,e){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,o).getPromise()}}const cb="@firebase/storage",hb="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="storage";function Yk(n,t,e){return n=Ie(n),Bk(n,t,e)}function Kk(n){return n=Ie(n),jk(n)}function Wk(n,t){return n=Ie(n),Gk(n,t)}function Xk(n=am(),t){n=Ie(n);const r=Mo(n,J1).getImmediate({identifier:t}),o=xA("storage");return o&&Qk(r,...o),r}function Qk(n,t,e,r={}){Zk(n,t,e,r)}function $k(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Tv(e,r,o,t,Ul)}function Jk(){zr(new _r(J1,$k,"PUBLIC").setMultipleInstances(!0)),vi(cb,hb,""),vi(cb,hb,"esm2017")}Jk();const tS="@firebase/installations",Ev="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=1e4,nS=`w:${Ev}`,iS="FIS_v2",tN="https://firebaseinstallations.googleapis.com/v1",eN=60*60*1e3,nN="installations",iN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pl=new Vl(nN,iN,rN);function rS(n){return n instanceof vr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS({projectId:n}){return`${tN}/projects/${n}/installations`}function aS(n){return{token:n.token,requestStatus:2,expiresIn:aN(n.expiresIn),creationTime:Date.now()}}async function oS(n,t){const r=(await t.json()).error;return Pl.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function lS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function sN(n,{refreshToken:t}){const e=lS(n);return e.append("Authorization",oN(t)),e}async function uS(n){const t=await n();return t.status>=500&&t.status<600?n():t}function aN(n){return Number(n.replace("s","000"))}function oN(n){return`${iS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=sS(n),o=lS(n),l=t.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={fid:e,authVersion:iS,appId:n.appId,sdkVersion:nS},d={method:"POST",headers:o,body:JSON.stringify(h)},g=await uS(()=>fetch(r,d));if(g.ok){const v=await g.json();return{fid:v.fid||e,registrationStatus:2,refreshToken:v.refreshToken,authToken:aS(v.authToken)}}else throw await oS("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^[cdef][\w-]{21}$/,f_="";function hN(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=fN(n);return cN.test(e)?e:f_}catch{return f_}}function fN(n){return uN(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Map;function fS(n,t){const e=fm(n);dS(e,t),dN(e,t)}function dS(n,t){const e=hS.get(n);if(e)for(const r of e)r(t)}function dN(n,t){const e=mN();e&&e.postMessage({key:n,fid:t}),pN()}let bl=null;function mN(){return!bl&&"BroadcastChannel"in self&&(bl=new BroadcastChannel("[Firebase] FID Change"),bl.onmessage=n=>{dS(n.data.key,n.data.fid)}),bl}function pN(){hS.size===0&&bl&&(bl.close(),bl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firebase-installations-database",_N=1,Ll="firebase-installations-store";let Vg=null;function bv(){return Vg||(Vg=DA(gN,_N,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Ll)}}})),Vg}async function Vd(n,t){const e=fm(n),o=(await bv()).transaction(Ll,"readwrite"),l=o.objectStore(Ll),h=await l.get(e);return await l.put(t,e),await o.done,(!h||h.fid!==t.fid)&&fS(n,t.fid),t}async function mS(n){const t=fm(n),r=(await bv()).transaction(Ll,"readwrite");await r.objectStore(Ll).delete(t),await r.done}async function dm(n,t){const e=fm(n),o=(await bv()).transaction(Ll,"readwrite"),l=o.objectStore(Ll),h=await l.get(e),d=t(h);return d===void 0?await l.delete(e):await l.put(d,e),await o.done,d&&(!h||h.fid!==d.fid)&&fS(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wv(n){let t;const e=await dm(n.appConfig,r=>{const o=vN(r),l=yN(n,o);return t=l.registrationPromise,l.installationEntry});return e.fid===f_?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function vN(n){const t=n||{fid:hN(),registrationStatus:0};return pS(t)}function yN(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Pl.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=TN(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:EN(n)}:{installationEntry:t}}async function TN(n,t){try{const e=await lN(n,t);return Vd(n.appConfig,e)}catch(e){throw rS(e)&&e.customData.serverCode===409?await mS(n.appConfig):await Vd(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function EN(n){let t=await fb(n.appConfig);for(;t.registrationStatus===1;)await cS(100),t=await fb(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await wv(n);return r||e}return t}function fb(n){return dm(n,t=>{if(!t)throw Pl.create("installation-not-found");return pS(t)})}function pS(n){return bN(n)?{fid:n.fid,registrationStatus:0}:n}function bN(n){return n.registrationStatus===1&&n.registrationTime+eS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN({appConfig:n,heartbeatServiceProvider:t},e){const r=AN(n,e),o=sN(n,e),l=t.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const h={installation:{sdkVersion:nS,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},g=await uS(()=>fetch(r,d));if(g.ok){const v=await g.json();return aS(v)}else throw await oS("Generate Auth Token",g)}function AN(n,{fid:t}){return`${sS(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Av(n,t=!1){let e;const r=await dm(n.appConfig,l=>{if(!gS(l))throw Pl.create("not-registered");const h=l.authToken;if(!t&&xN(h))return l;if(h.requestStatus===1)return e=SN(n,t),l;{if(!navigator.onLine)throw Pl.create("app-offline");const d=IN(l);return e=CN(n,d),d}});return e?await e:r.authToken}async function SN(n,t){let e=await db(n.appConfig);for(;e.authToken.requestStatus===1;)await cS(100),e=await db(n.appConfig);const r=e.authToken;return r.requestStatus===0?Av(n,t):r}function db(n){return dm(n,t=>{if(!gS(t))throw Pl.create("not-registered");const e=t.authToken;return PN(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function CN(n,t){try{const e=await wN(n,t),r=Object.assign(Object.assign({},t),{authToken:e});return await Vd(n.appConfig,r),e}catch(e){if(rS(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await mS(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Vd(n.appConfig,r)}throw e}}function gS(n){return n!==void 0&&n.registrationStatus===2}function xN(n){return n.requestStatus===2&&!RN(n)}function RN(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+eN}function IN(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function PN(n){return n.requestStatus===1&&n.requestTime+eS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(n){const t=n,{installationEntry:e,registrationPromise:r}=await wv(t);return r?r.catch(console.error):Av(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,t=!1){const e=n;return await MN(e),(await Av(e,t)).token}async function MN(n){const{registrationPromise:t}=await wv(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){if(!n||!n.options)throw Ug("App Configuration");if(!n.name)throw Ug("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw Ug(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ug(n){return Pl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="installations",NN="installations-internal",DN=n=>{const t=n.getProvider("app").getImmediate(),e=kN(t),r=Mo(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},VN=n=>{const t=n.getProvider("app").getImmediate(),e=Mo(t,_S).getImmediate();return{getId:()=>LN(e),getToken:o=>ON(e,o)}};function UN(){zr(new _r(_S,DN,"PUBLIC")),zr(new _r(NN,VN,"PRIVATE"))}UN();vi(tS,Ev);vi(tS,Ev,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="analytics",zN="firebase_id",BN="origin",jN=60*1e3,FN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new sm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yi=new Vl("analytics","Analytics",HN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n){if(!n.startsWith(Sv)){const t=Yi.create("invalid-gtag-resource",{gtagURL:n});return yi.warn(t.message),""}return n}function vS(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function GN(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function ZN(n,t){const e=GN("firebase-js-sdk-policy",{createScriptURL:qN}),r=document.createElement("script"),o=`${Sv}?l=${n}&id=${t}`;r.src=e?e?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function YN(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function KN(n,t,e,r,o,l){const h=r[o];try{if(h)await t[h];else{const g=(await vS(e)).find(v=>v.measurementId===o);g&&await t[g.appId]}}catch(d){yi.error(d)}n("config",o,l)}async function WN(n,t,e,r,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await vS(e);for(const g of h){const v=d.find(w=>w.measurementId===g),E=v&&t[v.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(t)),await Promise.all(l),n("event",r,o||{})}catch(l){yi.error(l)}}function XN(n,t,e,r){async function o(l,...h){try{if(l==="event"){const[d,g]=h;await WN(n,t,e,d,g)}else if(l==="config"){const[d,g]=h;await KN(n,t,e,r,d,g)}else if(l==="consent"){const[d,g]=h;n("consent",d,g)}else if(l==="get"){const[d,g,v]=h;n("get",d,g,v)}else if(l==="set"){const[d]=h;n("set",d)}else n(l,...h)}catch(d){yi.error(d)}}return o}function QN(n,t,e,r,o){let l=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=XN(l,n,t,e),{gtagCore:l,wrappedGtag:window[o]}}function $N(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Sv)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=30,tD=1e3;class eD{constructor(t={},e=tD){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const yS=new eD;function nD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function iD(n){var t;const{appId:e,apiKey:r}=n,o={method:"GET",headers:nD(r)},l=FN.replace("{app-id}",e),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const g=await h.json();!((t=g.error)===null||t===void 0)&&t.message&&(d=g.error.message)}catch{}throw Yi.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function rD(n,t=yS,e){const{appId:r,apiKey:o,measurementId:l}=n.options;if(!r)throw Yi.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:r};throw Yi.create("no-api-key")}const h=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new oD;return setTimeout(async()=>{d.abort()},jN),TS({appId:r,apiKey:o,measurementId:l},h,d,t)}async function TS(n,{throttleEndTimeMillis:t,backoffCount:e},r,o=yS){var l;const{appId:h,measurementId:d}=n;try{await sD(r,t)}catch(g){if(d)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw g}try{const g=await iD(n);return o.deleteThrottleMetadata(h),g}catch(g){const v=g;if(!aD(v)){if(o.deleteThrottleMetadata(h),d)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:d};throw g}const E=Number((l=v?.customData)===null||l===void 0?void 0:l.httpStatus)===503?kE(e,o.intervalMillis,JN):kE(e,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:e+1};return o.setThrottleMetadata(h,w),yi.debug(`Calling attemptFetch again in ${E} millis`),TS(n,w,r,o)}}function sD(n,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),l=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(l),r(Yi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function aD(n){if(!(n instanceof vr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class oD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function lD(n,t,e,r,o){if(o&&o.global){n("event",e,r);return}else{const l=await t,h=Object.assign(Object.assign({},r),{send_to:l});n("event",e,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(){if(OA())try{await MA()}catch(n){return yi.warn(Yi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return yi.warn(Yi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cD(n,t,e,r,o,l,h){var d;const g=rD(n);g.then(R=>{e[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>yi.error(R)),t.push(g);const v=uD().then(R=>{if(R)return r.getId()}),[E,w]=await Promise.all([g,v]);$N(l)||ZN(l,E.measurementId),o("js",new Date);const A=(d=h?.config)!==null&&d!==void 0?d:{};return A[BN]="firebase",A.update=!0,w!=null&&(A[zN]=w),o("config",E.measurementId,A),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t){this.app=t}_delete(){return delete fh[this.app.options.appId],Promise.resolve()}}let fh={},mb=[];const pb={};let zg="dataLayer",fD="gtag",gb,ES,_b=!1;function dD(){const n=[];if(LA()&&n.push("This is a browser extension environment."),pL()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=Yi.create("invalid-analytics-context",{errorInfo:t});yi.warn(e.message)}}function mD(n,t,e){dD();const r=n.options.appId;if(!r)throw Yi.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yi.create("no-api-key");if(fh[r]!=null)throw Yi.create("already-exists",{id:r});if(!_b){YN(zg);const{wrappedGtag:l,gtagCore:h}=QN(fh,mb,pb,zg,fD);ES=l,gb=h,_b=!0}return fh[r]=cD(n,mb,pb,t,gb,zg,e),new hD(n)}function pD(n=am()){n=Ie(n);const t=Mo(n,Ud);return t.isInitialized()?t.getImmediate():gD(n)}function gD(n,t={}){const e=Mo(n,Ud);if(e.isInitialized()){const o=e.getImmediate();if(yo(t,e.getOptions()))return o;throw Yi.create("already-initialized")}return e.initialize({options:t})}function _D(n,t,e,r){n=Ie(n),lD(ES,fh[n.app.options.appId],t,e,r).catch(o=>yi.error(o))}const vb="@firebase/analytics",yb="0.10.17";function vD(){zr(new _r(Ud,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return mD(r,o,e)},"PUBLIC")),zr(new _r("analytics-internal",n,"PRIVATE")),vi(vb,yb),vi(vb,yb,"esm2017");function n(t){try{const e=t.getProvider(Ud).getImmediate();return{logEvent:(r,o,l)=>_D(e,r,o,l)}}catch(e){throw Yi.create("interop-component-reg-failed",{reason:e})}}}vD();var Tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,bS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(q,D){function U(){}U.prototype=D.prototype,q.D=D.prototype,q.prototype=new U,q.prototype.constructor=q,q.C=function(G,Z,K){for(var F=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)F[Ce-2]=arguments[Ce];return D.prototype[Z].apply(G,F)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(q,D,U){U||(U=0);var G=Array(16);if(typeof D=="string")for(var Z=0;16>Z;++Z)G[Z]=D.charCodeAt(U++)|D.charCodeAt(U++)<<8|D.charCodeAt(U++)<<16|D.charCodeAt(U++)<<24;else for(Z=0;16>Z;++Z)G[Z]=D[U++]|D[U++]<<8|D[U++]<<16|D[U++]<<24;D=q.g[0],U=q.g[1],Z=q.g[2];var K=q.g[3],F=D+(K^U&(Z^K))+G[0]+3614090360&4294967295;D=U+(F<<7&4294967295|F>>>25),F=K+(Z^D&(U^Z))+G[1]+3905402710&4294967295,K=D+(F<<12&4294967295|F>>>20),F=Z+(U^K&(D^U))+G[2]+606105819&4294967295,Z=K+(F<<17&4294967295|F>>>15),F=U+(D^Z&(K^D))+G[3]+3250441966&4294967295,U=Z+(F<<22&4294967295|F>>>10),F=D+(K^U&(Z^K))+G[4]+4118548399&4294967295,D=U+(F<<7&4294967295|F>>>25),F=K+(Z^D&(U^Z))+G[5]+1200080426&4294967295,K=D+(F<<12&4294967295|F>>>20),F=Z+(U^K&(D^U))+G[6]+2821735955&4294967295,Z=K+(F<<17&4294967295|F>>>15),F=U+(D^Z&(K^D))+G[7]+4249261313&4294967295,U=Z+(F<<22&4294967295|F>>>10),F=D+(K^U&(Z^K))+G[8]+1770035416&4294967295,D=U+(F<<7&4294967295|F>>>25),F=K+(Z^D&(U^Z))+G[9]+2336552879&4294967295,K=D+(F<<12&4294967295|F>>>20),F=Z+(U^K&(D^U))+G[10]+4294925233&4294967295,Z=K+(F<<17&4294967295|F>>>15),F=U+(D^Z&(K^D))+G[11]+2304563134&4294967295,U=Z+(F<<22&4294967295|F>>>10),F=D+(K^U&(Z^K))+G[12]+1804603682&4294967295,D=U+(F<<7&4294967295|F>>>25),F=K+(Z^D&(U^Z))+G[13]+4254626195&4294967295,K=D+(F<<12&4294967295|F>>>20),F=Z+(U^K&(D^U))+G[14]+2792965006&4294967295,Z=K+(F<<17&4294967295|F>>>15),F=U+(D^Z&(K^D))+G[15]+1236535329&4294967295,U=Z+(F<<22&4294967295|F>>>10),F=D+(Z^K&(U^Z))+G[1]+4129170786&4294967295,D=U+(F<<5&4294967295|F>>>27),F=K+(U^Z&(D^U))+G[6]+3225465664&4294967295,K=D+(F<<9&4294967295|F>>>23),F=Z+(D^U&(K^D))+G[11]+643717713&4294967295,Z=K+(F<<14&4294967295|F>>>18),F=U+(K^D&(Z^K))+G[0]+3921069994&4294967295,U=Z+(F<<20&4294967295|F>>>12),F=D+(Z^K&(U^Z))+G[5]+3593408605&4294967295,D=U+(F<<5&4294967295|F>>>27),F=K+(U^Z&(D^U))+G[10]+38016083&4294967295,K=D+(F<<9&4294967295|F>>>23),F=Z+(D^U&(K^D))+G[15]+3634488961&4294967295,Z=K+(F<<14&4294967295|F>>>18),F=U+(K^D&(Z^K))+G[4]+3889429448&4294967295,U=Z+(F<<20&4294967295|F>>>12),F=D+(Z^K&(U^Z))+G[9]+568446438&4294967295,D=U+(F<<5&4294967295|F>>>27),F=K+(U^Z&(D^U))+G[14]+3275163606&4294967295,K=D+(F<<9&4294967295|F>>>23),F=Z+(D^U&(K^D))+G[3]+4107603335&4294967295,Z=K+(F<<14&4294967295|F>>>18),F=U+(K^D&(Z^K))+G[8]+1163531501&4294967295,U=Z+(F<<20&4294967295|F>>>12),F=D+(Z^K&(U^Z))+G[13]+2850285829&4294967295,D=U+(F<<5&4294967295|F>>>27),F=K+(U^Z&(D^U))+G[2]+4243563512&4294967295,K=D+(F<<9&4294967295|F>>>23),F=Z+(D^U&(K^D))+G[7]+1735328473&4294967295,Z=K+(F<<14&4294967295|F>>>18),F=U+(K^D&(Z^K))+G[12]+2368359562&4294967295,U=Z+(F<<20&4294967295|F>>>12),F=D+(U^Z^K)+G[5]+4294588738&4294967295,D=U+(F<<4&4294967295|F>>>28),F=K+(D^U^Z)+G[8]+2272392833&4294967295,K=D+(F<<11&4294967295|F>>>21),F=Z+(K^D^U)+G[11]+1839030562&4294967295,Z=K+(F<<16&4294967295|F>>>16),F=U+(Z^K^D)+G[14]+4259657740&4294967295,U=Z+(F<<23&4294967295|F>>>9),F=D+(U^Z^K)+G[1]+2763975236&4294967295,D=U+(F<<4&4294967295|F>>>28),F=K+(D^U^Z)+G[4]+1272893353&4294967295,K=D+(F<<11&4294967295|F>>>21),F=Z+(K^D^U)+G[7]+4139469664&4294967295,Z=K+(F<<16&4294967295|F>>>16),F=U+(Z^K^D)+G[10]+3200236656&4294967295,U=Z+(F<<23&4294967295|F>>>9),F=D+(U^Z^K)+G[13]+681279174&4294967295,D=U+(F<<4&4294967295|F>>>28),F=K+(D^U^Z)+G[0]+3936430074&4294967295,K=D+(F<<11&4294967295|F>>>21),F=Z+(K^D^U)+G[3]+3572445317&4294967295,Z=K+(F<<16&4294967295|F>>>16),F=U+(Z^K^D)+G[6]+76029189&4294967295,U=Z+(F<<23&4294967295|F>>>9),F=D+(U^Z^K)+G[9]+3654602809&4294967295,D=U+(F<<4&4294967295|F>>>28),F=K+(D^U^Z)+G[12]+3873151461&4294967295,K=D+(F<<11&4294967295|F>>>21),F=Z+(K^D^U)+G[15]+530742520&4294967295,Z=K+(F<<16&4294967295|F>>>16),F=U+(Z^K^D)+G[2]+3299628645&4294967295,U=Z+(F<<23&4294967295|F>>>9),F=D+(Z^(U|~K))+G[0]+4096336452&4294967295,D=U+(F<<6&4294967295|F>>>26),F=K+(U^(D|~Z))+G[7]+1126891415&4294967295,K=D+(F<<10&4294967295|F>>>22),F=Z+(D^(K|~U))+G[14]+2878612391&4294967295,Z=K+(F<<15&4294967295|F>>>17),F=U+(K^(Z|~D))+G[5]+4237533241&4294967295,U=Z+(F<<21&4294967295|F>>>11),F=D+(Z^(U|~K))+G[12]+1700485571&4294967295,D=U+(F<<6&4294967295|F>>>26),F=K+(U^(D|~Z))+G[3]+2399980690&4294967295,K=D+(F<<10&4294967295|F>>>22),F=Z+(D^(K|~U))+G[10]+4293915773&4294967295,Z=K+(F<<15&4294967295|F>>>17),F=U+(K^(Z|~D))+G[1]+2240044497&4294967295,U=Z+(F<<21&4294967295|F>>>11),F=D+(Z^(U|~K))+G[8]+1873313359&4294967295,D=U+(F<<6&4294967295|F>>>26),F=K+(U^(D|~Z))+G[15]+4264355552&4294967295,K=D+(F<<10&4294967295|F>>>22),F=Z+(D^(K|~U))+G[6]+2734768916&4294967295,Z=K+(F<<15&4294967295|F>>>17),F=U+(K^(Z|~D))+G[13]+1309151649&4294967295,U=Z+(F<<21&4294967295|F>>>11),F=D+(Z^(U|~K))+G[4]+4149444226&4294967295,D=U+(F<<6&4294967295|F>>>26),F=K+(U^(D|~Z))+G[11]+3174756917&4294967295,K=D+(F<<10&4294967295|F>>>22),F=Z+(D^(K|~U))+G[2]+718787259&4294967295,Z=K+(F<<15&4294967295|F>>>17),F=U+(K^(Z|~D))+G[9]+3951481745&4294967295,q.g[0]=q.g[0]+D&4294967295,q.g[1]=q.g[1]+(Z+(F<<21&4294967295|F>>>11))&4294967295,q.g[2]=q.g[2]+Z&4294967295,q.g[3]=q.g[3]+K&4294967295}r.prototype.u=function(q,D){D===void 0&&(D=q.length);for(var U=D-this.blockSize,G=this.B,Z=this.h,K=0;K<D;){if(Z==0)for(;K<=U;)o(this,q,K),K+=this.blockSize;if(typeof q=="string"){for(;K<D;)if(G[Z++]=q.charCodeAt(K++),Z==this.blockSize){o(this,G),Z=0;break}}else for(;K<D;)if(G[Z++]=q[K++],Z==this.blockSize){o(this,G),Z=0;break}}this.h=Z,this.o+=D},r.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var D=1;D<q.length-8;++D)q[D]=0;var U=8*this.o;for(D=q.length-8;D<q.length;++D)q[D]=U&255,U/=256;for(this.u(q),q=Array(16),D=U=0;4>D;++D)for(var G=0;32>G;G+=8)q[U++]=this.g[D]>>>G&255;return q};function l(q,D){var U=d;return Object.prototype.hasOwnProperty.call(U,q)?U[q]:U[q]=D(q)}function h(q,D){this.h=D;for(var U=[],G=!0,Z=q.length-1;0<=Z;Z--){var K=q[Z]|0;G&&K==D||(U[Z]=K,G=!1)}this.g=U}var d={};function g(q){return-128<=q&&128>q?l(q,function(D){return new h([D|0],0>D?-1:0)}):new h([q|0],0>q?-1:0)}function v(q){if(isNaN(q)||!isFinite(q))return w;if(0>q)return H(v(-q));for(var D=[],U=1,G=0;q>=U;G++)D[G]=q/U|0,U*=4294967296;return new h(D,0)}function E(q,D){if(q.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(q.charAt(0)=="-")return H(E(q.substring(1),D));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=v(Math.pow(D,8)),G=w,Z=0;Z<q.length;Z+=8){var K=Math.min(8,q.length-Z),F=parseInt(q.substring(Z,Z+K),D);8>K?(K=v(Math.pow(D,K)),G=G.j(K).add(v(F))):(G=G.j(U),G=G.add(v(F)))}return G}var w=g(0),A=g(1),R=g(16777216);n=h.prototype,n.m=function(){if(N(this))return-H(this).m();for(var q=0,D=1,U=0;U<this.g.length;U++){var G=this.i(U);q+=(0<=G?G:4294967296+G)*D,D*=4294967296}return q},n.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(k(this))return"0";if(N(this))return"-"+H(this).toString(q);for(var D=v(Math.pow(q,6)),U=this,G="";;){var Z=pt(U,D).g;U=j(U,Z.j(D));var K=((0<U.g.length?U.g[0]:U.h)>>>0).toString(q);if(U=Z,k(U))return K+G;for(;6>K.length;)K="0"+K;G=K+G}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function k(q){if(q.h!=0)return!1;for(var D=0;D<q.g.length;D++)if(q.g[D]!=0)return!1;return!0}function N(q){return q.h==-1}n.l=function(q){return q=j(this,q),N(q)?-1:k(q)?0:1};function H(q){for(var D=q.g.length,U=[],G=0;G<D;G++)U[G]=~q.g[G];return new h(U,~q.h).add(A)}n.abs=function(){return N(this)?H(this):this},n.add=function(q){for(var D=Math.max(this.g.length,q.g.length),U=[],G=0,Z=0;Z<=D;Z++){var K=G+(this.i(Z)&65535)+(q.i(Z)&65535),F=(K>>>16)+(this.i(Z)>>>16)+(q.i(Z)>>>16);G=F>>>16,K&=65535,F&=65535,U[Z]=F<<16|K}return new h(U,U[U.length-1]&-2147483648?-1:0)};function j(q,D){return q.add(H(D))}n.j=function(q){if(k(this)||k(q))return w;if(N(this))return N(q)?H(this).j(H(q)):H(H(this).j(q));if(N(q))return H(this.j(H(q)));if(0>this.l(R)&&0>q.l(R))return v(this.m()*q.m());for(var D=this.g.length+q.g.length,U=[],G=0;G<2*D;G++)U[G]=0;for(G=0;G<this.g.length;G++)for(var Z=0;Z<q.g.length;Z++){var K=this.i(G)>>>16,F=this.i(G)&65535,Ce=q.i(Z)>>>16,Be=q.i(Z)&65535;U[2*G+2*Z]+=F*Be,et(U,2*G+2*Z),U[2*G+2*Z+1]+=K*Be,et(U,2*G+2*Z+1),U[2*G+2*Z+1]+=F*Ce,et(U,2*G+2*Z+1),U[2*G+2*Z+2]+=K*Ce,et(U,2*G+2*Z+2)}for(G=0;G<D;G++)U[G]=U[2*G+1]<<16|U[2*G];for(G=D;G<2*D;G++)U[G]=0;return new h(U,0)};function et(q,D){for(;(q[D]&65535)!=q[D];)q[D+1]+=q[D]>>>16,q[D]&=65535,D++}function nt(q,D){this.g=q,this.h=D}function pt(q,D){if(k(D))throw Error("division by zero");if(k(q))return new nt(w,w);if(N(q))return D=pt(H(q),D),new nt(H(D.g),H(D.h));if(N(D))return D=pt(q,H(D)),new nt(H(D.g),D.h);if(30<q.g.length){if(N(q)||N(D))throw Error("slowDivide_ only works with positive integers.");for(var U=A,G=D;0>=G.l(q);)U=vt(U),G=vt(G);var Z=kt(U,1),K=kt(G,1);for(G=kt(G,2),U=kt(U,2);!k(G);){var F=K.add(G);0>=F.l(q)&&(Z=Z.add(U),K=F),G=kt(G,1),U=kt(U,1)}return D=j(q,Z.j(D)),new nt(Z,D)}for(Z=w;0<=q.l(D);){for(U=Math.max(1,Math.floor(q.m()/D.m())),G=Math.ceil(Math.log(U)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),K=v(U),F=K.j(D);N(F)||0<F.l(q);)U-=G,K=v(U),F=K.j(D);k(K)&&(K=A),Z=Z.add(K),q=j(q,F)}return new nt(Z,q)}n.A=function(q){return pt(this,q).h},n.and=function(q){for(var D=Math.max(this.g.length,q.g.length),U=[],G=0;G<D;G++)U[G]=this.i(G)&q.i(G);return new h(U,this.h&q.h)},n.or=function(q){for(var D=Math.max(this.g.length,q.g.length),U=[],G=0;G<D;G++)U[G]=this.i(G)|q.i(G);return new h(U,this.h|q.h)},n.xor=function(q){for(var D=Math.max(this.g.length,q.g.length),U=[],G=0;G<D;G++)U[G]=this.i(G)^q.i(G);return new h(U,this.h^q.h)};function vt(q){for(var D=q.g.length+1,U=[],G=0;G<D;G++)U[G]=q.i(G)<<1|q.i(G-1)>>>31;return new h(U,q.h)}function kt(q,D){var U=D>>5;D%=32;for(var G=q.g.length-U,Z=[],K=0;K<G;K++)Z[K]=0<D?q.i(K+U)>>>D|q.i(K+U+1)<<32-D:q.i(K+U);return new h(Z,q.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bS=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,_o=h}).apply(typeof Tb<"u"?Tb:typeof self<"u"?self:typeof window<"u"?window:{});var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wS,nh,AS,vd,d_,SS,CS,xS;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,C){return m==Array.prototype||m==Object.prototype||(m[b]=C.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof rd=="object"&&rd];for(var b=0;b<m.length;++b){var C=m[b];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=e(this);function o(m,b){if(b)t:{var C=r;m=m.split(".");for(var M=0;M<m.length-1;M++){var Q=m[M];if(!(Q in C))break t;C=C[Q]}m=m[m.length-1],M=C[m],b=b(M),b!=M&&b!=null&&t(C,m,{configurable:!0,writable:!0,value:b})}}function l(m,b){m instanceof String&&(m+="");var C=0,M=!1,Q={next:function(){if(!M&&C<m.length){var at=C++;return{value:b(at,m[at]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(m){return m||function(){return l(this,function(b,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function v(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function E(m,b,C){return m.call.apply(m.bind,arguments)}function w(m,b,C){if(!m)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,M),m.apply(b,Q)}}return function(){return m.apply(b,arguments)}}function A(m,b,C){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function R(m,b){var C=Array.prototype.slice.call(arguments,1);return function(){var M=C.slice();return M.push.apply(M,arguments),m.apply(this,M)}}function k(m,b){function C(){}C.prototype=b.prototype,m.aa=b.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(M,Q,at){for(var Et=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)Et[ie-2]=arguments[ie];return b.prototype[Q].apply(M,Et)}}function N(m){const b=m.length;if(0<b){const C=Array(b);for(let M=0;M<b;M++)C[M]=m[M];return C}return[]}function H(m,b){for(let C=1;C<arguments.length;C++){const M=arguments[C];if(g(M)){const Q=m.length||0,at=M.length||0;m.length=Q+at;for(let Et=0;Et<at;Et++)m[Q+Et]=M[Et]}else m.push(M)}}class j{constructor(b,C){this.i=b,this.j=C,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function et(m){return/^[\s\xa0]*$/.test(m)}function nt(){var m=d.navigator;return m&&(m=m.userAgent)?m:""}function pt(m){return pt[" "](m),m}pt[" "]=function(){};var vt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function kt(m,b,C){for(const M in m)b.call(C,m[M],M,m)}function q(m,b){for(const C in m)b.call(void 0,m[C],C,m)}function D(m){const b={};for(const C in m)b[C]=m[C];return b}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(m,b){let C,M;for(let Q=1;Q<arguments.length;Q++){M=arguments[Q];for(C in M)m[C]=M[C];for(let at=0;at<U.length;at++)C=U[at],Object.prototype.hasOwnProperty.call(M,C)&&(m[C]=M[C])}}function Z(m){var b=1;m=m.split(":");const C=[];for(;0<b&&m.length;)C.push(m.shift()),b--;return m.length&&C.push(m.join(":")),C}function K(m){d.setTimeout(()=>{throw m},0)}function F(){var m=le;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class Ce{constructor(){this.h=this.g=null}add(b,C){const M=Be.get();M.set(b,C),this.h?this.h.next=M:this.g=M,this.h=M}}var Be=new j(()=>new ot,m=>m.reset());class ot{constructor(){this.next=this.g=this.h=null}set(b,C){this.h=b,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,_t=!1,le=new Ce,V=()=>{const m=d.Promise.resolve(void 0);bt=()=>{m.then(lt)}};var lt=()=>{for(var m;m=F();){try{m.h.call(m.g)}catch(C){K(C)}var b=Be;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}_t=!1};function Tt(){this.s=this.s,this.C=this.C}Tt.prototype.s=!1,Tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};d.addEventListener("test",C,b),d.removeEventListener("test",C,b)}catch{}return m}();function Rt(m,b){if(gt.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,M=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(vt){t:{try{pt(b.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(b=null)}}else C=="mouseover"?b=m.fromElement:C=="mouseout"&&(b=m.toElement);this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:wt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Rt.aa.h.call(this)}}k(Rt,gt);var wt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),oe=0;function Ei(m,b,C,M,Q){this.listener=m,this.proxy=null,this.src=b,this.type=C,this.capture=!!M,this.ha=Q,this.key=++oe,this.da=this.fa=!1}function Wi(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function bi(m){this.src=m,this.g={},this.h=0}bi.prototype.add=function(m,b,C,M,Q){var at=m.toString();m=this.g[at],m||(m=this.g[at]=[],this.h++);var Et=yr(m,b,M,Q);return-1<Et?(b=m[Et],C||(b.fa=!1)):(b=new Ei(b,this.src,at,!!M,Q),b.fa=C,m.push(b)),b};function wi(m,b){var C=b.type;if(C in m.g){var M=m.g[C],Q=Array.prototype.indexOf.call(M,b,void 0),at;(at=0<=Q)&&Array.prototype.splice.call(M,Q,1),at&&(Wi(b),m.g[C].length==0&&(delete m.g[C],m.h--))}}function yr(m,b,C,M){for(var Q=0;Q<m.length;++Q){var at=m[Q];if(!at.da&&at.listener==b&&at.capture==!!C&&at.ha==M)return Q}return-1}var As="closure_lm_"+(1e6*Math.random()|0),ga={};function zo(m,b,C,M,Q){if(Array.isArray(b)){for(var at=0;at<b.length;at++)zo(m,b[at],C,M,Q);return null}return C=Hl(C),m&&m[Ee]?m.K(b,C,v(M)?!!M.capture:!1,Q):Un(m,b,C,!1,M,Q)}function Un(m,b,C,M,Q,at){if(!b)throw Error("Invalid event type");var Et=v(Q)?!!Q.capture:!!Q,ie=Cs(m);if(ie||(m[As]=ie=new bi(m)),C=ie.add(b,C,M,Et,at),C.proxy)return C;if(M=_a(),C.proxy=M,M.src=m,M.listener=C,m.addEventListener)At||(Q=Et),Q===void 0&&(Q=!1),m.addEventListener(b.toString(),M,Q);else if(m.attachEvent)m.attachEvent(Tr(b.toString()),M);else if(m.addListener&&m.removeListener)m.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return C}function _a(){function m(C){return b.call(m.src,m.listener,C)}const b=Fl;return m}function Bo(m,b,C,M,Q){if(Array.isArray(b))for(var at=0;at<b.length;at++)Bo(m,b[at],C,M,Q);else M=v(M)?!!M.capture:!!M,C=Hl(C),m&&m[Ee]?(m=m.i,b=String(b).toString(),b in m.g&&(at=m.g[b],C=yr(at,C,M,Q),-1<C&&(Wi(at[C]),Array.prototype.splice.call(at,C,1),at.length==0&&(delete m.g[b],m.h--)))):m&&(m=Cs(m))&&(b=m.g[b.toString()],m=-1,b&&(m=yr(b,C,M,Q)),(C=-1<m?b[m]:null)&&Ss(C))}function Ss(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[Ee])wi(b.i,m);else{var C=m.type,M=m.proxy;b.removeEventListener?b.removeEventListener(C,M,m.capture):b.detachEvent?b.detachEvent(Tr(C),M):b.addListener&&b.removeListener&&b.removeListener(M),(C=Cs(b))?(wi(C,m),C.h==0&&(C.src=null,b[As]=null)):Wi(m)}}}function Tr(m){return m in ga?ga[m]:ga[m]="on"+m}function Fl(m,b){if(m.da)m=!0;else{b=new Rt(b,this);var C=m.listener,M=m.ha||m.src;m.fa&&Ss(m),m=C.call(M,b)}return m}function Cs(m){return m=m[As],m instanceof bi?m:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(m){return typeof m=="function"?m:(m[jo]||(m[jo]=function(b){return m.handleEvent(b)}),m[jo])}function Pe(){Tt.call(this),this.i=new bi(this),this.M=this,this.F=null}k(Pe,Tt),Pe.prototype[Ee]=!0,Pe.prototype.removeEventListener=function(m,b,C,M){Bo(this,m,b,C,M)};function fe(m,b){var C,M=m.F;if(M)for(C=[];M;M=M.F)C.push(M);if(m=m.M,M=b.type||b,typeof b=="string")b=new gt(b,m);else if(b instanceof gt)b.target=b.target||m;else{var Q=b;b=new gt(M,m),G(b,Q)}if(Q=!0,C)for(var at=C.length-1;0<=at;at--){var Et=b.g=C[at];Q=zn(Et,M,!0,b)&&Q}if(Et=b.g=m,Q=zn(Et,M,!0,b)&&Q,Q=zn(Et,M,!1,b)&&Q,C)for(at=0;at<C.length;at++)Et=b.g=C[at],Q=zn(Et,M,!1,b)&&Q}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var C=m.g[b],M=0;M<C.length;M++)Wi(C[M]);delete m.g[b],m.h--}}this.F=null},Pe.prototype.K=function(m,b,C,M){return this.i.add(String(m),b,!1,C,M)},Pe.prototype.L=function(m,b,C,M){return this.i.add(String(m),b,!0,C,M)};function zn(m,b,C,M){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var Q=!0,at=0;at<b.length;++at){var Et=b[at];if(Et&&!Et.da&&Et.capture==C){var ie=Et.listener,We=Et.ha||Et.src;Et.fa&&wi(m.i,Et),Q=ie.call(We,M)!==!1&&Q}}return Q&&!M.defaultPrevented}function vn(m,b,C){if(typeof m=="function")C&&(m=A(m,C));else if(m&&typeof m.handleEvent=="function")m=A(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(m,b||0)}function Fo(m){m.g=vn(()=>{m.g=null,m.i&&(m.i=!1,Fo(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class ql extends Tt{constructor(b,C){super(),this.m=b,this.l=C,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(m){Tt.call(this),this.h=m,this.g={}}k(xs,Tt);var Fr=[];function Er(m){kt(m.g,function(b,C){this.g.hasOwnProperty(C)&&Ss(b)},m),m.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Er(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=d.JSON.stringify,va=d.JSON.parse,Ai=class{stringify(m){return d.JSON.stringify(m,void 0)}parse(m){return d.JSON.parse(m,void 0)}};function Ho(){}Ho.prototype.h=null;function qo(m){return m.h||(m.h=m.i())}function ya(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){gt.call(this,"d")}k(Qi,gt);function Go(){gt.call(this,"c")}k(Go,gt);var $i={},Zo=null;function Hr(){return Zo=Zo||new Pe}$i.La="serverreachability";function Ta(m){gt.call(this,$i.La,m)}k(Ta,gt);function qr(m){const b=Hr();fe(b,new Ta(b))}$i.STAT_EVENT="statevent";function Ea(m,b){gt.call(this,$i.STAT_EVENT,m),this.stat=b}k(Ea,gt);function Le(m){const b=Hr();fe(b,new Ea(b,m))}$i.Ma="timingevent";function tn(m,b){gt.call(this,$i.Ma,m),this.size=b}k(tn,gt);function Ke(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){m()},b)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function Bn(m,b,C,M,Q,at){m.info(function(){if(m.g)if(at)for(var Et="",ie=at.split("&"),We=0;We<ie.length;We++){var re=ie[We].split("=");if(1<re.length){var ge=re[0];re=re[1];var Me=ge.split("_");Et=2<=Me.length&&Me[1]=="type"?Et+(ge+"="+re+"&"):Et+(ge+"=redacted&")}}else Et=null;else Et=at;return"XMLHTTP REQ ("+M+") [attempt "+Q+"]: "+b+`
`+C+`
`+Et})}function Ot(m,b,C,M,Q,at,Et){m.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Q+"]: "+b+`
`+C+`
`+at+" "+Et})}function br(m,b,C,M){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Gr(m,C)+(M?" "+M:"")})}function Yo(m,b){m.info(function(){return"TIMEOUT: "+b})}ui.prototype.info=function(){};function Gr(m,b){if(!m.g)return b;if(!b)return null;try{var C=JSON.parse(b);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var M=C[m];if(!(2>M.length)){var Q=M[1];if(Array.isArray(Q)&&!(1>Q.length)){var at=Q[0];if(at!="noop"&&at!="stop"&&at!="close")for(var Et=1;Et<Q.length;Et++)Q[Et]=""}}}}return li(C)}catch{return b}}var wr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ci;function Rn(){}k(Rn,Ho),Rn.prototype.g=function(){return new XMLHttpRequest},Rn.prototype.i=function(){return{}},Ci=new Rn;function yn(m,b,C,M){this.j=m,this.i=b,this.l=C,this.R=M||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new He}function He(){this.i=null,this.g="",this.h=!1}var Ko={},ba={};function xi(m,b,C){m.L=1,m.v=Jn(Oe(b)),m.m=C,m.P=!0,Ji(m,null)}function Ji(m,b){m.F=Date.now(),Is(m),m.A=Oe(m.v);var C=m.A,M=m.R;Array.isArray(M)||(M=[String(M)]),Qo(C.i,"t",M),m.C=0,C=m.j.J,m.h=new He,m.g=Xl(m.j,C?b:null,!m.m),0<m.O&&(m.M=new ql(A(m.Y,m,m.g),m.O)),b=m.U,C=m.g,M=m.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Fr[0]=Q.toString()),Q=Fr);for(var at=0;at<Q.length;at++){var Et=zo(C,Q[at],M||b.handleEvent,!1,b.h||b);if(!Et)break;b.g[Et.key]=Et}b=m.H?D(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),qr(),Bn(m.i,m.u,m.A,m.l,m.R,m.m)}yn.prototype.ca=function(m){m=m.target;const b=this.M;b&&bn(m)==3?b.j():this.Y(m)},yn.prototype.Y=function(m){try{if(m==this.g)t:{const Me=bn(this.g);var b=this.g.Ba();const Lr=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||$o(this.g)))){this.J||Me!=4||b==7||(b==8||0>=Lr?qr(3):qr(2)),Zr(this);var C=this.g.Z();this.X=C;e:if(Gl(this)){var M=$o(this.g);m="";var Q=M.length,at=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),tr(this);var Et="";break e}this.h.i=new d.TextDecoder}for(b=0;b<Q;b++)this.h.h=!0,m+=this.h.i.decode(M[b],{stream:!(at&&b==Q-1)});M.length=0,this.h.g+=m,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=C==200,Ot(this.i,this.u,this.A,this.l,this.R,Me,C),this.o){if(this.T&&!this.K){e:{if(this.g){var ie,We=this.g;if((ie=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(ie)){var re=ie;break e}}re=null}if(C=re)br(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ar(this,C);else{this.o=!1,this.s=3,Le(12),dn(this),tr(this);break t}}if(this.P){C=!0;let xe;for(;!this.J&&this.C<Et.length;)if(xe=Rs(this,Et),xe==ba){Me==4&&(this.s=4,Le(14),C=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Ko){this.s=4,Le(15),br(this.i,this.l,Et,"[Invalid Chunk]"),C=!1;break}else br(this.i,this.l,xe,null),Ar(this,xe);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||Et.length!=0||this.h.h||(this.s=1,Le(16),C=!1),this.o=this.o&&C,!C)br(this.i,this.l,Et,"[Invalid Chunked Response]"),dn(this),tr(this);else if(0<Et.length&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.ba&&!ge.M&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),$r(ge),ge.M=!0,Le(11))}}else br(this.i,this.l,Et,null),Ar(this,Et);Me==4&&dn(this),this.o&&!this.J&&(Me==4?tl(this.j,this):(this.o=!1,Is(this)))}else oc(this.g),C==400&&0<Et.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),dn(this),tr(this)}}}catch{}finally{}};function Gl(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Rs(m,b){var C=m.C,M=b.indexOf(`
`,C);return M==-1?ba:(C=Number(b.substring(C,M)),isNaN(C)?Ko:(M+=1,M+C>b.length?ba:(b=b.slice(M,M+C),m.C=M+C,b)))}yn.prototype.cancel=function(){this.J=!0,dn(this)};function Is(m){m.S=Date.now()+m.I,Zl(m,m.I)}function Zl(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ke(A(m.ba,m),b)}function Zr(m){m.B&&(d.clearTimeout(m.B),m.B=null)}yn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Yo(this.i,this.A),this.L!=2&&(qr(),Le(17)),dn(this),this.s=2,tr(this)):Zl(this,this.S-m)};function tr(m){m.j.G==0||m.J||tl(m.j,m)}function dn(m){Zr(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,Er(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function Ar(m,b){try{var C=m.j;if(C.G!=0&&(C.g==m||$t(C.h,m))){if(!m.K&&$t(C.h,m)&&C.G==3){try{var M=C.Da.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Q=M;if(Q[0]==0){t:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)La(C),Ra(C);else break t;Ia(C),Le(18)}}else C.za=Q[1],0<C.za-C.T&&37500>Q[2]&&C.F&&C.v==0&&!C.C&&(C.C=Ke(A(C.Za,C),6e3));if(1>=nr(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Pr(C,11)}else if((m.K||C.g==m)&&La(C),!et(b))for(Q=C.Da.g.parse(b),b=0;b<Q.length;b++){let re=Q[b];if(C.T=re[0],re=re[1],C.G==2)if(re[0]=="c"){C.K=re[1],C.ia=re[2];const ge=re[3];ge!=null&&(C.la=ge,C.j.info("VER="+C.la));const Me=re[4];Me!=null&&(C.Aa=Me,C.j.info("SVER="+C.Aa));const Lr=re[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(M=1.5*Lr,C.L=M,C.j.info("backChannelRequestTimeoutMs_="+M)),M=C;const xe=m.g;if(xe){const or=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var at=M.h;at.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(pe(at,at.h),at.h=null))}if(M.D){const lr=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;lr&&(M.ya=lr,Bt(M.I,M.D,lr))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),M=C;var Et=m;if(M.qa=Ma(M,M.J?M.ia:null,M.W),Et.K){an(M.h,Et);var ie=Et,We=M.L;We&&(ie.I=We),ie.B&&(Zr(ie),Is(ie)),M.g=Et}else Mi(M);0<C.i.length&&Qr(C)}else re[0]!="stop"&&re[0]!="close"||Pr(C,7);else C.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Pr(C,7):xa(C):re[0]!="noop"&&C.l&&C.l.ta(re),C.v=0)}}qr(4)}catch{}}var Yr=class{constructor(m,b){this.g=m,this.map=b}};function er(m){this.l=m||10,d.PerformanceNavigationTiming?(m=d.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function nr(m){return m.h?1:m.g?m.g.size:0}function $t(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function pe(m,b){m.g?m.g.add(b):m.h=b}function an(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}er.prototype.cancel=function(){if(this.i=ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ir(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const C of m.g.values())b=b.concat(C.D);return b}return N(m.i)}function Kr(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(g(m)){for(var b=[],C=m.length,M=0;M<C;M++)b.push(m[M]);return b}b=[],C=0;for(M in m)b[C++]=m[M];return b}function Wr(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(g(m)||typeof m=="string"){var b=[];m=m.length;for(var C=0;C<m;C++)b.push(C);return b}b=[],C=0;for(const M in m)b[C++]=M;return b}}}function Gt(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(g(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var C=Wr(m),M=Kr(m),Q=M.length,at=0;at<Q;at++)b.call(void 0,M[at],C&&C[at],m)}var ve=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wo(m,b){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var M=m[C].indexOf("="),Q=null;if(0<=M){var at=m[C].substring(0,M);Q=m[C].substring(M+1)}else at=m[C];b(at,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ve(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ve){this.h=m.h,Ls(this,m.j),this.o=m.o,this.g=m.g,Ri(this,m.s),this.l=m.l;var b=m.i,C=new Pi;C.i=b.i,b.g&&(C.g=new Map(b.g),C.h=b.h),In(this,C),this.m=m.m}else m&&(b=String(m).match(ve))?(this.h=!1,Ls(this,b[1]||"",!0),this.o=Tn(b[2]||""),this.g=Tn(b[3]||"",!0),Ri(this,b[4]),this.l=Tn(b[5]||"",!0),In(this,b[6]||"",!0),this.m=Tn(b[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}Ve.prototype.toString=function(){var m=[],b=this.j;b&&m.push(Ii(b,Sr,!0),":");var C=this.g;return(C||b=="file")&&(m.push("//"),(b=this.o)&&m.push(Ii(b,Sr,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Ii(C,C.charAt(0)=="/"?Xo:Os,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Ii(C,Xr)),m.join("")};function Oe(m){return new Ve(m)}function Ls(m,b,C){m.j=C?Tn(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Ri(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function In(m,b,C){b instanceof Pi?(m.i=b,ti(m.i,m.h)):(C||(b=Ii(b,Aa)),m.i=new Pi(b,m.h))}function Bt(m,b,C){m.i.set(b,C)}function Jn(m){return Bt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Tn(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ii(m,b,C){return typeof m=="string"?(m=encodeURI(m).replace(b,wa),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wa(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Sr=/[#\/\?@]/g,Os=/[#\?:]/g,Xo=/[#\?]/g,Aa=/[#\?@]/g,Xr=/#/g;function Pi(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Pn(m){m.g||(m.g=new Map,m.h=0,m.i&&Wo(m.i,function(b,C){m.add(decodeURIComponent(b.replace(/\+/g," ")),C)}))}n=Pi.prototype,n.add=function(m,b){Pn(this),this.i=null,m=Vt(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(b),this.h+=1,this};function rr(m,b){Pn(m),b=Vt(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Li(m,b){return Pn(m),b=Vt(m,b),m.g.has(b)}n.forEach=function(m,b){Pn(this),this.g.forEach(function(C,M){C.forEach(function(Q){m.call(b,Q,M,this)},this)},this)},n.na=function(){Pn(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),C=[];for(let M=0;M<b.length;M++){const Q=m[M];for(let at=0;at<Q.length;at++)C.push(b[M])}return C},n.V=function(m){Pn(this);let b=[];if(typeof m=="string")Li(this,m)&&(b=b.concat(this.g.get(Vt(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)b=b.concat(m[C])}return b},n.set=function(m,b){return Pn(this),this.i=null,m=Vt(this,m),Li(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function Qo(m,b,C){rr(m,b),0<C.length&&(m.i=null,m.g.set(Vt(m,b),N(C)),m.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var C=0;C<b.length;C++){var M=b[C];const at=encodeURIComponent(String(M)),Et=this.V(M);for(M=0;M<Et.length;M++){var Q=at;Et[M]!==""&&(Q+="="+encodeURIComponent(String(Et[M]))),m.push(Q)}}return this.i=m.join("&")};function Vt(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function ti(m,b){b&&!m.j&&(Pn(m),m.i=null,m.g.forEach(function(C,M){var Q=M.toLowerCase();M!=Q&&(rr(this,M),Qo(this,Q,C))},m)),m.j=b}function ue(m,b){const C=new ui;if(d.Image){const M=new Image;M.onload=R(jn,C,"TestLoadImage: loaded",!0,b,M),M.onerror=R(jn,C,"TestLoadImage: error",!1,b,M),M.onabort=R(jn,C,"TestLoadImage: abort",!1,b,M),M.ontimeout=R(jn,C,"TestLoadImage: timeout",!1,b,M),d.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=m}else b(!1)}function ci(m,b){const C=new ui,M=new AbortController,Q=setTimeout(()=>{M.abort(),jn(C,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:M.signal}).then(at=>{clearTimeout(Q),at.ok?jn(C,"TestPingServer: ok",!0,b):jn(C,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),jn(C,"TestPingServer: error",!1,b)})}function jn(m,b,C,M,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),M(C)}catch{}}function Cr(){this.g=new Ai}function hi(m,b,C){const M=C||"";try{Gt(m,function(Q,at){let Et=Q;v(Q)&&(Et=li(Q)),b.push(M+at+"="+encodeURIComponent(Et))})}catch(Q){throw b.push(M+"type="+encodeURIComponent("_badmap")),Q}}function Fn(m){this.l=m.Ub||null,this.j=m.eb||!1}k(Fn,Ho),Fn.prototype.g=function(){return new Oi(this.l,this.j)},Fn.prototype.i=function(m){return function(){return m}}({});function Oi(m,b){Pe.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Oi,Pe),n=Oi.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,En(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,be(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xr(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function xr(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?be(this):En(this),this.readyState==3&&xr(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,be(this))},n.Qa=function(m){this.g&&(this.response=m,be(this))},n.ga=function(){this.g&&be(this)};function be(m){m.readyState=4,m.l=null,m.j=null,m.v=null,En(m)}n.setRequestHeader=function(m,b){this.u.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var C=b.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=b.next();return m.join(`\r
`)};function En(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Sa(m){let b="";return kt(m,function(C,M){b+=M,b+=":",b+=C,b+=`\r
`}),b}function en(m,b,C){t:{for(M in C){var M=!1;break t}M=!0}M||(C=Sa(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):Bt(m,b,C))}function de(m){Pe.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(de,Pe);var Ms=/^https?$/i,Rr=["POST","PUT"];n=de.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,b,C,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ci.g(),this.v=this.o?qo(this.o):qo(Ci),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(at){Yl(this,at);return}if(m=C||"",C=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Q in M)C.set(Q,M[Q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const at of M.keys())C.set(at,M.get(at));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(C.keys()).find(at=>at.toLowerCase()=="content-type"),Q=d.FormData&&m instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Rr,b,void 0))||M||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,Et]of C)this.g.setRequestHeader(at,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mn(this),this.u=!0,this.g.send(m),this.u=!1}catch(at){Yl(this,at)}};function Yl(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,ks(m),sr(m)}function ks(m){m.A||(m.A=!0,fe(m,"complete"),fe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,fe(this,"complete"),fe(this,"abort"),sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),de.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Kt(this):this.bb())},n.bb=function(){Kt(this)};function Kt(m){if(m.h&&typeof h<"u"&&(!m.v[1]||bn(m)!=4||m.Z()!=2)){if(m.u&&bn(m)==4)vn(m.Ea,0,m);else if(fe(m,"readystatechange"),bn(m)==4){m.h=!1;try{const Et=m.Z();t:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var C;if(!(C=b)){var M;if(M=Et===0){var Q=String(m.D).match(ve)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),M=!Ms.test(Q?Q.toLowerCase():"")}C=M}if(C)fe(m,"complete"),fe(m,"success");else{m.m=6;try{var at=2<bn(m)?m.g.statusText:""}catch{at=""}m.l=at+" ["+m.Z()+"]",ks(m)}}finally{sr(m)}}}}function sr(m,b){if(m.g){mn(m);const C=m.g,M=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||fe(m,"ready");try{C.onreadystatechange=M}catch{}}}function mn(m){m.I&&(d.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function bn(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),va(b)}};function $o(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(m){const b={};m=(m.g&&2<=bn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<m.length;M++){if(et(m[M]))continue;var C=Z(m[M]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const at=b[Q]||[];b[Q]=at,at.push(C)}q(b,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(m,b,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||b}function Ca(m){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,m),this.cb=Ir("retryDelaySeedMs",1e4,m),this.Wa=Ir("forwardChannelMaxRetries",2,m),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new er(m&&m.concurrentRequestLimit),this.Da=new Cr,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ca.prototype,n.la=8,n.G=1,n.connect=function(m,b,C,M){Le(0),this.W=m,this.H=b||{},C&&M!==void 0&&(this.H.OSID=C,this.H.OAID=M),this.F=this.X,this.I=Ma(this,null,this.W),Qr(this)};function xa(m){if(Kl(m),m.G==3){var b=m.U++,C=Oe(m.I);if(Bt(C,"SID",m.K),Bt(C,"RID",b),Bt(C,"TYPE","terminate"),Ns(m,C),b=new yn(m,m.j,b),b.L=2,b.v=Jn(Oe(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!C&&d.Image&&(new Image().src=b.v,C=!0),C||(b.g=Xl(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Is(b)}Wl(m)}function Ra(m){m.g&&($r(m),m.g.cancel(),m.g=null)}function Kl(m){Ra(m),m.u&&(d.clearTimeout(m.u),m.u=null),La(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&d.clearTimeout(m.s),m.s=null)}function Qr(m){if(!Ps(m.h)&&!m.s){m.s=!0;var b=m.Ga;bt||V(),_t||(bt(),_t=!0),le.add(b,m),m.B=0}}function lc(m,b){return nr(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ke(A(m.Ga,m,b),Oa(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Q=new yn(this,this.j,m);let at=this.o;if(this.S&&(at?(at=D(at),G(at,this.S)):at=this.S),this.m!==null||this.O||(Q.H=at,at=null),this.P)t:{for(var b=0,C=0;C<this.i.length;C++){e:{var M=this.i[C];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(b+=M,4096<b){b=C;break t}if(b===4096||C===this.i.length-1){b=C+1;break t}}b=1e3}else b=1e3;b=Jo(this,Q,b),C=Oe(this.I),Bt(C,"RID",m),Bt(C,"CVER",22),this.D&&Bt(C,"X-HTTP-Session-Id",this.D),Ns(this,C),at&&(this.O?b="headers="+encodeURIComponent(String(Sa(at)))+"&"+b:this.m&&en(C,this.m,at)),pe(this.h,Q),this.Ua&&Bt(C,"TYPE","init"),this.P?(Bt(C,"$req",b),Bt(C,"SID","null"),Q.T=!0,xi(Q,C,null)):xi(Q,C,b),this.G=2}}else this.G==3&&(m?Hn(this,m):this.i.length==0||Ps(this.h)||Hn(this))};function Hn(m,b){var C;b?C=b.l:C=m.U++;const M=Oe(m.I);Bt(M,"SID",m.K),Bt(M,"RID",C),Bt(M,"AID",m.T),Ns(m,M),m.m&&m.o&&en(M,m.m,m.o),C=new yn(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),b&&(m.i=b.D.concat(m.i)),b=Jo(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),pe(m.h,C),xi(C,M,b)}function Ns(m,b){m.H&&kt(m.H,function(C,M){Bt(b,M,C)}),m.l&&Gt({},function(C,M){Bt(b,M,C)})}function Jo(m,b,C){C=Math.min(m.i.length,C);var M=m.l?A(m.l.Na,m.l,m):null;t:{var Q=m.i;let at=-1;for(;;){const Et=["count="+C];at==-1?0<C?(at=Q[0].g,Et.push("ofs="+at)):at=0:Et.push("ofs="+at);let ie=!0;for(let We=0;We<C;We++){let re=Q[We].g;const ge=Q[We].map;if(re-=at,0>re)at=Math.max(0,Q[We].g-100),ie=!1;else try{hi(ge,Et,"req"+re+"_")}catch{M&&M(ge)}}if(ie){M=Et.join("&");break t}}}return m=m.i.splice(0,C),b.D=m,M}function Mi(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;bt||V(),_t||(bt(),_t=!0),le.add(b,m),m.v=0}}function Ia(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ke(A(m.Fa,m),Oa(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Pa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ke(A(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),Ra(this),Pa(this))};function $r(m){m.A!=null&&(d.clearTimeout(m.A),m.A=null)}function Pa(m){m.g=new yn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=Oe(m.qa);Bt(b,"RID","rpc"),Bt(b,"SID",m.K),Bt(b,"AID",m.T),Bt(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&Bt(b,"TO",m.ja),Bt(b,"TYPE","xmlhttp"),Ns(m,b),m.m&&m.o&&en(b,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=Jn(Oe(b)),C.m=null,C.P=!0,Ji(C,m)}n.Za=function(){this.C!=null&&(this.C=null,Ra(this),Ia(this),Le(19))};function La(m){m.C!=null&&(d.clearTimeout(m.C),m.C=null)}function tl(m,b){var C=null;if(m.g==b){La(m),$r(m),m.g=null;var M=2}else if($t(m.h,b))C=b.D,an(m.h,b),M=1;else return;if(m.G!=0){if(b.o)if(M==1){C=b.m?b.m.length:0,b=Date.now()-b.F;var Q=m.B;M=Hr(),fe(M,new tn(M,C)),Qr(m)}else Mi(m);else if(Q=b.s,Q==3||Q==0&&0<b.X||!(M==1&&lc(m,b)||M==2&&Ia(m)))switch(C&&0<C.length&&(b=m.h,b.i=b.i.concat(C)),Q){case 1:Pr(m,5);break;case 4:Pr(m,10);break;case 3:Pr(m,6);break;default:Pr(m,2)}}}function Oa(m,b){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*b}function Pr(m,b){if(m.j.info("Error code "+b),b==2){var C=A(m.fb,m),M=m.Xa;const Q=!M;M=new Ve(M||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ls(M,"https"),Jn(M),Q?ue(M.toString(),C):ci(M.toString(),C)}else Le(2);m.G=0,m.l&&m.l.sa(b),Wl(m),Kl(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function Wl(m){if(m.G=0,m.ka=[],m.l){const b=ir(m.h);(b.length!=0||m.i.length!=0)&&(H(m.ka,b),H(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function Ma(m,b,C){var M=C instanceof Ve?Oe(C):new Ve(C);if(M.g!="")b&&(M.g=b+"."+M.g),Ri(M,M.s);else{var Q=d.location;M=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;var at=new Ve(null);M&&Ls(at,M),b&&(at.g=b),Q&&Ri(at,Q),C&&(at.l=C),M=at}return C=m.D,b=m.ya,C&&b&&Bt(M,C,b),Bt(M,"VER",m.la),Ns(m,M),M}function Xl(m,b,C){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new de(new Fn({eb:C})):new de(m.pa),b.Ha(m.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function el(){}n=el.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ds(){}Ds.prototype.g=function(m,b){return new on(m,b)};function on(m,b){Pe.call(this),this.g=new Ca(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!et(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!et(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new qn(this)}k(on,Pe),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){xa(this.g)},on.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=li(m),m=C);b.i.push(new Yr(b.Ya++,m)),b.G==3&&Qr(b)},on.prototype.N=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,on.aa.N.call(this)};function ar(m){Qi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const C in b){m=C;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}k(ar,Qi);function Ql(){Go.call(this),this.status=1}k(Ql,Go);function qn(m){this.g=m}k(qn,el),qn.prototype.ua=function(){fe(this.g,"a")},qn.prototype.ta=function(m){fe(this.g,new ar(m))},qn.prototype.sa=function(m){fe(this.g,new Ql)},qn.prototype.ra=function(){fe(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,xS=function(){return new Ds},CS=function(){return Hr()},SS=$i,d_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,vd=wr,Si.COMPLETE="complete",AS=Si,ya.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,nh=ya,de.prototype.listenOnce=de.prototype.L,de.prototype.getLastError=de.prototype.Ka,de.prototype.getLastErrorCode=de.prototype.Ba,de.prototype.getStatus=de.prototype.Z,de.prototype.getResponseJson=de.prototype.Oa,de.prototype.getResponseText=de.prototype.oa,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Ha,wS=de}).apply(typeof rd<"u"?rd:typeof self<"u"?self:typeof window<"u"?window:{});const Eb="@firebase/firestore",bb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new sm("@firebase/firestore");function Ru(){return Ol.logLevel}function xt(n,...t){if(Ol.logLevel<=se.DEBUG){const e=t.map(Cv);Ol.debug(`Firestore (${tc}): ${n}`,...e)}}function ua(n,...t){if(Ol.logLevel<=se.ERROR){const e=t.map(Cv);Ol.error(`Firestore (${tc}): ${n}`,...e)}}function Eo(n,...t){if(Ol.logLevel<=se.WARN){const e=t.map(Cv);Ol.warn(`Firestore (${tc}): ${n}`,...e)}}function Cv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,RS(n,r,e)}function RS(n,t,e){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw ua(r),new Error(r)}function _e(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||RS(t,o,r)}function Yt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends vr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Wn.UNAUTHENTICATED))}shutdown(){}}class TD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ED{constructor(t){this.t=t,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_e(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,e(g)):Promise.resolve();let l=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new sa,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new sa)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new IS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new Wn(t)}}class bD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new bD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_e(this.o===void 0,3512);const r=l=>{l.error!=null&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,xt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const o=l=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new wb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=SD(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<e&&(r+=t.charAt(o[l]%62))}return r}}function Qt(n,t){return n<t?-1:n>t?1:0}function m_(n,t){let e=0;for(;e<n.length&&e<t.length;){const r=n.codePointAt(e),o=t.codePointAt(e);if(r!==o){if(r<128&&o<128)return Qt(r,o);{const l=PS(),h=CD(l.encode(Ab(n,e)),l.encode(Ab(t,e)));return h!==0?h:Qt(r,o)}}e+=r>65535?2:1}return Qt(n.length,t.length)}function Ab(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function CD(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Qt(n[e],t[e]);return Qt(n.length,t.length)}function qu(n,t,e){return n.length===t.length&&n.every((r,o)=>e(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="__name__";class ls{constructor(t,e,r){e===void 0?e=0:e>t.length&&Ft(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Ft(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return ls.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ls?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const l=ls.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return Qt(t.length,e.length)}static compareSegments(t,e){const r=ls.isNumericId(t),o=ls.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?ls.extractNumericId(t).compare(ls.extractNumericId(e)):m_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _o.fromString(t.substring(4,t.length-2))}}class De extends ls{construct(t,e,r){return new De(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new De(e)}static emptyPath(){return new De([])}}const xD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends ls{construct(t,e,r){return new Dn(t,e,r)}static isValidIdentifier(t){return xD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sb}static keyField(){return new Dn([Sb])}static fromServerFormat(t){const e=[];let r="",o=0;const l=()=>{if(r.length===0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new Ct(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ct(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(l(),o++)}if(l(),h)throw new Ct(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dn(e)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(De.fromString(t))}static fromName(t){return new Dt(De.fromString(t).popFirst(5))}static empty(){return new Dt(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&De.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return De.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new De(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n,t,e){if(!e)throw new Ct(ht.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function RD(n,t,e,r){if(t===!0&&r===!0)throw new Ct(ht.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Cb(n){if(!Dt.isDocumentKey(n))throw new Ct(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xb(n){if(Dt.isDocumentKey(n))throw new Ct(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ft(12329,{type:typeof n})}function Ti(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mm(n);throw new Ct(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n,t){const e={typeString:n};return t&&(e.value=t),e}function Bh(n,t){if(!OS(n))throw new Ct(ht.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const h=n[r];if(o&&typeof h!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){e=`Expected '${r}' field to equal '${l.value}'`;break}}if(e)throw new Ct(ht.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=-62135596800,Ib=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(t){return Ue.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Ib);return new Ue(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Rb)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ib}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bh(t,Ue._jsonSchema))return new Ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:fn("string",Ue._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new Ue(0,0))}static max(){return new Zt(new Ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=-1;function ID(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Zt.fromTimestamp(r===1e9?new Ue(e+1,0):new Ue(e,r));return new bo(o,Dt.empty(),t)}function PD(n){return new bo(n.readTime,n.key,Eh)}class bo{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new bo(Zt.min(),Dt.empty(),Eh)}static max(){return new bo(Zt.max(),Dt.empty(),Eh)}}function LD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Dt.comparator(n.documentKey,t.documentKey),e!==0?e:Qt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(n){if(n.code!==ht.FAILED_PRECONDITION||n.message!==OD)throw n;xt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dt((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof dt?e:dt.resolve(e)}catch(e){return dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.reject(e)}static resolve(t){return new dt((e,r)=>{e(t)})}static reject(t){return new dt((e,r)=>{r(t)})}static waitFor(t){return new dt((e,r)=>{let o=0,l=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&e()},g=>r(g))}),h=!0,l===o&&e()})}static or(t){let e=dt.resolve(!1);for(const r of t)e=e.next(o=>o?dt.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,l)=>{r.push(e.call(this,o,l))}),this.waitFor(r)}static mapArray(t,e){return new dt((r,o)=>{const l=t.length,h=new Array(l);let d=0;for(let g=0;g<l;g++){const v=g;e(t[v]).next(E=>{h[v]=E,++d,d===l&&r(h)},E=>o(E))}})}static doWhile(t,e){return new dt((r,o)=>{const l=()=>{t()===!0?e().next(()=>{l()},o):r()};l()})}}function kD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function nc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this._e(r),this.ae=r=>e.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}pm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-1;function gm(n){return n==null}function zd(n){return n===0&&1/n==-1/0}function ND(n){return typeof n=="number"&&Number.isInteger(n)&&!zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="";function DD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Pb(t)),t=VD(n.get(e),t);return Pb(t)}function VD(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":e+="";break;case MS:e+="";break;default:e+=l}}return e}function Pb(n){return n+MS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function No(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function kS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,e){this.comparator=t,this.root=e||Nn.EMPTY}insert(t,e){return new Ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(t){return new Ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sd(this.root,t,this.comparator,!1)}getReverseIterator(){return new sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sd(this.root,t,this.comparator,!0)}}class sd{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Nn{constructor(t,e,r,o,l){this.key=t,this.value=e,this.color=r??Nn.RED,this.left=o??Nn.EMPTY,this.right=l??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,l){return new Nn(t??this.key,e??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const l=r(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,r),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Nn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ft(27949);return t+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(t,e,r,o,l){return this}insert(t,e,r){return new Nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.comparator=t,this.data=new Ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ob(this.data.getIterator())}getIteratorFrom(t){return new Ob(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof _n)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new _n(this.comparator);return e.data=t,e}}class Ob{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this.fields=t,t.sort(Dn.comparator)}static empty(){return new Gi([])}unionWith(t){let e=new _n(Dn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Gi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qu(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new NS("Invalid base64 string: "+l):l}}(t);return new Vn(e)}static fromUint8Array(t){const e=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(t);return new Vn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const UD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(n){if(_e(!!n,39018),typeof n=="string"){let t=0;const e=UD.exec(n);if(_e(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:sn(n.seconds),nanos:sn(n.nanos)}}function sn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ao(n){return typeof n=="string"?Vn.fromBase64String(n):Vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="server_timestamp",VS="__type__",US="__previous_value__",zS="__local_write_time__";function Iv(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[VS])===null||e===void 0?void 0:e.stringValue)===DS}function _m(n){const t=n.mapValue.fields[US];return Iv(t)?_m(t):t}function bh(n){const t=wo(n.mapValue.fields[zS].timestampValue);return new Ue(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,e,r,o,l,h,d,g,v,E){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const Bd="(default)";class wh{constructor(t,e){this.projectId=t,this.database=e||Bd}static empty(){return new wh("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(t){return t instanceof wh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="__type__",BD="__max__",ad={mapValue:{}},jS="__vector__",jd="value";function So(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iv(n)?4:FD(n)?9007199254740991:jD(n)?10:11:Ft(28295,{value:n})}function Ts(n,t){if(n===t)return!0;const e=So(n);if(e!==So(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return bh(n).isEqual(bh(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=wo(o.timestampValue),d=wo(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,l){return Ao(o.bytesValue).isEqual(Ao(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,l){return sn(o.geoPointValue.latitude)===sn(l.geoPointValue.latitude)&&sn(o.geoPointValue.longitude)===sn(l.geoPointValue.longitude)}(n,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return sn(o.integerValue)===sn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=sn(o.doubleValue),d=sn(l.doubleValue);return h===d?zd(h)===zd(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return qu(n.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Lb(h)!==Lb(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Ts(h[g],d[g])))return!1;return!0}(n,t);default:return Ft(52216,{left:n})}}function Ah(n,t){return(n.values||[]).find(e=>Ts(e,t))!==void 0}function Gu(n,t){if(n===t)return 0;const e=So(n),r=So(t);if(e!==r)return Qt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(l,h){const d=sn(l.integerValue||l.doubleValue),g=sn(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,t);case 3:return Mb(n.timestampValue,t.timestampValue);case 4:return Mb(bh(n),bh(t));case 5:return m_(n.stringValue,t.stringValue);case 6:return function(l,h){const d=Ao(l),g=Ao(h);return d.compareTo(g)}(n.bytesValue,t.bytesValue);case 7:return function(l,h){const d=l.split("/"),g=h.split("/");for(let v=0;v<d.length&&v<g.length;v++){const E=Qt(d[v],g[v]);if(E!==0)return E}return Qt(d.length,g.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,h){const d=Qt(sn(l.latitude),sn(h.latitude));return d!==0?d:Qt(sn(l.longitude),sn(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return kb(n.arrayValue,t.arrayValue);case 10:return function(l,h){var d,g,v,E;const w=l.fields||{},A=h.fields||{},R=(d=w[jd])===null||d===void 0?void 0:d.arrayValue,k=(g=A[jd])===null||g===void 0?void 0:g.arrayValue,N=Qt(((v=R?.values)===null||v===void 0?void 0:v.length)||0,((E=k?.values)===null||E===void 0?void 0:E.length)||0);return N!==0?N:kb(R,k)}(n.mapValue,t.mapValue);case 11:return function(l,h){if(l===ad.mapValue&&h===ad.mapValue)return 0;if(l===ad.mapValue)return 1;if(h===ad.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const A=m_(g[w],E[w]);if(A!==0)return A;const R=Gu(d[g[w]],v[E[w]]);if(R!==0)return R}return Qt(g.length,E.length)}(n.mapValue,t.mapValue);default:throw Ft(23264,{le:e})}}function Mb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Qt(n,t);const e=wo(n),r=wo(t),o=Qt(e.seconds,r.seconds);return o!==0?o:Qt(e.nanos,r.nanos)}function kb(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const l=Gu(e[o],r[o]);if(l)return l}return Qt(e.length,r.length)}function Zu(n){return p_(n)}function p_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=wo(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Ao(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Dt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",o=!0;for(const l of e.values||[])o?o=!1:r+=",",r+=p_(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const h of r)l?l=!1:o+=",",o+=`${h}:${p_(e.fields[h])}`;return o+"}"}(n.mapValue):Ft(61005,{value:n})}function yd(n){switch(So(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_m(n);return t?16+yd(t):16;case 5:return 2*n.stringValue.length;case 6:return Ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+yd(l),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return No(r.fields,(l,h)=>{o+=l.length+yd(h)}),o}(n.mapValue);default:throw Ft(13486,{value:n})}}function Nb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function g_(n){return!!n&&"integerValue"in n}function Pv(n){return!!n&&"arrayValue"in n}function Db(n){return!!n&&"nullValue"in n}function Vb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Td(n){return!!n&&"mapValue"in n}function jD(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[BS])===null||e===void 0?void 0:e.stringValue)===jS}function dh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return No(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=dh(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=dh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function FD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.value=t}static empty(){return new _i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Td(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=dh(e)}setAll(t){let e=Dn.emptyPath(),r={},o=[];t.forEach((h,d)=>{if(!e.isImmediateParentOf(d)){const g=this.getFieldsMap(e);this.applyChanges(g,r,o),r={},o=[],e=d.popLast()}h?r[d.lastSegment()]=dh(h):o.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,o)}delete(t){const e=this.field(t.popLast());Td(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ts(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Td(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){No(e,(o,l)=>t[o]=l);for(const o of r)delete t[o]}clone(){return new _i(dh(this.value))}}function FS(n){const t=[];return No(n.fields,(e,r)=>{const o=new Dn([e]);if(Td(r)){const l=FS(r.mapValue).fields;if(l.length===0)t.push(o);else for(const h of l)t.push(o.child(h))}else t.push(o)}),new Gi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,e,r,o,l,h,d){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(t){return new Xn(t,0,Zt.min(),Zt.min(),Zt.min(),_i.empty(),0)}static newFoundDocument(t,e,r,o){return new Xn(t,1,e,Zt.min(),r,o,0)}static newNoDocument(t,e){return new Xn(t,2,e,Zt.min(),Zt.min(),_i.empty(),0)}static newUnknownDocument(t,e){return new Xn(t,3,e,Zt.min(),Zt.min(),_i.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,e){this.position=t,this.inclusive=e}}function Ub(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const l=t[o],h=n.position[o];if(l.field.isKeyField()?r=Dt.comparator(Dt.fromName(h.referenceValue),e.key):r=Gu(h,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function zb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ts(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,e="asc"){this.field=t,this.dir=e}}function HD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class hn extends HS{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new GD(t,e,r):e==="array-contains"?new KD(t,r):e==="in"?new WD(t,r):e==="not-in"?new XD(t,r):e==="array-contains-any"?new QD(t,r):new hn(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new ZD(t,r):new YD(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Gu(e,this.value)):e!==null&&So(this.value)===So(e)&&this.matchesComparison(Gu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends HS{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new jr(t,e)}matches(t){return qS(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function qS(n){return n.op==="and"}function GS(n){return qD(n)&&qS(n)}function qD(n){for(const t of n.filters)if(t instanceof jr)return!1;return!0}function __(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+Zu(n.value);if(GS(n))return n.filters.map(t=>__(t)).join(",");{const t=n.filters.map(e=>__(e)).join(",");return`${n.op}(${t})`}}function ZS(n,t){return n instanceof hn?function(r,o){return o instanceof hn&&r.op===o.op&&r.field.isEqual(o.field)&&Ts(r.value,o.value)}(n,t):n instanceof jr?function(r,o){return o instanceof jr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,h,d)=>l&&ZS(h,o.filters[d]),!0):!1}(n,t):void Ft(19439)}function YS(n){return n instanceof hn?function(e){return`${e.field.canonicalString()} ${e.op} ${Zu(e.value)}`}(n):n instanceof jr?function(e){return e.op.toString()+" {"+e.getFilters().map(YS).join(" ,")+"}"}(n):"Filter"}class GD extends hn{constructor(t,e,r){super(t,e,r),this.key=Dt.fromName(r.referenceValue)}matches(t){const e=Dt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ZD extends hn{constructor(t,e){super(t,"in",e),this.keys=KS("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class YD extends hn{constructor(t,e){super(t,"not-in",e),this.keys=KS("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function KS(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>Dt.fromName(r.referenceValue))}class KD extends hn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Pv(e)&&Ah(e.arrayValue,this.value)}}class WD extends hn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ah(this.value.arrayValue,e)}}class XD extends hn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ah(this.value.arrayValue,e)}}class QD extends hn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Pv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Ah(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,e=null,r=[],o=[],l=null,h=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Pe=null}}function Bb(n,t=null,e=[],r=[],o=null,l=null,h=null){return new $D(n,t,e,r,o,l,h)}function Lv(n){const t=Yt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>__(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),gm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Zu(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Zu(r)).join(",")),t.Pe=e}return t.Pe}function Ov(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!HD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!ZS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!zb(n.startAt,t.startAt)&&zb(n.endAt,t.endAt)}function v_(n){return Dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,e=null,r=[],o=[],l=null,h="F",d=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function JD(n,t,e,r,o,l,h,d){return new ic(n,t,e,r,o,l,h,d)}function vm(n){return new ic(n)}function jb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WS(n){return n.collectionGroup!==null}function mh(n){const t=Yt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const l of t.explicitOrderBy)t.Te.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new _n(Dn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(d=d.add(v.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Te.push(new Sh(l,r))}),e.has(Dn.keyField().canonicalString())||t.Te.push(new Sh(Dn.keyField(),r))}return t.Te}function ps(n){const t=Yt(n);return t.Ie||(t.Ie=t4(t,mh(n))),t.Ie}function t4(n,t){if(n.limitType==="F")return Bb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Sh(o.field,l)});const e=n.endAt?new Fd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fd(n.startAt.position,n.startAt.inclusive):null;return Bb(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function y_(n,t){const e=n.filters.concat([t]);return new ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function T_(n,t,e){return new ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ym(n,t){return Ov(ps(n),ps(t))&&n.limitType===t.limitType}function XS(n){return`${Lv(ps(n))}|lt:${n.limitType}`}function Iu(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>YS(o)).join(", ")}]`),gm(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Zu(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Zu(o)).join(",")),`Target(${r})`}(ps(n))}; limitType=${n.limitType})`}function Tm(n,t){return t.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Dt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,t)&&function(r,o){for(const l of mh(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(h,d,g){const v=Ub(h,d,g);return h.inclusive?v<=0:v<0}(r.startAt,mh(r),o)||r.endAt&&!function(h,d,g){const v=Ub(h,d,g);return h.inclusive?v>=0:v>0}(r.endAt,mh(r),o))}(n,t)}function e4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QS(n){return(t,e)=>{let r=!1;for(const o of mh(n)){const l=n4(o,t,e);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function n4(n,t,e){const r=n.field.isKeyField()?Dt.comparator(t.key,e.key):function(l,h,d){const g=h.data.field(l),v=d.data.field(l);return g!==null&&v!==null?Gu(g,v):Ft(42886)}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){No(this.inner,(e,r)=>{for(const[o,l]of r)t(o,l)})}isEmpty(){return kS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Ye(Dt.comparator);function ca(){return i4}const $S=new Ye(Dt.comparator);function ih(...n){let t=$S;for(const e of n)t=t.insert(e.key,e);return t}function JS(n){let t=$S;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function wl(){return ph()}function tC(){return ph()}function ph(){return new Bl(n=>n.toString(),(n,t)=>n.isEqual(t))}const r4=new Ye(Dt.comparator),s4=new _n(Dt.comparator);function ae(...n){let t=s4;for(const e of n)t=t.add(e);return t}const a4=new _n(Qt);function o4(){return a4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(t)?"-0":t}}function eC(n){return{integerValue:""+n}}function l4(n,t){return ND(t)?eC(t):Mv(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this._=void 0}}function u4(n,t,e){return n instanceof Ch?function(o,l){const h={fields:{[VS]:{stringValue:DS},[zS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Iv(l)&&(l=_m(l)),l&&(h.fields[US]=l),{mapValue:h}}(e,t):n instanceof xh?iC(n,t):n instanceof Rh?rC(n,t):function(o,l){const h=nC(o,l),d=Fb(h)+Fb(o.Ee);return g_(h)&&g_(o.Ee)?eC(d):Mv(o.serializer,d)}(n,t)}function c4(n,t,e){return n instanceof xh?iC(n,t):n instanceof Rh?rC(n,t):e}function nC(n,t){return n instanceof Hd?function(r){return g_(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Ch extends Em{}class xh extends Em{constructor(t){super(),this.elements=t}}function iC(n,t){const e=sC(t);for(const r of n.elements)e.some(o=>Ts(o,r))||e.push(r);return{arrayValue:{values:e}}}class Rh extends Em{constructor(t){super(),this.elements=t}}function rC(n,t){let e=sC(t);for(const r of n.elements)e=e.filter(o=>!Ts(o,r));return{arrayValue:{values:e}}}class Hd extends Em{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function Fb(n){return sn(n.integerValue||n.doubleValue)}function sC(n){return Pv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t,e){this.field=t,this.transform=e}}function f4(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof xh&&o instanceof xh||r instanceof Rh&&o instanceof Rh?qu(r.elements,o.elements,Ts):r instanceof Hd&&o instanceof Hd?Ts(r.Ee,o.Ee):r instanceof Ch&&o instanceof Ch}(n.transform,t.transform)}class d4{constructor(t,e){this.version=t,this.transformResults=e}}class gr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new gr}static exists(t){return new gr(void 0,t)}static updateTime(t){return new gr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ed(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class bm{}function aC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new kv(n.key,gr.none()):new jh(n.key,n.data,gr.none());{const e=n.data,r=_i.empty();let o=new _n(Dn.comparator);for(let l of t.fields)if(!o.has(l)){let h=e.field(l);h===null&&l.length>1&&(l=l.popLast(),h=e.field(l)),h===null?r.delete(l):r.set(l,h),o=o.add(l)}return new Do(n.key,r,new Gi(o.toArray()),gr.none())}}function m4(n,t,e){n instanceof jh?function(o,l,h){const d=o.value.clone(),g=qb(o.fieldTransforms,l,h.transformResults);d.setAll(g),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Do?function(o,l,h){if(!Ed(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=qb(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(oC(o)),g.setAll(d),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,t,e):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function gh(n,t,e,r){return n instanceof jh?function(l,h,d,g){if(!Ed(l.precondition,h))return d;const v=l.value.clone(),E=Gb(l.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(n,t,e,r):n instanceof Do?function(l,h,d,g){if(!Ed(l.precondition,h))return d;const v=Gb(l.fieldTransforms,g,h),E=h.data;return E.setAll(oC(l)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,t,e,r):function(l,h,d){return Ed(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,e)}function p4(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),l=nC(r.transform,o||null);l!=null&&(e===null&&(e=_i.empty()),e.set(r.field,l))}return e||null}function Hb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&qu(r,o,(l,h)=>f4(l,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class jh extends bm{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Do extends bm{constructor(t,e,r,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function qb(n,t,e){const r=new Map;_e(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let o=0;o<e.length;o++){const l=n[o],h=l.transform,d=t.data.field(l.field);r.set(l.field,c4(h,d,e[o]))}return r}function Gb(n,t,e){const r=new Map;for(const o of n){const l=o.transform,h=e.data.field(o.field);r.set(o.field,u4(l,h,t))}return r}class kv extends bm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g4 extends bm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&m4(l,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=gh(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=gh(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=tC();return this.mutations.forEach(o=>{const l=t.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=e.has(o.key)?null:d;const g=aC(h,d);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Zt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ae())}isEqual(t){return this.batchId===t.batchId&&qu(this.mutations,t.mutations,(e,r)=>Hb(e,r))&&qu(this.baseMutations,t.baseMutations,(e,r)=>Hb(e,r))}}class Nv{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){_e(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let o=function(){return r4}();const l=t.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new Nv(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,he;function T4(n){switch(n){case ht.OK:return Ft(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Ft(15467,{code:n})}}function lC(n){if(n===void 0)return ua("GRPC error has no .code"),ht.UNKNOWN;switch(n){case cn.OK:return ht.OK;case cn.CANCELLED:return ht.CANCELLED;case cn.UNKNOWN:return ht.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ht.INTERNAL;case cn.UNAVAILABLE:return ht.UNAVAILABLE;case cn.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case cn.NOT_FOUND:return ht.NOT_FOUND;case cn.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case cn.ABORTED:return ht.ABORTED;case cn.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case cn.DATA_LOSS:return ht.DATA_LOSS;default:return Ft(39323,{code:n})}}(he=cn||(cn={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new _o([4294967295,4294967295],0);function Zb(n){const t=PS().encode(n),e=new bS;return e.update(t),new Uint8Array(e.digest())}function Yb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new _o([e,r],0),new _o([o,l],0)]}class Dv{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new rh(`Invalid padding: ${e}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new rh(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=_o.fromNumber(this.fe)}pe(t,e,r){let o=t.add(e.multiply(_o.fromNumber(r)));return o.compare(E4)===1&&(o=new _o([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=Zb(t),[r,o]=Yb(e);for(let l=0;l<this.hashCount;l++){const h=this.pe(r,o,l);if(!this.ye(h))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),h=new Dv(l,o,e);return r.forEach(d=>h.insert(d)),h}insert(t){if(this.fe===0)return;const e=Zb(t),[r,o]=Yb(e);for(let l=0;l<this.hashCount;l++){const h=this.pe(r,o,l);this.we(h)}}we(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,e,r,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Fh.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new wm(Zt.min(),o,new Ye(Qt),ca(),ae())}}class Fh{constructor(t,e,r,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Fh(r,e,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.be=o}}class uC{constructor(t,e){this.targetId=t,this.De=e}}class cC{constructor(t,e,r=Vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class Kb{constructor(){this.ve=0,this.Ce=Wb(),this.Fe=Vn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=ae(),e=ae(),r=ae();return this.Ce.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Ft(38017,{changeType:l})}}),new Fh(this.Fe,this.Me,t,e,r)}ke(){this.xe=!1,this.Ce=Wb()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class b4{constructor(t){this.We=t,this.Ge=new Map,this.ze=ca(),this.je=od(),this.Je=od(),this.He=new Ye(Qt)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const r=this.tt(e);switch(t.state){case 0:this.nt(e)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),r.Be(t.resumeToken));break;default:Ft(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((r,o)=>{this.nt(o)&&e(o)})}it(t){const e=t.targetId,r=t.De.count,o=this.st(e);if(o){const l=o.target;if(v_(l))if(r===0){const h=new Dt(l.path);this.Xe(e,h,Xn.newNoDocument(h,Zt.min()))}else _e(r===1,20013,{expectedCount:r});else{const h=this.ot(e);if(h!==r){const d=this._t(t),g=d?this.ut(d,t,h):1;if(g!==0){this.rt(e);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,v)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=e;let h,d;try{h=Ao(r).toUint8Array()}catch(g){if(g instanceof NS)return Eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Dv(h,o,l)}catch(g){return Eo(g instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.fe===0?null:d}ut(t,e,r){return e.De.count===r-this.ht(t,e.targetId)?0:2}ht(t,e){const r=this.We.getRemoteKeysForTarget(e);let o=0;return r.forEach(l=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.Xe(e,l,null),o++)}),o}Pt(t){const e=new Map;this.Ge.forEach((l,h)=>{const d=this.st(h);if(d){if(l.current&&v_(d.target)){const g=new Dt(d.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,Xn.newNoDocument(g,t))}l.Ne&&(e.set(h,l.Le()),l.ke())}});let r=ae();this.Je.forEach((l,h)=>{let d=!0;h.forEachWhile(g=>{const v=this.st(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.ze.forEach((l,h)=>h.setReadTime(t));const o=new wm(t,e,this.He,this.ze,r);return this.ze=ca(),this.je=od(),this.Je=od(),this.He=new Ye(Qt),o}Ze(t,e){if(!this.nt(t))return;const r=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,r),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,r){if(!this.nt(t))return;const o=this.tt(t);this.It(t,e)?o.qe(e,1):o.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),r&&(this.ze=this.ze.insert(e,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new Kb,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new _n(Qt),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new _n(Qt),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||xt("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Kb),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function od(){return new Ye(Dt.comparator)}function Wb(){return new Ye(Dt.comparator)}const w4={asc:"ASCENDING",desc:"DESCENDING"},A4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S4={and:"AND",or:"OR"};class C4{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function E_(n,t){return n.useProto3Json||gm(t)?t:{value:t}}function qd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function x4(n,t){return qd(n,t.toTimestamp())}function gs(n){return _e(!!n,49232),Zt.fromTimestamp(function(e){const r=wo(e);return new Ue(r.seconds,r.nanos)}(n))}function Vv(n,t){return b_(n,t).canonicalString()}function b_(n,t){const e=function(o){return new De(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?e:e.child(t)}function fC(n){const t=De.fromString(n);return _e(_C(t),10190,{key:t.toString()}),t}function w_(n,t){return Vv(n.databaseId,t.path)}function Bg(n,t){const e=fC(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Dt(mC(e))}function dC(n,t){return Vv(n.databaseId,t)}function R4(n){const t=fC(n);return t.length===4?De.emptyPath():mC(t)}function A_(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mC(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Xb(n,t,e){return{name:w_(n,t),fields:e.value.mapValue.fields}}function I4(n,t){let e;if("targetChange"in t){t.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ft(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(v,E){return v.useProto3Json?(_e(E===void 0||typeof E=="string",58123),Vn.fromBase64String(E||"")):(_e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Vn.fromUint8Array(E||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(v){const E=v.code===void 0?ht.UNKNOWN:lC(v.code);return new Ct(E,v.message||"")}(h);e=new cC(r,o,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Bg(n,r.document.name),l=gs(r.document.updateTime),h=r.document.createTime?gs(r.document.createTime):Zt.min(),d=new _i({mapValue:{fields:r.document.fields}}),g=Xn.newFoundDocument(o,l,h,d),v=r.targetIds||[],E=r.removedTargetIds||[];e=new bd(v,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Bg(n,r.document),l=r.readTime?gs(r.readTime):Zt.min(),h=Xn.newNoDocument(o,l),d=r.removedTargetIds||[];e=new bd([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Bg(n,r.document),l=r.removedTargetIds||[];e=new bd([],l,o,null)}else{if(!("filter"in t))return Ft(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,h=new y4(o,l),d=r.targetId;e=new uC(d,h)}}return e}function P4(n,t){let e;if(t instanceof jh)e={update:Xb(n,t.key,t.value)};else if(t instanceof kv)e={delete:w_(n,t.key)};else if(t instanceof Do)e={update:Xb(n,t.key,t.data),updateMask:z4(t.fieldMask)};else{if(!(t instanceof g4))return Ft(16599,{Rt:t.type});e={verify:w_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(l,h){const d=h.transform;if(d instanceof Ch)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Rh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Hd)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw Ft(20930,{transform:h.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:x4(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ft(27497)}(n,t.precondition)),e}function L4(n,t){return n&&n.length>0?(_e(t!==void 0,14353),n.map(e=>function(o,l){let h=o.updateTime?gs(o.updateTime):gs(l);return h.isEqual(Zt.min())&&(h=gs(l)),new d4(h,o.transformResults||[])}(e,t))):[]}function O4(n,t){return{documents:[dC(n,t.path)]}}function M4(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=dC(n,o);const l=function(v){if(v.length!==0)return gC(jr.create(v,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const h=function(v){if(v.length!==0)return v.map(E=>function(A){return{field:Pu(A.field),direction:D4(A.dir)}}(E))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const d=E_(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{Vt:e,parent:o}}function k4(n){let t=R4(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){_e(r===1,65062);const E=e.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let l=[];e.where&&(l=function(w){const A=pC(w);return A instanceof jr&&GS(A)?A.getFilters():[A]}(e.where));let h=[];e.orderBy&&(h=function(w){return w.map(A=>function(k){return new Sh(Lu(k.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(e.orderBy));let d=null;e.limit&&(d=function(w){let A;return A=typeof w=="object"?w.value:w,gm(A)?null:A}(e.limit));let g=null;e.startAt&&(g=function(w){const A=!!w.before,R=w.values||[];return new Fd(R,A)}(e.startAt));let v=null;return e.endAt&&(v=function(w){const A=!w.before,R=w.values||[];return new Fd(R,A)}(e.endAt)),JD(t,o,h,l,d,"F",g,v)}function N4(n,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function pC(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Lu(e.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Lu(e.unaryFilter.field);return hn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lu(e.unaryFilter.field);return hn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Lu(e.unaryFilter.field);return hn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}}(n):n.fieldFilter!==void 0?function(e){return hn.create(Lu(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return jr.create(e.compositeFilter.filters.map(r=>pC(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}}(e.compositeFilter.op))}(n):Ft(30097,{filter:n})}function D4(n){return w4[n]}function V4(n){return A4[n]}function U4(n){return S4[n]}function Pu(n){return{fieldPath:n.canonicalString()}}function Lu(n){return Dn.fromServerFormat(n.fieldPath)}function gC(n){return n instanceof hn?function(e){if(e.op==="=="){if(Vb(e.value))return{unaryFilter:{field:Pu(e.field),op:"IS_NAN"}};if(Db(e.value))return{unaryFilter:{field:Pu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Vb(e.value))return{unaryFilter:{field:Pu(e.field),op:"IS_NOT_NAN"}};if(Db(e.value))return{unaryFilter:{field:Pu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(e.field),op:V4(e.op),value:e.value}}}(n):n instanceof jr?function(e){const r=e.getFilters().map(o=>gC(o));return r.length===1?r[0]:{compositeFilter:{op:U4(e.op),filters:r}}}(n):Ft(54877,{filter:n})}function z4(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _C(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,e,r,o,l=Zt.min(),h=Zt.min(),d=Vn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new mo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.gt=t}}function j4(n){const t=k4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?T_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.Dn=new H4}addToCollectionParentIndex(t,e){return this.Dn.add(e),dt.resolve()}getCollectionParents(t,e){return dt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return dt.resolve()}deleteFieldIndex(t,e){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,e){return dt.resolve()}getDocumentsMatchingTarget(t,e){return dt.resolve(null)}getIndexType(t,e){return dt.resolve(0)}getFieldIndexes(t,e){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,e){return dt.resolve(bo.min())}getMinOffsetFromCollectionGroup(t,e){return dt.resolve(bo.min())}updateCollectionGroup(t,e,r){return dt.resolve()}updateIndexEntries(t,e){return dt.resolve()}}class H4{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new _n(De.comparator),l=!o.has(r);return this.index[e]=o.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new _n(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vC=41943040;class gi{static withCacheSize(t){return new gi(t,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi.DEFAULT_COLLECTION_PERCENTILE=10,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gi.DEFAULT=new gi(vC,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gi.DISABLED=new gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Yu(0)}static ur(){return new Yu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="LruGarbageCollector",q4=1048576;function Jb([n,t],[e,r]){const o=Qt(n,e);return o===0?Qt(t,r):o}class G4{constructor(t){this.Tr=t,this.buffer=new _n(Jb),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Jb(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Z4{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){xt($b,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nc(e)?xt($b,"Ignoring IndexedDB error during garbage collection: ",e):await ec(e)}await this.Rr(3e5)})}}class Y4{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return dt.resolve(pm.ue);const r=new G4(e);return this.Vr.forEachTarget(t,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(Qb)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qb):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let r,o,l,h,d,g,v;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(t,r,e))).next(w=>(l=w,g=Date.now(),this.removeOrphanedDocuments(t,r))).next(w=>(v=Date.now(),Ru()<=se.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${w} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function K4(n,t){return new Y4(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.changes=new Bl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Xn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?dt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(r!==null&&gh(r.mutation,o,Gi.empty(),Ue.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,ae()).next(()=>r))}getLocalViewOfDocuments(t,e,r=ae()){const o=wl();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,r).next(l=>{let h=ih();return l.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const r=wl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,ae()))}populateOverlays(t,e,r){const o=[];return r.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((h,d)=>{e.set(h,d)})})}computeViews(t,e,r,o){let l=ca();const h=ph(),d=function(){return ph()}();return e.forEach((g,v)=>{const E=r.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Do)?l=l.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),gh(E.mutation,v,E.mutation.getFieldMask(),Ue.now())):h.set(v.key,Gi.empty())}),this.recalculateAndSaveOverlays(t,l).next(g=>(g.forEach((v,E)=>h.set(v,E)),e.forEach((v,E)=>{var w;return d.set(v,new X4(E,(w=h.get(v))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(t,e){const r=ph();let o=new Ye((h,d)=>h-d),l=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const d of h)d.keys().forEach(g=>{const v=e.get(g);if(v===null)return;let E=r.get(g)||Gi.empty();E=d.applyToLocalView(v,E),r.set(g,E);const w=(o.get(d.batchId)||ae()).add(g);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),v=g.key,E=g.value,w=tC();E.forEach(A=>{if(!l.has(A)){const R=aC(e.get(A),r.get(A));R!==null&&w.set(A,R),l=l.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(t,v,w))}return dt.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,o){return function(h){return Dt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):WS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-l.size):dt.resolve(wl());let d=Eh,g=l;return h.next(v=>dt.forEach(v,(E,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(E)?dt.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(t,v,l)).next(()=>this.computeViews(t,g,v,ae())).next(E=>({batchId:d,changes:JS(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Dt(e)).next(r=>{let o=ih();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const l=e.collectionGroup;let h=ih();return this.indexManager.getCollectionParents(t,l).next(d=>dt.forEach(d,g=>{const v=function(w,A){return new ic(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(e,g.child(l));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next(E=>{E.forEach((w,A)=>{h=h.insert(w,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,o))).next(h=>{l.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,Xn.newInvalidDocument(E)))});let d=ih();return h.forEach((g,v)=>{const E=l.get(g);E!==void 0&&gh(E.mutation,v,Gi.empty(),Ue.now()),Tm(e,v)&&(d=d.insert(g,v))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return dt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(o){return{id:o.id,version:o.version,createTime:gs(o.createTime)}}(e)),dt.resolve()}getNamedQuery(t,e){return dt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(o){return{name:o.name,query:j4(o.bundledQuery),readTime:gs(o.readTime)}}(e)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.overlays=new Ye(Dt.comparator),this.kr=new Map}getOverlay(t,e){return dt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=wl();return dt.forEach(e,o=>this.getOverlay(t,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((o,l)=>{this.wt(t,e,l)}),dt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(r)),dt.resolve()}getOverlaysForCollection(t,e,r){const o=wl(),l=e.length+1,h=new Dt(e.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>r&&o.set(g.getKey(),g)}return dt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let l=new Ye((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let E=l.get(v.largestBatchId);E===null&&(E=wl(),l=l.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const d=wl(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>d.set(v,E)),!(d.size()>=o)););return dt.resolve(d)}wt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new v4(e,r));let l=this.kr.get(e);l===void 0&&(l=ae(),this.kr.set(e,l)),this.kr.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.qr=new _n(xn.Qr),this.$r=new _n(xn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const r=new xn(t,e);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Wr(new xn(t,e))}Gr(t,e){t.forEach(r=>this.removeReference(r,e))}zr(t){const e=new Dt(new De([])),r=new xn(e,t),o=new xn(e,t+1),l=[];return this.$r.forEachInRange([r,o],h=>{this.Wr(h),l.push(h.key)}),l}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new Dt(new De([])),r=new xn(e,t),o=new xn(e,t+1);let l=ae();return this.$r.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new xn(t,0),r=this.qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class xn{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Dt.comparator(t.key,e.key)||Qt(t.Hr,e.Hr)}static Ur(t,e){return Qt(t.Hr,e.Hr)||Dt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new _n(xn.Qr)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new _4(l,e,r,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new xn(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return dt.resolve(h)}lookupMutationBatch(t,e){return dt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),l=o<0?0:o;return dt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?Rv:this.er-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new xn(e,0),o=new xn(e,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([r,o],h=>{const d=this.Zr(h.Hr);l.push(d)}),dt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new _n(Qt);return e.forEach(o=>{const l=new xn(o,0),h=new xn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],d=>{r=r.add(d.Hr)})}),dt.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let l=r;Dt.isDocumentKey(l)||(l=l.child(""));const h=new xn(new Dt(l),0);let d=new _n(Qt);return this.Yr.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(d=d.add(g.Hr)),!0)},h),dt.resolve(this.ei(d))}ei(t){const e=[];return t.forEach(r=>{const o=this.Zr(r);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){_e(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return dt.forEach(e.mutations,o=>{const l=new xn(o.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=r})}rr(t){}containsKey(t,e){const r=new xn(e,0),o=this.Yr.firstAfterOrEqual(r);return dt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t){this.ni=t,this.docs=function(){return new Ye(Dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),l=o?o.size:0,h=this.ni(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return dt.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(e))}getEntries(t,e){let r=ca();return e.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Xn.newInvalidDocument(o))}),dt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let l=ca();const h=e.path,d=new Dt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||LD(PD(E),r)<=0||(o.has(E.key)||Tm(e,E))&&(l=l.insert(E.key,E.mutableCopy()))}return dt.resolve(l)}getAllFromCollectionGroup(t,e,r,o){Ft(9500)}ri(t,e){return dt.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new i3(this)}getSize(t){return dt.resolve(this.size)}}class i3 extends W4{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.Or.addEntry(t,o)):this.Or.removeEntry(r)}),dt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(t){this.persistence=t,this.ii=new Bl(e=>Lv(e),Ov),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.si=0,this.oi=new Uv,this.targetCount=0,this._i=Yu.ar()}forEachTarget(t,e){return this.ii.forEach((r,o)=>e(o)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.si&&(this.si=e),dt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new Yu(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,dt.resolve()}updateTargetData(t,e){return this.hr(e),dt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,e,r){let o=0;const l=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),dt.waitFor(l).next(()=>o)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,e){const r=this.ii.get(e)||null;return dt.resolve(r)}addMatchingKeys(t,e,r){return this.oi.Kr(e,r),dt.resolve()}removeMatchingKeys(t,e,r){this.oi.Gr(e,r);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(h=>{l.push(o.markPotentiallyOrphaned(t,h))}),dt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),dt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.oi.Jr(e);return dt.resolve(r)}containsKey(t,e){return dt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,e){this.ai={},this.overlays={},this.ui=new pm(0),this.ci=!1,this.ci=!0,this.li=new t3,this.referenceDelegate=t(this),this.hi=new r3(this),this.indexManager=new F4,this.remoteDocumentCache=function(o){return new n3(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new B4(e),this.Ti=new $4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new J4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ai[t.toKey()];return r||(r=new e3(e,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,r){xt("MemoryPersistence","Starting transaction:",t);const o=new s3(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(t,e){return dt.or(Object.values(this.ai).map(r=>()=>r.containsKey(t,e)))}}class s3 extends MD{constructor(t){super(),this.currentSequenceNumber=t}}class zv{constructor(t){this.persistence=t,this.Ai=new Uv,this.Ri=null}static Vi(t){return new zv(t)}get mi(){if(this.Ri)return this.Ri;throw Ft(60996)}addReference(t,e,r){return this.Ai.addReference(r,e),this.mi.delete(r.toString()),dt.resolve()}removeReference(t,e,r){return this.Ai.removeReference(r,e),this.mi.add(r.toString()),dt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),dt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.mi,r=>{const o=Dt.fromPath(r);return this.fi(t,o).next(l=>{l||e.removeEntry(o,Zt.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(r=>{r?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return dt.or([()=>dt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Gd{constructor(t,e){this.persistence=t,this.gi=new Bl(r=>DD(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=K4(this,e)}static Vi(t,e){return new Gd(t,e)}Ii(){}di(t){return dt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}yr(t){let e=0;return this.gr(t,r=>{e++}).next(()=>e)}gr(t,e){return dt.forEach(this.gi,(r,o)=>this.Sr(t,r,o).next(l=>l?dt.resolve():e(o)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(t,h=>this.Sr(t,h,e).next(d=>{d||(r++,l.removeEntry(h,Zt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.gi.set(r,t.currentSequenceNumber),dt.resolve()}removeReference(t,e,r){return this.gi.set(r,t.currentSequenceNumber),dt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=yd(t.data.value)),e}Sr(t,e,r){return dt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.gi.get(e);return dt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Is=r,this.ds=o}static Es(t,e){let r=ae(),o=ae();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Bv(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return mL()?8:kD(Qn())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,r,o){const l={result:null};return this.ps(t,e).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ys(t,e,o,r).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new a3;return this.ws(t,e,h).next(d=>{if(l.result=d,this.Rs)return this.Ss(t,e,h,d.size)})}).next(()=>l.result)}Ss(t,e,r,o){return r.documentReadCount<this.Vs?(Ru()<=se.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",Iu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),dt.resolve()):(Ru()<=se.DEBUG&&xt("QueryEngine","Query:",Iu(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(Ru()<=se.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",Iu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ps(e))):dt.resolve())}ps(t,e){if(jb(e))return dt.resolve(null);let r=ps(e);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=T_(e,null,"F"),r=ps(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const h=ae(...l);return this.gs.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,r).next(g=>{const v=this.bs(e,d);return this.Ds(e,v,h,g.readTime)?this.ps(t,T_(e,null,"F")):this.vs(t,v,e,g)}))})))}ys(t,e,r,o){return jb(e)||o.isEqual(Zt.min())?dt.resolve(null):this.gs.getDocuments(t,r).next(l=>{const h=this.bs(e,l);return this.Ds(e,h,r,o)?dt.resolve(null):(Ru()<=se.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Iu(e)),this.vs(t,h,e,ID(o,Eh)).next(d=>d))})}bs(t,e){let r=new _n(QS(t));return e.forEach((o,l)=>{Tm(t,l)&&(r=r.add(l))}),r}Ds(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(t,e,r){return Ru()<=se.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",Iu(e)),this.gs.getDocumentsMatchingQuery(t,e,bo.min(),r)}vs(t,e,r,o){return this.gs.getDocumentsMatchingQuery(t,r,o).next(l=>(e.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LocalStore",l3=3e8;class u3{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.Fs=new Ye(Qt),this.Ms=new Bl(l=>Lv(l),Ov),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Q4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function c3(n,t,e,r){return new u3(n,t,e,r)}async function TC(n,t){const e=Yt(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,e.Ns(t),e.mutationQueue.getAllMutationBatches(r))).next(l=>{const h=[],d=[];let g=ae();for(const v of o){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of l){d.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return e.localDocuments.getDocuments(r,g).next(v=>({Bs:v,removedBatchIds:h,addedBatchIds:d}))})})}function h3(n,t){const e=Yt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),l=e.Os.newChangeBuffer({trackRemovals:!0});return function(d,g,v,E){const w=v.batch,A=w.keys();let R=dt.resolve();return A.forEach(k=>{R=R.next(()=>E.getEntry(g,k)).next(N=>{const H=v.docVersions.get(k);_e(H!==null,48541),N.version.compareTo(H)<0&&(w.applyToRemoteDocument(N,v),N.isValidDocument()&&(N.setReadTime(v.commitVersion),E.addEntry(N)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(g,w))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=ae();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(g=g.add(d.batch.mutations[v].key));return g}(t))).next(()=>e.localDocuments.getDocuments(r,o))})}function EC(n){const t=Yt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function f3(n,t){const e=Yt(n),r=t.snapshotVersion;let o=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Os.newChangeBuffer({trackRemovals:!0});o=e.Fs;const d=[];t.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;d.push(e.hi.removeMatchingKeys(l,E.removedDocuments,w).next(()=>e.hi.addMatchingKeys(l,E.addedDocuments,w)));let R=A.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(w)!==null?R=R.withResumeToken(Vn.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):E.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(E.resumeToken,r)),o=o.insert(w,R),function(N,H,j){return N.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=l3?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(A,R,E)&&d.push(e.hi.updateTargetData(l,R))});let g=ca(),v=ae();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(d3(l,h,t.documentUpdates).next(E=>{g=E.Ls,v=E.ks})),!r.isEqual(Zt.min())){const E=e.hi.getLastRemoteSnapshotVersion(l).next(w=>e.hi.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(E)}return dt.waitFor(d).next(()=>h.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,g,v)).next(()=>g)}).then(l=>(e.Fs=o,l))}function d3(n,t,e){let r=ae(),o=ae();return e.forEach(l=>r=r.add(l)),t.getEntries(n,r).next(l=>{let h=ca();return e.forEach((d,g)=>{const v=l.get(d);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Zt.min())?(t.removeEntry(d,g.readTime),h=h.insert(d,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),h=h.insert(d,g)):xt(jv,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",g.version)}),{Ls:h,ks:o}})}function m3(n,t){const e=Yt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Rv),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function p3(n,t){const e=Yt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.hi.getTargetData(r,t).next(l=>l?(o=l,dt.resolve(o)):e.hi.allocateTargetId(r).next(h=>(o=new mo(t,h,"TargetPurposeListen",r.currentSequenceNumber),e.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(r.targetId,r),e.Ms.set(t,r.targetId)),r})}async function S_(n,t,e){const r=Yt(n),o=r.Fs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!nc(h))throw h;xt(jv,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(o.target)}function tw(n,t,e){const r=Yt(n);let o=Zt.min(),l=ae();return r.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const w=Yt(g),A=w.Ms.get(E);return A!==void 0?dt.resolve(w.Fs.get(A)):w.hi.getTargetData(v,E)}(r,h,ps(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(h,d.targetId).next(g=>{l=g})}).next(()=>r.Cs.getDocumentsMatchingQuery(h,t,e?o:Zt.min(),e?l:ae())).next(d=>(g3(r,e4(t),d),{documents:d,qs:l})))}function g3(n,t,e){let r=n.xs.get(t)||Zt.min();e.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.xs.set(t,r)}class ew{constructor(){this.activeTargetIds=o4()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _3{constructor(){this.Fo=new ew,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,r){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new ew,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="ConnectivityMonitor";class iw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){xt(nw,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){xt(nw,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function C_(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="RestConnection",y3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T3{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Bd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,l){const h=C_(),d=this.Go(t,e.toUriEncodedString());xt(jg,`Sending RPC '${t}' ${h}:`,d,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,l);const{host:v}=new URL(d),E=Oo(v);return this.jo(t,d,g,r,E).then(w=>(xt(jg,`Received RPC '${t}' ${h}: `,w),w),w=>{throw Eo(jg,`RPC '${t}' ${h} failed with error: `,w,"url: ",d,"request:",r),w})}Jo(t,e,r,o,l,h){return this.Wo(t,e,r,o,l)}zo(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),r&&r.headers.forEach((o,l)=>t[l]=o)}Go(t,e){const r=y3[t];return`${this.$o}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class b3 extends T3{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,r,o,l){const h=C_();return new Promise((d,g)=>{const v=new wS;v.setWithCredentials(!0),v.listenOnce(AS.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case vd.NO_ERROR:const w=v.getResponseJson();xt(Yn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(w)),d(w);break;case vd.TIMEOUT:xt(Yn,`RPC '${t}' ${h} timed out`),g(new Ct(ht.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const A=v.getStatus();if(xt(Yn,`RPC '${t}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const N=function(j){const et=j.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(et)>=0?et:ht.UNKNOWN}(k.status);g(new Ct(N,k.message))}else g(new Ct(ht.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Ct(ht.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{c_:t,streamId:h,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{xt(Yn,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(o);xt(Yn,`RPC '${t}' ${h} sending request:`,o),v.send(e,"POST",E,r,15)})}P_(t,e,r){const o=C_(),l=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=xS(),d=CS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,e,r),g.encodeInitMessageHeaders=!0;const E=l.join("");xt(Yn,`Creating RPC '${t}' stream ${o}: ${E}`,g);const w=h.createWebChannel(E,g);this.T_(w);let A=!1,R=!1;const k=new E3({Ho:H=>{R?xt(Yn,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(A||(xt(Yn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),A=!0),xt(Yn,`RPC '${t}' stream ${o} sending:`,H),w.send(H))},Yo:()=>w.close()}),N=(H,j,et)=>{H.listen(j,nt=>{try{et(nt)}catch(pt){setTimeout(()=>{throw pt},0)}})};return N(w,nh.EventType.OPEN,()=>{R||(xt(Yn,`RPC '${t}' stream ${o} transport opened.`),k.s_())}),N(w,nh.EventType.CLOSE,()=>{R||(R=!0,xt(Yn,`RPC '${t}' stream ${o} transport closed`),k.__(),this.I_(w))}),N(w,nh.EventType.ERROR,H=>{R||(R=!0,Eo(Yn,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),k.__(new Ct(ht.UNAVAILABLE,"The operation could not be completed")))}),N(w,nh.EventType.MESSAGE,H=>{var j;if(!R){const et=H.data[0];_e(!!et,16349);const nt=et,pt=nt?.error||((j=nt[0])===null||j===void 0?void 0:j.error);if(pt){xt(Yn,`RPC '${t}' stream ${o} received error:`,pt);const vt=pt.status;let kt=function(U){const G=cn[U];if(G!==void 0)return lC(G)}(vt),q=pt.message;kt===void 0&&(kt=ht.INTERNAL,q="Unknown error status: "+vt+" with message "+pt.message),R=!0,k.__(new Ct(kt,q)),w.close()}else xt(Yn,`RPC '${t}' stream ${o} received:`,et),k.a_(et)}}),N(d,SS.STAT_EVENT,H=>{H.stat===d_.PROXY?xt(Yn,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===d_.NOPROXY&&xt(Yn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function Fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n){return new C4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,e,r=1e3,o=1.5,l=6e4){this.Fi=t,this.timerId=e,this.d_=r,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,e-r);o>0&&xt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="PersistentStream";class wC{constructor(t,e,r,o,l,h,d,g){this.Fi=t,this.w_=r,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new bC(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(ua(e.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===e&&this.W_(r,o)},r=>{t(()=>{const o=new Ct(ht.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(t,e){const r=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return xt(rw,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(xt(rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w3 extends wC{constructor(t,e,r,o,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,h),this.serializer=l}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=I4(this.serializer,t),r=function(l){if(!("targetChange"in l))return Zt.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Zt.min():h.readTime?gs(h.readTime):Zt.min()}(t);return this.listener.J_(e,r)}H_(t){const e={};e.database=A_(this.serializer),e.addTarget=function(l,h){let d;const g=h.target;if(d=v_(g)?{documents:O4(l,g)}:{query:M4(l,g).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=hC(l,h.resumeToken);const v=E_(l,h.expectedCount);v!==null&&(d.expectedCount=v)}else if(h.snapshotVersion.compareTo(Zt.min())>0){d.readTime=qd(l,h.snapshotVersion.toTimestamp());const v=E_(l,h.expectedCount);v!==null&&(d.expectedCount=v)}return d}(this.serializer,t);const r=N4(this.serializer,t);r&&(e.labels=r),this.k_(e)}Y_(t){const e={};e.database=A_(this.serializer),e.removeTarget=t,this.k_(e)}}class A3 extends wC{constructor(t,e,r,o,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=L4(t.writeResults,t.commitTime),r=gs(t.commitTime);return this.listener.ta(r,e)}na(){const t={};t.database=A_(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>P4(this.serializer,r))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{}class C3 extends S3{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Wo(t,b_(e,r),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(ht.UNKNOWN,l.toString())})}Jo(t,e,r,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(t,b_(e,r),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ct(ht.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class x3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ua(e),this._a=!1):xt("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="RemoteStore";class R3{constructor(t,e,r,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(h=>{r.enqueueAndForget(async()=>{jl(this)&&(xt(Ml,"Restarting streams for network reachability change."),await async function(g){const v=Yt(g);v.Ia.add(4),await Hh(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Sm(v)}(this))})}),this.Aa=new x3(r,o)}}async function Sm(n){if(jl(n))for(const t of n.da)await t(!0)}async function Hh(n){for(const t of n.da)await t(!1)}function AC(n,t){const e=Yt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),Gv(e)?qv(e):rc(e).x_()&&Hv(e,t))}function Fv(n,t){const e=Yt(n),r=rc(e);e.Ta.delete(t),r.x_()&&SC(e,t),e.Ta.size===0&&(r.x_()?r.B_():jl(e)&&e.Aa.set("Unknown"))}function Hv(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}rc(n).H_(t)}function SC(n,t){n.Ra.$e(t),rc(n).Y_(t)}function qv(n){n.Ra=new b4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),rc(n).start(),n.Aa.aa()}function Gv(n){return jl(n)&&!rc(n).M_()&&n.Ta.size>0}function jl(n){return Yt(n).Ia.size===0}function CC(n){n.Ra=void 0}async function I3(n){n.Aa.set("Online")}async function P3(n){n.Ta.forEach((t,e)=>{Hv(n,t)})}async function L3(n,t){CC(n),Gv(n)?(n.Aa.la(t),qv(n)):n.Aa.set("Unknown")}async function O3(n,t,e){if(n.Aa.set("Online"),t instanceof cC&&t.state===2&&t.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(n,t)}catch(r){xt(Ml,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Zd(n,r)}else if(t instanceof bd?n.Ra.Ye(t):t instanceof uC?n.Ra.it(t):n.Ra.et(t),!e.isEqual(Zt.min()))try{const r=await EC(n.localStore);e.compareTo(r)>=0&&await function(l,h){const d=l.Ra.Pt(h);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.Ta.get(v);E&&l.Ta.set(v,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,v)=>{const E=l.Ta.get(g);if(!E)return;l.Ta.set(g,E.withResumeToken(Vn.EMPTY_BYTE_STRING,E.snapshotVersion)),SC(l,g);const w=new mo(E.target,g,v,E.sequenceNumber);Hv(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(r){xt(Ml,"Failed to raise snapshot:",r),await Zd(n,r)}}async function Zd(n,t,e){if(!nc(t))throw t;n.Ia.add(1),await Hh(n),n.Aa.set("Offline"),e||(e=()=>EC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{xt(Ml,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await Sm(n)})}function xC(n,t){return t().catch(e=>Zd(n,e,t))}async function Cm(n){const t=Yt(n),e=Co(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Rv;for(;M3(t);)try{const o=await m3(t.localStore,r);if(o===null){t.Pa.length===0&&e.B_();break}r=o.batchId,k3(t,o)}catch(o){await Zd(t,o)}RC(t)&&IC(t)}function M3(n){return jl(n)&&n.Pa.length<10}function k3(n,t){n.Pa.push(t);const e=Co(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function RC(n){return jl(n)&&!Co(n).M_()&&n.Pa.length>0}function IC(n){Co(n).start()}async function N3(n){Co(n).na()}async function D3(n){const t=Co(n);for(const e of n.Pa)t.X_(e.mutations)}async function V3(n,t,e){const r=n.Pa.shift(),o=Nv.from(r,t,e);await xC(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Cm(n)}async function U3(n,t){t&&Co(n).Z_&&await async function(r,o){if(function(h){return T4(h)&&h!==ht.ABORTED}(o.code)){const l=r.Pa.shift();Co(r).N_(),await xC(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Cm(r)}}(n,t),RC(n)&&IC(n)}async function sw(n,t){const e=Yt(n);e.asyncQueue.verifyOperationInProgress(),xt(Ml,"RemoteStore received new credentials");const r=jl(e);e.Ia.add(3),await Hh(e),r&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await Sm(e)}async function z3(n,t){const e=Yt(n);t?(e.Ia.delete(2),await Sm(e)):t||(e.Ia.add(2),await Hh(e),e.Aa.set("Unknown"))}function rc(n){return n.Va||(n.Va=function(e,r,o){const l=Yt(e);return l.ia(),new w3(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Zo:I3.bind(null,n),e_:P3.bind(null,n),n_:L3.bind(null,n),J_:O3.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),Gv(n)?qv(n):n.Aa.set("Unknown")):(await n.Va.stop(),CC(n))})),n.Va}function Co(n){return n.ma||(n.ma=function(e,r,o){const l=Yt(e);return l.ia(),new A3(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:N3.bind(null,n),n_:U3.bind(null,n),ea:D3.bind(null,n),ta:V3.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await Cm(n)):(await n.ma.stop(),n.Pa.length>0&&(xt(Ml,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,e,r,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,l){const h=Date.now()+r,d=new Zv(t,e,h,o,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yv(n,t){if(ua("AsyncQueue",`${t}: ${n}`),nc(n))return new Ct(ht.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{static emptySet(t){return new zu(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Dt.comparator(e.key,r.key):(e,r)=>Dt.comparator(e.key,r.key),this.keyedMap=ih(),this.sortedSet=new Ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof zu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new zu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.fa=new Ye(Dt.comparator)}track(t){const e=t.doc.key,r=this.fa.get(e);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(e,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(e):t.type===1&&r.type===2?this.fa=this.fa.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Ft(63341,{At:t,ga:r}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,r)=>{t.push(r)}),t}}class Ku{constructor(t,e,r,o,l,h,d,g,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,o,l){const h=[];return e.forEach(d=>{h.push({type:0,doc:d})}),new Ku(t,e,zu.emptySet(e),h,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ym(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class j3{constructor(){this.queries=ow(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,r){const o=Yt(e),l=o.queries;o.queries=ow(),l.forEach((h,d)=>{for(const g of d.wa)g.onError(r)})})(this,new Ct(ht.ABORTED,"Firestore shutting down"))}}function ow(){return new Bl(n=>XS(n),ym)}async function Kv(n,t){const e=Yt(n);let r=3;const o=t.query;let l=e.queries.get(o);l?!l.Sa()&&t.ba()&&(r=2):(l=new B3,r=t.ba()?0:1);try{switch(r){case 0:l.ya=await e.onListen(o,!0);break;case 1:l.ya=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const d=Yv(h,`Initialization of query '${Iu(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,l),l.wa.push(t),t.va(e.onlineState),l.ya&&t.Ca(l.ya)&&Xv(e)}async function Wv(n,t){const e=Yt(n),r=t.query;let o=3;const l=e.queries.get(r);if(l){const h=l.wa.indexOf(t);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=t.ba()?0:1:!l.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function F3(n,t){const e=Yt(n);let r=!1;for(const o of t){const l=o.query,h=e.queries.get(l);if(h){for(const d of h.wa)d.Ca(o)&&(r=!0);h.ya=o}}r&&Xv(e)}function H3(n,t,e){const r=Yt(n),o=r.queries.get(t);if(o)for(const l of o.wa)l.onError(e);r.queries.delete(t)}function Xv(n){n.Da.forEach(t=>{t.next()})}var x_,lw;(lw=x_||(x_={})).Fa="default",lw.Cache="cache";class Qv{constructor(t,e,r){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ku(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const r=e!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=Ku.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==x_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.key=t}}class LC{constructor(t){this.key=t}}class q3{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ae(),this.mutatedKeys=ae(),this.Xa=QS(t),this.eu=new zu(this.Xa)}get tu(){return this.Ha}nu(t,e){const r=e?e.ru:new aw,o=e?e.eu:this.eu;let l=e?e.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,w)=>{const A=o.get(E),R=Tm(this.query,w)?w:null,k=!!A&&this.mutatedKeys.has(A.key),N=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let H=!1;A&&R?A.data.isEqual(R.data)?k!==N&&(r.track({type:3,doc:R}),H=!0):this.iu(A,R)||(r.track({type:2,doc:R}),H=!0,(g&&this.Xa(R,g)>0||v&&this.Xa(R,v)<0)&&(d=!0)):!A&&R?(r.track({type:0,doc:R}),H=!0):A&&!R&&(r.track({type:1,doc:A}),H=!0,(g||v)&&(d=!0)),H&&(R?(h=h.add(R),l=N?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),r.track({type:1,doc:E})}return{eu:h,ru:r,Ds:d,mutatedKeys:l}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const l=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort((E,w)=>function(R,k){const N=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{At:H})}};return N(R)-N(k)}(E.type,w.type)||this.Xa(E.doc,w.doc)),this.su(r),o=o!=null&&o;const d=e&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,v=g!==this.Ya;return this.Ya=g,h.length!==0||v?{snapshot:new Ku(this.query,t.eu,l,h,t.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new aw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=ae(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const e=[];return t.forEach(r=>{this.Za.has(r)||e.push(new LC(r))}),this.Za.forEach(r=>{t.has(r)||e.push(new PC(r))}),e}uu(t){this.Ha=t.qs,this.Za=ae();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return Ku.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const $v="SyncEngine";class G3{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Z3{constructor(t){this.key=t,this.lu=!1}}class Y3{constructor(t,e,r,o,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Bl(d=>XS(d),ym),this.Tu=new Map,this.Iu=new Set,this.du=new Ye(Dt.comparator),this.Eu=new Map,this.Au=new Uv,this.Ru={},this.Vu=new Map,this.mu=Yu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function K3(n,t,e=!0){const r=VC(n);let o;const l=r.Pu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await OC(r,t,e,!0),o}async function W3(n,t){const e=VC(n);await OC(e,t,!0,!1)}async function OC(n,t,e,r){const o=await p3(n.localStore,ps(t)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,e);let d;return r&&(d=await X3(n,t,l,h==="current",o.resumeToken)),n.isPrimaryClient&&e&&AC(n.remoteStore,o),d}async function X3(n,t,e,r,o){n.gu=(w,A,R)=>async function(N,H,j,et){let nt=H.view.nu(j);nt.Ds&&(nt=await tw(N.localStore,H.query,!1).then(({documents:q})=>H.view.nu(q,nt)));const pt=et&&et.targetChanges.get(H.targetId),vt=et&&et.targetMismatches.get(H.targetId)!=null,kt=H.view.applyChanges(nt,N.isPrimaryClient,pt,vt);return cw(N,H.targetId,kt._u),kt.snapshot}(n,w,A,R);const l=await tw(n.localStore,t,!0),h=new q3(t,l.qs),d=h.nu(l.documents),g=Fh.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),v=h.applyChanges(d,n.isPrimaryClient,g);cw(n,e,v._u);const E=new G3(t,e,h);return n.Pu.set(t,E),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),v.snapshot}async function Q3(n,t,e){const r=Yt(n),o=r.Pu.get(t),l=r.Tu.get(o.targetId);if(l.length>1)return r.Tu.set(o.targetId,l.filter(h=>!ym(h,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await S_(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),e&&Fv(r.remoteStore,o.targetId),R_(r,o.targetId)}).catch(ec)):(R_(r,o.targetId),await S_(r.localStore,o.targetId,!0))}async function $3(n,t){const e=Yt(n),r=e.Pu.get(t),o=e.Tu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Fv(e.remoteStore,r.targetId))}async function J3(n,t,e){const r=aV(n);try{const o=await function(h,d){const g=Yt(h),v=Ue.now(),E=d.reduce((R,k)=>R.add(k.key),ae());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",R=>{let k=ca(),N=ae();return g.Os.getEntries(R,E).next(H=>{k=H,k.forEach((j,et)=>{et.isValidDocument()||(N=N.add(j))})}).next(()=>g.localDocuments.getOverlayedDocuments(R,k)).next(H=>{w=H;const j=[];for(const et of d){const nt=p4(et,w.get(et.key).overlayedDocument);nt!=null&&j.push(new Do(et.key,nt,FS(nt.value.mapValue),gr.exists(!0)))}return g.mutationQueue.addMutationBatch(R,v,j,d)}).next(H=>{A=H;const j=H.applyToLocalDocumentSet(w,N);return g.documentOverlayCache.saveOverlays(R,H.batchId,j)})}).then(()=>({batchId:A.batchId,changes:JS(w)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let v=h.Ru[h.currentUser.toKey()];v||(v=new Ye(Qt)),v=v.insert(d,g),h.Ru[h.currentUser.toKey()]=v}(r,o.batchId,e),await qh(r,o.changes),await Cm(r.remoteStore)}catch(o){const l=Yv(o,"Failed to persist write");e.reject(l)}}async function MC(n,t){const e=Yt(n);try{const r=await f3(e.localStore,t);t.targetChanges.forEach((o,l)=>{const h=e.Eu.get(l);h&&(_e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?_e(h.lu,14607):o.removedDocuments.size>0&&(_e(h.lu,42227),h.lu=!1))}),await qh(e,r,t)}catch(r){await ec(r)}}function uw(n,t,e){const r=Yt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Pu.forEach((l,h)=>{const d=h.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Yt(h);g.onlineState=d;let v=!1;g.queries.forEach((E,w)=>{for(const A of w.wa)A.va(d)&&(v=!0)}),v&&Xv(g)}(r.eventManager,t),o.length&&r.hu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tV(n,t,e){const r=Yt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Eu.get(t),l=o&&o.key;if(l){let h=new Ye(Dt.comparator);h=h.insert(l,Xn.newNoDocument(l,Zt.min()));const d=ae().add(l),g=new wm(Zt.min(),new Map,new Ye(Qt),h,d);await MC(r,g),r.du=r.du.remove(l),r.Eu.delete(t),Jv(r)}else await S_(r.localStore,t,!1).then(()=>R_(r,t,e)).catch(ec)}async function eV(n,t){const e=Yt(n),r=t.batch.batchId;try{const o=await h3(e.localStore,t);NC(e,r,null),kC(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await qh(e,o)}catch(o){await ec(o)}}async function nV(n,t,e){const r=Yt(n);try{const o=await function(h,d){const g=Yt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,d).next(w=>(_e(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(v,w))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(r.localStore,t);NC(r,t,e),kC(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await qh(r,o)}catch(o){await ec(o)}}function kC(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function NC(n,t,e){const r=Yt(n);let o=r.Ru[r.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),r.Ru[r.currentUser.toKey()]=o}}function R_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Tu.get(t))n.Pu.delete(r),e&&n.hu.pu(r,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(r=>{n.Au.containsKey(r)||DC(n,r)})}function DC(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Fv(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),Jv(n))}function cw(n,t,e){for(const r of e)r instanceof PC?(n.Au.addReference(r.key,t),iV(n,r)):r instanceof LC?(xt($v,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,t),n.Au.containsKey(r.key)||DC(n,r.key)):Ft(19791,{yu:r})}function iV(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Iu.has(r)||(xt($v,"New document in limbo: "+e),n.Iu.add(r),Jv(n))}function Jv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new Dt(De.fromString(t)),r=n.mu.next();n.Eu.set(r,new Z3(e)),n.du=n.du.insert(e,r),AC(n.remoteStore,new mo(ps(vm(e.path)),r,"TargetPurposeLimboResolution",pm.ue))}}async function qh(n,t,e){const r=Yt(n),o=[],l=[],h=[];r.Pu.isEmpty()||(r.Pu.forEach((d,g)=>{h.push(r.gu(g,t,e).then(v=>{var E;if((v||e)&&r.isPrimaryClient){const w=v?!v.fromCache:(E=e?.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(v){o.push(v);const w=Bv.Es(g.targetId,v);l.push(w)}}))}),await Promise.all(h),r.hu.J_(o),await async function(g,v){const E=Yt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>dt.forEach(v,A=>dt.forEach(A.Is,R=>E.persistence.referenceDelegate.addReference(w,A.targetId,R)).next(()=>dt.forEach(A.ds,R=>E.persistence.referenceDelegate.removeReference(w,A.targetId,R)))))}catch(w){if(!nc(w))throw w;xt(jv,"Failed to update sequence numbers: "+w)}for(const w of v){const A=w.targetId;if(!w.fromCache){const R=E.Fs.get(A),k=R.snapshotVersion,N=R.withLastLimboFreeSnapshotVersion(k);E.Fs=E.Fs.insert(A,N)}}}(r.localStore,l))}async function rV(n,t){const e=Yt(n);if(!e.currentUser.isEqual(t)){xt($v,"User change. New user:",t.toKey());const r=await TC(e.localStore,t);e.currentUser=t,function(l,h){l.Vu.forEach(d=>{d.forEach(g=>{g.reject(new Ct(ht.CANCELLED,h))})}),l.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qh(e,r.Bs)}}function sV(n,t){const e=Yt(n),r=e.Eu.get(t);if(r&&r.lu)return ae().add(r.key);{let o=ae();const l=e.Tu.get(t);if(!l)return o;for(const h of l){const d=e.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function VC(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=MC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tV.bind(null,t),t.hu.J_=F3.bind(null,t.eventManager),t.hu.pu=H3.bind(null,t.eventManager),t}function aV(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nV.bind(null,t),t}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Am(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return c3(this.persistence,new o3,t.initialUser,this.serializer)}Du(t){return new yC(zv.Vi,this.serializer)}bu(t){return new _3}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class oV extends Yd{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){_e(this.persistence.referenceDelegate instanceof Gd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Z4(r,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?gi.withCacheSize(this.cacheSizeBytes):gi.DEFAULT;return new yC(r=>Gd.Vi(r,e),this.serializer)}}class I_{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rV.bind(null,this.syncEngine),await z3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new j3}()}createDatastore(t){const e=Am(t.databaseInfo.databaseId),r=function(l){return new b3(l)}(t.databaseInfo);return function(l,h,d,g){return new C3(l,h,d,g)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,o,l,h,d){return new R3(r,o,l,h,d)}(this.localStore,this.datastore,t.asyncQueue,e=>uw(this.syncEngine,e,0),function(){return iw.C()?new iw:new v3}())}createSyncEngine(t,e){return function(o,l,h,d,g,v,E){const w=new Y3(o,l,h,d,g,v);return E&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const l=Yt(o);xt(Ml,"RemoteStore shutting down."),l.Ia.add(5),await Hh(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}I_.provider={build:()=>new I_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ua("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="FirestoreClient";class lV{constructor(t,e,r,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Wn.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async h=>{xt(xo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(xt(xo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Yv(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Hg(n,t){n.asyncQueue.verifyOperationInProgress(),xt(xo,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await TC(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>{Eo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{xt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Eo("Terminating Firestore due to IndexedDb database deletion failed",o)})}),n._offlineComponents=t}async function hw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await uV(n);xt(xo,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>sw(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>sw(t.remoteStore,o)),n._onlineComponents=t}async function uV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xt(xo,"Using user provided OfflineComponentProvider");try{await Hg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ht.FAILED_PRECONDITION||o.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Eo("Error using user provided cache. Falling back to memory cache: "+e),await Hg(n,new Yd)}}else xt(xo,"Using default OfflineComponentProvider"),await Hg(n,new oV(void 0));return n._offlineComponents}async function UC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xt(xo,"Using user provided OnlineComponentProvider"),await hw(n,n._uninitializedComponentsProvider._online)):(xt(xo,"Using default OnlineComponentProvider"),await hw(n,new I_))),n._onlineComponents}function cV(n){return UC(n).then(t=>t.syncEngine)}async function Kd(n){const t=await UC(n),e=t.eventManager;return e.onListen=K3.bind(null,t.syncEngine),e.onUnlisten=Q3.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=W3.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=$3.bind(null,t.syncEngine),e}function hV(n,t,e={}){const r=new sa;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,d,g,v){const E=new ty({next:A=>{E.Ou(),h.enqueueAndForget(()=>Wv(l,w));const R=A.docs.has(d);!R&&A.fromCache?v.reject(new Ct(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&g&&g.source==="server"?v.reject(new Ct(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),w=new Qv(vm(d.path),E,{includeMetadataChanges:!0,ka:!0});return Kv(l,w)}(await Kd(n),n.asyncQueue,t,e,r)),r.promise}function fV(n,t,e={}){const r=new sa;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,d,g,v){const E=new ty({next:A=>{E.Ou(),h.enqueueAndForget(()=>Wv(l,w)),A.fromCache&&g.source==="server"?v.reject(new Ct(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),w=new Qv(d,E,{includeMetadataChanges:!0,ka:!0});return Kv(l,w)}(await Kd(n),n.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firestore.googleapis.com",dw=!0;class mw{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BC,this.ssl=dw}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:dw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<q4)throw new Ct(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zC((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ct(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xm{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yD;switch(r.type){case"firstParty":return new wD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=fw.get(e);r&&(xt("ComponentProvider","Removing Datastore"),fw.delete(e),r.terminate())}(this),Promise.resolve()}}function dV(n,t,e,r={}){var o;n=Ti(n,xm);const l=Oo(t),h=n._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),g=`${t}:${e}`;l&&(rv(`https://${g}`),sv("Firestore",!0)),h.host!==BC&&h.host!==g&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:l,emulatorOptions:r});if(!yo(v,d)&&(n._setSettings(v),r.mockUserToken)){let E,w;if(typeof r.mockUserToken=="string")E=r.mockUserToken,w=Wn.MOCK_USER;else{E=PA(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new Ct(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Wn(A)}n._authCredentials=new TD(new IS(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vo(this.firestore,t,this._query)}}class Qe{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qe(this.firestore,t,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Bh(e,Qe._jsonSchema))return new Qe(t,r||null,new Dt(De.fromString(e.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:fn("string",Qe._jsonSchemaVersion),referencePath:fn("string")};class vo extends Vo{constructor(t,e,r){super(t,e,vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qe(this.firestore,null,new Dt(t))}withConverter(t){return new vo(this.firestore,t,this._path)}}function Wu(n,t,...e){if(n=Ie(n),LS("collection","path",t),n instanceof xm){const r=De.fromString(t,...e);return xb(r),new vo(n,null,r)}{if(!(n instanceof Qe||n instanceof vo))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(De.fromString(t,...e));return xb(r),new vo(n.firestore,null,r)}}function Ro(n,t,...e){if(n=Ie(n),arguments.length===1&&(t=xv.newId()),LS("doc","path",t),n instanceof xm){const r=De.fromString(t,...e);return Cb(r),new Qe(n,null,new Dt(r))}{if(!(n instanceof Qe||n instanceof vo))throw new Ct(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(De.fromString(t,...e));return Cb(r),new Qe(n.firestore,n instanceof vo?n.converter:null,new Dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="AsyncQueue";class gw{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new bC(this,"async_queue_retry"),this.oc=()=>{const r=Fg();r&&xt(pw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const e=Fg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=Fg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new sa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!nc(t))throw t;xt(pw,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(r=>{throw this.tc=r,this.nc=!1,ua("INTERNAL UNHANDLED ERROR: ",_w(r)),r}).then(r=>(this.nc=!1,r))));return this._c=e,e}enqueueAfterDelay(t,e,r){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const o=Zv.createAndSchedule(this,t,e,r,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Ft(47125,{hc:_w(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function _w(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n){return function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const l of r)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ha extends xm{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new gw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gw(t),this._firestoreClient=void 0,await t}}}function mV(n,t){const e=typeof n=="object"?n:am(),r=typeof n=="string"?n:Bd,o=Mo(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=xA("firestore");l&&dV(o,...l)}return o}function Rm(n){if(n._terminated)throw new Ct(ht.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pV(n),n._firestoreClient}function pV(n){var t,e,r;const o=n._freezeSettings(),l=function(d,g,v,E){return new zD(d,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,zC(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new lV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const g=d?._online.build();return{_offline:d?._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pr(Vn.fromBase64String(t))}catch(e){throw new Ct(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new pr(Vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bh(t,pr._jsonSchema))return pr.fromBase64String(t.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:fn("string",pr._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_s._jsonSchemaVersion}}static fromJSON(t){if(Bh(t,_s._jsonSchema))return new _s(t.latitude,t.longitude)}}_s._jsonSchemaVersion="firestore/geoPoint/1.0",_s._jsonSchema={type:fn("string",_s._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,t._values)}toJSON(){return{type:vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bh(t,vs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new vs(t.vectorValues);throw new Ct(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vs._jsonSchemaVersion="firestore/vectorValue/1.0",vs._jsonSchema={type:fn("string",vs._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=/^__.*__$/;class _V{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Do(t,this.data,this.fieldMask,e,this.fieldTransforms):new jh(t,this.data,e,this.fieldTransforms)}}class jC{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Do(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function FC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ec:n})}}class ey{constructor(t,e,r,o,l,h){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new ey(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.Rc({path:r,mc:!1});return o.fc(t),o}gc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Wd(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(FC(this.Ec)&&gV.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class vV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Am(t)}Dc(t,e,r,o=!1){return new ey({Ec:t,methodName:e,bc:r,path:Dn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(n){const t=n._freezeSettings(),e=Am(n._databaseId);return new vV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function HC(n,t,e,r,o,l={}){const h=n.Dc(l.merge||l.mergeFields?2:0,t,e,o);iy("Data must be an object, but it was:",h,r);const d=qC(r,h);let g,v;if(l.merge)g=new Gi(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const w of l.mergeFields){const A=P_(t,w,e);if(!h.contains(A))throw new Ct(ht.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);ZC(E,A)||E.push(A)}g=new Gi(E),v=h.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,v=h.fieldTransforms;return new _V(new _i(d),g,v)}class Om extends Pm{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Om}}class ny extends Pm{_toFieldTransform(t){return new h4(t.path,new Ch)}isEqual(t){return t instanceof ny}}function yV(n,t,e,r){const o=n.Dc(1,t,e);iy("Data must be an object, but it was:",o,r);const l=[],h=_i.empty();No(r,(g,v)=>{const E=ry(t,g,e);v=Ie(v);const w=o.gc(E);if(v instanceof Om)l.push(E);else{const A=Gh(v,w);A!=null&&(l.push(E),h.set(E,A))}});const d=new Gi(l);return new jC(h,d,o.fieldTransforms)}function TV(n,t,e,r,o,l){const h=n.Dc(1,t,e),d=[P_(t,r,e)],g=[o];if(l.length%2!=0)throw new Ct(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(P_(t,l[A])),g.push(l[A+1]);const v=[],E=_i.empty();for(let A=d.length-1;A>=0;--A)if(!ZC(v,d[A])){const R=d[A];let k=g[A];k=Ie(k);const N=h.gc(R);if(k instanceof Om)v.push(R);else{const H=Gh(k,N);H!=null&&(v.push(R),E.set(R,H))}}const w=new Gi(v);return new jC(E,w,h.fieldTransforms)}function EV(n,t,e,r=!1){return Gh(e,n.Dc(r?4:3,t))}function Gh(n,t){if(GC(n=Ie(n)))return iy("Unsupported field value:",t,n),qC(n,t);if(n instanceof Pm)return function(r,o){if(!FC(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(r,o){const l=[];let h=0;for(const d of r){let g=Gh(d,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(n,t)}return function(r,o){if((r=Ie(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return l4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ue.fromDate(r);return{timestampValue:qd(o.serializer,l)}}if(r instanceof Ue){const l=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(o.serializer,l)}}if(r instanceof _s)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:hC(o.serializer,r._byteString)};if(r instanceof Qe){const l=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vv(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vs)return function(h,d){return{mapValue:{fields:{[BS]:{stringValue:jS},[jd]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw d.wc("VectorValues must only contain numeric values.");return Mv(d.serializer,v)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${mm(r)}`)}(n,t)}function qC(n,t){const e={};return kS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):No(n,(r,o)=>{const l=Gh(o,t.Vc(r));l!=null&&(e[r]=l)}),{mapValue:{fields:e}}}function GC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ue||n instanceof _s||n instanceof pr||n instanceof Qe||n instanceof Pm||n instanceof vs)}function iy(n,t,e){if(!GC(e)||!OS(e)){const r=mm(e);throw r==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+r)}}function P_(n,t,e){if((t=Ie(t))instanceof Im)return t._internalPath;if(typeof t=="string")return ry(n,t);throw Wd("Field path arguments must be of type string or ",n,!1,void 0,e)}const bV=new RegExp("[~\\*/\\[\\]]");function ry(n,t,e){if(t.search(bV)>=0)throw Wd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Im(...t.split("."))._internalPath}catch{throw Wd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Wd(n,t,e,r,o){const l=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new Ct(ht.INVALID_ARGUMENT,d+n+g)}function ZC(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,e,r,o,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Mm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class wV extends YC{data(){return super.data()}}function Mm(n,t){return typeof t=="string"?ry(n,t):t instanceof Im?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sy{}class WC extends sy{}function XC(n,t,...e){let r=[];t instanceof sy&&r.push(t),r=r.concat(e),function(l){const h=l.filter(g=>g instanceof ay).length,d=l.filter(g=>g instanceof km).length;if(h>1||h>0&&d>0)throw new Ct(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class km extends WC{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new km(t,e,r)}_apply(t){const e=this._parse(t);return QC(t._query,e),new Vo(t.firestore,t.converter,y_(t._query,e))}_parse(t){const e=Lm(t.firestore);return function(l,h,d,g,v,E,w){let A;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ct(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Tw(w,E);const k=[];for(const N of w)k.push(yw(g,l,N));A={arrayValue:{values:k}}}else A=yw(g,l,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Tw(w,E),A=EV(d,h,w,E==="in"||E==="not-in");return hn.create(v,E,A)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function AV(n,t,e){const r=t,o=Mm("where",n);return km._create(o,r,e)}class ay extends sy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ay(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:jr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const g of d)QC(h,g),h=y_(h,g)}(t._query,e),new Vo(t.firestore,t.converter,y_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class oy extends WC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new oy(t,e)}_apply(t){const e=function(o,l,h){if(o.startAt!==null)throw new Ct(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ct(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sh(l,h)}(t._query,this._field,this._direction);return new Vo(t.firestore,t.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new ic(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,e))}}function SV(n,t="asc"){const e=t,r=Mm("orderBy",n);return oy._create(r,e)}function yw(n,t,e){if(typeof(e=Ie(e))=="string"){if(e==="")throw new Ct(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(t)&&e.indexOf("/")!==-1)throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(De.fromString(e));if(!Dt.isDocumentKey(r))throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nb(n,new Dt(r))}if(e instanceof Qe)return Nb(n,e._key);throw new Ct(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(e)}.`)}function Tw(n,t){if(!Array.isArray(n)||n.length===0)throw new Ct(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QC(n,t){const e=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Ct(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class CV{convertValue(t,e="none"){switch(So(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ao(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return No(t,(o,l)=>{r[o]=this.convertValue(l,e)}),r}convertVectorValue(t){var e,r,o;const l=(o=(r=(e=t.fields)===null||e===void 0?void 0:e[jd].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>sn(h.doubleValue));return new vs(l)}convertGeoPoint(t){return new _s(sn(t.latitude),sn(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=_m(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(bh(t));default:return null}}convertTimestamp(t){const e=wo(t);return new Ue(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=De.fromString(t);_e(_C(r),9688,{name:t});const o=new wh(r.get(1),r.get(3)),l=new Dt(r.popFirst(5));return o.isEqual(e)||ua(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class sh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cl extends YC{constructor(t,e,r,o,l,h){super(t,e,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Mm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Cl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:fn("string",Cl._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class wd extends Cl{data(t={}){return super.data(t)}}class xl{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new wd(this._firestore,this._userDataWriter,r.key,r,new sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new wd(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new wd(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return d.type!==0&&(v=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:xV(d.type),doc:g,oldIndex:v,newIndex:E}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(e.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(n){n=Ti(n,Qe);const t=Ti(n.firestore,ha);return hV(Rm(t),n._key).then(e=>tx(t,n,e))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:fn("string",xl._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class ly extends CV{constructor(t){super(),this.firestore=t}convertBytes(t){return new pr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qe(this.firestore,null,e)}}function uy(n){n=Ti(n,Vo);const t=Ti(n.firestore,ha),e=Rm(t),r=new ly(t);return KC(n._query),fV(e,n._query).then(o=>new xl(t,r,n,o))}function RV(n,t,e){n=Ti(n,Qe);const r=Ti(n.firestore,ha),o=$C(n.converter,t);return Nm(r,[HC(Lm(r),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,gr.none())])}function Ew(n,t,e,...r){n=Ti(n,Qe);const o=Ti(n.firestore,ha),l=Lm(o);let h;return h=typeof(t=Ie(t))=="string"||t instanceof Im?TV(l,"updateDoc",n._key,t,e,r):yV(l,"updateDoc",n._key,t),Nm(o,[h.toMutation(n._key,gr.exists(!0))])}function IV(n){return Nm(Ti(n.firestore,ha),[new kv(n._key,gr.none())])}function JC(n,t){const e=Ti(n.firestore,ha),r=Ro(n),o=$C(n.converter,t);return Nm(e,[HC(Lm(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function PV(n,...t){var e,r,o;n=Ie(n);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||vw(t[h])||(l=t[h++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(vw(t[h])){const w=t[h];t[h]=(e=w.next)===null||e===void 0?void 0:e.bind(w),t[h+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),t[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,v,E;if(n instanceof Qe)v=Ti(n.firestore,ha),E=vm(n._key.path),g={next:w=>{t[h]&&t[h](tx(v,n,w))},error:t[h+1],complete:t[h+2]};else{const w=Ti(n,Vo);v=Ti(w.firestore,ha),E=w._query;const A=new ly(v);g={next:R=>{t[h]&&t[h](new xl(v,A,w,R))},error:t[h+1],complete:t[h+2]},KC(n._query)}return function(A,R,k,N){const H=new ty(N),j=new Qv(R,H,k);return A.asyncQueue.enqueueAndForget(async()=>Kv(await Kd(A),j)),()=>{H.Ou(),A.asyncQueue.enqueueAndForget(async()=>Wv(await Kd(A),j))}}(Rm(v),E,d,g)}function Nm(n,t){return function(r,o){const l=new sa;return r.asyncQueue.enqueueAndForget(async()=>J3(await cV(r),o,l)),l.promise}(Rm(n),t)}function tx(n,t,e){const r=e.docs.get(t._key),o=new ly(n);return new Cl(n,o,t._key,r,new sh(e.hasPendingWrites,e.fromCache),t.converter)}function cy(){return new ny("serverTimestamp")}(function(t,e=!0){(function(o){tc=o})(Ul),zr(new _r("firestore",(r,{instanceIdentifier:o,options:l})=>{const h=r.getProvider("app").getImmediate(),d=new ha(new ED(r.getProvider("auth-internal")),new AD(h,r.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ct(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(v.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),vi(Eb,bb,t),vi(Eb,bb,"esm2017")})();const LV={apiKey:"AIzaSyD1W2T5HphtC6jac2AIqnKaOCp5XKFWO34",authDomain:"webturismo-9e4b1.firebaseapp.com",projectId:"webturismo-9e4b1",storageBucket:"webturismo-9e4b1.firebasestorage.app",messagingSenderId:"406238504556",appId:"1:406238504556:web:0187e7d200783d75765a49",measurementId:"G-18F1W0TXNN"},Dm=VA(LV),Zi=mV(Dm),Xu=D1(Dm),OV=Xk(Dm);pD(Dm);const MV=[{id:1,nombre:"Ruta Romana",tipo:"Histórica",descripcion:"Descubre los restos de Tarraco.",duracion:"2h",contenido:["Anfiteatro romano de Tarragona","Foro de la Colonia","Murallas romanas de Tarragona","Circo romano","Museo Nacional Arqueológico de Tarragona","Aqüeducte de les Ferreres (Pont del Diable)"],coordenadasJSON:"/data/coordenadas.json",es_predeterminada:!0,imagen:"/src/assets/anfiteatro.jpg"},{id:2,nombre:"Ruta de Montaña",tipo:"Montaña",descripcion:"Conecta con la naturaleza.",duracion:"3h",contenido:["Senderos naturales","Miradores panorámicos","Vegetación autóctona"],coordenadasJSON:"/data/coordenadas.json",es_predeterminada:!0,imagen:"/src/assets/montaña.jpeg"},{id:3,nombre:"Ruta de Playera",tipo:"Playa",descripcion:"Relájate junto al mar.",duracion:"1.5h",contenido:["Anfiteatro romano de Tarragona","Foro de la Colonia","Murallas romanas de Tarragona","Circo romano","Museo Nacional Arqueológico de Tarragona","Aqüeducte de les Ferreres (Pont del Diable)"],coordenadasJSON:"/data/coordenadas.json",es_predeterminada:!0,imagen:"/src/assets/balcon.jpg"}],kV=()=>O.jsx("div",{className:"pantalla-completa",children:O.jsxs("div",{className:"vertical-layout",children:[O.jsx("h1",{children:"Explora Rutas en Tarragona"}),O.jsx("section",{className:"rutas-diagonales",children:MV.slice(0,3).map(n=>O.jsxs(Kn,{to:`/rutas/${n.id}`,className:"tarjeta-diagonal",style:{textDecoration:"none",color:"inherit"},children:[O.jsx("img",{src:n.imagen,alt:n.nombre,style:{cursor:"pointer"}}),O.jsxs("div",{className:"contenido",children:[O.jsx("h2",{children:n.nombre}),O.jsxs("p",{children:[O.jsx("strong",{children:"Tipo:"})," ",n.tipo]}),O.jsx("p",{children:O.jsx("strong",{children:"Incluye:"})}),O.jsx("ul",{children:n.contenido?.map((t,e)=>O.jsx("li",{children:t},e))})]})]},n.id))})]})});var ah={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var NV=ah.exports,bw;function ex(){return bw||(bw=1,function(n,t){(function(e,r){r(t)})(NV,function(e){var r="1.9.4";function o(a){var c,p,T,S;for(p=1,T=arguments.length;p<T;p++){S=arguments[p];for(c in S)a[c]=S[c]}return a}var l=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function h(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var T=p.call(arguments,2);return function(){return a.apply(c,T.length?T.concat(p.call(arguments)):arguments)}}var d=0;function g(a){return"_leaflet_id"in a||(a._leaflet_id=++d),a._leaflet_id}function v(a,c,p){var T,S,I,z;return z=function(){T=!1,S&&(I.apply(p,S),S=!1)},I=function(){T?S=arguments:(a.apply(p,arguments),setTimeout(z,c),T=!0)},I}function E(a,c,p){var T=c[1],S=c[0],I=T-S;return a===T&&p?a:((a-S)%I+I)%I+S}function w(){return!1}function A(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return R(a).split(/\s+/)}function N(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?l(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function H(a,c,p){var T=[];for(var S in a)T.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!c||c.indexOf("?")===-1?"?":"&")+T.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function et(a,c){return a.replace(j,function(p,T){var S=c[T];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(c)),S})}var nt=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function pt(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var vt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function kt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var q=0;function D(a){var c=+new Date,p=Math.max(0,16-(c-q));return q=c+p,window.setTimeout(a,p)}var U=window.requestAnimationFrame||kt("RequestAnimationFrame")||D,G=window.cancelAnimationFrame||kt("CancelAnimationFrame")||kt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Z(a,c,p){if(p&&U===D)a.call(c);else return U.call(window,h(a,c))}function K(a){a&&G.call(window,a)}var F={__proto__:null,extend:o,create:l,bind:h,get lastId(){return d},stamp:g,throttle:v,wrapNum:E,falseFn:w,formatNum:A,trim:R,splitWords:k,setOptions:N,getParamString:H,template:et,isArray:nt,indexOf:pt,emptyImageUrl:vt,requestFn:U,cancelFn:G,requestAnimFrame:Z,cancelAnimFrame:K};function Ce(){}Ce.extend=function(a){var c=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,T=l(p);T.constructor=c,c.prototype=T;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return a.statics&&o(c,a.statics),a.includes&&(Be(a.includes),o.apply(null,[T].concat(a.includes))),o(T,a),delete T.statics,delete T.includes,T.options&&(T.options=p.options?l(p.options):{},o(T.options,a.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,z=T._initHooks.length;I<z;I++)T._initHooks[I].call(this)}},c},Ce.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},Ce.mergeOptions=function(a){return o(this.prototype.options,a),this},Ce.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Be(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=nt(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ot={on:function(a,c,p){if(typeof a=="object")for(var T in a)this._on(T,a[T],c);else{a=k(a);for(var S=0,I=a.length;S<I;S++)this._on(a[S],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var T in a)this._off(T,a[T],c);else{a=k(a);for(var S=arguments.length===1,I=0,z=a.length;I<z;I++)S?this._off(a[I]):this._off(a[I],c,p)}return this},_on:function(a,c,p,T){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var S={fn:c,ctx:p};T&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,c,p){var T,S,I;if(this._events&&(T=this._events[a],!!T)){if(arguments.length===1){if(this._firingCount)for(S=0,I=T.length;S<I;S++)T[S].fn=w;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var z=this._listens(a,c,p);if(z!==!1){var $=T[z];this._firingCount&&($.fn=w,this._events[a]=T=T.slice()),T.splice(z,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var T=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var I=0,z=S.length;I<z;I++){var $=S[I],st=$.fn;$.once&&this.off(a,st,$.ctx),st.call($.ctx||this,T)}this._firingCount--}}return p&&this._propagateEvent(T),this},listens:function(a,c,p,T){typeof a!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(T=!!c,S=void 0,p=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,S,p)!==!1)return!0;if(T){for(var z in this._eventParents)if(this._eventParents[z].listens(a,c,p,T))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var T=this._events[a]||[];if(!c)return!!T.length;p===this&&(p=void 0);for(var S=0,I=T.length;S<I;S++)if(T[S].fn===c&&T[S].ctx===p)return S;return!1},once:function(a,c,p){if(typeof a=="object")for(var T in a)this._on(T,a[T],c,!0);else{a=k(a);for(var S=0,I=a.length;S<I;S++)this._on(a[S],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[g(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[g(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};ot.addEventListener=ot.on,ot.removeEventListener=ot.clearAllEventListeners=ot.off,ot.addOneTimeEventListener=ot.once,ot.fireEvent=ot.fire,ot.hasEventListeners=ot.listens;var bt=Ce.extend(ot);function _t(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var le=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};_t.prototype={clone:function(){return new _t(this.x,this.y)},add:function(a){return this.clone()._add(V(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(V(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new _t(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new _t(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(a){a=V(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=V(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=V(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function V(a,c,p){return a instanceof _t?a:nt(a)?new _t(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new _t(a.x,a.y):new _t(a,c,p)}function lt(a,c){if(a)for(var p=c?[a,c]:a,T=0,S=p.length;T<S;T++)this.extend(p[T])}lt.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof _t||typeof a[0]=="number"||"x"in a)c=p=V(a);else if(a=Tt(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof _t?a=V(a):a=Tt(a),a instanceof lt?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=Tt(a);var c=this.min,p=this.max,T=a.min,S=a.max,I=S.x>=c.x&&T.x<=p.x,z=S.y>=c.y&&T.y<=p.y;return I&&z},overlaps:function(a){a=Tt(a);var c=this.min,p=this.max,T=a.min,S=a.max,I=S.x>c.x&&T.x<p.x,z=S.y>c.y&&T.y<p.y;return I&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,T=Math.abs(c.x-p.x)*a,S=Math.abs(c.y-p.y)*a;return Tt(V(c.x-T,c.y-S),V(p.x+T,p.y+S))},equals:function(a){return a?(a=Tt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Tt(a,c){return!a||a instanceof lt?a:new lt(a,c)}function gt(a,c){if(a)for(var p=c?[a,c]:a,T=0,S=p.length;T<S;T++)this.extend(p[T])}gt.prototype={extend:function(a){var c=this._southWest,p=this._northEast,T,S;if(a instanceof Rt)T=a,S=a;else if(a instanceof gt){if(T=a._southWest,S=a._northEast,!T||!S)return this}else return a?this.extend(wt(a)||At(a)):this;return!c&&!p?(this._southWest=new Rt(T.lat,T.lng),this._northEast=new Rt(S.lat,S.lng)):(c.lat=Math.min(T.lat,c.lat),c.lng=Math.min(T.lng,c.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,T=Math.abs(c.lat-p.lat)*a,S=Math.abs(c.lng-p.lng)*a;return new gt(new Rt(c.lat-T,c.lng-S),new Rt(p.lat+T,p.lng+S))},getCenter:function(){return new Rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Rt||"lat"in a?a=wt(a):a=At(a);var c=this._southWest,p=this._northEast,T,S;return a instanceof gt?(T=a.getSouthWest(),S=a.getNorthEast()):T=S=a,T.lat>=c.lat&&S.lat<=p.lat&&T.lng>=c.lng&&S.lng<=p.lng},intersects:function(a){a=At(a);var c=this._southWest,p=this._northEast,T=a.getSouthWest(),S=a.getNorthEast(),I=S.lat>=c.lat&&T.lat<=p.lat,z=S.lng>=c.lng&&T.lng<=p.lng;return I&&z},overlaps:function(a){a=At(a);var c=this._southWest,p=this._northEast,T=a.getSouthWest(),S=a.getNorthEast(),I=S.lat>c.lat&&T.lat<p.lat,z=S.lng>c.lng&&T.lng<p.lng;return I&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=At(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function At(a,c){return a instanceof gt?a:new gt(a,c)}function Rt(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Rt.prototype={equals:function(a,c){if(!a)return!1;a=wt(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+A(this.lat,a)+", "+A(this.lng,a)+")"},distanceTo:function(a){return oe.distance(this,wt(a))},wrap:function(){return oe.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return At([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Rt(this.lat,this.lng,this.alt)}};function wt(a,c,p){return a instanceof Rt?a:nt(a)&&typeof a[0]!="object"?a.length===3?new Rt(a[0],a[1],a[2]):a.length===2?new Rt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Rt(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Rt(a,c,p)}var Ee={latLngToPoint:function(a,c){var p=this.projection.project(a),T=this.scale(c);return this.transformation._transform(p,T)},pointToLatLng:function(a,c){var p=this.scale(c),T=this.transformation.untransform(a,p);return this.projection.unproject(T)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),T=this.transformation.transform(c.min,p),S=this.transformation.transform(c.max,p);return new lt(T,S)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?E(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?E(a.lat,this.wrapLat,!0):a.lat,T=a.alt;return new Rt(p,c,T)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),T=c.lat-p.lat,S=c.lng-p.lng;if(T===0&&S===0)return a;var I=a.getSouthWest(),z=a.getNorthEast(),$=new Rt(I.lat-T,I.lng-S),st=new Rt(z.lat-T,z.lng-S);return new gt($,st)}},oe=o({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,T=a.lat*p,S=c.lat*p,I=Math.sin((c.lat-a.lat)*p/2),z=Math.sin((c.lng-a.lng)*p/2),$=I*I+Math.cos(T)*Math.cos(S)*z*z,st=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*st}}),Ei=6378137,Wi={R:Ei,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,T=Math.max(Math.min(p,a.lat),-p),S=Math.sin(T*c);return new _t(this.R*a.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var c=180/Math.PI;return new Rt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=Ei*Math.PI;return new lt([-a,-a],[a,a])}()};function bi(a,c,p,T){if(nt(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=T}bi.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new _t((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function wi(a,c,p,T){return new bi(a,c,p,T)}var yr=o({},oe,{code:"EPSG:3857",projection:Wi,transformation:function(){var a=.5/(Math.PI*Wi.R);return wi(a,.5,-a,.5)}()}),As=o({},yr,{code:"EPSG:900913"});function ga(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function zo(a,c){var p="",T,S,I,z,$,st;for(T=0,I=a.length;T<I;T++){for($=a[T],S=0,z=$.length;S<z;S++)st=$[S],p+=(S?"L":"M")+st.x+" "+st.y;p+=c?Ot.svg?"z":"x":""}return p||"M0 0"}var Un=document.documentElement.style,_a="ActiveXObject"in window,Bo=_a&&!document.addEventListener,Ss="msLaunchUri"in navigator&&!("documentMode"in document),Tr=Bn("webkit"),Fl=Bn("android"),Cs=Bn("android 2")||Bn("android 3"),jo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Hl=Fl&&Bn("Google")&&jo<537&&!("AudioNode"in window),Pe=!!window.opera,fe=!Ss&&Bn("chrome"),zn=Bn("gecko")&&!Tr&&!Pe&&!_a,vn=!fe&&Bn("safari"),Fo=Bn("phantom"),ql="OTransition"in Un,xs=navigator.platform.indexOf("Win")===0,Fr=_a&&"transition"in Un,Er="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Cs,li="MozPerspective"in Un,va=!window.L_DISABLE_3D&&(Fr||Er||li)&&!ql&&!Fo,Ai=typeof orientation<"u"||Bn("mobile"),Ho=Ai&&Tr,qo=Ai&&Er,ya=!window.PointerEvent&&window.MSPointerEvent,Xi=!!(window.PointerEvent||ya),Qi="ontouchstart"in window||!!window.TouchEvent,Go=!window.L_NO_TOUCH&&(Qi||Xi),$i=Ai&&Pe,Zo=Ai&&zn,Hr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ta=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",w,c),window.removeEventListener("testPassiveEventSupport",w,c)}catch{}return a}(),qr=function(){return!!document.createElement("canvas").getContext}(),Ea=!!(document.createElementNS&&ga("svg").createSVGRect),Le=!!Ea&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),tn=!Ea&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Ke=navigator.platform.indexOf("Mac")===0,ui=navigator.platform.indexOf("Linux")===0;function Bn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ot={ie:_a,ielt9:Bo,edge:Ss,webkit:Tr,android:Fl,android23:Cs,androidStock:Hl,opera:Pe,chrome:fe,gecko:zn,safari:vn,phantom:Fo,opera12:ql,win:xs,ie3d:Fr,webkit3d:Er,gecko3d:li,any3d:va,mobile:Ai,mobileWebkit:Ho,mobileWebkit3d:qo,msPointer:ya,pointer:Xi,touch:Go,touchNative:Qi,mobileOpera:$i,mobileGecko:Zo,retina:Hr,passiveEvents:Ta,canvas:qr,svg:Ea,vml:tn,inlineSvg:Le,mac:Ke,linux:ui},br=Ot.msPointer?"MSPointerDown":"pointerdown",Yo=Ot.msPointer?"MSPointerMove":"pointermove",Gr=Ot.msPointer?"MSPointerUp":"pointerup",wr=Ot.msPointer?"MSPointerCancel":"pointercancel",Si={touchstart:br,touchmove:Yo,touchend:Gr,touchcancel:wr},Ci={touchstart:Is,touchmove:Rs,touchend:Rs,touchcancel:Rs},Rn={},yn=!1;function He(a,c,p){return c==="touchstart"&&Gl(),Ci[c]?(p=Ci[c].bind(this,p),a.addEventListener(Si[c],p,!1),p):(console.warn("wrong event specified:",c),w)}function Ko(a,c,p){if(!Si[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Si[c],p,!1)}function ba(a){Rn[a.pointerId]=a}function xi(a){Rn[a.pointerId]&&(Rn[a.pointerId]=a)}function Ji(a){delete Rn[a.pointerId]}function Gl(){yn||(document.addEventListener(br,ba,!0),document.addEventListener(Yo,xi,!0),document.addEventListener(Gr,Ji,!0),document.addEventListener(wr,Ji,!0),yn=!0)}function Rs(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Rn)c.touches.push(Rn[p]);c.changedTouches=[c],a(c)}}function Is(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&be(c),Rs(a,c)}function Zl(a){var c={},p,T;for(T in a)p=a[T],c[T]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Zr=200;function tr(a,c){a.addEventListener("dblclick",c);var p=0,T;function S(I){if(I.detail!==1){T=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var z=Sa(I);if(!(z.some(function(st){return st instanceof HTMLLabelElement&&st.attributes.for})&&!z.some(function(st){return st instanceof HTMLInputElement||st instanceof HTMLSelectElement}))){var $=Date.now();$-p<=Zr?(T++,T===2&&c(Zl(I))):T=1,p=$}}}return a.addEventListener("click",S),{dblclick:c,simDblclick:S}}function dn(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Ar=Ri(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yr=Ri(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),er=Yr==="webkitTransition"||Yr==="OTransition"?Yr+"End":"transitionend";function Ps(a){return typeof a=="string"?document.getElementById(a):a}function nr(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(a,null);p=T?T[c]:null}return p==="auto"?null:p}function $t(a,c,p){var T=document.createElement(a);return T.className=c||"",p&&p.appendChild(T),T}function pe(a){var c=a.parentNode;c&&c.removeChild(a)}function an(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function ir(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Kr(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Wr(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=Ve(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Gt(a,c){if(a.classList!==void 0)for(var p=k(c),T=0,S=p.length;T<S;T++)a.classList.add(p[T]);else if(!Wr(a,c)){var I=Ve(a);Wo(a,(I?I+" ":"")+c)}}function ve(a,c){a.classList!==void 0?a.classList.remove(c):Wo(a,R((" "+Ve(a)+" ").replace(" "+c+" "," ")))}function Wo(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function Ve(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Oe(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Ls(a,c)}function Ls(a,c){var p=!1,T="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(T)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+T+"(opacity="+c+")"}function Ri(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function In(a,c,p){var T=c||new _t(0,0);a.style[Ar]=(Ot.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(p?" scale("+p+")":"")}function Bt(a,c){a._leaflet_pos=c,Ot.any3d?In(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Jn(a){return a._leaflet_pos||new _t(0,0)}var Tn,Ii,wa;if("onselectstart"in document)Tn=function(){Vt(window,"selectstart",be)},Ii=function(){ue(window,"selectstart",be)};else{var Sr=Ri(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tn=function(){if(Sr){var a=document.documentElement.style;wa=a[Sr],a[Sr]="none"}},Ii=function(){Sr&&(document.documentElement.style[Sr]=wa,wa=void 0)}}function Os(){Vt(window,"dragstart",be)}function Xo(){ue(window,"dragstart",be)}var Aa,Xr;function Pi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Pn(),Aa=a,Xr=a.style.outlineStyle,a.style.outlineStyle="none",Vt(window,"keydown",Pn))}function Pn(){Aa&&(Aa.style.outlineStyle=Xr,Aa=void 0,Xr=void 0,ue(window,"keydown",Pn))}function rr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Li(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Qo={__proto__:null,TRANSFORM:Ar,TRANSITION:Yr,TRANSITION_END:er,get:Ps,getStyle:nr,create:$t,remove:pe,empty:an,toFront:ir,toBack:Kr,hasClass:Wr,addClass:Gt,removeClass:ve,setClass:Wo,getClass:Ve,setOpacity:Oe,testProp:Ri,setTransform:In,setPosition:Bt,getPosition:Jn,get disableTextSelection(){return Tn},get enableTextSelection(){return Ii},disableImageDrag:Os,enableImageDrag:Xo,preventOutline:Pi,restoreOutline:Pn,getSizedParentNode:rr,getScale:Li};function Vt(a,c,p,T){if(c&&typeof c=="object")for(var S in c)Cr(a,S,c[S],p);else{c=k(c);for(var I=0,z=c.length;I<z;I++)Cr(a,c[I],p,T)}return this}var ti="_leaflet_events";function ue(a,c,p,T){if(arguments.length===1)ci(a),delete a[ti];else if(c&&typeof c=="object")for(var S in c)hi(a,S,c[S],p);else if(c=k(c),arguments.length===2)ci(a,function($){return pt(c,$)!==-1});else for(var I=0,z=c.length;I<z;I++)hi(a,c[I],p,T);return this}function ci(a,c){for(var p in a[ti]){var T=p.split(/\d/)[0];(!c||c(T))&&hi(a,T,null,null,p)}}var jn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Cr(a,c,p,T){var S=c+g(p)+(T?"_"+g(T):"");if(a[ti]&&a[ti][S])return this;var I=function($){return p.call(T||a,$||window.event)},z=I;!Ot.touchNative&&Ot.pointer&&c.indexOf("touch")===0?I=He(a,c,I):Ot.touch&&c==="dblclick"?I=tr(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(jn[c]||c,I,Ot.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function($){$=$||window.event,Rr(a,$)&&z($)},a.addEventListener(jn[c],I,!1)):a.addEventListener(c,z,!1):a.attachEvent("on"+c,I),a[ti]=a[ti]||{},a[ti][S]=I}function hi(a,c,p,T,S){S=S||c+g(p)+(T?"_"+g(T):"");var I=a[ti]&&a[ti][S];if(!I)return this;!Ot.touchNative&&Ot.pointer&&c.indexOf("touch")===0?Ko(a,c,I):Ot.touch&&c==="dblclick"?dn(a,I):"removeEventListener"in a?a.removeEventListener(jn[c]||c,I,!1):a.detachEvent("on"+c,I),a[ti][S]=null}function Fn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Oi(a){return Cr(a,"wheel",Fn),this}function xr(a){return Vt(a,"mousedown touchstart dblclick contextmenu",Fn),a._leaflet_disable_click=!0,this}function be(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function En(a){return be(a),Fn(a),this}function Sa(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function en(a,c){if(!c)return new _t(a.clientX,a.clientY);var p=Li(c),T=p.boundingClientRect;return new _t((a.clientX-T.left)/p.x-c.clientLeft,(a.clientY-T.top)/p.y-c.clientTop)}var de=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ms(a){return Ot.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/de:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Rr(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Yl={__proto__:null,on:Vt,off:ue,stopPropagation:Fn,disableScrollPropagation:Oi,disableClickPropagation:xr,preventDefault:be,stop:En,getPropagationPath:Sa,getMousePosition:en,getWheelDelta:Ms,isExternalTarget:Rr,addListener:Vt,removeListener:ue},ks=bt.extend({run:function(a,c,p,T){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Jn(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),Bt(this._el,p),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Kt=bt.extend({options:{crs:yr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=N(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(wt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vt(this._proxy,er,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(wt(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var T=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var T=this.getZoomScale(c),S=this.getSize().divideBy(2),I=a instanceof _t?a:this.latLngToContainerPoint(a),z=I.subtract(S).multiplyBy(1-1/T),$=this.containerPointToLatLng(S.add(z));return this.setView($,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():At(a);var p=V(c.paddingTopLeft||c.padding||[0,0]),T=V(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(T));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var I=T.subtract(p).divideBy(2),z=this.project(a.getSouthWest(),S),$=this.project(a.getNorthEast(),S),st=this.unproject(z.add($).divideBy(2).add(I),S);return{center:st,zoom:S}},fitBounds:function(a,c){if(a=At(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=V(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Gt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Ot.any3d)return this.setView(a,c,p);this._stop();var T=this.project(this.getCenter()),S=this.project(a),I=this.getSize(),z=this._zoom;a=wt(a),c=c===void 0?z:c;var $=Math.max(I.x,I.y),st=$*this.getZoomScale(z,c),mt=S.distanceTo(T)||1,St=1.42,It=St*St;function Lt(je){var hr=je?-1:1,kr=je?st:$,ns=st*st-$*$+hr*It*It*mt*mt,Nr=2*kr*It*mt,fl=ns/Nr,au=Math.sqrt(fl*fl+1)-fl,dl=au<1e-9?-18:Math.log(au);return dl}function qt(je){return(Math.exp(je)-Math.exp(-je))/2}function ke(je){return(Math.exp(je)+Math.exp(-je))/2}function qe(je){return qt(je)/ke(je)}var wn=Lt(0);function fi(je){return $*(ke(wn)/ke(wn+St*je))}function rf(je){return $*(ke(wn)*qe(wn+St*je)-qt(wn))/It}function sf(je){return 1-Math.pow(1-je,1.5)}var hl=Date.now(),Fa=(Lt(1)-wn)/St,af=p.duration?1e3*p.duration:1e3*Fa*.8;function Ha(){var je=(Date.now()-hl)/af,hr=sf(je)*Fa;je<=1?(this._flyToFrame=Z(Ha,this),this._move(this.unproject(T.add(S.subtract(T).multiplyBy(rf(hr)/mt)),z),this.getScaleZoom($/fi(hr),z),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Ha.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=At(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),T=this._limitCenter(p,this._zoom,At(a));return p.equals(T)||this.panTo(T,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=V(c.paddingTopLeft||c.padding||[0,0]),T=V(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),I=this.project(a),z=this.getPixelBounds(),$=Tt([z.min.add(p),z.max.subtract(T)]),st=$.getSize();if(!$.contains(I)){this._enforcingBounds=!0;var mt=I.subtract($.getCenter()),St=$.extend(I).getSize().subtract(st);S.x+=mt.x<0?-St.x:St.x,S.y+=mt.y<0?-St.y:St.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),T=c.divideBy(2).round(),S=p.divideBy(2).round(),I=T.subtract(S);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=h(this._handleGeolocationResponse,this),p=h(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,T=new Rt(c,p),S=T.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var z=this.getBoundsZoom(S);this.setView(T,I.maxZoom?Math.min(z,I.maxZoom):z)}var $={latlng:T,bounds:S,timestamp:a.timestamp};for(var st in a.coords)typeof a.coords[st]=="number"&&($[st]=a.coords[st]);this.fire("locationfound",$)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)pe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),T=$t("div",p,c||this._mapPane);return a&&(this._panes[a]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new gt(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=At(a),p=V(p||[0,0]);var T=this.getZoom()||0,S=this.getMinZoom(),I=this.getMaxZoom(),z=a.getNorthWest(),$=a.getSouthEast(),st=this.getSize().subtract(p),mt=Tt(this.project($,T),this.project(z,T)).getSize(),St=Ot.any3d?this.options.zoomSnap:1,It=st.x/mt.x,Lt=st.y/mt.y,qt=c?Math.max(It,Lt):Math.min(It,Lt);return T=this.getScaleZoom(qt,T),St&&(T=Math.round(T/(St/100))*(St/100),T=c?Math.ceil(T/St)*St:Math.floor(T/St)*St),Math.max(S,Math.min(I,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _t(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new lt(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var T=p.zoom(a*p.scale(c));return isNaN(T)?1/0:T},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(wt(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(V(a),c)},layerPointToLatLng:function(a){var c=V(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(wt(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(wt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(At(a))},distance:function(a,c){return this.options.crs.distance(wt(a),wt(c))},containerPointToLayerPoint:function(a){return V(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return V(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(V(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(a)))},mouseEventToContainerPoint:function(a){return en(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Ps(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Vt(c,"scroll",this._onScroll,this),this._containerId=g(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Gt(a,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=nr(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Bt(this._mapPane,new _t(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Gt(a.markerPane,"leaflet-zoom-hide"),Gt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){Bt(this._mapPane,new _t(0,0));var T=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,p)._move(a,c)._moveEnd(S),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,T){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),T?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Bt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[g(this._container)]=this;var c=a?ue:Vt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],T,S=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,z=!1;I;){if(T=this._targets[g(I)],T&&(c==="click"||c==="preclick")&&this._draggableMoved(T)){z=!0;break}if(T&&T.listens(c,!0)&&(S&&!Rr(I,a)||(p.push(T),S))||I===this._container)break;I=I.parentNode}return!p.length&&!z&&!S&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&Pi(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var T=o({},a);T.type="preclick",this._fireDOMEvent(T,T.type,p)}var S=this._findEventTargets(a,c);if(p){for(var I=[],z=0;z<p.length;z++)p[z].listens(c,!0)&&I.push(p[z]);S=I.concat(S)}if(S.length){c==="contextmenu"&&be(a);var $=S[0],st={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var mt=$.getLatLng&&(!$._radius||$._radius<=10);st.containerPoint=mt?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(a),st.layerPoint=this.containerPointToLayerPoint(st.containerPoint),st.latlng=mt?$.getLatLng():this.layerPointToLatLng(st.layerPoint)}for(z=0;z<S.length;z++)if(S[z].fire(c,st,!0),st.originalEvent._stopped||S[z].options.bubblingMouseEvents===!1&&pt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Jn(this._mapPane)||new _t(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var T=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(T)},_latLngBoundsToNewLayerBounds:function(a,c,p){var T=this._getNewPixelOrigin(p,c);return Tt([this.project(a.getSouthWest(),c)._subtract(T),this.project(a.getNorthWest(),c)._subtract(T),this.project(a.getSouthEast(),c)._subtract(T),this.project(a.getNorthEast(),c)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var T=this.project(a,c),S=this.getSize().divideBy(2),I=new lt(T.subtract(S),T.add(S)),z=this._getBoundsOffset(I,p,c);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?a:this.unproject(T.add(z),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),T=new lt(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(T,c))},_getBoundsOffset:function(a,c,p){var T=Tt(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),S=T.min.subtract(a.min),I=T.max.subtract(a.max),z=this._rebound(S.x,-I.x),$=this._rebound(S.y,-I.y);return new _t(z,$)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),T=Ot.any3d?this.options.zoomSnap:1;return T&&(a=Math.round(a/T)*T),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=$t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=Ar,T=this._proxy.style[p];In(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),T===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();In(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(c),S=this._getCenterOffset(a)._divideBy(1-1/T);return p.animate!==!0&&!this.getSize().contains(S)?!1:(Z(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,T){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sr(a,c){return new Kt(a,c)}var mn=Ce.extend({options:{position:"topright"},initialize:function(a){N(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),T=a._controlCorners[p];return Gt(c,"leaflet-control"),p.indexOf("bottom")!==-1?T.insertBefore(c,T.firstChild):T.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),bn=function(a){return new mn(a)};Kt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=$t("div",c+"control-container",this._container);function T(S,I){var z=c+S+" "+c+I;a[S+I]=$t("div",z,p)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)pe(this._controlCorners[a]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $o=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,T){return p<T?-1:T<p?1:0}},initialize:function(a,c,p){N(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in a)this._addLayer(a[T],T);for(T in c)this._addLayer(c[T],T,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return mn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(g(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=$t("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),xr(c),Oi(c);var T=this._section=$t("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Vt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=$t("a",a+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),Vt(S,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){be(I),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=$t("div",a+"-base",T),this._separator=$t("div",a+"-separator",T),this._overlaysList=$t("div",a+"-overlays",T),c.appendChild(T)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&g(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(h(function(T,S){return this.options.sortFunction(T.layer,S.layer,T.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;an(this._baseLayersList),an(this._overlaysList),this._layerControlInputs=[];var a,c,p,T,S=0;for(p=0;p<this._layers.length;p++)T=this._layers[p],this._addItem(T),c=c||T.overlay,a=a||!T.overlay,S+=T.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(g(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=p,T.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),T;a.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=p):T=this._createRadioElement("leaflet-base-layers_"+g(this),p),this._layerControlInputs.push(T),T.layerId=g(a.layer),Vt(T,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(T),I.appendChild(S);var z=a.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,T=[],S=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],p=this._getLayer(c.layerId).layer,c.checked?T.push(p):c.checked||S.push(p);for(I=0;I<S.length;I++)this._map.hasLayer(S[I])&&this._map.removeLayer(S[I]);for(I=0;I<T.length;I++)this._map.hasLayer(T[I])||this._map.addLayer(T[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,T=this._map.getZoom(),S=a.length-1;S>=0;S--)c=a[S],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&T<p.options.minZoom||p.options.maxZoom!==void 0&&T>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Vt(a,"click",be),this.expand();var c=this;setTimeout(function(){ue(a,"click",be),c._preventClick=!1})}}),oc=function(a,c,p){return new $o(a,c,p)},Ir=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=$t("div",c+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,T,S){var I=$t("a",p,T);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),xr(I),Vt(I,"click",En),Vt(I,"click",S,this),Vt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";ve(this._zoomInButton,c),ve(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Gt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Gt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ir,this.addControl(this.zoomControl))});var Ca=function(a){return new Ir(a)},xa=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=$t("div",c),T=this.options;return this._addScales(T,c+"-line",p),a.on(T.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=$t("div",c,p)),a.imperial&&(this._iScale=$t("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,T,S;c>5280?(p=c/5280,T=this._getRoundNum(p),this._updateScale(this._iScale,T+" mi",T/p)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Ra=function(a){return new xa(a)},Kl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qr=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?Kl+" ":"")+"Leaflet</a>"},initialize:function(a){N(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=$t("div","leaflet-control-attribution"),xr(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook(function(){this.options.attributionControl&&new Qr().addTo(this)});var lc=function(a){return new Qr(a)};mn.Layers=$o,mn.Zoom=Ir,mn.Scale=xa,mn.Attribution=Qr,bn.layers=oc,bn.zoom=Ca,bn.scale=Ra,bn.attribution=lc;var Hn=Ce.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(a,c){return a.addHandler(c,this),this};var Ns={Events:ot},Jo=Ot.touch?"touchstart mousedown":"mousedown",Mi=bt.extend({options:{clickTolerance:3},initialize:function(a,c,p,T){N(this,T),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(Vt(this._dragStartTarget,Jo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Mi._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,Jo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Wr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Mi._dragging===this&&this.finishDrag();return}if(!(Mi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Mi._dragging=this,this._preventOutline&&Pi(this._element),Os(),Tn(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=rr(this._element);this._startPoint=new _t(c.clientX,c.clientY),this._startPos=Jn(this._element),this._parentScale=Li(p);var T=a.type==="mousedown";Vt(document,T?"mousemove":"touchmove",this._onMove,this),Vt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new _t(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,be(a),this._moved||(this.fire("dragstart"),this._moved=!0,Gt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Bt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ve(document.body,"leaflet-dragging"),this._lastTarget&&(ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),Xo(),Ii();var c=this._moved&&this._moving;this._moving=!1,Mi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ia(a,c,p){var T,S=[1,4,2,8],I,z,$,st,mt,St,It,Lt;for(I=0,St=a.length;I<St;I++)a[I]._code=ar(a[I],c);for($=0;$<4;$++){for(It=S[$],T=[],I=0,St=a.length,z=St-1;I<St;z=I++)st=a[I],mt=a[z],st._code&It?mt._code&It||(Lt=on(mt,st,It,c,p),Lt._code=ar(Lt,c),T.push(Lt)):(mt._code&It&&(Lt=on(mt,st,It,c,p),Lt._code=ar(Lt,c),T.push(Lt)),T.push(st));a=T}return a}function $r(a,c){var p,T,S,I,z,$,st,mt,St;if(!a||a.length===0)throw new Error("latlngs not passed");m(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var It=wt([0,0]),Lt=At(a),qt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());qt<1700&&(It=Pa(a));var ke=a.length,qe=[];for(p=0;p<ke;p++){var wn=wt(a[p]);qe.push(c.project(wt([wn.lat-It.lat,wn.lng-It.lng])))}for($=st=mt=0,p=0,T=ke-1;p<ke;T=p++)S=qe[p],I=qe[T],z=S.y*I.x-I.y*S.x,st+=(S.x+I.x)*z,mt+=(S.y+I.y)*z,$+=z*3;$===0?St=qe[0]:St=[st/$,mt/$];var fi=c.unproject(V(St));return wt([fi.lat+It.lat,fi.lng+It.lng])}function Pa(a){for(var c=0,p=0,T=0,S=0;S<a.length;S++){var I=wt(a[S]);c+=I.lat,p+=I.lng,T++}return wt([c/T,p/T])}var La={__proto__:null,clipPolygon:Ia,polygonCenter:$r,centroid:Pa};function tl(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Xl(a,p),a=Wl(a,p),a}function Oa(a,c,p){return Math.sqrt(qn(a,c,p,!0))}function Pr(a,c,p){return qn(a,c,p)}function Wl(a,c){var p=a.length,T=typeof Uint8Array<"u"?Uint8Array:Array,S=new T(p);S[0]=S[p-1]=1,Ma(a,S,c,0,p-1);var I,z=[];for(I=0;I<p;I++)S[I]&&z.push(a[I]);return z}function Ma(a,c,p,T,S){var I=0,z,$,st;for($=T+1;$<=S-1;$++)st=qn(a[$],a[T],a[S],!0),st>I&&(z=$,I=st);I>p&&(c[z]=1,Ma(a,c,p,T,z),Ma(a,c,p,z,S))}function Xl(a,c){for(var p=[a[0]],T=1,S=0,I=a.length;T<I;T++)Ql(a[T],a[S])>c&&(p.push(a[T]),S=T);return S<I-1&&p.push(a[I-1]),p}var el;function Ds(a,c,p,T,S){var I=T?el:ar(a,p),z=ar(c,p),$,st,mt;for(el=z;;){if(!(I|z))return[a,c];if(I&z)return!1;$=I||z,st=on(a,c,$,p,S),mt=ar(st,p),$===I?(a=st,I=mt):(c=st,z=mt)}}function on(a,c,p,T,S){var I=c.x-a.x,z=c.y-a.y,$=T.min,st=T.max,mt,St;return p&8?(mt=a.x+I*(st.y-a.y)/z,St=st.y):p&4?(mt=a.x+I*($.y-a.y)/z,St=$.y):p&2?(mt=st.x,St=a.y+z*(st.x-a.x)/I):p&1&&(mt=$.x,St=a.y+z*($.x-a.x)/I),new _t(mt,St,S)}function ar(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Ql(a,c){var p=c.x-a.x,T=c.y-a.y;return p*p+T*T}function qn(a,c,p,T){var S=c.x,I=c.y,z=p.x-S,$=p.y-I,st=z*z+$*$,mt;return st>0&&(mt=((a.x-S)*z+(a.y-I)*$)/st,mt>1?(S=p.x,I=p.y):mt>0&&(S+=z*mt,I+=$*mt)),z=a.x-S,$=a.y-I,T?z*z+$*$:new _t(S,I)}function m(a){return!nt(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function b(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),m(a)}function C(a,c){var p,T,S,I,z,$,st,mt;if(!a||a.length===0)throw new Error("latlngs not passed");m(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var St=wt([0,0]),It=At(a),Lt=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());Lt<1700&&(St=Pa(a));var qt=a.length,ke=[];for(p=0;p<qt;p++){var qe=wt(a[p]);ke.push(c.project(wt([qe.lat-St.lat,qe.lng-St.lng])))}for(p=0,T=0;p<qt-1;p++)T+=ke[p].distanceTo(ke[p+1])/2;if(T===0)mt=ke[0];else for(p=0,I=0;p<qt-1;p++)if(z=ke[p],$=ke[p+1],S=z.distanceTo($),I+=S,I>T){st=(I-T)/S,mt=[$.x-st*($.x-z.x),$.y-st*($.y-z.y)];break}var wn=c.unproject(V(mt));return wt([wn.lat+St.lat,wn.lng+St.lng])}var M={__proto__:null,simplify:tl,pointToSegmentDistance:Oa,closestPointOnSegment:Pr,clipSegment:Ds,_getEdgeIntersection:on,_getBitCode:ar,_sqClosestPointOnSegment:qn,isFlat:m,_flat:b,polylineCenter:C},Q={project:function(a){return new _t(a.lng,a.lat)},unproject:function(a){return new Rt(a.y,a.x)},bounds:new lt([-180,-90],[180,90])},at={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,T=a.lat*c,S=this.R_MINOR/p,I=Math.sqrt(1-S*S),z=I*Math.sin(T),$=Math.tan(Math.PI/4-T/2)/Math.pow((1-z)/(1+z),I/2);return T=-p*Math.log(Math.max($,1e-10)),new _t(a.lng*c*p,T)},unproject:function(a){for(var c=180/Math.PI,p=this.R,T=this.R_MINOR/p,S=Math.sqrt(1-T*T),I=Math.exp(-a.y/p),z=Math.PI/2-2*Math.atan(I),$=0,st=.1,mt;$<15&&Math.abs(st)>1e-7;$++)mt=S*Math.sin(z),mt=Math.pow((1-mt)/(1+mt),S/2),st=Math.PI/2-2*Math.atan(I*mt)-z,z+=st;return new Rt(z*c,a.x*c/p)}},Et={__proto__:null,LonLat:Q,Mercator:at,SphericalMercator:Wi},ie=o({},oe,{code:"EPSG:3395",projection:at,transformation:function(){var a=.5/(Math.PI*at.R);return wi(a,.5,-a,.5)}()}),We=o({},oe,{code:"EPSG:4326",projection:Q,transformation:wi(1/180,1,-1/180,.5)}),re=o({},Ee,{projection:Q,transformation:wi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,T=c.lat-a.lat;return Math.sqrt(p*p+T*T)},infinite:!0});Ee.Earth=oe,Ee.EPSG3395=ie,Ee.EPSG3857=yr,Ee.EPSG900913=As,Ee.EPSG4326=We,Ee.Simple=re;var ge=bt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[g(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[g(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=g(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=g(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return g(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?nt(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[g(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=g(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var T in this._zoomBoundLayers){var S=this._zoomBoundLayers[T].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Me=ge.extend({initialize:function(a,c){N(this,c),this._layers={};var p,T;if(a)for(p=0,T=a.length;p<T;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,T;for(p in this._layers)T=this._layers[p],T[a]&&T[a].apply(T,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return g(a)}}),Lr=function(a,c){return new Me(a,c)},xe=Me.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Me.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Me.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new gt;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),or=function(a,c){return new xe(a,c)},lr=Ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){N(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(T,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(a,c){var p=this.options,T=p[c+"Size"];typeof T=="number"&&(T=[T,T]);var S=V(T),I=V(c==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ot.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function $l(a){return new lr(a)}var ka=lr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ka.imagePath!="string"&&(ka.imagePath=this._detectIconPath()),(this.options.imagePath||ka.imagePath)+lr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,T,S){var I=T.exec(p);return I&&I[S]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=$t("div","leaflet-default-icon-path",document.body),c=nr(a,"background-image")||nr(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),uc=Hn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Mi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Gt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,T=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,I=Jn(c._icon),z=p.getPixelBounds(),$=p.getPixelOrigin(),st=Tt(z.min._subtract($).add(S),z.max._subtract($).subtract(S));if(!st.contains(I)){var mt=V((Math.max(st.max.x,I.x)-st.max.x)/(z.max.x-st.max.x)-(Math.min(st.min.x,I.x)-st.min.x)/(z.min.x-st.min.x),(Math.max(st.max.y,I.y)-st.max.y)/(z.max.y-st.max.y)-(Math.min(st.min.y,I.y)-st.min.y)/(z.min.y-st.min.y)).multiplyBy(T);p.panBy(mt,{animate:!1}),this._draggable._newPos._add(mt),this._draggable._startPos._add(mt),Bt(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Z(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,T=Jn(c._icon),S=c._map.layerPointToLatLng(T);p&&Bt(p,T),c._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Na=ge.extend({options:{icon:new ka,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){N(this,c),this._latlng=wt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=wt(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),T=!1;p!==this._icon&&(this._icon&&this._removeIcon(),T=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Gt(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),I=!1;S!==this._shadow&&(this._removeShadow(),I=!0),S&&(Gt(S,c),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Bt(this._icon,a),this._shadow&&Bt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Oe(this._icon,a),this._shadow&&Oe(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?V(c.iconSize):V(0,0),T=c.iconAnchor?V(c.iconAnchor):V(0,0);a.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:p.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cc(a,c){return new Na(a,c)}var Or=ge.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return N(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),nl=Or.extend({options:{fill:!0,radius:10},initialize:function(a,c){N(this,c),this._latlng=wt(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=wt(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Or.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),T=[a+p,c+p];this._pxBounds=new lt(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qh(a,c){return new nl(a,c)}var hc=nl.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),N(this,c),this._latlng=wt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new gt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Or.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,T=p.options.crs;if(T.distance===oe.distance){var S=Math.PI/180,I=this._mRadius/oe.R/S,z=p.project([c+I,a]),$=p.project([c-I,a]),st=z.add($).divideBy(2),mt=p.unproject(st).lat,St=Math.acos((Math.cos(I*S)-Math.sin(c*S)*Math.sin(mt*S))/(Math.cos(c*S)*Math.cos(mt*S)))/S;(isNaN(St)||St===0)&&(St=I/Math.cos(Math.PI/180*c)),this._point=st.subtract(p.getPixelOrigin()),this._radius=isNaN(St)?0:st.x-p.project([mt,a-St]).x,this._radiusY=st.y-z.y}else{var It=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(It).x}this._updateBounds()}});function qm(a,c,p){return new hc(a,c,p)}var Mr=Or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){N(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,T=qn,S,I,z=0,$=this._parts.length;z<$;z++)for(var st=this._parts[z],mt=1,St=st.length;mt<St;mt++){S=st[mt-1],I=st[mt];var It=T(a,S,I,!0);It<c&&(c=It,p=T(a,S,I))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=wt(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new gt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return m(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=m(a),T=0,S=a.length;T<S;T++)p?(c[T]=wt(a[T]),this._bounds.extend(c[T])):c[T]=this._convertLatLngs(a[T]);return c},_project:function(){var a=new lt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new _t(a,a);this._rawPxBounds&&(this._pxBounds=new lt([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var T=a[0]instanceof Rt,S=a.length,I,z;if(T){for(z=[],I=0;I<S;I++)z[I]=this._map.latLngToLayerPoint(a[I]),p.extend(z[I]);c.push(z)}else for(I=0;I<S;I++)this._projectLatlngs(a[I],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,T,S,I,z,$,st;for(p=0,S=0,I=this._rings.length;p<I;p++)for(st=this._rings[p],T=0,z=st.length;T<z-1;T++)$=Ds(st[T],st[T+1],a,T,!0),$&&(c[S]=c[S]||[],c[S].push($[0]),($[1]!==st[T+1]||T===z-2)&&(c[S].push($[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,T=a.length;p<T;p++)a[p]=tl(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,T,S,I,z,$,st=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,I=this._parts.length;p<I;p++)for($=this._parts[p],T=0,z=$.length,S=z-1;T<z;S=T++)if(!(!c&&T===0)&&Oa(a,$[S],$[T])<=st)return!0;return!1}});function Gm(a,c){return new Mr(a,c)}Mr._flat=b;var Da=Mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $r(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Mr.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Rt&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){Mr.prototype._setLatLngs.call(this,a),m(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return m(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new _t(c,c);if(a=new lt(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,S=this._rings.length,I;T<S;T++)I=Ia(this._rings[T],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,T,S,I,z,$,st,mt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,st=this._parts.length;I<st;I++)for(p=this._parts[I],z=0,mt=p.length,$=mt-1;z<mt;$=z++)T=p[z],S=p[$],T.y>a.y!=S.y>a.y&&a.x<(S.x-T.x)*(a.y-T.y)/(S.y-T.y)+T.x&&(c=!c);return c||Mr.prototype._containsPoint.call(this,a,!0)}});function ei(a,c){return new Da(a,c)}var ni=xe.extend({initialize:function(a,c){N(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=nt(a)?a:a.features,p,T,S;if(c){for(p=0,T=c.length;p<T;p++)S=c[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var z=il(a,I);return z?(z.feature=Va(a),z.defaultOptions=z.options,this.resetStyle(z),I.onEachFeature&&I.onEachFeature(a,z),this.addLayer(z)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function il(a,c){var p=a.type==="Feature"?a.geometry:a,T=p?p.coordinates:null,S=[],I=c&&c.pointToLayer,z=c&&c.coordsToLatLng||Jl,$,st,mt,St;if(!T&&!p)return null;switch(p.type){case"Point":return $=z(T),fc(I,a,$,c);case"MultiPoint":for(mt=0,St=T.length;mt<St;mt++)$=z(T[mt]),S.push(fc(I,a,$,c));return new xe(S);case"LineString":case"MultiLineString":return st=rl(T,p.type==="LineString"?0:1,z),new Mr(st,c);case"Polygon":case"MultiPolygon":return st=rl(T,p.type==="Polygon"?1:2,z),new Da(st,c);case"GeometryCollection":for(mt=0,St=p.geometries.length;mt<St;mt++){var It=il({geometry:p.geometries[mt],type:"Feature",properties:a.properties},c);It&&S.push(It)}return new xe(S);case"FeatureCollection":for(mt=0,St=p.features.length;mt<St;mt++){var Lt=il(p.features[mt],c);Lt&&S.push(Lt)}return new xe(S);default:throw new Error("Invalid GeoJSON object.")}}function fc(a,c,p,T){return a?a(c,p):new Na(p,T&&T.markersInheritOptions&&T)}function Jl(a){return new Rt(a[1],a[0],a[2])}function rl(a,c,p){for(var T=[],S=0,I=a.length,z;S<I;S++)z=c?rl(a[S],c-1,p):(p||Jl)(a[S]),T.push(z);return T}function sl(a,c){return a=wt(a),a.alt!==void 0?[A(a.lng,c),A(a.lat,c),A(a.alt,c)]:[A(a.lng,c),A(a.lat,c)]}function tu(a,c,p,T){for(var S=[],I=0,z=a.length;I<z;I++)S.push(c?tu(a[I],m(a[I])?0:c-1,p,T):sl(a[I],T));return!c&&p&&S.length>0&&S.push(S[0].slice()),S}function ki(a,c){return a.feature?o({},a.feature,{geometry:c}):Va(c)}function Va(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Vs={toGeoJSON:function(a){return ki(this,{type:"Point",coordinates:sl(this.getLatLng(),a)})}};Na.include(Vs),hc.include(Vs),nl.include(Vs),Mr.include({toGeoJSON:function(a){var c=!m(this._latlngs),p=tu(this._latlngs,c?1:0,!1,a);return ki(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Da.include({toGeoJSON:function(a){var c=!m(this._latlngs),p=c&&!m(this._latlngs[0]),T=tu(this._latlngs,p?2:c?1:0,!0,a);return c||(T=[T]),ki(this,{type:(p?"Multi":"")+"Polygon",coordinates:T})}}),Me.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),ki(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",T=[];return this.eachLayer(function(S){if(S.toGeoJSON){var I=S.toGeoJSON(a);if(p)T.push(I.geometry);else{var z=Va(I);z.type==="FeatureCollection"?T.push.apply(T,z.features):T.push(z)}}}),p?ki(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function eu(a,c){return new ni(a,c)}var $h=eu,ur=ge.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=At(c),N(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&ir(this._image),this},bringToBack:function(){return this._map&&Kr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=At(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:$t("img");if(Gt(c,"leaflet-image-layer"),this._zoomAnimated&&Gt(c,"leaflet-zoom-animated"),this.options.className&&Gt(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onload=h(this.fire,this,"load"),c.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;In(this._image,p,c)},_reset:function(){var a=this._image,c=new lt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Bt(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Ua=function(a,c,p){return new ur(a,c,p)},nu=ur.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:$t("video");if(Gt(c,"leaflet-image-layer"),this._zoomAnimated&&Gt(c,"leaflet-zoom-animated"),this.options.className&&Gt(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onloadeddata=h(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),T=[],S=0;S<p.length;S++)T.push(p[S].src);this._url=p.length>0?T:[c.src];return}nt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var z=$t("source");z.src=this._url[I],c.appendChild(z)}}});function Jh(a,c,p){return new nu(a,c,p)}var Jr=ur.extend({_initImage:function(){var a=this._image=this._url;Gt(a,"leaflet-image-layer"),this._zoomAnimated&&Gt(a,"leaflet-zoom-animated"),this.options.className&&Gt(a,this.options.className),a.onselectstart=w,a.onmousemove=w}});function tf(a,c,p){return new Jr(a,c,p)}var Ni=ge.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Rt||nt(a))?(this._latlng=wt(a),N(this,c)):(N(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Oe(this._container,1),this.bringToFront(),this.options.interactive&&(Gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Oe(this._container,0),this._removeTimeout=setTimeout(h(pe,void 0,this._container),200)):pe(this._container),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=wt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ir(this._container),this},bringToBack:function(){return this._map&&Kr(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof xe){c=null;var p=this._source._layers;for(var T in p)if(p[T]._map){c=p[T];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=V(this.options.offset),p=this._getAnchor();this._zoomAnimated?Bt(this._container,a.add(p)):c=c.add(a).add(p);var T=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=T+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(a,c,p,T){var S=c;return S instanceof a||(S=new a(T).setContent(c)),p&&S.setLatLng(p),S}}),ge.include({_initOverlay:function(a,c,p,T){var S=p;return S instanceof a?(N(S,T),S._source=this):(S=c&&!T?c:new a(T,this),S.setContent(p)),S}});var al=Ni.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ni.prototype.openOn.call(this,a)},onAdd:function(a){Ni.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Or||this._source.on("preclick",Fn))},onRemove:function(a){Ni.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Or||this._source.off("preclick",Fn))},getEvents:function(){var a=Ni.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=$t("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=$t("div",a+"-content-wrapper",c);if(this._contentNode=$t("div",a+"-content",p),xr(c),Oi(this._contentNode),Vt(c,"contextmenu",Fn),this._tipContainer=$t("div",a+"-tip-container",c),this._tip=$t("div",a+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=$t("a",a+"-close-button",c);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',Vt(T,"click",function(S){be(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var T=a.offsetHeight,S=this.options.maxHeight,I="leaflet-popup-scrolled";S&&T>S?(c.height=S+"px",Gt(a,I)):ve(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Bt(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(nr(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,T=this._containerWidth,S=new _t(this._containerLeft,-p-this._containerBottom);S._add(Jn(this._container));var I=a.layerPointToContainerPoint(S),z=V(this.options.autoPanPadding),$=V(this.options.autoPanPaddingTopLeft||z),st=V(this.options.autoPanPaddingBottomRight||z),mt=a.getSize(),St=0,It=0;I.x+T+st.x>mt.x&&(St=I.x+T-mt.x+st.x),I.x-St-$.x<0&&(St=I.x-$.x),I.y+p+st.y>mt.y&&(It=I.y+p-mt.y+st.y),I.y-It-$.y<0&&(It=I.y-$.y),(St||It)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([St,It]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zm=function(a,c){return new al(a,c)};Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(a,c,p){return this._initOverlay(al,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ge.include({bindPopup:function(a,c){return this._popup=this._initOverlay(al,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof xe||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){En(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var iu=Ni.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ni.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ni.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ni.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$t("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,T=this._map,S=this._container,I=T.latLngToContainerPoint(T.getCenter()),z=T.layerPointToContainerPoint(a),$=this.options.direction,st=S.offsetWidth,mt=S.offsetHeight,St=V(this.options.offset),It=this._getAnchor();$==="top"?(c=st/2,p=mt):$==="bottom"?(c=st/2,p=0):$==="center"?(c=st/2,p=mt/2):$==="right"?(c=0,p=mt/2):$==="left"?(c=st,p=mt/2):z.x<I.x?($="right",c=0,p=mt/2):($="left",c=st+(St.x+It.x)*2,p=mt/2),a=a.subtract(V(c,p,!0)).add(St).add(It),ve(S,"leaflet-tooltip-right"),ve(S,"leaflet-tooltip-left"),ve(S,"leaflet-tooltip-top"),ve(S,"leaflet-tooltip-bottom"),Gt(S,"leaflet-tooltip-"+$),Bt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Oe(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ym=function(a,c){return new iu(a,c)};Kt.include({openTooltip:function(a,c,p){return this._initOverlay(iu,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ge.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(iu,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof xe||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Vt(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Vt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,T;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),T=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(c)}});var dc=lr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(an(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var T=V(p.bgPos);c.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function ef(a){return new dc(a)}lr.Default=ka;var Us=ge.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){N(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),pe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ir(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Kr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof _t?a:new _t(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),T=0,S=c.length,I;T<S;T++)I=c[T].style.zIndex,c[T]!==this._container&&I&&(p=a(p,+I));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){Oe(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var T in this._tiles){var S=this._tiles[T];if(!(!S.current||!S.loaded)){var I=Math.min(1,(a-S.loaded)/200);Oe(S.el,I),I<1?c=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(K(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=$t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(pe(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var T=this._levels[a],S=this._map;return T||(T=this._levels[a]={},T.el=$t("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=c,T.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),T.zoom=a,this._setZoomTransform(T,S.getCenter(),S.getZoom()),w(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var T=c.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)pe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,T){var S=Math.floor(a/2),I=Math.floor(c/2),z=p-1,$=new _t(+S,+I);$.z=+z;var st=this._tileCoordsToKey($),mt=this._tiles[st];return mt&&mt.active?(mt.retain=!0,!0):(mt&&mt.loaded&&(mt.retain=!0),z>T?this._retainParent(S,I,z,T):!1)},_retainChildren:function(a,c,p,T){for(var S=2*a;S<2*a+2;S++)for(var I=2*c;I<2*c+2;I++){var z=new _t(S,I);z.z=p+1;var $=this._tileCoordsToKey(z),st=this._tiles[$];if(st&&st.active){st.retain=!0;continue}else st&&st.loaded&&(st.retain=!0);p+1<T&&this._retainChildren(S,I,p+1,T)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,T){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var I=this.options.updateWhenZooming&&S!==this._tileZoom;(!T||I)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var T=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(c,p)).round();Ot.any3d?In(a.el,S,T):Bt(a.el,S)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),T=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],T).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],T).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],T).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],T).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),T=c.getZoomScale(p,this._tileZoom),S=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(T*2);return new lt(S.subtract(I),S.add(I))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(T),I=S.getCenter(),z=[],$=this.options.keepBuffer,st=new lt(S.getBottomLeft().subtract([$,-$]),S.getTopRight().add([$,-$]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var mt in this._tiles){var St=this._tiles[mt].coords;(St.z!==this._tileZoom||!st.contains(new _t(St.x,St.y)))&&(this._tiles[mt].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var It=S.min.y;It<=S.max.y;It++)for(var Lt=S.min.x;Lt<=S.max.x;Lt++){var qt=new _t(Lt,It);if(qt.z=this._tileZoom,!!this._isValidTile(qt)){var ke=this._tiles[this._tileCoordsToKey(qt)];ke?ke.current=!0:z.push(qt)}}if(z.sort(function(wn,fi){return wn.distanceTo(I)-fi.distanceTo(I)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qe=document.createDocumentFragment();for(Lt=0;Lt<z.length;Lt++)this._addTile(z[Lt],qe);this._level.el.appendChild(qe)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(a);return At(this.options.bounds).overlaps(T)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),T=a.scaleBy(p),S=T.add(p),I=c.unproject(T,a.z),z=c.unproject(S,a.z);return[I,z]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new gt(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new _t(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(pe(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Gt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=w,a.onmousemove=w,Ot.ielt9&&this.options.opacity<1&&Oe(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),T=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),h(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&Z(h(this._tileReady,this,a,null,S)),Bt(S,p),this._tiles[T]={el:S,coords:a,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var T=this._tileCoordsToKey(a);p=this._tiles[T],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Oe(p.el,0),K(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Gt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new _t(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new lt(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Di(a){return new Us(a)}var zs=Us.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=N(this,c),c.detectRetina&&Ot.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return Vt(p,"load",h(this._tileOnLoad,this,c,p)),Vt(p,"error",h(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Ot.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return et(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Ot.ielt9?setTimeout(h(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var T=this.options.errorTileUrl;T&&c.getAttribute("src")!==T&&(c.src=T),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,T=this.options.zoomOffset;return p&&(a=c-a),a+T},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=w,c.onerror=w,!c.complete)){c.src=vt;var p=this._tiles[a].coords;pe(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",vt),Us.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===vt))return Us.prototype._tileReady.call(this,a,c,p)}});function ii(a,c){return new zs(a,c)}var ri=zs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=o({},this.defaultWmsParams);for(var T in c)T in this.options||(p[T]=c[T]);c=N(this,c);var S=c.detectRetina&&Ot.retina?2:1,I=this.getTileSize();p.width=I.x*S,p.height=I.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,zs.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,T=Tt(p.project(c[0]),p.project(c[1])),S=T.min,I=T.max,z=(this._wmsVersion>=1.3&&this._crs===We?[S.y,S.x,I.y,I.x]:[S.x,S.y,I.x,I.y]).join(","),$=zs.prototype.getTileUrl.call(this,a);return $+H(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function za(a,c){return new ri(a,c)}zs.WMS=ri,ii.wms=za;var Vi=ge.extend({options:{padding:.1},initialize:function(a){N(this,a),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),I=T.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,c));Ot.any3d?In(this._container,I,p):Bt(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new lt(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ol=Vi.extend({options:{tolerance:0},getEvents:function(){var a=Vi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Vt(a,"mousemove",this._onMouseMove,this),Vt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,pe(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vi.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),T=Ot.retina?2:1;Bt(c,a.min),c.width=T*p.x,c.height=T*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Vi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[g(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,T=c.prev;p?p.prev=T:this._drawLast=T,T?T.next=p:this._drawFirst=p,delete a._order,delete this._layers[g(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],T,S;for(S=0;S<c.length;S++){if(T=Number(c[S]),isNaN(T))return;p.push(T)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lt,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)a=T.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,T,S,I,z=a._parts,$=z.length,st=this._ctx;if($){for(st.beginPath(),p=0;p<$;p++){for(T=0,S=z[p].length;T<S;T++)I=z[p][T],st[T?"lineTo":"moveTo"](I.x,I.y);c&&st.closePath()}this._fillStroke(st,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,T=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||T)/T;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(c.x,c.y/S,T,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,T,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(T=p);this._fireEvent(T?[T]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(ve(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,T,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(c)&&(T=p);T!==this._hoveredLayer&&(this._handleMouseOut(a),T&&(Gt(this._container,"leaflet-interactive"),this._fireEvent([T],a,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,T=c.prev;if(p)p.prev=T;else return;T?T.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,T=c.prev;if(T)T.next=p;else return;p?p.prev=T:T&&(this._drawLast=T),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function ll(a){return Ot.canvas?new ol(a):null}var Bs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ba={_initContainer:function(){this._container=$t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=Bs("shape");Gt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=Bs("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[g(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;pe(c),a.removeInteractiveTarget(c),delete this._layers[g(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,T=a.options,S=a._container;S.stroked=!!T.stroke,S.filled=!!T.fill,T.stroke?(c||(c=a._stroke=Bs("stroke")),S.appendChild(c),c.weight=T.weight+"px",c.color=T.color,c.opacity=T.opacity,T.dashArray?c.dashStyle=nt(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=T.lineCap.replace("butt","flat"),c.joinstyle=T.lineJoin):c&&(S.removeChild(c),a._stroke=null),T.fill?(p||(p=a._fill=Bs("fill")),S.appendChild(p),p.color=T.fillColor||T.color,p.opacity=T.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),T=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+T+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){ir(a._container)},_bringToBack:function(a){Kr(a._container)}},ul=Ot.vml?Bs:ga,ts=Vi.extend({_initContainer:function(){this._container=ul("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ul("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vi.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Bt(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=ul("path");a.options.className&&Gt(c,a.options.className),a.options.interactive&&Gt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[g(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){pe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[g(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,zo(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),T=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+T+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){ir(a._path)},_bringToBack:function(a){Kr(a._path)}});Ot.vml&&ts.include(Ba);function js(a){return Ot.svg||Ot.vml?new ts(a):null}Kt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&ll(a)||js(a)}});var nf=Da.extend({initialize:function(a,c){Da.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=At(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function si(a,c){return new nf(a,c)}ts.create=ul,ts.pointsToPath=zo,ni.geometryToLayer=il,ni.coordsToLatLng=Jl,ni.coordsToLatLngs=rl,ni.latLngToCoords=sl,ni.latLngsToCoords=tu,ni.getFeature=ki,ni.asFeature=Va,Kt.mergeOptions({boxZoom:!0});var ru=Hn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tn(),Os(),this._startPoint=this._map.mouseEventToContainerPoint(a),Vt(document,{contextmenu:En,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=$t("div","leaflet-zoom-box",this._container),Gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new lt(this._point,this._startPoint),p=c.getSize();Bt(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(pe(this._box),ve(this._container,"leaflet-crosshair")),Ii(),Xo(),ue(document,{contextmenu:En,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var c=new gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",ru),Kt.mergeOptions({doubleClickZoom:!0});var cr=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),T=c.options.zoomDelta,S=a.originalEvent.shiftKey?p-T:p+T;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(a.containerPoint,S)}});Kt.addInitHook("addHandler","doubleClickZoom",cr),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mc=Hn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Mi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ve(this._map._container,"leaflet-grab"),ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=At(this._map.options.maxBounds);this._offsetLimit=Tt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,T=this._draggable._newPos.x,S=(T-c+p)%a+c-p,I=(T+c+p)%a-c-p,z=Math.abs(S+p)<Math.abs(I+p)?S:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(a){var c=this._map,p=c.options,T=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),T)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,z=p.easeLinearity,$=S.multiplyBy(z/I),st=$.distanceTo([0,0]),mt=Math.min(p.inertiaMaxSpeed,st),St=$.multiplyBy(mt/st),It=mt/(p.inertiaDeceleration*z),Lt=St.multiplyBy(-It/2).round();!Lt.x&&!Lt.y?c.fire("moveend"):(Lt=c._limitOffset(Lt,c.options.maxBounds),Z(function(){c.panBy(Lt,{duration:It,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Kt.addInitHook("addHandler","dragging",mc),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var cl=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Vt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,T=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(T,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,T,S;for(T=0,S=p.left.length;T<S;T++)c[p.left[T]]=[-1*a,0];for(T=0,S=p.right.length;T<S;T++)c[p.right[T]]=[a,0];for(T=0,S=p.down.length;T<S;T++)c[p.down[T]]=[0,a];for(T=0,S=p.up.length;T<S;T++)c[p.up[T]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,T,S;for(T=0,S=p.zoomIn.length;T<S;T++)c[p.zoomIn[T]]=a;for(T=0,S=p.zoomOut.length;T<S;T++)c[p.zoomOut[T]]=-a},_addHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,T;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(T=this._panKeys[c],a.shiftKey&&(T=V(T).multiplyBy(3)),p.options.maxBounds&&(T=p._limitOffset(V(T),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(T)));p.panTo(S)}else p.panBy(T)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;En(a)}}});Kt.addInitHook("addHandler","keyboard",cl),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var es=Hn.extend({addHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Ms(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var T=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),T),En(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,I=p?Math.ceil(S/p)*p:S,z=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,z&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+z):a.setZoomAround(this._lastMousePos,c+z))}});Kt.addInitHook("addHandler","scrollWheelZoom",es);var pc=600;Kt.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var su=Hn.extend({addHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new _t(c.clientX,c.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Vt(document,"touchend",be),Vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),pc),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ue(document,"touchend",be),ue(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new _t(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Kt.addInitHook("addHandler","tapHold",su),Kt.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var Fs=Hn.extend({addHooks:function(){Gt(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),T=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(T)._divideBy(2))),this._startDist=p.distanceTo(T),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),be(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),T=c.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(T)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var I=p._add(T)._divideBy(2)._subtract(this._centerPoint);if(S===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var z=h(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(z,this,!0),be(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kt.addInitHook("addHandler","touchZoom",Fs),Kt.BoxZoom=ru,Kt.DoubleClickZoom=cr,Kt.Drag=mc,Kt.Keyboard=cl,Kt.ScrollWheelZoom=es,Kt.TapHold=su,Kt.TouchZoom=Fs,e.Bounds=lt,e.Browser=Ot,e.CRS=Ee,e.Canvas=ol,e.Circle=hc,e.CircleMarker=nl,e.Class=Ce,e.Control=mn,e.DivIcon=dc,e.DivOverlay=Ni,e.DomEvent=Yl,e.DomUtil=Qo,e.Draggable=Mi,e.Evented=bt,e.FeatureGroup=xe,e.GeoJSON=ni,e.GridLayer=Us,e.Handler=Hn,e.Icon=lr,e.ImageOverlay=ur,e.LatLng=Rt,e.LatLngBounds=gt,e.Layer=ge,e.LayerGroup=Me,e.LineUtil=M,e.Map=Kt,e.Marker=Na,e.Mixin=Ns,e.Path=Or,e.Point=_t,e.PolyUtil=La,e.Polygon=Da,e.Polyline=Mr,e.Popup=al,e.PosAnimation=ks,e.Projection=Et,e.Rectangle=nf,e.Renderer=Vi,e.SVG=ts,e.SVGOverlay=Jr,e.TileLayer=zs,e.Tooltip=iu,e.Transformation=bi,e.Util=F,e.VideoOverlay=nu,e.bind=h,e.bounds=Tt,e.canvas=ll,e.circle=qm,e.circleMarker=Qh,e.control=bn,e.divIcon=ef,e.extend=o,e.featureGroup=or,e.geoJSON=eu,e.geoJson=$h,e.gridLayer=Di,e.icon=$l,e.imageOverlay=Ua,e.latLng=wt,e.latLngBounds=At,e.layerGroup=Lr,e.map=sr,e.marker=cc,e.point=V,e.polygon=ei,e.polyline=Gm,e.popup=Zm,e.rectangle=si,e.setOptions=N,e.stamp=g,e.svg=js,e.svgOverlay=tf,e.tileLayer=ii,e.tooltip=Ym,e.transformation=wi,e.version=r,e.videoOverlay=Jh;var ja=window.L;e.noConflict=function(){return window.L=ja,this},window.L=e})}(ah,ah.exports)),ah.exports}var Uo=ex();const kn=Lh(Uo);function DV(){const[n,t]=W.useState(null);return W.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{t([e.coords.latitude,e.coords.longitude])},e=>{console.error("Error obteniendo ubicación del usuario:",e),t(null)},{enableHighAccuracy:!0})},[]),n}const VV=()=>{const n=W.useRef(null),[t,e]=W.useState(null),[r,o]=W.useState([]),[l,h]=W.useState(""),d=DV();W.useEffect(()=>{if(!document.getElementById("map")||n.current)return;n.current=kn.map("map").setView([41.117,1.25],14),kn.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors & CartoDB'}).addTo(n.current),d&&kn.marker(d).addTo(n.current).bindPopup("📍 Tu ubicación").openPopup(),console.log("📍 Ubicación detectada:",d),(async()=>{try{const A=await uy(Wu(Zi,"rutas")),R=[];A.forEach(k=>R.push(k.data())),R.length>0&&e(R[0])}catch(A){console.error("Error al cargar rutas desde Firebase:",A)}})()},[d]),W.useEffect(()=>{t&&g(t.coordenadasJSON)},[t,d]);const g=async E=>{try{const A=await(await fetch(E)).json();let R=A.ruta.map(j=>j.coordenadas);d&&n.current&&kn.marker(d).addTo(n.current).bindPopup("Tu ubicación"),n.current.eachLayer(j=>{(j instanceof kn.Marker||j instanceof kn.GeoJSON)&&n.current.removeLayer(j)}),R.forEach((j,et)=>{const nt=A.ruta[et-(d?1:0)];let pt;+et==0&&d?pt="Tu ubicacion":nt?pt=`
      <strong>${nt.nombre}</strong><br>
      <img src="${nt.imagen}" alt="${nt.nombre}" style="max-width:150px;max-height:100px;" />
    `:pt="",kn.marker(j.slice().reverse()).addTo(n.current).bindPopup(pt)});const k=await fetch("https://api.openrouteservice.org/v2/directions/foot-walking/geojson",{method:"POST",headers:{Accept:"application/json, application/geo+json","Content-Type":"application/json",Authorization:"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6IjcwNGMxOTg0NGQ1MjQ5YjliOWJhMjE0NjE0MzUyNjlmIiwiaCI6Im11cm11cjY0In0="},body:JSON.stringify({coordinates:R})});if(!k.ok)throw new Error("Error al obtener ruta de ORS");const N=await k.json();kn.geoJSON(N,{style:{color:"blue",weight:3}}).addTo(n.current);const H=kn.geoJSON(N).getBounds();n.current.fitBounds(H)}catch(w){console.error("Error:",w)}},v=()=>{l.trim()!==""&&(o([...r,l.trim()]),h(""))};return O.jsxs("div",{className:"ruta-detalle-container",style:{padding:"1rem"},children:[t&&O.jsxs(O.Fragment,{children:[O.jsx("h2",{children:t.nombre}),O.jsx("span",{className:`badge ${t.tipo}`,children:t.tipo}),O.jsxs("p",{children:[O.jsx("strong",{children:"Duración:"})," ",t.duracion]}),O.jsx("p",{children:t.descripcion}),O.jsx("h3",{children:"Puntos de interés:"}),O.jsx("ul",{children:t.contenido.map((E,w)=>O.jsx("li",{children:E},w))})]}),O.jsx("h3",{children:"Mapa de la ruta"}),O.jsx("div",{id:"map",style:{height:"70vh",marginBottom:"2rem"}}),O.jsx("h3",{children:"Foro de la ruta"}),O.jsx("textarea",{value:l,onChange:E=>h(E.target.value),placeholder:"Escribe tu comentario...",rows:3,style:{width:"100%",padding:"0.5rem",marginBottom:"0.5rem"}}),O.jsx("button",{onClick:v,children:"Publicar"}),O.jsx("ul",{style:{marginTop:"1rem"},children:r.map((E,w)=>O.jsxs("li",{style:{marginBottom:"0.3rem"},children:["💬 ",E]},w))})]})};function UV(){return O.jsxs(_A,{children:[O.jsx(oi,{path:"/",element:O.jsx(kV,{})}),O.jsx(oi,{path:":id",element:O.jsx(VV,{})})," "]})}const nx="/assets/Logo2-BBJTr0lG.png",zV="/assets/webname-BGKEbTvx.png";function BV({usuario:n,nombreUsuario:t,cerrarSesion:e}){const[r,o]=W.useState(!1),l=nm(),h=W.useRef(),d=W.useRef(),[g,v]=W.useState({top:0,left:0}),[E,w]=W.useState(0);return W.useEffect(()=>{const A=R=>{d.current&&!d.current.contains(R.target)&&o(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),W.useEffect(()=>{if(r&&h.current){const A=h.current.getBoundingClientRect();v({top:A.top+window.scrollY,left:A.left}),w(A.height)}},[r]),O.jsxs("header",{className:"navbar",children:[O.jsx("div",{className:"logo",children:O.jsxs(Kn,{to:"/",children:[O.jsx("img",{src:nx,alt:"Logo TgoTours",style:{cursor:"pointer"}}),O.jsx("div",{className:"name-web",children:O.jsx("img",{src:zV,alt:"Nombre web"})})]})}),O.jsxs("nav",{className:"nav-links",children:[O.jsx(Kn,{to:"/",children:"HOME"}),O.jsx(Kn,{to:"/about",children:"ABOUT"}),O.jsx(Kn,{to:"/eventos",children:"EVENTOS"}),O.jsx(Kn,{to:"/mapa",children:"MAP"}),O.jsx(Kn,{to:"/rutas",children:"RUTAS"})]}),O.jsx("div",{className:"auth-section",ref:d,style:{position:"relative"},children:n?O.jsxs("div",{className:"usuario-menu",children:[O.jsxs("button",{className:"usuario-trigger",onClick:()=>o(!r),children:[t," ▼"]}),r&&O.jsxs("div",{className:"usuario-dropdown",children:[O.jsx(Kn,{to:"/perfil",children:"👤 Mi perfil"}),O.jsx(Kn,{to:"/rutas-guardadas",children:"🗺️ Rutas guardadas"}),O.jsx(Kn,{to:"/restaurantes-guardados",children:"🍽️ Restaurantes guardados"}),O.jsx("button",{onClick:()=>{e(),l("/login")},children:"🚪 Cerrar sesión"})]})]}):O.jsx(Kn,{to:"/login",children:O.jsx("button",{children:"Iniciar sesión"})})})]})}function jV(){const[n,t]=W.useState(""),[e,r]=W.useState(""),[o,l]=W.useState(null),[h,d]=W.useState(null),g=nm(),v=async E=>{E.preventDefault(),d(null),l(null);try{const w=await y1(Xu,n,e);d(`🎉 Sesión iniciada como: ${w.user.email}`),t(""),r(""),g("/")}catch{l("❌ Credenciales inválidas o usuario no registrado.")}};return O.jsx("div",{className:"full-page",children:O.jsxs("div",{className:"form-page",children:[O.jsx("h2",{children:"Iniciar sesión"}),O.jsxs("form",{onSubmit:v,children:[O.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:E=>t(E.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),O.jsx("br",{}),O.jsx("input",{type:"password",placeholder:"Contraseña",value:e,onChange:E=>r(E.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),O.jsx("br",{}),O.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem",marginTop:"1rem"},children:"Entrar"})]}),h&&O.jsx("p",{style:{color:"green",marginTop:"1rem"},children:h}),o&&O.jsx("p",{style:{color:"red",marginTop:"1rem"},children:o}),O.jsxs("p",{style:{marginTop:"2rem"},children:["¿No tienes cuenta? ",O.jsx(Kn,{to:"/registro",children:"Regístrate aquí"})]})]})})}function FV(){const[n,t]=W.useState(""),[e,r]=W.useState(""),[o,l]=W.useState(""),[h,d]=W.useState(null),[g,v]=W.useState(null),[E,w]=W.useState("turista"),A=async R=>{R.preventDefault(),v(null),d(null);try{const k=Wu(Zi,"usuarios"),N=XC(k,AV("nombreUsuario","==",e));if(!(await uy(N)).empty){d("⚠️ El nombre de usuario ya está en uso.");return}const j=await v1(Xu,n,o),et=j.user.uid,nt=j.user;await RV(Ro(Zi,"usuarios",et),{nombreUsuario:e,email:n,fechaRegistro:cy(),rol:E}),await T1(nt),v(`✅ Usuario creado: ${nt.email}.
  📩 Revisa tu bandeja de entrada para confirmar tu correo antes de iniciar sesión.`),v(`✅ Usuario creado: ${nt.email}. Verifica tu correo.`),t(""),l(""),r("")}catch(k){k.code==="auth/email-already-in-use"?d("⚠️ Este correo ya está registrado."):k.code==="auth/invalid-email"?d("⚠️ Formato de correo inválido."):k.code==="auth/weak-password"?d("⚠️ La contraseña debe tener al menos 6 caracteres."):d("❌ Error al registrar el usuario.")}};return O.jsx("div",{className:"full-page",children:O.jsxs("div",{className:"form-page",children:[O.jsx("h2",{children:"Crear cuenta"}),O.jsxs("form",{onSubmit:A,children:[O.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:R=>t(R.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),O.jsx("br",{}),O.jsx("input",{type:"text",placeholder:"Nombre de usuario",value:e,onChange:R=>r(R.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),O.jsx("br",{}),O.jsx("input",{type:"password",placeholder:"Contraseña (mínimo 6 caracteres)",value:o,onChange:R=>l(R.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),O.jsx("br",{}),O.jsx("label",{style:{display:"block",margin:"0.5rem 0 0.2rem 0"},children:"Selecciona tu rol:"}),O.jsxs("select",{value:E,onChange:R=>w(R.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"260px"},children:[O.jsx("option",{value:"turista",children:"Turista"}),O.jsx("option",{value:"guia",children:"Guía"})]}),O.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:O.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem"},children:"Registrarse"})})]}),g&&O.jsx("p",{style:{color:"green",marginTop:"1rem"},children:g}),h&&O.jsx("p",{style:{color:"red",marginTop:"1rem"},children:h}),O.jsxs("p",{style:{marginTop:"2rem"},children:["¿Ya tienes cuenta? ",O.jsx(Kn,{to:"/login",children:"Inicia sesión"})]})]})})}const HV="/assets/anfiteatro-DCT6H1iw.jpg",qV="/assets/catedral-B47ZHRBw.jpg",GV="/assets/murallas-DDs6YkZI.jpg",ZV="/assets/plaza-rei-ChD4jxTW.jpg",YV="/assets/balcon-CRrngfcJ.jpg";var KV=15e3,L_=1e3,O_=60*L_,Ad=60*O_,qg=24*Ad,WV="http://www.topografix.com/GPX/gpx_style/0/2",ud=new L.Icon.Default,XV={startIcon:ud,endIcon:ud,wptIcons:{"":ud},wptTypeIcons:{"":ud},pointMatchers:[]},QV={iconSize:[33,45],iconAnchor:[16,45],clickable:!1},$V={color:"blue"},JV={parseElements:["track","route","waypoint"],joinTrackSegments:!0};L.GPX=L.FeatureGroup.extend({initialize:function(n,t){t.max_point_interval=t.max_point_interval||KV,t.markers=this._merge_objs(XV,t.markers||{}),t.marker_options=this._merge_objs(QV,t.marker_options||{}),t.polyline_options=t.polyline_options||[],t.gpx_options=this._merge_objs(JV,t.gpx_options||{}),L.Util.setOptions(this,t),L.GPXTrackIcon=L.Icon.extend({options:t.marker_options}),this._gpx=n,this._layers={},this._prepare_markers(t.markers),this._init_info(),n&&this._parse(n,t,this.options.async)},get_duration_string:function(n,t){var e="";n>=qg&&(e+=Math.floor(n/qg)+"d ",n=n%qg),n>=Ad&&(e+=Math.floor(n/Ad)+":",n=n%Ad);var r=Math.floor(n/O_);n=n%O_,r<10&&(e+="0"),e+=r+"'";var o=Math.floor(n/L_);return n=n%L_,o<10&&(e+="0"),e+=o,!t&&n>0?e+="."+Math.round(Math.floor(n)*1e3)/1e3:e+='"',e},get_duration_string_iso:function(n,t){var e=this.get_duration_string(n,t);return e.replace("'",":").replace('"',"")},_toFixed_helper:function(n,t=0){return typeof n=="number"?n.toFixed(t):"?"},to_miles:function(n){return n/1.60934},to_ft:function(n){return n*3.28084},m_to_km:function(n){return n/1e3},m_to_mi:function(n){return n/1609.34},ms_to_kmh:function(n){return n*3.6},ms_to_mih:function(n){return n/1609.34*3600},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/(3600*1e3))},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/(3600*1e3))},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/(3600*1e3))},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/(3600*1e3))},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var n=this;return this._info.elevation._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,null,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,0)+" m"})})},get_elevation_data_imp:function(){var n=this;return this._info.elevation._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,n.to_ft,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,0)+" ft"})})},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_speed_data:function(){var n=this;return this._info.speed._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,n.ms_to_kmh,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,2)+" km/h"})})},get_speed_data_imp:function(){var n=this;return this._info.speed._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,n.ms_to_mih,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,2)+" mi/h"})})},get_speed_max:function(){return this.m_to_km(this._info.speed.max)*3600},get_speed_max_imp:function(){return this.to_miles(this.get_speed_max())},get_average_hr:function(){return this._info.hr.avg},get_average_temp:function(){return this._info.atemp.avg},get_average_cadence:function(){return this._info.cad.avg},get_heartrate_data:function(){var n=this;return this._info.hr._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,null,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,0)+" bpm"})})},get_heartrate_data_imp:function(){var n=this;return this._info.hr._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,null,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,0)+" bpm"})})},get_cadence_data:function(){var n=this;return this._info.cad._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,null,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,0)+" rpm"})})},get_temp_data:function(){var n=this;return this._info.atemp._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,null,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,0)+" degrees"})})},get_cadence_data_imp:function(){var n=this;return this._info.cad._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,null,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,0)+" rpm"})})},get_temp_data_imp:function(){var n=this;return this._info.atemp._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,null,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,0)+" degrees"})})},reload:function(){this._init_info(),this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},_merge_objs:function(n,t){var e={};for(var r in n)e[r]=n[r];for(var r in t)e[r]=t[r];return e},_prepare_data_point:function(n,t,e,r){var o=[t&&t(n[0])||n[0],e&&e(n[1])||n[1]];return o.push(r&&r(o[0],o[1])||o[0]+": "+o[1]),o},_prepare_markers:function(n){function t(e){return new L.GPXTrackIcon({iconUrl:e})}return Object.entries(n).forEach(([e,r])=>{e==="wptIcons"||e==="wptTypeIcons"?n[e]=this._prepare_markers(r):e==="pointMatchers"?n[e]=r.map(o=>(typeof o.icon=="string"&&(o.icon=t(o.icon)),o)):typeof r=="string"?n[e]=t(r):typeof r=="object"&&r!==null&&(n[e]=r)}),n},_init_info:function(){this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},speed:{max:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0},atemp:{avg:0,_total:0,_points:[]},cad:{avg:0,_total:0,_points:[]}}},_load_xml:function(n,t,e,r){r==null&&(r=this.options.async),e==null&&(e=this.options);var o=this,l=new window.XMLHttpRequest;l.open("GET",n,r);try{l.overrideMimeType("text/xml")}catch{}l.onloadend=function(){l.status==200?t(l.responseXML,e):o.fire("error",{err:"Error fetching resource: "+n})},l.send(null)},_parse:function(n,t,e){var r=this,o=function(h,d){var g=r._parse_gpx_data(h,d);if(!g){r.fire("error",{err:"No parseable layers of type(s) "+JSON.stringify(d.gpx_options.parseElements)});return}r.addLayer(g),r.fire("loaded",{layers:g,element:h})};if(n.substr(0,1)==="<"){var l=new DOMParser;e?setTimeout(function(){o(l.parseFromString(n,"text/xml"),t)}):o(l.parseFromString(n,"text/xml"),t)}else this._load_xml(n,o,t,e)},_parse_gpx_data:function(n,t){var e,r,o=[],l=n.getElementsByTagName("name");l.length>0&&(this._info.name=l[0].textContent);var h=n.getElementsByTagName("desc");h.length>0&&(this._info.desc=h[0].textContent);var d=n.getElementsByTagName("author");d.length>0&&(this._info.author=d[0].textContent);var g=n.getElementsByTagName("copyright");g.length>0&&(this._info.copyright=g[0].textContent);var v=t.gpx_options.parseElements;if(v.indexOf("route")>-1){var E=n.getElementsByTagName("rte");for(e=0;e<E.length;e++){var w=E[e],A=this._extract_styling(w),R=this._get_polyline_options(t.polyline_options,e);o=o.concat(this._parse_segment(E[e],t,A,R,"rtept"))}}if(v.indexOf("track")>-1){var k=n.getElementsByTagName("trk");for(e=0;e<k.length;e++){var N=k[e],A=this._extract_styling(N),R=this._get_polyline_options(t.polyline_options,e);if(t.gpx_options.joinTrackSegments)o=o.concat(this._parse_segment(N,t,A,R,"trkpt"));else{var H=N.getElementsByTagName("trkseg");for(K=0;K<H.length;K++)o=o.concat(this._parse_segment(H[K],t,A,R,"trkpt"))}}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),this._info.cad.avg=Math.round(this._info.cad._total/this._info.cad._points.length),this._info.atemp.avg=Math.round(this._info.atemp._total/this._info.atemp._points.length),v.indexOf("waypoint")>-1)for(r=n.getElementsByTagName("wpt"),e=0;e<r.length;e++){var j=new L.LatLng(r[e].getAttribute("lat"),r[e].getAttribute("lon")),et=r[e].getElementsByTagName("name"),l=et.length>0?et[0].textContent:"",nt=r[e].getElementsByTagName("desc"),h=nt.length>0?nt[0].textContent:"",pt=r[e].getElementsByTagName("sym"),vt=pt.length>0?pt[0].textContent:null,kt=r[e].getElementsByTagName("type"),q=kt.length>0?kt[0].textContent:null,D=t.markers.wptIcons,U=t.markers.wptTypeIcons,G=t.markers.pointMatchers||[],Z;if(D&&vt&&D[vt])Z=D[vt];else if(U&&q&&U[q])Z=U[q];else if(G.length>0){for(var K=0;K<G.length;K++)if(G[K].regex.test(l)){Z=G[K].icon;break}}else D&&D[""]&&(Z=D[""]);if(!Z){console.log("No waypoint icon could be matched for symKey=%s,typeKey=%s,name=%s on waypoint %o",vt,q,l,r[e]);continue}var F=new L.Marker(j,{clickable:t.marker_options.clickable,title:l,icon:Z,type:"waypoint"});F.bindPopup("<b>"+l+"</b>"+(h.length>0?"<br>"+h:"")).openPopup(),this.fire("addpoint",{point:F,point_type:"waypoint",element:r[e]}),o.push(F)}if(o.length>1)return new L.FeatureGroup(o);if(o.length==1)return o[0]},_parse_segment:function(n,t,e,r,o){var l=n.getElementsByTagName(o);if(!l.length)return[];for(var h=[],d=[],g=[],v=null,E=0;E<l.length;E++){var w,A=new L.LatLng(l[E].getAttribute("lat"),l[E].getAttribute("lon"));A.meta={time:null,ele:null,hr:null,cad:null,atemp:null,speed:null},w=l[E].getElementsByTagName("time"),w.length>0?A.meta.time=new Date(Date.parse(w[0].textContent)):A.meta.time=new Date("1970-01-01T00:00:00");var R=v!=null?Math.abs(A.meta.time-v.meta.time):0;w=l[E].getElementsByTagName("ele"),w.length>0?A.meta.ele=parseFloat(w[0].textContent):A.meta.ele=v!=null?v.meta.ele:null;var k=v!=null?A.meta.ele-v.meta.ele:0,N=v!=null?this._dist3d(v,A):0;if(w=l[E].getElementsByTagName("speed"),w.length>0?A.meta.speed=parseFloat(w[0].textContent):A.meta.speed=R>0?1e3*N/R:0,w=l[E].getElementsByTagName("name"),w.length>0){for(var H=w[0].textContent,j=t.markers.pointMatchers||[],et=0;et<j.length;et++)if(j[et].regex.test(H)){d.push({label:H,coords:A,icon:j[et].icon,element:l[E]});break}}this._info.length+=N,w=l[E].getElementsByTagNameNS("*","hr"),w.length>0&&(A.meta.hr=parseInt(w[0].textContent),this._info.hr._points.push([this._info.length,A.meta.hr]),this._info.hr._total+=A.meta.hr),w=l[E].getElementsByTagNameNS("*","cad"),w.length>0&&(A.meta.cad=parseInt(w[0].textContent),this._info.cad._points.push([this._info.length,A.meta.cad]),this._info.cad._total+=A.meta.cad),w=l[E].getElementsByTagNameNS("*","atemp"),w.length>0&&(A.meta.atemp=parseInt(w[0].textContent),this._info.atemp._points.push([this._info.length,A.meta.atemp]),this._info.atemp._total+=A.meta.atemp),A.meta.ele>this._info.elevation.max&&(this._info.elevation.max=A.meta.ele),A.meta.ele<this._info.elevation.min&&(this._info.elevation.min=A.meta.ele),this._info.elevation._points.push([this._info.length,A.meta.ele]),A.meta.speed>this._info.speed.max&&(this._info.speed.max=A.meta.speed),this._info.speed._points.push([this._info.length,A.meta.speed]),v==null&&this._info.duration.start==null&&(this._info.duration.start=A.meta.time),this._info.duration.end=A.meta.time,this._info.duration.total+=R,R<t.max_point_interval&&(this._info.duration.moving+=R),k>0?this._info.elevation.gain+=k:this._info.elevation.loss+=Math.abs(k),v=A,h.push(A)}var nt=new L.Polyline(h,this._extract_styling(n,e,r));if(this.fire("addline",{line:nt,element:n}),g.push(nt),t.markers.startIcon){var pt=new L.Marker(h[0],{clickable:t.marker_options.clickable,icon:t.markers.startIcon});this.fire("addpoint",{point:pt,point_type:"start",element:l[0],line:n}),g.push(pt)}if(t.markers.endIcon){var pt=new L.Marker(h[h.length-1],{clickable:t.marker_options.clickable,icon:t.markers.endIcon});this.fire("addpoint",{point:pt,point_type:"end",element:l[l.length-1],line:n}),g.push(pt)}for(var E=0;E<d.length;E++){var pt=new L.Marker(d[E].coords,{clickable:t.marker_options.clickable,title:d[E].label,icon:d[E].icon});this.fire("addpoint",{point:pt,point_type:"label",element:d[E].element}),g.push(pt)}return g},_get_polyline_options:function(n,t){return Array.isArray(n)?n[t]||{}:n},_extract_styling:function(n,t,e){var r=this._merge_objs($V,t),o=n.getElementsByTagNameNS(WV,"line");if(o.length>0){var l=o[0].getElementsByTagName("color");l.length>0&&(r.color="#"+l[0].textContent);var l=o[0].getElementsByTagName("opacity");l.length>0&&(r.opacity=l[0].textContent);var l=o[0].getElementsByTagName("weight");l.length>0&&(r.weight=l[0].textContent);var l=o[0].getElementsByTagName("linecap");l.length>0&&(r.lineCap=l[0].textContent);var l=o[0].getElementsByTagName("linejoin");l.length>0&&(r.lineJoin=l[0].textContent);var l=o[0].getElementsByTagName("dasharray");l.length>0&&(r.dashArray=l[0].textContent);var l=o[0].getElementsByTagName("dashoffset");l.length>0&&(r.dashOffset=l[0].textContent)}return this._merge_objs(r,e)},_dist2d:function(n,t){var e=6371e3,r=this._deg2rad(t.lat-n.lat),o=this._deg2rad(t.lng-n.lng),l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this._deg2rad(n.lat))*Math.cos(this._deg2rad(t.lat))*Math.sin(o/2)*Math.sin(o/2),h=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),d=e*h;return d},_dist3d:function(n,t){var e=this._dist2d(n,t),r=Math.abs(t.meta.ele-n.meta.ele);return Math.sqrt(Math.pow(e,2)+Math.pow(r,2))},_deg2rad:function(n){return n*Math.PI/180}});const t6=()=>{const n=W.useRef(null);return W.useEffect(()=>{n.current===null&&(n.current=kn.map("map").setView([41.12,1.26],13),kn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(n.current),new kn.GPX("/gpx/murallas_romanas.gpx",{async:!0,polyline_options:{color:"blue",weight:4,opacity:.8},marker_options:{startIconUrl:"https://cdn-icons-png.flaticon.com/128/149/149059.png",endIconUrl:"https://cdn-icons-png.flaticon.com/128/149/149983.png",shadowUrl:""}}).on("loaded",function(t){n.current.fitBounds(t.target.getBounds())}).addTo(n.current))},[]),O.jsx("div",{id:"map",style:{width:"100%",height:"80vh"}})};function e6(){const n=[{id:1,nombre:"Anfiteatro",img:HV,descripcion:"Antiguo anfiteatro romano frente al mar."},{id:2,nombre:"Catedral",img:qV,descripcion:"Impresionante catedral gótica en el corazón de Tarragona."},{id:3,nombre:"Murallas",img:GV,descripcion:"Murallas romanas que protegían la antigua ciudad."},{id:4,nombre:"Plaça del Rei",img:ZV,descripcion:"Plaza central con gran valor histórico."},{id:5,nombre:"Balcón Mediterráneo",img:YV,descripcion:"Mirador con vistas al mar Mediterráneo."}],[t,e]=W.useState(null),[r,o]=W.useState(null);return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"mapa-info-container",children:O.jsxs("div",{className:"info",children:[O.jsx("h1",{children:"Turismo en Tarragona"}),O.jsx("p",{children:"Bienvenido a nuestra plataforma de turismo inteligente en Tarragona. Aquí descubrirás las rutas culturales más importantes, información histórica y servicios útiles como restaurantes, zonas wifi, transporte y más."}),O.jsx("p",{children:"Nuestra misión es ayudarte a explorar los lugares emblemáticos de la ciudad con mapas interactivos, curiosidades culturales y recomendaciones personalizadas."}),O.jsxs("p",{children:[O.jsx("strong",{children:"Descripción:"})," Esta aplicación interactiva permite a los usuarios explorar el patrimonio histórico y cultural de Tarragona a través de una ruta guiada con imágenes, descripciones detalladas, mapas y horarios."]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Servicios:"})," Ofrecemos un tour turístico personalizado que se adapta al ritmo de cada persona. Disfruta de la historia, los secretos y rincones emblemáticos de Tarragona a tu manera."]})]})}),O.jsxs("div",{className:"mapa",children:[O.jsx("h2",{children:"RUTA HISTÓRICA ANTIGUO TARRACO"}),O.jsx(t6,{})]}),O.jsx("div",{className:"slider-wrapper",children:n.map((l,h)=>O.jsx("img",{src:l.img,alt:l.nombre,className:`slider-item ${t===h?"active":""}`,onMouseEnter:()=>e(h),onMouseLeave:()=>e(null),onClick:()=>o(l)},h))}),r&&O.jsxs("div",{className:"card-detalle",children:[O.jsx("div",{className:"card-imagen",children:O.jsx("img",{src:r.img,alt:r.nombre})}),O.jsxs("div",{className:"card-info",children:[O.jsx("h2",{children:r.nombre}),O.jsx("p",{children:r.descripcion}),O.jsxs("p",{children:[O.jsx("strong",{children:"Detalles:"})," Este sitio es uno de los puntos más destacados de la ruta turística por Tarragona. Ideal para visitas culturales, actividades al aire libre y vistas panorámicas."]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Horario:"})," 10:00 - 18:00 (todos los días)"]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Ubicación:"})," Tarragona centro histórico"]})]})]})]})}function hy(n,t){const e=W.useRef(t);W.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}function n6(n,t,e){t.center!==e.center&&n.setLatLng(t.center),t.radius!=null&&t.radius!==e.radius&&n.setRadius(t.radius)}const ix=1;function rx(n){return Object.freeze({__version:ix,map:n})}function sx(n,t){return Object.freeze({...n,...t})}const Vm=W.createContext(null);function Zh(){const n=W.use(Vm);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function fy(n){function t(e,r){const{instance:o,context:l}=n(e).current;W.useImperativeHandle(r,()=>o);const{children:h}=e;return h==null?null:ju.createElement(Vm,{value:l},h)}return W.forwardRef(t)}function ax(n){function t(e,r){const[o,l]=W.useState(!1),{instance:h}=n(e,l).current;W.useImperativeHandle(r,()=>h),W.useEffect(function(){o&&h.update()},[h,o,e.children]);const d=h._contentNode;return d?QP.createPortal(e.children,d):null}return W.forwardRef(t)}function dy(n){function t(e,r){const{instance:o}=n(e).current;return W.useImperativeHandle(r,()=>o),null}return W.forwardRef(t)}function ox(n){return function(e){const r=Zh(),o=n(e,r),{instance:l}=o.current,h=W.useRef(e.position),{position:d}=e;return W.useEffect(function(){return l.addTo(r.map),function(){l.remove()}},[r.map,l]),W.useEffect(function(){d!=null&&d!==h.current&&(l.setPosition(d),h.current=d)},[l,d]),o}}function Um(n,t){const e=W.useRef(void 0);W.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function Yh(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function lx(n,t){return function(r,o){const l=Zh(),h=n(Yh(r,l),l);return hy(l.map,r.attribution),Um(h.current,r.eventHandlers),t(h.current,l,r,o),h}}function ux(n){return n.split(" ").filter(Boolean)}function cx(n,t){for(const e of ux(t))Uo.DomUtil.addClass(n,e)}function hx(n,t){for(const e of ux(t))Uo.DomUtil.removeClass(n,e)}function i6(n,t,e){n!=null&&e!==t&&(t!=null&&t.length>0&&hx(n,t),e!=null&&e.length>0&&cx(n,e))}function Kh(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function sc(n,t){return t==null?function(r,o){const l=W.useRef(void 0);return l.current||(l.current=n(r,o)),l}:function(r,o){const l=W.useRef(void 0);l.current||(l.current=n(r,o));const h=W.useRef(r),{instance:d}=l.current;return W.useEffect(function(){h.current!==r&&(t(d,r,h.current),h.current=r)},[d,r,t]),l}}function my(n,t){W.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function py(n){return function(e){const r=Zh(),o=n(Yh(e,r),r);return hy(r.map,e.attribution),Um(o.current,e.eventHandlers),my(o.current,r),o}}function fx(n,t){const e=W.useRef(void 0);W.useEffect(function(){if(t.pathOptions!==e.current){const o=t.pathOptions??{};n.instance.setStyle(o),e.current=o}},[n,t])}function dx(n){return function(e){const r=Zh(),o=n(Yh(e,r),r);return Um(o.current,e.eventHandlers),my(o.current,r),fx(o.current,e),o}}function r6(n){function t(o,l){return Kh(n(o),l)}const e=sc(t),r=ox(e);return dy(r)}function mx(n,t){const e=sc(n,t),r=py(e);return fy(r)}function px(n,t){const e=sc(n),r=lx(e,t);return ax(r)}function s6(n,t){const e=sc(n,t),r=dx(e);return fy(r)}function gx(n,t){const e=sc(n,t),r=py(e);return dy(r)}function _x(n,t,e){const{opacity:r,zIndex:o}=t;r!=null&&r!==e.opacity&&n.setOpacity(r),o!=null&&o!==e.zIndex&&n.setZIndex(o)}function a6(n,t,e){t.bounds instanceof Uo.LatLngBounds&&t.bounds!==e.bounds&&n.setBounds(t.bounds),t.opacity!=null&&t.opacity!==e.opacity&&n.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==e.zIndex&&n.setZIndex(t.zIndex)}const o6=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:ix,LeafletContext:Vm,addClassName:cx,createContainerComponent:fy,createControlComponent:r6,createControlHook:ox,createDivOverlayComponent:ax,createDivOverlayHook:lx,createElementHook:sc,createElementObject:Kh,createLayerComponent:mx,createLayerHook:py,createLeafComponent:dy,createLeafletContext:rx,createOverlayComponent:px,createPathComponent:s6,createPathHook:dx,createTileLayerComponent:gx,extendContext:sx,removeClassName:hx,updateCircle:n6,updateClassName:i6,updateGridLayer:_x,updateMediaOverlay:a6,useAttribution:hy,useEventHandlers:Um,useLayerLifecycle:my,useLeafletContext:Zh,usePathOptions:fx,withPane:Yh},Symbol.toStringTag,{value:"Module"}));function l6({bounds:n,boundsOptions:t,center:e,children:r,className:o,id:l,placeholder:h,style:d,whenReady:g,zoom:v,...E},w){const[A]=W.useState({className:o,id:l,style:d}),[R,k]=W.useState(null),N=W.useRef(void 0);W.useImperativeHandle(w,()=>R?.map??null,[R]);const H=W.useCallback(et=>{if(et!==null&&!N.current){const nt=new Uo.Map(et,E);N.current=nt,e!=null&&v!=null?nt.setView(e,v):n!=null&&nt.fitBounds(n,t),g!=null&&nt.whenReady(g),k(rx(nt))}},[]);W.useEffect(()=>()=>{R?.map.remove()},[R]);const j=R?ju.createElement(Vm,{value:R},r):h??null;return ju.createElement("div",{...A,ref:H},j)}const u6=W.forwardRef(l6),c6=mx(function({position:t,...e},r){const o=new Uo.Marker(t,e);return Kh(o,sx(r,{overlayContainer:o}))},function(t,e,r){e.position!==r.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),h6=px(function(t,e){const r=new Uo.Popup(t,e.overlayContainer);return Kh(r,e)},function(t,e,{position:r},o){W.useEffect(function(){const{instance:h}=t;function d(v){v.popup===h&&(h.update(),o(!0))}function g(v){v.popup===h&&o(!1)}return e.map.on({popupopen:d,popupclose:g}),e.overlayContainer==null?(r!=null&&h.setLatLng(r),h.openOn(e.map)):e.overlayContainer.bindPopup(h),function(){e.map.off({popupopen:d,popupclose:g}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(h)}},[t,e,o,r])}),f6=gx(function({url:t,...e},r){const o=new Uo.TileLayer(t,Yh(e,r));return Kh(o,r)},function(t,e,r){_x(t,e,r);const{url:o}=e;o!=null&&o!==r.url&&t.setUrl(o)});var os={};const d6=tm(o6);var oh={exports:{}},m6=oh.exports,ww;function p6(){return ww||(ww=1,function(n,t){(function(e,r){r(t)})(m6,function(e){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(l){L.Util.setOptions(this,l),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var h=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,h?this._withAnimation:this._noAnimation),this._markerCluster=h?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(l){if(l instanceof L.LayerGroup)return this.addLayers([l]);if(!l.getLatLng)return this._nonPointGroup.addLayer(l),this.fire("layeradd",{layer:l}),this;if(!this._map)return this._needsClustering.push(l),this.fire("layeradd",{layer:l}),this;if(this.hasLayer(l))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(l,this._maxZoom),this.fire("layeradd",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var h=l,d=this._zoom;if(l.__parent)for(;h.__parent._zoom>=d;)h=h.__parent;return this._currentShownBounds.contains(h.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(l,h):this._animationAddLayerNonAnimated(l,h)),this},removeLayer:function(l){return l instanceof L.LayerGroup?this.removeLayers([l]):l.getLatLng?this._map?l.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(l)),this._removeLayer(l,!0),this.fire("layerremove",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),l.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(l)&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,l)&&this.hasLayer(l)&&this._needsRemoving.push({layer:l,latlng:l._latlng}),this.fire("layerremove",{layer:l}),this):(this._nonPointGroup.removeLayer(l),this.fire("layerremove",{layer:l}),this)},addLayers:function(l,h){if(!L.Util.isArray(l))return this.addLayer(l);var d=this._featureGroup,g=this._nonPointGroup,v=this.options.chunkedLoading,E=this.options.chunkInterval,w=this.options.chunkProgress,A=l.length,R=0,k=!0,N;if(this._map){var H=new Date().getTime(),j=L.bind(function(){var nt=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();R<A;R++){if(v&&R%200===0){var pt=new Date().getTime()-nt;if(pt>E)break}if(N=l[R],N instanceof L.LayerGroup){k&&(l=l.slice(),k=!1),this._extractNonGroupLayers(N,l),A=l.length;continue}if(!N.getLatLng){g.addLayer(N),h||this.fire("layeradd",{layer:N});continue}if(!this.hasLayer(N)&&(this._addLayer(N,this._maxZoom),h||this.fire("layeradd",{layer:N}),N.__parent&&N.__parent.getChildCount()===2)){var vt=N.__parent.getAllChildMarkers(),kt=vt[0]===N?vt[1]:vt[0];d.removeLayer(kt)}}w&&w(R,A,new Date().getTime()-H),R===A?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(j,this.options.chunkDelay)},this);j()}else for(var et=this._needsClustering;R<A;R++){if(N=l[R],N instanceof L.LayerGroup){k&&(l=l.slice(),k=!1),this._extractNonGroupLayers(N,l),A=l.length;continue}if(!N.getLatLng){g.addLayer(N);continue}this.hasLayer(N)||et.push(N)}return this},removeLayers:function(l){var h,d,g=l.length,v=this._featureGroup,E=this._nonPointGroup,w=!0;if(!this._map){for(h=0;h<g;h++){if(d=l[h],d instanceof L.LayerGroup){w&&(l=l.slice(),w=!1),this._extractNonGroupLayers(d,l),g=l.length;continue}this._arraySplice(this._needsClustering,d),E.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var A=l.slice(),R=g;for(h=0;h<R;h++){if(d=A[h],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,A),R=A.length;continue}this._unspiderfyLayer(d)}}for(h=0;h<g;h++){if(d=l[h],d instanceof L.LayerGroup){w&&(l=l.slice(),w=!1),this._extractNonGroupLayers(d,l),g=l.length;continue}if(!d.__parent){E.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),v.hasLayer(d)&&(v.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(l){l.off(this._childMarkerEventHandlers,this),delete l.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var l=new L.LatLngBounds;this._topClusterLevel&&l.extend(this._topClusterLevel._bounds);for(var h=this._needsClustering.length-1;h>=0;h--)l.extend(this._needsClustering[h].getLatLng());return l.extend(this._nonPointGroup.getBounds()),l},eachLayer:function(l,h){var d=this._needsClustering.slice(),g=this._needsRemoving,v,E,w;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),E=d.length-1;E>=0;E--){for(v=!0,w=g.length-1;w>=0;w--)if(g[w].layer===d[E]){v=!1;break}v&&l.call(h,d[E])}this._nonPointGroup.eachLayer(l,h)},getLayers:function(){var l=[];return this.eachLayer(function(h){l.push(h)}),l},getLayer:function(l){var h=null;return l=parseInt(l,10),this.eachLayer(function(d){L.stamp(d)===l&&(h=d)}),h},hasLayer:function(l){if(!l)return!1;var h,d=this._needsClustering;for(h=d.length-1;h>=0;h--)if(d[h]===l)return!0;for(d=this._needsRemoving,h=d.length-1;h>=0;h--)if(d[h].layer===l)return!1;return!!(l.__parent&&l.__parent._group===this)||this._nonPointGroup.hasLayer(l)},zoomToShowLayer:function(l,h){var d=this._map;typeof h!="function"&&(h=function(){});var g=function(){(d.hasLayer(l)||d.hasLayer(l.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",g,this),this.off("animationend",g,this),d.hasLayer(l)?h():l.__parent._icon&&(this.once("spiderfied",h,this),l.__parent.spiderfy()))};l._icon&&this._map.getBounds().contains(l.getLatLng())?h():l.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",g,this),this._map.panTo(l.getLatLng())):(this._map.on("moveend",g,this),this.on("animationend",g,this),l.__parent.zoomToBounds())},onAdd:function(l){this._map=l;var h,d,g;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(l),this._nonPointGroup.addTo(l),this._gridClusters||this._generateInitialClusters(),this._maxLat=l.options.crs.projection.MAX_LATITUDE,h=0,d=this._needsRemoving.length;h<d;h++)g=this._needsRemoving[h],g.newlatlng=g.layer._latlng,g.layer._latlng=g.latlng;for(h=0,d=this._needsRemoving.length;h<d;h++)g=this._needsRemoving[h],this._removeLayer(g.layer,!0),g.layer._latlng=g.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(l){l.off("zoomend",this._zoomEnd,this),l.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(l){for(var h=l;h&&!h._icon;)h=h.__parent;return h||null},_arraySplice:function(l,h){for(var d=l.length-1;d>=0;d--)if(l[d]===h)return l.splice(d,1),!0},_removeFromGridUnclustered:function(l,h){for(var d=this._map,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());h>=v&&g[h].removeObject(l,d.project(l.getLatLng(),h));h--);},_childMarkerDragStart:function(l){l.target.__dragStart=l.target._latlng},_childMarkerMoved:function(l){if(!this._ignoreMove&&!l.target.__dragStart){var h=l.target._popup&&l.target._popup.isOpen();this._moveChild(l.target,l.oldLatLng,l.latlng),h&&l.target.openPopup()}},_moveChild:function(l,h,d){l._latlng=h,this.removeLayer(l),l._latlng=d,this.addLayer(l)},_childMarkerDragEnd:function(l){var h=l.target.__dragStart;delete l.target.__dragStart,h&&this._moveChild(l.target,h,l.target._latlng)},_removeLayer:function(l,h,d){var g=this._gridClusters,v=this._gridUnclustered,E=this._featureGroup,w=this._map,A=Math.floor(this._map.getMinZoom());h&&this._removeFromGridUnclustered(l,this._maxZoom);var R=l.__parent,k=R._markers,N;for(this._arraySplice(k,l);R&&(R._childCount--,R._boundsNeedUpdate=!0,!(R._zoom<A));)h&&R._childCount<=1?(N=R._markers[0]===l?R._markers[1]:R._markers[0],g[R._zoom].removeObject(R,w.project(R._cLatLng,R._zoom)),v[R._zoom].addObject(N,w.project(N.getLatLng(),R._zoom)),this._arraySplice(R.__parent._childClusters,R),R.__parent._markers.push(N),N.__parent=R.__parent,R._icon&&(E.removeLayer(R),d||E.addLayer(N))):R._iconNeedsUpdate=!0,R=R.__parent;delete l.__parent},_isOrIsParent:function(l,h){for(;h;){if(l===h)return!0;h=h.parentNode}return!1},fire:function(l,h,d){if(h&&h.layer instanceof L.MarkerCluster){if(h.originalEvent&&this._isOrIsParent(h.layer._icon,h.originalEvent.relatedTarget))return;l="cluster"+l}L.FeatureGroup.prototype.fire.call(this,l,h,d)},listens:function(l,h){return L.FeatureGroup.prototype.listens.call(this,l,h)||L.FeatureGroup.prototype.listens.call(this,"cluster"+l,h)},_defaultIconCreateFunction:function(l){var h=l.getChildCount(),d=" marker-cluster-";return h<10?d+="small":h<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+h+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var l=this._map,h=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,g=this.options.zoomToBoundsOnClick,v=this.options.spiderfyOnEveryZoom;(h||g||v)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),l.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(l){var h=l.layer,d=h;if(!(l.type==="clusterkeypress"&&l.originalEvent&&l.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===h._childCount&&this.options.spiderfyOnMaxZoom?h.spiderfy():this.options.zoomToBoundsOnClick&&h.zoomToBounds(),this.options.spiderfyOnEveryZoom&&h.spiderfy(),l.originalEvent&&l.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(l){var h=this._map;this._inZoomAnimation||(this._shownPolygon&&h.removeLayer(this._shownPolygon),l.layer.getChildCount()>2&&l.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(l.layer.getConvexHull(),this.options.polygonOptions),h.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var l=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom,v=this._map;(l||d||g)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),v.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var l=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),l),this._currentShownBounds=l}},_generateInitialClusters:function(){var l=Math.ceil(this._map.getMaxZoom()),h=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,g=d;typeof d!="function"&&(g=function(){return d}),this.options.disableClusteringAtZoom!==null&&(l=this.options.disableClusteringAtZoom-1),this._maxZoom=l,this._gridClusters={},this._gridUnclustered={};for(var v=l;v>=h;v--)this._gridClusters[v]=new L.DistanceGrid(g(v)),this._gridUnclustered[v]=new L.DistanceGrid(g(v));this._topClusterLevel=new this._markerCluster(this,h-1)},_addLayer:function(l,h){var d=this._gridClusters,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom()),E,w;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(l),l.on(this._childMarkerEventHandlers,this);h>=v;h--){E=this._map.project(l.getLatLng(),h);var A=d[h].getNearObject(E);if(A){A._addChild(l),l.__parent=A;return}if(A=g[h].getNearObject(E),A){var R=A.__parent;R&&this._removeLayer(A,!1);var k=new this._markerCluster(this,h,A,l);d[h].addObject(k,this._map.project(k._cLatLng,h)),A.__parent=k,l.__parent=k;var N=k;for(w=h-1;w>R._zoom;w--)N=new this._markerCluster(this,w,N),d[w].addObject(N,this._map.project(A.getLatLng(),w));R._addChild(N),this._removeFromGridUnclustered(A,h);return}g[h].addObject(l,E)}this._topClusterLevel._addChild(l),l.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(l){l instanceof L.MarkerCluster&&l._iconNeedsUpdate&&l._updateIcon()})},_enqueue:function(l){this._queue.push(l),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var l=0;l<this._queue.length;l++)this._queue[l].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var l=Math.round(this._map._zoom);this._processQueue(),this._zoom<l&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,l)):this._zoom>l?(this._animationStart(),this._animationZoomOut(this._zoom,l)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(l){var h=this._maxLat;return h!==void 0&&(l.getNorth()>=h&&(l._northEast.lat=1/0),l.getSouth()<=-h&&(l._southWest.lat=-1/0)),l},_animationAddLayerNonAnimated:function(l,h){if(h===l)this._featureGroup.addLayer(l);else if(h._childCount===2){h._addToMap();var d=h.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else h._updateIcon()},_extractNonGroupLayers:function(l,h){var d=l.getLayers(),g=0,v;for(h=h||[];g<d.length;g++){if(v=d[g],v instanceof L.LayerGroup){this._extractNonGroupLayers(v,h);continue}h.push(v)}return h},_overrideMarkerIcon:function(l){var h=l.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[l]}});return h}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(l,h){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(l,h){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(l,h){this._animationAddLayerNonAnimated(l,h)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(l,h){var d=this._getExpandedVisibleBounds(),g=this._featureGroup,v=Math.floor(this._map.getMinZoom()),E;this._ignoreMove=!0,this._topClusterLevel._recursively(d,l,v,function(w){var A=w._latlng,R=w._markers,k;for(d.contains(A)||(A=null),w._isSingleParent()&&l+1===h?(g.removeLayer(w),w._recursivelyAddChildrenToMap(null,h,d)):(w.clusterHide(),w._recursivelyAddChildrenToMap(A,h,d)),E=R.length-1;E>=0;E--)k=R[E],d.contains(k._latlng)||g.removeLayer(k)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,h),g.eachLayer(function(w){!(w instanceof L.MarkerCluster)&&w._icon&&w.clusterShow()}),this._topClusterLevel._recursively(d,l,h,function(w){w._recursivelyRestoreChildPositions(h)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,l,v,function(w){g.removeLayer(w),w.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(l,h){this._animationZoomOutSingle(this._topClusterLevel,l-1,h),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l,this._getExpandedVisibleBounds())},_animationAddLayer:function(l,h){var d=this,g=this._featureGroup;g.addLayer(l),h!==l&&(h._childCount>2?(h._updateIcon(),this._forceLayout(),this._animationStart(),l._setPos(this._map.latLngToLayerPoint(h.getLatLng())),l.clusterHide(),this._enqueue(function(){g.removeLayer(l),l.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(h,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(l,h,d){var g=this._getExpandedVisibleBounds(),v=Math.floor(this._map.getMinZoom());l._recursivelyAnimateChildrenInAndAddSelfToMap(g,v,h+1,d);var E=this;this._forceLayout(),l._recursivelyBecomeVisible(g,d),this._enqueue(function(){if(l._childCount===1){var w=l._markers[0];this._ignoreMove=!0,w.setLatLng(w.getLatLng()),this._ignoreMove=!1,w.clusterShow&&w.clusterShow()}else l._recursively(g,d,v,function(A){A._recursivelyRemoveChildrenFromMap(g,v,h+1)});E._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(l){return new L.MarkerClusterGroup(l)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(l,h,d,g){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:l.options.clusterPane}),this._group=l,this._zoom=h,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),g&&this._addChild(g)},getAllChildMarkers:function(l,h){l=l||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(l,h);for(var g=this._markers.length-1;g>=0;g--)h&&this._markers[g].__dragStart||l.push(this._markers[g]);return l},getChildCount:function(){return this._childCount},zoomToBounds:function(l){for(var h=this._childClusters.slice(),d=this._group._map,g=d.getBoundsZoom(this._bounds),v=this._zoom+1,E=d.getZoom(),w;h.length>0&&g>v;){v++;var A=[];for(w=0;w<h.length;w++)A=A.concat(h[w]._childClusters);h=A}g>v?this._group._map.setView(this._latlng,v):g<=E?this._group._map.setView(this._latlng,E+1):this._group._map.fitBounds(this._bounds,l)},getBounds:function(){var l=new L.LatLngBounds;return l.extend(this._bounds),l},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(l,h){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(l),l instanceof L.MarkerCluster?(h||(this._childClusters.push(l),l.__parent=this),this._childCount+=l._childCount):(h||this._markers.push(l),this._childCount++),this.__parent&&this.__parent._addChild(l,!0)},_setClusterCenter:function(l){this._cLatLng||(this._cLatLng=l._cLatLng||l._latlng)},_resetBounds:function(){var l=this._bounds;l._southWest&&(l._southWest.lat=1/0,l._southWest.lng=1/0),l._northEast&&(l._northEast.lat=-1/0,l._northEast.lng=-1/0)},_recalculateBounds:function(){var l=this._markers,h=this._childClusters,d=0,g=0,v=this._childCount,E,w,A,R;if(v!==0){for(this._resetBounds(),E=0;E<l.length;E++)A=l[E]._latlng,this._bounds.extend(A),d+=A.lat,g+=A.lng;for(E=0;E<h.length;E++)w=h[E],w._boundsNeedUpdate&&w._recalculateBounds(),this._bounds.extend(w._bounds),A=w._wLatLng,R=w._childCount,d+=A.lat*R,g+=A.lng*R;this._latlng=this._wLatLng=new L.LatLng(d/v,g/v),this._boundsNeedUpdate=!1}},_addToMap:function(l){l&&(this._backupLatlng=this._latlng,this.setLatLng(l)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(l,h,d){this._recursively(l,this._group._map.getMinZoom(),d-1,function(g){var v=g._markers,E,w;for(E=v.length-1;E>=0;E--)w=v[E],w._icon&&(w._setPos(h),w.clusterHide())},function(g){var v=g._childClusters,E,w;for(E=v.length-1;E>=0;E--)w=v[E],w._icon&&(w._setPos(h),w.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(l,h,d,g){this._recursively(l,g,h,function(v){v._recursivelyAnimateChildrenIn(l,v._group._map.latLngToLayerPoint(v.getLatLng()).round(),d),v._isSingleParent()&&d-1===g?(v.clusterShow(),v._recursivelyRemoveChildrenFromMap(l,h,d)):v.clusterHide(),v._addToMap()})},_recursivelyBecomeVisible:function(l,h){this._recursively(l,this._group._map.getMinZoom(),h,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(l,h,d){this._recursively(d,this._group._map.getMinZoom()-1,h,function(g){if(h!==g._zoom)for(var v=g._markers.length-1;v>=0;v--){var E=g._markers[v];d.contains(E._latlng)&&(l&&(E._backupLatlng=E.getLatLng(),E.setLatLng(l),E.clusterHide&&E.clusterHide()),g._group._featureGroup.addLayer(E))}},function(g){g._addToMap(l)})},_recursivelyRestoreChildPositions:function(l){for(var h=this._markers.length-1;h>=0;h--){var d=this._markers[h];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(l-1===this._zoom)for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._restorePosition();else for(var v=this._childClusters.length-1;v>=0;v--)this._childClusters[v]._recursivelyRestoreChildPositions(l)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(l,h,d,g){var v,E;this._recursively(l,h-1,d-1,function(w){for(E=w._markers.length-1;E>=0;E--)v=w._markers[E],(!g||!g.contains(v._latlng))&&(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())},function(w){for(E=w._childClusters.length-1;E>=0;E--)v=w._childClusters[E],(!g||!g.contains(v._latlng))&&(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())})},_recursively:function(l,h,d,g,v){var E=this._childClusters,w=this._zoom,A,R;if(h<=w&&(g&&g(this),v&&w===d&&v(this)),w<h||w<d)for(A=E.length-1;A>=0;A--)R=E[A],R._boundsNeedUpdate&&R._recalculateBounds(),l.intersects(R._bounds)&&R._recursively(l,h,d,g,v)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var l=this.options.opacity;return this.setOpacity(0),this.options.opacity=l,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(l){this._cellSize=l,this._sqCellSize=l*l,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(l,h){var d=this._getCoord(h.x),g=this._getCoord(h.y),v=this._grid,E=v[g]=v[g]||{},w=E[d]=E[d]||[],A=L.Util.stamp(l);this._objectPoint[A]=h,w.push(l)},updateObject:function(l,h){this.removeObject(l),this.addObject(l,h)},removeObject:function(l,h){var d=this._getCoord(h.x),g=this._getCoord(h.y),v=this._grid,E=v[g]=v[g]||{},w=E[d]=E[d]||[],A,R;for(delete this._objectPoint[L.Util.stamp(l)],A=0,R=w.length;A<R;A++)if(w[A]===l)return w.splice(A,1),R===1&&delete E[d],!0},eachObject:function(l,h){var d,g,v,E,w,A,R,k=this._grid;for(d in k){w=k[d];for(g in w)for(A=w[g],v=0,E=A.length;v<E;v++)R=l.call(h,A[v]),R&&(v--,E--)}},getNearObject:function(l){var h=this._getCoord(l.x),d=this._getCoord(l.y),g,v,E,w,A,R,k,N,H=this._objectPoint,j=this._sqCellSize,et=null;for(g=d-1;g<=d+1;g++)if(w=this._grid[g],w){for(v=h-1;v<=h+1;v++)if(A=w[v],A)for(E=0,R=A.length;E<R;E++)k=A[E],N=this._sqDist(H[L.Util.stamp(k)],l),(N<j||N<=j&&et===null)&&(j=N,et=k)}return et},_getCoord:function(l){var h=Math.floor(l/this._cellSize);return isFinite(h)?h:l},_sqDist:function(l,h){var d=h.x-l.x,g=h.y-l.y;return d*d+g*g}},function(){L.QuickHull={getDistant:function(l,h){var d=h[1].lat-h[0].lat,g=h[0].lng-h[1].lng;return g*(l.lat-h[0].lat)+d*(l.lng-h[0].lng)},findMostDistantPointFromBaseLine:function(l,h){var d=0,g=null,v=[],E,w,A;for(E=h.length-1;E>=0;E--){if(w=h[E],A=this.getDistant(w,l),A>0)v.push(w);else continue;A>d&&(d=A,g=w)}return{maxPoint:g,newPoints:v}},buildConvexHull:function(l,h){var d=[],g=this.findMostDistantPointFromBaseLine(l,h);return g.maxPoint?(d=d.concat(this.buildConvexHull([l[0],g.maxPoint],g.newPoints)),d=d.concat(this.buildConvexHull([g.maxPoint,l[1]],g.newPoints)),d):[l[0]]},getConvexHull:function(l){var h=!1,d=!1,g=!1,v=!1,E=null,w=null,A=null,R=null,k=null,N=null,H;for(H=l.length-1;H>=0;H--){var j=l[H];(h===!1||j.lat>h)&&(E=j,h=j.lat),(d===!1||j.lat<d)&&(w=j,d=j.lat),(g===!1||j.lng>g)&&(A=j,g=j.lng),(v===!1||j.lng<v)&&(R=j,v=j.lng)}d!==h?(N=w,k=E):(N=R,k=A);var et=[].concat(this.buildConvexHull([N,k],l),this.buildConvexHull([k,N],l));return et}}}(),L.MarkerCluster.include({getConvexHull:function(){var l=this.getAllChildMarkers(),h=[],d,g;for(g=l.length-1;g>=0;g--)d=l[g].getLatLng(),h.push(d);return L.QuickHull.getConvexHull(h)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var l=this.getAllChildMarkers(null,!0),h=this._group,d=h._map,g=d.latLngToLayerPoint(this._latlng),v;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?v=this._group.options.spiderfyShapePositions(l.length,g):l.length>=this._circleSpiralSwitchover?v=this._generatePointsSpiral(l.length,g):(g.y+=10,v=this._generatePointsCircle(l.length,g)),this._animationSpiderfy(l,v)}},unspiderfy:function(l){this._group._inZoomAnimation||(this._animationUnspiderfy(l),this._group._spiderfied=null)},_generatePointsCircle:function(l,h){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+l),g=d/this._2PI,v=this._2PI/l,E=[],w,A;for(g=Math.max(g,35),E.length=l,w=0;w<l;w++)A=this._circleStartAngle+w*v,E[w]=new L.Point(h.x+g*Math.cos(A),h.y+g*Math.sin(A))._round();return E},_generatePointsSpiral:function(l,h){var d=this._group.options.spiderfyDistanceMultiplier,g=d*this._spiralLengthStart,v=d*this._spiralFootSeparation,E=d*this._spiralLengthFactor*this._2PI,w=0,A=[],R;for(A.length=l,R=l;R>=0;R--)R<l&&(A[R]=new L.Point(h.x+g*Math.cos(w),h.y+g*Math.sin(w))._round()),w+=v/g+R*5e-4,g+=E/w;return A},_noanimationUnspiderfy:function(){var l=this._group,h=l._map,d=l._featureGroup,g=this.getAllChildMarkers(null,!0),v,E;for(l._ignoreMove=!0,this.setOpacity(1),E=g.length-1;E>=0;E--)v=g[E],d.removeLayer(v),v._preSpiderfyLatlng&&(v.setLatLng(v._preSpiderfyLatlng),delete v._preSpiderfyLatlng),v.setZIndexOffset&&v.setZIndexOffset(0),v._spiderLeg&&(h.removeLayer(v._spiderLeg),delete v._spiderLeg);l.fire("unspiderfied",{cluster:this,markers:g}),l._ignoreMove=!1,l._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(l,h){var d=this._group,g=d._map,v=d._featureGroup,E=this._group.options.spiderLegPolylineOptions,w,A,R,k;for(d._ignoreMove=!0,w=0;w<l.length;w++)k=g.layerPointToLatLng(h[w]),A=l[w],R=new L.Polyline([this._latlng,k],E),g.addLayer(R),A._spiderLeg=R,A._preSpiderfyLatlng=A._latlng,A.setLatLng(k),A.setZIndexOffset&&A.setZIndexOffset(1e6),v.addLayer(A);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:l})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(l,h){var d=this,g=this._group,v=g._map,E=g._featureGroup,w=this._latlng,A=v.latLngToLayerPoint(w),R=L.Path.SVG,k=L.extend({},this._group.options.spiderLegPolylineOptions),N=k.opacity,H,j,et,nt,pt,vt;for(N===void 0&&(N=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),R?(k.opacity=0,k.className=(k.className||"")+" leaflet-cluster-spider-leg"):k.opacity=N,g._ignoreMove=!0,H=0;H<l.length;H++)j=l[H],vt=v.layerPointToLatLng(h[H]),et=new L.Polyline([w,vt],k),v.addLayer(et),j._spiderLeg=et,R&&(nt=et._path,pt=nt.getTotalLength()+.1,nt.style.strokeDasharray=pt,nt.style.strokeDashoffset=pt),j.setZIndexOffset&&j.setZIndexOffset(1e6),j.clusterHide&&j.clusterHide(),E.addLayer(j),j._setPos&&j._setPos(A);for(g._forceLayout(),g._animationStart(),H=l.length-1;H>=0;H--)vt=v.layerPointToLatLng(h[H]),j=l[H],j._preSpiderfyLatlng=j._latlng,j.setLatLng(vt),j.clusterShow&&j.clusterShow(),R&&(et=j._spiderLeg,nt=et._path,nt.style.strokeDashoffset=0,et.setStyle({opacity:N}));this.setOpacity(.3),g._ignoreMove=!1,setTimeout(function(){g._animationEnd(),g.fire("spiderfied",{cluster:d,markers:l})},200)},_animationUnspiderfy:function(l){var h=this,d=this._group,g=d._map,v=d._featureGroup,E=l?g._latLngToNewLayerPoint(this._latlng,l.zoom,l.center):g.latLngToLayerPoint(this._latlng),w=this.getAllChildMarkers(null,!0),A=L.Path.SVG,R,k,N,H,j,et;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),k=w.length-1;k>=0;k--)R=w[k],R._preSpiderfyLatlng&&(R.closePopup(),R.setLatLng(R._preSpiderfyLatlng),delete R._preSpiderfyLatlng,et=!0,R._setPos&&(R._setPos(E),et=!1),R.clusterHide&&(R.clusterHide(),et=!1),et&&v.removeLayer(R),A&&(N=R._spiderLeg,H=N._path,j=H.getTotalLength()+.1,H.style.strokeDashoffset=j,N.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var nt=0;for(k=w.length-1;k>=0;k--)R=w[k],R._spiderLeg&&nt++;for(k=w.length-1;k>=0;k--)R=w[k],R._spiderLeg&&(R.clusterShow&&R.clusterShow(),R.setZIndexOffset&&R.setZIndexOffset(0),nt>1&&v.removeLayer(R),g.removeLayer(R._spiderLeg),delete R._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:h,markers:w})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(l){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(l))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(l){this._spiderfied&&this._spiderfied.unspiderfy(l)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(l){l._spiderLeg&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow(),l.setZIndexOffset&&l.setZIndexOffset(0),this._map.removeLayer(l._spiderLeg),delete l._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(l){return l?l instanceof L.MarkerClusterGroup?l=l._topClusterLevel.getAllChildMarkers():l instanceof L.LayerGroup?l=l._layers:l instanceof L.MarkerCluster?l=l.getAllChildMarkers():l instanceof L.Marker&&(l=[l]):l=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(l),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(l),this},_flagParentsIconsNeedUpdate:function(l){var h,d;for(h in l)for(d=l[h].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(l){var h,d;for(h in l)d=l[h],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(l,h){var d=this.options.icon;return L.setOptions(d,l),this.setIcon(d),h&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=r,e.MarkerCluster=o,Object.defineProperty(e,"__esModule",{value:!0})})}(oh,oh.exports)),oh.exports}const g6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",_6=Object.freeze(Object.defineProperty({__proto__:null,default:g6},Symbol.toStringTag,{value:"Module"})),v6=tm(_6),y6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",T6=Object.freeze(Object.defineProperty({__proto__:null,default:y6},Symbol.toStringTag,{value:"Module"})),E6=tm(T6),b6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",w6=Object.freeze(Object.defineProperty({__proto__:null,default:b6},Symbol.toStringTag,{value:"Module"})),A6=tm(w6);var Aw;function S6(){if(Aw)return os;Aw=1;var n=os&&os.__assign||function(){return n=Object.assign||function(v){for(var E,w=1,A=arguments.length;w<A;w++){E=arguments[w];for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(v[R]=E[R])}return v},n.apply(this,arguments)},t=os&&os.__rest||function(v,E){var w={};for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.indexOf(A)<0&&(w[A]=v[A]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,A=Object.getOwnPropertySymbols(v);R<A.length;R++)E.indexOf(A[R])<0&&Object.prototype.propertyIsEnumerable.call(v,A[R])&&(w[A[R]]=v[A[R]]);return w},e=os&&os.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(os,"__esModule",{value:!0});var r=d6,o=e(ex());p6(),delete o.default.Icon.Default.prototype._getIconUrl,o.default.Icon.Default.mergeOptions({iconRetinaUrl:v6.default,iconUrl:E6.default,shadowUrl:A6.default});function l(v){var E={},w={};v.children;var A=t(v,["children"]);return Object.entries(A).forEach(function(R){var k,N,H=R[0],j=R[1];H.startsWith("on")?w=n(n({},w),(k={},k[H]=j,k)):E=n(n({},E),(N={},N[H]=j,N))}),{clusterProps:E,clusterEvents:w}}function h(v,E){var w=l(v),A=w.clusterProps,R=w.clusterEvents,k=new o.default.MarkerClusterGroup(A);return Object.entries(R).forEach(function(N){var H=N[0],j=N[1],et="cluster".concat(H.substring(2).toLowerCase());k.on(et,j)}),(0,r.createElementObject)(k,(0,r.extendContext)(E,{layerContainer:k}))}var d=function(v,E,w){},g=(0,r.createPathComponent)(h,d);return os.default=g,os}var C6=S6();const x6=Lh(C6),R6={cafeterias:new kn.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/922/922699.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),hoteles:new kn.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/139/139899.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),bares:new kn.Icon({iconUrl:"https://images.icon-icons.com/3015/PNG/512/beer_drink_glass_jar_icon_188550.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),puntosDeInteres:new kn.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/2651/2651172.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Casino:new kn.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/5971/5971903.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},I6=()=>{const[n,t]=W.useState([]),[e,r]=W.useState({cafeterias:!0,hoteles:!0,bares:!0,puntosDeInteres:!0,Casino:!0});return W.useEffect(()=>{(async()=>{const l=["cafeterias","hoteles","bares","puntosDeInteres","Casino"],h=[];for(const d of l)(await uy(Wu(Zi,d))).forEach(v=>{const E=v.data();h.push({tipo:d,nombre:E.nombre,descripcion:E.descripcion,coordenadas:[E.coordenadas.latitude,E.coordenadas.longitude]})});t(h)})()},[]),O.jsxs("div",{children:[O.jsxs("div",{style:{padding:"10px"},children:[O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:e.cafeterias,onChange:()=>r(o=>({...o,cafeterias:!o.cafeterias}))}),"Cafeterías"]})," ",O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:e.hoteles,onChange:()=>r(o=>({...o,hoteles:!o.hoteles}))}),"Hoteles"]})," ",O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:e.bares,onChange:()=>r(o=>({...o,bares:!o.bares}))}),"Bares"]})," ",O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:e.puntosDeInteres,onChange:()=>r(o=>({...o,puntosDeInteres:!o.puntosDeInteres}))}),"Puntos de Interés"]})," ",O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",checked:e.Casino,onChange:()=>r(o=>({...o,Casino:!o.Casino}))}),"Casino"]})]}),O.jsx("div",{style:{height:"90vh",width:"100%"},children:O.jsxs(u6,{center:[41.1167,1.2554],zoom:15,style:{height:"100%",width:"100%"},children:[O.jsx(f6,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors & CartoDB'}),O.jsx(x6,{maxClusterRadius:20,disableClusteringAtZoom:20,children:n.filter(o=>e[o.tipo]).map((o,l)=>O.jsx(c6,{position:o.coordenadas,icon:R6[o.tipo],children:O.jsxs(h6,{children:[O.jsx("strong",{children:o.nombre}),O.jsx("br",{}),o.descripcion]})},l))})]})})]})},P6="/assets/hoguera-C4cSztnH.jpg",L6="/assets/fuegos-BRmC_ynj.jpg",O6="/assets/tarraco-viva-CE0-9Kaa.jpg",M6="/assets/castells-7kkV_S9q.jpg",k6="/assets/Campdemart-DbQIABnj.jpg",N6="/assets/santmagi-YIPtOVx8.jpg",D6="/assets/dixieland-CKeBttQk.jpg",V6="/assets/TarraTangueando-RITrakZK.jpg",U6="/assets/SantaTecla-CPY7UEH0.jpg",z6="/assets/URSI-Dzv889S0.jpg",B6=[{mes:"Junio",eventos:[{titulo:"Castells semanales",descripcion:"Exhibiciones tradicionales de torres humanas.",imagen:M6},{titulo:"Nit de Sant Joan",descripcion:"Celebración con hogueras, música y fuegos artificiales.",imagen:P6}]},{mes:"Julio",eventos:[{titulo:"Concurso de Fuegos Artificiales",descripcion:"Competencia pirotécnica en la playa.",imagen:L6},{titulo:"Festival Camp de Mart",descripcion:"Festival cultural con música y teatro al aire libre.",imagen:k6}]},{mes:"Agosto",eventos:[{titulo:"Sant Magí",descripcion:"Fiestas patronales con procesiones y conciertos.",imagen:N6},{titulo:"Dixieland",descripcion:"Festival de jazz tradicional.",imagen:D6},{titulo:"TarraTangueando",descripcion:"Encuentro de tango con talleres y espectáculos.",imagen:V6}]},{mes:"Septiembre",eventos:[{titulo:"Santa Tecla",descripcion:"Gran fiesta mayor con actos tradicionales y fuegos.",imagen:U6},{titulo:"URSI",descripcion:"Encuentro artístico urbano con intervenciones creativas.",imagen:z6},{titulo:"Espectáculos en el Palau & cultura científica",descripcion:"Eventos culturales y divulgación científica.",imagen:O6}]}];function j6(){return O.jsxs("div",{className:"eventos-container",children:[O.jsx("h1",{children:"Eventos mensuales en Tarragona"}),B6.map((n,t)=>O.jsxs("div",{children:[O.jsx("h2",{children:n.mes}),O.jsx("div",{className:"evento-grid",children:n.eventos.map((e,r)=>e.imagen?O.jsxs(Kn,{to:`/eventos/${encodeURIComponent(e.titulo)}`,className:"evento-card",style:{textDecoration:"none",color:"inherit"},children:[O.jsx("img",{src:e.imagen,alt:e.titulo}),O.jsxs("div",{className:"evento-info",children:[O.jsx("h3",{children:e.titulo}),O.jsx("p",{children:e.descripcion})]})]},r):O.jsx("div",{className:"evento-card evento-sin-imagen",children:O.jsxs("div",{className:"evento-info no-img",children:[O.jsx("h3",{children:e.titulo}),O.jsx("p",{children:e.descripcion})]})},r))})]},t))]})}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function F6(n,t,e){return(t=q6(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Sw(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,r)}return e}function yt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(e),!0).forEach(function(r){F6(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Sw(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function H6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function q6(n){var t=H6(n,"string");return typeof t=="symbol"?t:t+""}const Cw=()=>{};let gy={},vx={},yx=null,Tx={mark:Cw,measure:Cw};try{typeof window<"u"&&(gy=window),typeof document<"u"&&(vx=document),typeof MutationObserver<"u"&&(yx=MutationObserver),typeof performance<"u"&&(Tx=performance)}catch{}const{userAgent:xw=""}=gy.navigator||{},Io=gy,ze=vx,Rw=yx,cd=Tx;Io.document;const pa=!!ze.documentElement&&!!ze.head&&typeof ze.addEventListener=="function"&&typeof ze.createElement=="function",Ex=~xw.indexOf("MSIE")||~xw.indexOf("Trident/");var G6=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Z6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,bx={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Y6={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},wx=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],$n="classic",zm="duotone",K6="sharp",W6="sharp-duotone",Ax=[$n,zm,K6,W6],X6={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Q6={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},$6=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),J6={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},tU=["fak","fa-kit","fakd","fa-kit-duotone"],Iw={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},eU=["kit"],nU={kit:{"fa-kit":"fak"}},iU=["fak","fakd"],rU={kit:{fak:"fa-kit"}},Pw={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},hd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},sU=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],aU=["fak","fa-kit","fakd","fa-kit-duotone"],oU={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},lU={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},uU={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},M_={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},cU=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],k_=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...sU,...cU],hU=["solid","regular","light","thin","duotone","brands"],Sx=[1,2,3,4,5,6,7,8,9,10],fU=Sx.concat([11,12,13,14,15,16,17,18,19,20]),dU=[...Object.keys(uU),...hU,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",hd.GROUP,hd.SWAP_OPACITY,hd.PRIMARY,hd.SECONDARY].concat(Sx.map(n=>"".concat(n,"x"))).concat(fU.map(n=>"w-".concat(n))),mU={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const fa="___FONT_AWESOME___",N_=16,Cx="fa",xx="svg-inline--fa",kl="data-fa-i2svg",D_="data-fa-pseudo-element",pU="data-fa-pseudo-element-pending",_y="data-prefix",vy="data-icon",Lw="fontawesome-i2svg",gU="async",_U=["HTML","HEAD","STYLE","SCRIPT"],Rx=(()=>{try{return!0}catch{return!1}})();function Wh(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[$n]}})}const Ix=yt({},bx);Ix[$n]=yt(yt(yt(yt({},{"fa-duotone":"duotone"}),bx[$n]),Iw.kit),Iw["kit-duotone"]);const vU=Wh(Ix),V_=yt({},J6);V_[$n]=yt(yt(yt(yt({},{duotone:"fad"}),V_[$n]),Pw.kit),Pw["kit-duotone"]);const Ow=Wh(V_),U_=yt({},M_);U_[$n]=yt(yt({},U_[$n]),rU.kit);const yy=Wh(U_),z_=yt({},lU);z_[$n]=yt(yt({},z_[$n]),nU.kit);Wh(z_);const yU=G6,Px="fa-layers-text",TU=Z6,EU=yt({},X6);Wh(EU);const bU=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Gg=Y6,wU=[...eU,...dU],_h=Io.FontAwesomeConfig||{};function AU(n){var t=ze.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function SU(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}ze&&typeof ze.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,r]=t;const o=SU(AU(e));o!=null&&(_h[r]=o)});const Lx={styleDefault:"solid",familyDefault:$n,cssPrefix:Cx,replacementClass:xx,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};_h.familyPrefix&&(_h.cssPrefix=_h.familyPrefix);const Qu=yt(yt({},Lx),_h);Qu.autoReplaceSvg||(Qu.observeMutations=!1);const Mt={};Object.keys(Lx).forEach(n=>{Object.defineProperty(Mt,n,{enumerable:!0,set:function(t){Qu[n]=t,vh.forEach(e=>e(Mt))},get:function(){return Qu[n]}})});Object.defineProperty(Mt,"familyPrefix",{enumerable:!0,set:function(n){Qu.cssPrefix=n,vh.forEach(t=>t(Mt))},get:function(){return Qu.cssPrefix}});Io.FontAwesomeConfig=Mt;const vh=[];function CU(n){return vh.push(n),()=>{vh.splice(vh.indexOf(n),1)}}const ho=N_,hs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function xU(n){if(!n||!pa)return;const t=ze.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;const e=ze.head.childNodes;let r=null;for(let o=e.length-1;o>-1;o--){const l=e[o],h=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(h)>-1&&(r=l)}return ze.head.insertBefore(t,r),n}const RU="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ih(){let n=12,t="";for(;n-- >0;)t+=RU[Math.random()*62|0];return t}function ac(n){const t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function Ty(n){return n.classList?ac(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function Ox(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function IU(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(Ox(n[e]),'" '),"").trim()}function Bm(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function Ey(n){return n.size!==hs.size||n.x!==hs.x||n.y!==hs.y||n.rotate!==hs.rotate||n.flipX||n.flipY}function PU(n){let{transform:t,containerWidth:e,iconWidth:r}=n;const o={transform:"translate(".concat(e/2," 256)")},l="translate(".concat(t.x*32,", ").concat(t.y*32,") "),h="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)"),g={transform:"".concat(l," ").concat(h," ").concat(d)},v={transform:"translate(".concat(r/2*-1," -256)")};return{outer:o,inner:g,path:v}}function LU(n){let{transform:t,width:e=N_,height:r=N_,startCentered:o=!1}=n,l="";return o&&Ex?l+="translate(".concat(t.x/ho-e/2,"em, ").concat(t.y/ho-r/2,"em) "):o?l+="translate(calc(-50% + ".concat(t.x/ho,"em), calc(-50% + ").concat(t.y/ho,"em)) "):l+="translate(".concat(t.x/ho,"em, ").concat(t.y/ho,"em) "),l+="scale(".concat(t.size/ho*(t.flipX?-1:1),", ").concat(t.size/ho*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var OU=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Mx(){const n=Cx,t=xx,e=Mt.cssPrefix,r=Mt.replacementClass;let o=OU;if(e!==n||r!==t){const l=new RegExp("\\.".concat(n,"\\-"),"g"),h=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");o=o.replace(l,".".concat(e,"-")).replace(h,"--".concat(e,"-")).replace(d,".".concat(r))}return o}let Mw=!1;function Zg(){Mt.autoAddCss&&!Mw&&(xU(Mx()),Mw=!0)}var MU={mixout(){return{dom:{css:Mx,insertCss:Zg}}},hooks(){return{beforeDOMElementCreation(){Zg()},beforeI2svg(){Zg()}}}};const da=Io||{};da[fa]||(da[fa]={});da[fa].styles||(da[fa].styles={});da[fa].hooks||(da[fa].hooks={});da[fa].shims||(da[fa].shims=[]);var fs=da[fa];const kx=[],Nx=function(){ze.removeEventListener("DOMContentLoaded",Nx),Qd=1,kx.map(n=>n())};let Qd=!1;pa&&(Qd=(ze.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ze.readyState),Qd||ze.addEventListener("DOMContentLoaded",Nx));function kU(n){pa&&(Qd?setTimeout(n,0):kx.push(n))}function Xh(n){const{tag:t,attributes:e={},children:r=[]}=n;return typeof n=="string"?Ox(n):"<".concat(t," ").concat(IU(e),">").concat(r.map(Xh).join(""),"</").concat(t,">")}function kw(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var Yg=function(t,e,r,o){var l=Object.keys(t),h=l.length,d=e,g,v,E;for(r===void 0?(g=1,E=t[l[0]]):(g=0,E=r);g<h;g++)v=l[g],E=d(E,t[v],v,t);return E};function NU(n){const t=[];let e=0;const r=n.length;for(;e<r;){const o=n.charCodeAt(e++);if(o>=55296&&o<=56319&&e<r){const l=n.charCodeAt(e++);(l&64512)==56320?t.push(((o&1023)<<10)+(l&1023)+65536):(t.push(o),e--)}else t.push(o)}return t}function B_(n){const t=NU(n);return t.length===1?t[0].toString(16):null}function DU(n,t){const e=n.length;let r=n.charCodeAt(t),o;return r>=55296&&r<=56319&&e>t+1&&(o=n.charCodeAt(t+1),o>=56320&&o<=57343)?(r-55296)*1024+o-56320+65536:r}function Nw(n){return Object.keys(n).reduce((t,e)=>{const r=n[e];return!!r.icon?t[r.iconName]=r.icon:t[e]=r,t},{})}function j_(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=e,o=Nw(t);typeof fs.hooks.addPack=="function"&&!r?fs.hooks.addPack(n,Nw(t)):fs.styles[n]=yt(yt({},fs.styles[n]||{}),o),n==="fas"&&j_("fa",t)}const{styles:Ph,shims:VU}=fs,Dx=Object.keys(yy),UU=Dx.reduce((n,t)=>(n[t]=Object.keys(yy[t]),n),{});let by=null,Vx={},Ux={},zx={},Bx={},jx={};function zU(n){return~wU.indexOf(n)}function BU(n,t){const e=t.split("-"),r=e[0],o=e.slice(1).join("-");return r===n&&o!==""&&!zU(o)?o:null}const Fx=()=>{const n=r=>Yg(Ph,(o,l,h)=>(o[h]=Yg(l,r,{}),o),{});Vx=n((r,o,l)=>(o[3]&&(r[o[3]]=l),o[2]&&o[2].filter(d=>typeof d=="number").forEach(d=>{r[d.toString(16)]=l}),r)),Ux=n((r,o,l)=>(r[l]=l,o[2]&&o[2].filter(d=>typeof d=="string").forEach(d=>{r[d]=l}),r)),jx=n((r,o,l)=>{const h=o[2];return r[l]=l,h.forEach(d=>{r[d]=l}),r});const t="far"in Ph||Mt.autoFetchSvg,e=Yg(VU,(r,o)=>{const l=o[0];let h=o[1];const d=o[2];return h==="far"&&!t&&(h="fas"),typeof l=="string"&&(r.names[l]={prefix:h,iconName:d}),typeof l=="number"&&(r.unicodes[l.toString(16)]={prefix:h,iconName:d}),r},{names:{},unicodes:{}});zx=e.names,Bx=e.unicodes,by=jm(Mt.styleDefault,{family:Mt.familyDefault})};CU(n=>{by=jm(n.styleDefault,{family:Mt.familyDefault})});Fx();function wy(n,t){return(Vx[n]||{})[t]}function jU(n,t){return(Ux[n]||{})[t]}function Al(n,t){return(jx[n]||{})[t]}function Hx(n){return zx[n]||{prefix:null,iconName:null}}function FU(n){const t=Bx[n],e=wy("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Po(){return by}const qx=()=>({prefix:null,iconName:null,rest:[]});function HU(n){let t=$n;const e=Dx.reduce((r,o)=>(r[o]="".concat(Mt.cssPrefix,"-").concat(o),r),{});return Ax.forEach(r=>{(n.includes(e[r])||n.some(o=>UU[r].includes(o)))&&(t=r)}),t}function jm(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=$n}=t,r=vU[e][n];if(e===zm&&!n)return"fad";const o=Ow[e][n]||Ow[e][r],l=n in fs.styles?n:null;return o||l||null}function qU(n){let t=[],e=null;return n.forEach(r=>{const o=BU(Mt.cssPrefix,r);o?e=o:r&&t.push(r)}),{iconName:e,rest:t}}function Dw(n){return n.sort().filter((t,e,r)=>r.indexOf(t)===e)}function Fm(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let r=null;const o=k_.concat(aU),l=Dw(n.filter(w=>o.includes(w))),h=Dw(n.filter(w=>!k_.includes(w))),d=l.filter(w=>(r=w,!wx.includes(w))),[g=null]=d,v=HU(l),E=yt(yt({},qU(h)),{},{prefix:jm(g,{family:v})});return yt(yt(yt({},E),KU({values:n,family:v,styles:Ph,config:Mt,canonical:E,givenPrefix:r})),GU(e,r,E))}function GU(n,t,e){let{prefix:r,iconName:o}=e;if(n||!r||!o)return{prefix:r,iconName:o};const l=t==="fa"?Hx(o):{},h=Al(r,o);return o=l.iconName||h||o,r=l.prefix||r,r==="far"&&!Ph.far&&Ph.fas&&!Mt.autoFetchSvg&&(r="fas"),{prefix:r,iconName:o}}const ZU=Ax.filter(n=>n!==$n||n!==zm),YU=Object.keys(M_).filter(n=>n!==$n).map(n=>Object.keys(M_[n])).flat();function KU(n){const{values:t,family:e,canonical:r,givenPrefix:o="",styles:l={},config:h={}}=n,d=e===zm,g=t.includes("fa-duotone")||t.includes("fad"),v=h.familyDefault==="duotone",E=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(g||v||E)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&ZU.includes(e)&&(Object.keys(l).find(A=>YU.includes(A))||h.autoFetchSvg)){const A=$6.get(e).defaultShortPrefixId;r.prefix=A,r.iconName=Al(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||o==="fa")&&(r.prefix=Po()||"fas"),r}class WU{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const o=e.reduce(this._pullDefinitions,{});Object.keys(o).forEach(l=>{this.definitions[l]=yt(yt({},this.definitions[l]||{}),o[l]),j_(l,o[l]);const h=yy[$n][l];h&&j_(h,o[l]),Fx()})}reset(){this.definitions={}}_pullDefinitions(t,e){const r=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(r).map(o=>{const{prefix:l,iconName:h,icon:d}=r[o],g=d[2];t[l]||(t[l]={}),g.length>0&&g.forEach(v=>{typeof v=="string"&&(t[l][v]=d)}),t[l][h]=d}),t}}let Vw=[],Mu={};const Bu={},XU=Object.keys(Bu);function QU(n,t){let{mixoutsTo:e}=t;return Vw=n,Mu={},Object.keys(Bu).forEach(r=>{XU.indexOf(r)===-1&&delete Bu[r]}),Vw.forEach(r=>{const o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(l=>{typeof o[l]=="function"&&(e[l]=o[l]),typeof o[l]=="object"&&Object.keys(o[l]).forEach(h=>{e[l]||(e[l]={}),e[l][h]=o[l][h]})}),r.hooks){const l=r.hooks();Object.keys(l).forEach(h=>{Mu[h]||(Mu[h]=[]),Mu[h].push(l[h])})}r.provides&&r.provides(Bu)}),e}function F_(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];return(Mu[n]||[]).forEach(h=>{t=h.apply(null,[t,...r])}),t}function Nl(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];(Mu[n]||[]).forEach(l=>{l.apply(null,e)})}function Lo(){const n=arguments[0],t=Array.prototype.slice.call(arguments,1);return Bu[n]?Bu[n].apply(null,t):void 0}function H_(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n;const e=n.prefix||Po();if(t)return t=Al(e,t)||t,kw(Gx.definitions,e,t)||kw(fs.styles,e,t)}const Gx=new WU,$U=()=>{Mt.autoReplaceSvg=!1,Mt.observeMutations=!1,Nl("noAuto")},JU={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return pa?(Nl("beforeI2svg",n),Lo("pseudoElements2svg",n),Lo("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=n;Mt.autoReplaceSvg===!1&&(Mt.autoReplaceSvg=!0),Mt.observeMutations=!0,kU(()=>{ez({autoReplaceSvgRoot:t}),Nl("watch",n)})}},tz={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Al(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=jm(n[0]);return{prefix:e,iconName:Al(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(Mt.cssPrefix,"-"))>-1||n.match(yU))){const t=Fm(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||Po(),iconName:Al(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){const t=Po();return{prefix:t,iconName:Al(t,n)||n}}}},Ki={noAuto:$U,config:Mt,dom:JU,parse:tz,library:Gx,findIconDefinition:H_,toHtml:Xh},ez=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ze}=n;(Object.keys(fs.styles).length>0||Mt.autoFetchSvg)&&pa&&Mt.autoReplaceSvg&&Ki.dom.i2svg({node:t})};function Hm(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>Xh(e))}}),Object.defineProperty(n,"node",{get:function(){if(!pa)return;const e=ze.createElement("div");return e.innerHTML=n.html,e.children}}),n}function nz(n){let{children:t,main:e,mask:r,attributes:o,styles:l,transform:h}=n;if(Ey(h)&&e.found&&!r.found){const{width:d,height:g}=e,v={x:d/g/2,y:.5};o.style=Bm(yt(yt({},l),{},{"transform-origin":"".concat(v.x+h.x/16,"em ").concat(v.y+h.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}function iz(n){let{prefix:t,iconName:e,children:r,attributes:o,symbol:l}=n;const h=l===!0?"".concat(t,"-").concat(Mt.cssPrefix,"-").concat(e):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:yt(yt({},o),{},{id:h}),children:r}]}]}function Ay(n){const{icons:{main:t,mask:e},prefix:r,iconName:o,transform:l,symbol:h,title:d,maskId:g,titleId:v,extra:E,watchable:w=!1}=n,{width:A,height:R}=e.found?e:t,k=iU.includes(r),N=[Mt.replacementClass,o?"".concat(Mt.cssPrefix,"-").concat(o):""].filter(vt=>E.classes.indexOf(vt)===-1).filter(vt=>vt!==""||!!vt).concat(E.classes).join(" ");let H={children:[],attributes:yt(yt({},E.attributes),{},{"data-prefix":r,"data-icon":o,class:N,role:E.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(R)})};const j=k&&!~E.classes.indexOf("fa-fw")?{width:"".concat(A/R*16*.0625,"em")}:{};w&&(H.attributes[kl]=""),d&&(H.children.push({tag:"title",attributes:{id:H.attributes["aria-labelledby"]||"title-".concat(v||Ih())},children:[d]}),delete H.attributes.title);const et=yt(yt({},H),{},{prefix:r,iconName:o,main:t,mask:e,maskId:g,transform:l,symbol:h,styles:yt(yt({},j),E.styles)}),{children:nt,attributes:pt}=e.found&&t.found?Lo("generateAbstractMask",et)||{children:[],attributes:{}}:Lo("generateAbstractIcon",et)||{children:[],attributes:{}};return et.children=nt,et.attributes=pt,h?iz(et):nz(et)}function Uw(n){const{content:t,width:e,height:r,transform:o,title:l,extra:h,watchable:d=!1}=n,g=yt(yt(yt({},h.attributes),l?{title:l}:{}),{},{class:h.classes.join(" ")});d&&(g[kl]="");const v=yt({},h.styles);Ey(o)&&(v.transform=LU({transform:o,startCentered:!0,width:e,height:r}),v["-webkit-transform"]=v.transform);const E=Bm(v);E.length>0&&(g.style=E);const w=[];return w.push({tag:"span",attributes:g,children:[t]}),l&&w.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),w}function rz(n){const{content:t,title:e,extra:r}=n,o=yt(yt(yt({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),l=Bm(r.styles);l.length>0&&(o.style=l);const h=[];return h.push({tag:"span",attributes:o,children:[t]}),e&&h.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),h}const{styles:Kg}=fs;function q_(n){const t=n[0],e=n[1],[r]=n.slice(4);let o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(Mt.cssPrefix,"-").concat(Gg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Mt.cssPrefix,"-").concat(Gg.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Mt.cssPrefix,"-").concat(Gg.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:e,icon:o}}const sz={found:!1,width:512,height:512};function az(n,t){!Rx&&!Mt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function G_(n,t){let e=t;return t==="fa"&&Mt.styleDefault!==null&&(t=Po()),new Promise((r,o)=>{if(e==="fa"){const l=Hx(n)||{};n=l.iconName||n,t=l.prefix||t}if(n&&t&&Kg[t]&&Kg[t][n]){const l=Kg[t][n];return r(q_(l))}az(n,t),r(yt(yt({},sz),{},{icon:Mt.showMissingIcons&&n?Lo("missingIconAbstract")||{}:{}}))})}const zw=()=>{},Z_=Mt.measurePerformance&&cd&&cd.mark&&cd.measure?cd:{mark:zw,measure:zw},lh='FA "6.7.2"',oz=n=>(Z_.mark("".concat(lh," ").concat(n," begins")),()=>Zx(n)),Zx=n=>{Z_.mark("".concat(lh," ").concat(n," ends")),Z_.measure("".concat(lh," ").concat(n),"".concat(lh," ").concat(n," begins"),"".concat(lh," ").concat(n," ends"))};var Sy={begin:oz,end:Zx};const Sd=()=>{};function Bw(n){return typeof(n.getAttribute?n.getAttribute(kl):null)=="string"}function lz(n){const t=n.getAttribute?n.getAttribute(_y):null,e=n.getAttribute?n.getAttribute(vy):null;return t&&e}function uz(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Mt.replacementClass)}function cz(){return Mt.autoReplaceSvg===!0?Cd.replace:Cd[Mt.autoReplaceSvg]||Cd.replace}function hz(n){return ze.createElementNS("http://www.w3.org/2000/svg",n)}function fz(n){return ze.createElement(n)}function Yx(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=n.tag==="svg"?hz:fz}=t;if(typeof n=="string")return ze.createTextNode(n);const r=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){r.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){r.appendChild(Yx(l,{ceFn:e}))}),r}function dz(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Cd={replace:function(n){const t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(Yx(e),t)}),t.getAttribute(kl)===null&&Mt.keepOriginalSource){let e=ze.createComment(dz(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){const t=n[0],e=n[1];if(~Ty(t).indexOf(Mt.replacementClass))return Cd.replace(n);const r=new RegExp("".concat(Mt.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const l=e[0].attributes.class.split(" ").reduce((h,d)=>(d===Mt.replacementClass||d.match(r)?h.toSvg.push(d):h.toNode.push(d),h),{toNode:[],toSvg:[]});e[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",l.toNode.join(" "))}const o=e.map(l=>Xh(l)).join(`
`);t.setAttribute(kl,""),t.innerHTML=o}};function jw(n){n()}function Kx(n,t){const e=typeof t=="function"?t:Sd;if(n.length===0)e();else{let r=jw;Mt.mutateApproach===gU&&(r=Io.requestAnimationFrame||jw),r(()=>{const o=cz(),l=Sy.begin("mutate");n.map(o),l(),e()})}}let Cy=!1;function Wx(){Cy=!0}function Y_(){Cy=!1}let $d=null;function Fw(n){if(!Rw||!Mt.observeMutations)return;const{treeCallback:t=Sd,nodeCallback:e=Sd,pseudoElementsCallback:r=Sd,observeMutationsRoot:o=ze}=n;$d=new Rw(l=>{if(Cy)return;const h=Po();ac(l).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!Bw(d.addedNodes[0])&&(Mt.searchPseudoElements&&r(d.target),t(d.target)),d.type==="attributes"&&d.target.parentNode&&Mt.searchPseudoElements&&r(d.target.parentNode),d.type==="attributes"&&Bw(d.target)&&~bU.indexOf(d.attributeName))if(d.attributeName==="class"&&lz(d.target)){const{prefix:g,iconName:v}=Fm(Ty(d.target));d.target.setAttribute(_y,g||h),v&&d.target.setAttribute(vy,v)}else uz(d.target)&&e(d.target)})}),pa&&$d.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function mz(){$d&&$d.disconnect()}function pz(n){const t=n.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((r,o)=>{const l=o.split(":"),h=l[0],d=l.slice(1);return h&&d.length>0&&(r[h]=d.join(":").trim()),r},{})),e}function gz(n){const t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"";let o=Fm(Ty(n));return o.prefix||(o.prefix=Po()),t&&e&&(o.prefix=t,o.iconName=e),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=jU(o.prefix,n.innerText)||wy(o.prefix,B_(n.innerText))),!o.iconName&&Mt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=n.firstChild.data)),o}function _z(n){const t=ac(n.attributes).reduce((o,l)=>(o.name!=="class"&&o.name!=="style"&&(o[l.name]=l.value),o),{}),e=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Mt.autoA11y&&(e?t["aria-labelledby"]="".concat(Mt.replacementClass,"-title-").concat(r||Ih()):(t["aria-hidden"]="true",t.focusable="false")),t}function vz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:hs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Hw(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:r,rest:o}=gz(n),l=_z(n),h=F_("parseNodeAttributes",{},n);let d=t.styleParser?pz(n):[];return yt({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:hs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:d,attributes:l}},h)}const{styles:yz}=fs;function Xx(n){const t=Mt.autoReplaceSvg==="nest"?Hw(n,{styleParser:!1}):Hw(n);return~t.extra.classes.indexOf(Px)?Lo("generateLayersText",n,t):Lo("generateSvgReplacementMutation",n,t)}function Tz(){return[...tU,...k_]}function qw(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!pa)return Promise.resolve();const e=ze.documentElement.classList,r=E=>e.add("".concat(Lw,"-").concat(E)),o=E=>e.remove("".concat(Lw,"-").concat(E)),l=Mt.autoFetchSvg?Tz():wx.concat(Object.keys(yz));l.includes("fa")||l.push("fa");const h=[".".concat(Px,":not([").concat(kl,"])")].concat(l.map(E=>".".concat(E,":not([").concat(kl,"])"))).join(", ");if(h.length===0)return Promise.resolve();let d=[];try{d=ac(n.querySelectorAll(h))}catch{}if(d.length>0)r("pending"),o("complete");else return Promise.resolve();const g=Sy.begin("onTree"),v=d.reduce((E,w)=>{try{const A=Xx(w);A&&E.push(A)}catch(A){Rx||A.name==="MissingIcon"&&console.error(A)}return E},[]);return new Promise((E,w)=>{Promise.all(v).then(A=>{Kx(A,()=>{r("active"),r("complete"),o("pending"),typeof t=="function"&&t(),g(),E()})}).catch(A=>{g(),w(A)})})}function Ez(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Xx(n).then(e=>{e&&Kx([e],t)})}function bz(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:H_(t||{});let{mask:o}=e;return o&&(o=(o||{}).icon?o:H_(o||{})),n(r,yt(yt({},e),{},{mask:o}))}}const wz=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=hs,symbol:r=!1,mask:o=null,maskId:l=null,title:h=null,titleId:d=null,classes:g=[],attributes:v={},styles:E={}}=t;if(!n)return;const{prefix:w,iconName:A,icon:R}=n;return Hm(yt({type:"icon"},n),()=>(Nl("beforeDOMElementCreation",{iconDefinition:n,params:t}),Mt.autoA11y&&(h?v["aria-labelledby"]="".concat(Mt.replacementClass,"-title-").concat(d||Ih()):(v["aria-hidden"]="true",v.focusable="false")),Ay({icons:{main:q_(R),mask:o?q_(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:A,transform:yt(yt({},hs),e),symbol:r,title:h,maskId:l,titleId:d,extra:{attributes:v,styles:E,classes:g}})))};var Az={mixout(){return{icon:bz(wz)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=qw,n.nodeCallback=Ez,n}}},provides(n){n.i2svg=function(t){const{node:e=ze,callback:r=()=>{}}=t;return qw(e,r)},n.generateSvgReplacementMutation=function(t,e){const{iconName:r,title:o,titleId:l,prefix:h,transform:d,symbol:g,mask:v,maskId:E,extra:w}=e;return new Promise((A,R)=>{Promise.all([G_(r,h),v.iconName?G_(v.iconName,v.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(k=>{let[N,H]=k;A([t,Ay({icons:{main:N,mask:H},prefix:h,iconName:r,transform:d,symbol:g,maskId:E,title:o,titleId:l,extra:w,watchable:!0})])}).catch(R)})},n.generateAbstractIcon=function(t){let{children:e,attributes:r,main:o,transform:l,styles:h}=t;const d=Bm(h);d.length>0&&(r.style=d);let g;return Ey(l)&&(g=Lo("generateAbstractTransformGrouping",{main:o,transform:l,containerWidth:o.width,iconWidth:o.width})),e.push(g||o.icon),{children:e,attributes:r}}}},Sz={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return Hm({type:"layer"},()=>{Nl("beforeDOMElementCreation",{assembler:n,params:t});let r=[];return n(o=>{Array.isArray(o)?o.map(l=>{r=r.concat(l.abstract)}):r=r.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(Mt.cssPrefix,"-layers"),...e].join(" ")},children:r}]})}}}},Cz={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:r=[],attributes:o={},styles:l={}}=t;return Hm({type:"counter",content:n},()=>(Nl("beforeDOMElementCreation",{content:n,params:t}),rz({content:n.toString(),title:e,extra:{attributes:o,styles:l,classes:["".concat(Mt.cssPrefix,"-layers-counter"),...r]}})))}}}},xz={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=hs,title:r=null,classes:o=[],attributes:l={},styles:h={}}=t;return Hm({type:"text",content:n},()=>(Nl("beforeDOMElementCreation",{content:n,params:t}),Uw({content:n,transform:yt(yt({},hs),e),title:r,extra:{attributes:l,styles:h,classes:["".concat(Mt.cssPrefix,"-layers-text"),...o]}})))}}},provides(n){n.generateLayersText=function(t,e){const{title:r,transform:o,extra:l}=e;let h=null,d=null;if(Ex){const g=parseInt(getComputedStyle(t).fontSize,10),v=t.getBoundingClientRect();h=v.width/g,d=v.height/g}return Mt.autoA11y&&!r&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,Uw({content:t.innerHTML,width:h,height:d,transform:o,title:r,extra:l,watchable:!0})])}}};const Rz=new RegExp('"',"ug"),Gw=[1105920,1112319],Zw=yt(yt(yt(yt({},{FontAwesome:{normal:"fas",400:"fas"}}),Q6),mU),oU),K_=Object.keys(Zw).reduce((n,t)=>(n[t.toLowerCase()]=Zw[t],n),{}),Iz=Object.keys(K_).reduce((n,t)=>{const e=K_[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function Pz(n){const t=n.replace(Rz,""),e=DU(t,0),r=e>=Gw[0]&&e<=Gw[1],o=t.length===2?t[0]===t[1]:!1;return{value:B_(o?t[0]:t),isSecondary:r||o}}function Lz(n,t){const e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),o=isNaN(r)?"normal":r;return(K_[e]||{})[o]||Iz[e]}function Yw(n,t){const e="".concat(pU).concat(t.replace(":","-"));return new Promise((r,o)=>{if(n.getAttribute(e)!==null)return r();const h=ac(n.children).filter(A=>A.getAttribute(D_)===t)[0],d=Io.getComputedStyle(n,t),g=d.getPropertyValue("font-family"),v=g.match(TU),E=d.getPropertyValue("font-weight"),w=d.getPropertyValue("content");if(h&&!v)return n.removeChild(h),r();if(v&&w!=="none"&&w!==""){const A=d.getPropertyValue("content");let R=Lz(g,E);const{value:k,isSecondary:N}=Pz(A),H=v[0].startsWith("FontAwesome");let j=wy(R,k),et=j;if(H){const nt=FU(k);nt.iconName&&nt.prefix&&(j=nt.iconName,R=nt.prefix)}if(j&&!N&&(!h||h.getAttribute(_y)!==R||h.getAttribute(vy)!==et)){n.setAttribute(e,et),h&&n.removeChild(h);const nt=vz(),{extra:pt}=nt;pt.attributes[D_]=t,G_(j,R).then(vt=>{const kt=Ay(yt(yt({},nt),{},{icons:{main:vt,mask:qx()},prefix:R,iconName:et,extra:pt,watchable:!0})),q=ze.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(q,n.firstChild):n.appendChild(q),q.outerHTML=kt.map(D=>Xh(D)).join(`
`),n.removeAttribute(e),r()}).catch(o)}else r()}else r()})}function Oz(n){return Promise.all([Yw(n,"::before"),Yw(n,"::after")])}function Mz(n){return n.parentNode!==document.head&&!~_U.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(D_)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function Kw(n){if(pa)return new Promise((t,e)=>{const r=ac(n.querySelectorAll("*")).filter(Mz).map(Oz),o=Sy.begin("searchPseudoElements");Wx(),Promise.all(r).then(()=>{o(),Y_(),t()}).catch(()=>{o(),Y_(),e()})})}var kz={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=Kw,n}}},provides(n){n.pseudoElements2svg=function(t){const{node:e=ze}=t;Mt.searchPseudoElements&&Kw(e)}}};let Ww=!1;var Nz={mixout(){return{dom:{unwatch(){Wx(),Ww=!0}}}},hooks(){return{bootstrap(){Fw(F_("mutationObserverCallbacks",{}))},noAuto(){mz()},watch(n){const{observeMutationsRoot:t}=n;Ww?Y_():Fw(F_("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const Xw=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,r)=>{const o=r.toLowerCase().split("-"),l=o[0];let h=o.slice(1).join("-");if(l&&h==="h")return e.flipX=!0,e;if(l&&h==="v")return e.flipY=!0,e;if(h=parseFloat(h),isNaN(h))return e;switch(l){case"grow":e.size=e.size+h;break;case"shrink":e.size=e.size-h;break;case"left":e.x=e.x-h;break;case"right":e.x=e.x+h;break;case"up":e.y=e.y-h;break;case"down":e.y=e.y+h;break;case"rotate":e.rotate=e.rotate+h;break}return e},t)};var Dz={mixout(){return{parse:{transform:n=>Xw(n)}}},hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-transform");return e&&(n.transform=Xw(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:r,containerWidth:o,iconWidth:l}=t;const h={transform:"translate(".concat(o/2," 256)")},d="translate(".concat(r.x*32,", ").concat(r.y*32,") "),g="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),v="rotate(".concat(r.rotate," 0 0)"),E={transform:"".concat(d," ").concat(g," ").concat(v)},w={transform:"translate(".concat(l/2*-1," -256)")},A={outer:h,inner:E,path:w};return{tag:"g",attributes:yt({},A.outer),children:[{tag:"g",attributes:yt({},A.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:yt(yt({},e.icon.attributes),A.path)}]}]}}}};const Wg={x:0,y:0,width:"100%",height:"100%"};function Qw(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function Vz(n){return n.tag==="g"?n.children:[n]}var Uz={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-mask"),r=e?Fm(e.split(" ").map(o=>o.trim())):qx();return r.prefix||(r.prefix=Po()),n.mask=r,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:r,main:o,mask:l,maskId:h,transform:d}=t;const{width:g,icon:v}=o,{width:E,icon:w}=l,A=PU({transform:d,containerWidth:E,iconWidth:g}),R={tag:"rect",attributes:yt(yt({},Wg),{},{fill:"white"})},k=v.children?{children:v.children.map(Qw)}:{},N={tag:"g",attributes:yt({},A.inner),children:[Qw(yt({tag:v.tag,attributes:yt(yt({},v.attributes),A.path)},k))]},H={tag:"g",attributes:yt({},A.outer),children:[N]},j="mask-".concat(h||Ih()),et="clip-".concat(h||Ih()),nt={tag:"mask",attributes:yt(yt({},Wg),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[R,H]},pt={tag:"defs",children:[{tag:"clipPath",attributes:{id:et},children:Vz(w)},nt]};return e.push(pt,{tag:"rect",attributes:yt({fill:"currentColor","clip-path":"url(#".concat(et,")"),mask:"url(#".concat(j,")")},Wg)}),{children:e,attributes:r}}}},zz={provides(n){let t=!1;Io.matchMedia&&(t=Io.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const e=[],r={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:yt(yt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=yt(yt({},o),{},{attributeName:"opacity"}),h={tag:"circle",attributes:yt(yt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||h.children.push({tag:"animate",attributes:yt(yt({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:yt(yt({},l),{},{values:"1;0;1;1;0;1;"})}),e.push(h),e.push({tag:"path",attributes:yt(yt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:yt(yt({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:yt(yt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:yt(yt({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},Bz={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-symbol"),r=e===null?!1:e===""?!0:e;return n.symbol=r,n}}}},jz=[MU,Az,Sz,Cz,xz,kz,Nz,Dz,Uz,zz,Bz];QU(jz,{mixoutsTo:Ki});Ki.noAuto;Ki.config;Ki.library;Ki.dom;const W_=Ki.parse;Ki.findIconDefinition;Ki.toHtml;const Fz=Ki.icon;Ki.layer;Ki.text;Ki.counter;var Xg={exports:{}},Qg,$w;function Hz(){if($w)return Qg;$w=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qg=n,Qg}var $g,Jw;function qz(){if(Jw)return $g;Jw=1;var n=Hz();function t(){}function e(){}return e.resetWarningCache=t,$g=function(){function r(h,d,g,v,E,w){if(w!==n){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},$g}var tA;function Gz(){return tA||(tA=1,Xg.exports=qz()()),Xg.exports}var Zz=Gz();const ne=Lh(Zz);function eA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,r)}return e}function us(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(e),!0).forEach(function(r){ku(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):eA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Jd(n){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(n)}function ku(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Yz(n,t){if(n==null)return{};var e={},r=Object.keys(n),o,l;for(l=0;l<r.length;l++)o=r[l],!(t.indexOf(o)>=0)&&(e[o]=n[o]);return e}function Kz(n,t){if(n==null)return{};var e=Yz(n,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function X_(n){return Wz(n)||Xz(n)||Qz(n)||$z()}function Wz(n){if(Array.isArray(n))return Q_(n)}function Xz(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Qz(n,t){if(n){if(typeof n=="string")return Q_(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Q_(n,t)}}function Q_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function $z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jz(n){var t,e=n.beat,r=n.fade,o=n.beatFade,l=n.bounce,h=n.shake,d=n.flash,g=n.spin,v=n.spinPulse,E=n.spinReverse,w=n.pulse,A=n.fixedWidth,R=n.inverse,k=n.border,N=n.listItem,H=n.flip,j=n.size,et=n.rotation,nt=n.pull,pt=(t={"fa-beat":e,"fa-fade":r,"fa-beat-fade":o,"fa-bounce":l,"fa-shake":h,"fa-flash":d,"fa-spin":g,"fa-spin-reverse":E,"fa-spin-pulse":v,"fa-pulse":w,"fa-fw":A,"fa-inverse":R,"fa-border":k,"fa-li":N,"fa-flip":H===!0,"fa-flip-horizontal":H==="horizontal"||H==="both","fa-flip-vertical":H==="vertical"||H==="both"},ku(t,"fa-".concat(j),typeof j<"u"&&j!==null),ku(t,"fa-rotate-".concat(et),typeof et<"u"&&et!==null&&et!==0),ku(t,"fa-pull-".concat(nt),typeof nt<"u"&&nt!==null),ku(t,"fa-swap-opacity",n.swapOpacity),t);return Object.keys(pt).map(function(vt){return pt[vt]?vt:null}).filter(function(vt){return vt})}function t9(n){return n=n-0,n===n}function Qx(n){return t9(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var e9=["style"];function n9(n){return n.charAt(0).toUpperCase()+n.slice(1)}function i9(n){return n.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var r=e.indexOf(":"),o=Qx(e.slice(0,r)),l=e.slice(r+1).trim();return o.startsWith("webkit")?t[n9(o)]=l:t[o]=l,t},{})}function $x(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(g){return $x(n,g)}),o=Object.keys(t.attributes||{}).reduce(function(g,v){var E=t.attributes[v];switch(v){case"class":g.attrs.className=E,delete t.attributes.class;break;case"style":g.attrs.style=i9(E);break;default:v.indexOf("aria-")===0||v.indexOf("data-")===0?g.attrs[v.toLowerCase()]=E:g.attrs[Qx(v)]=E}return g},{attrs:{}}),l=e.style,h=l===void 0?{}:l,d=Kz(e,e9);return o.attrs.style=us(us({},o.attrs.style),h),n.apply(void 0,[t.tag,us(us({},o.attrs),d)].concat(X_(r)))}var Jx=!1;try{Jx=!0}catch{}function r9(){if(!Jx&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function nA(n){if(n&&Jd(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(W_.icon)return W_.icon(n);if(n===null)return null;if(n&&Jd(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function Jg(n,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?ku({},n,t):{}}var iA={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Nu=ju.forwardRef(function(n,t){var e=us(us({},iA),n),r=e.icon,o=e.mask,l=e.symbol,h=e.className,d=e.title,g=e.titleId,v=e.maskId,E=nA(r),w=Jg("classes",[].concat(X_(Jz(e)),X_((h||"").split(" ")))),A=Jg("transform",typeof e.transform=="string"?W_.transform(e.transform):e.transform),R=Jg("mask",nA(o)),k=Fz(E,us(us(us(us({},w),A),R),{},{symbol:l,title:d,titleId:g,maskId:v}));if(!k)return r9("Could not find icon",E),null;var N=k.abstract,H={ref:t};return Object.keys(e).forEach(function(j){iA.hasOwnProperty(j)||(H[j]=e[j])}),s9(N[0],H)});Nu.displayName="FontAwesomeIcon";Nu.propTypes={beat:ne.bool,border:ne.bool,beatFade:ne.bool,bounce:ne.bool,className:ne.string,fade:ne.bool,flash:ne.bool,mask:ne.oneOfType([ne.object,ne.array,ne.string]),maskId:ne.string,fixedWidth:ne.bool,inverse:ne.bool,flip:ne.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ne.oneOfType([ne.object,ne.array,ne.string]),listItem:ne.bool,pull:ne.oneOf(["right","left"]),pulse:ne.bool,rotation:ne.oneOf([0,90,180,270]),shake:ne.bool,size:ne.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ne.bool,spinPulse:ne.bool,spinReverse:ne.bool,symbol:ne.oneOfType([ne.bool,ne.string]),title:ne.string,titleId:ne.string,transform:ne.oneOfType([ne.string,ne.object]),swapOpacity:ne.bool};var s9=$x.bind(null,ju.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const a9={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"]},o9={prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]},l9={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const u9={prefix:"fas",iconName:"universal-access",icon:[512,512,[],"f29a","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm161.5-86.1c-12.2-5.2-26.3 .4-31.5 12.6s.4 26.3 12.6 31.5l11.9 5.1c17.3 7.4 35.2 12.9 53.6 16.3l0 50.1c0 4.3-.7 8.6-2.1 12.6l-28.7 86.1c-4.2 12.6 2.6 26.2 15.2 30.4s26.2-2.6 30.4-15.2l24.4-73.2c1.3-3.8 4.8-6.4 8.8-6.4s7.6 2.6 8.8 6.4l24.4 73.2c4.2 12.6 17.8 19.4 30.4 15.2s19.4-17.8 15.2-30.4l-28.7-86.1c-1.4-4.1-2.1-8.3-2.1-12.6l0-50.1c18.4-3.5 36.3-8.9 53.6-16.3l11.9-5.1c12.2-5.2 17.8-19.3 12.6-31.5s-19.3-17.8-31.5-12.6L338.7 175c-26.1 11.2-54.2 17-82.7 17s-56.5-5.8-82.7-17l-11.9-5.1zM256 160a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},c9=({activarAccesibilidad:n})=>O.jsxs("footer",{className:"footer",children:[O.jsxs("div",{className:"footer-contenedor",children:[O.jsxs("div",{className:"footer-col",children:[O.jsx("h4",{children:"Accesibilidad"}),O.jsxs("button",{className:"btn-accesibilidad",onClick:n,children:[O.jsx(Nu,{icon:u9})," Modo Accesible"]})]}),O.jsxs("div",{className:"footer-col",children:[O.jsx("h4",{children:"Turismo Tarragona"}),O.jsx("p",{children:"Explora la historia, cultura y belleza de nuestra ciudad."})]}),O.jsxs("div",{className:"footer-col",children:[O.jsx("h4",{children:"Enlaces útiles"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx("a",{href:"/",children:"Inicio"})}),O.jsx("li",{children:O.jsx("a",{href:"/rutas",children:"Rutas"})}),O.jsx("li",{children:O.jsx("a",{href:"/login",children:"Iniciar sesión"})}),O.jsx("li",{children:O.jsx("a",{href:"/registro",children:"Registro"})})]})]}),O.jsxs("div",{className:"footer-col",children:[O.jsx("h4",{children:"Contacto"}),O.jsx("p",{children:"Email: info@tarragonaturismo.com"}),O.jsx("p",{children:"Teléfono: +34 123 456 789"}),O.jsxs("div",{className:"footer-redes",children:[O.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",children:O.jsx(Nu,{icon:a9})}),O.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",children:O.jsx(Nu,{icon:l9})}),O.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noreferrer",children:O.jsx(Nu,{icon:o9})})]})]})]}),O.jsx("div",{className:"footer-copy",children:O.jsxs("p",{children:["© ",new Date().getFullYear()," Turismo Tarragona. Todos los derechos reservados."]})})]}),h9=[{mes:"Junio",eventos:[{titulo:"Castells semanales",descripcion:"Exhibiciones tradicionales de torres humanas."},{titulo:"Nit de Sant Joan",descripcion:"Celebración con hogueras, música y fuegos artificiales."}]},{mes:"Julio",eventos:[{titulo:"Concurso de Fuegos Artificiales",descripcion:"Competencia pirotécnica en la playa."},{titulo:"Festival Camp de Mart",descripcion:"Festival cultural con música y teatro al aire libre."}]},{mes:"Agosto",eventos:[{titulo:"Sant Magí",descripcion:"Fiestas patronales con procesiones y conciertos."},{titulo:"Dixieland",descripcion:"Festival de jazz tradicional."},{titulo:"TarraTangueando",descripcion:"Encuentro de tango con talleres y espectáculos."}]},{mes:"Septiembre",eventos:[{titulo:"Santa Tecla",descripcion:"Gran fiesta mayor con actos tradicionales y fuegos."},{titulo:"URSI",descripcion:"Encuentro artístico urbano con intervenciones creativas."},{titulo:"Espectáculos en el Palau & cultura científica",descripcion:"Eventos culturales y divulgación científica."}]}];function f9(){return O.jsxs("div",{className:"eventos-container",children:[O.jsx("h1",{children:"Eventos mensuales en Tarragona"}),h9.map((n,t)=>O.jsxs("div",{children:[O.jsx("h2",{children:n.mes}),O.jsx("ul",{className:"evento-lista",children:n.eventos.map((e,r)=>O.jsxs("li",{children:[O.jsx("h3",{children:e.titulo}),O.jsx("p",{children:e.descripcion})]},r))})]},t))]})}const d9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADT0lEQVR4nO2XXUhTYRjHd+l9SNitkZAKc5aDNHSKgpp0kyQDLdCkC/Gi0N3U2oWxGOJHn3P4STsqM/NjYqTZakdFzbSUPOqZrmUbpNCGKfQBPvG+eubZ2fHsbLYuogf+HA7b+/x/53l3Xv6TSP7XH6h1ReK4O0cOnlw5oOuX1ERwyOKRfnxMiLstCXe5s5N2kDkjd04SAwCOhPjNsAOspyeO+U5Atj8BWVyV5G+Vg3nqPYleSFht1QRp6yVIWkOQy3nto9QxsWspx8Yx6vPXPMrp1jBbwAAQJF1PkHRRO0nHCjYxWukdgrSBr2gXQdJmNhTbjHK6zZTT7aJcHmDkD8Dfz2hdOddisUfsT2DvS4/1j6C1rQNaB6c4i3fFNmM0s2qDRe01vPdcgDmFAu7f64Zay6p/P6vtpR+ApyTaq7WrUlAbskGrL4SaZg009Jhhgp6GZ9O18HS0GD70F8IGIYWfrVH4V+99A7JZb4AsHt6kpkO0yQXSJ07I6VsD1ZAde6GpCwIgXTJl+ah+IgWr7bUcGzNaOxPnY8rWfHIyBmAU0+XyTiFkgPmeEz4AphfVoKQAKyslF4ttytWhAMYGYg80R7pwsSx8AOMDJwXNkfKV5eEB6NCeDmiOAQrKICMj/0BzhemheIDizkxs3qk9he+FzDNGtyHN+g3OF10HuVIFkY2LcLR52c8c9RMNMHJTCsNqqfde6MnTyS04a9nEOmJYwIpsWvIzDwrAw5FpmN+cK76xs7czJACdtkqUOReAax4SgE5bhZsFC8BnHjSAbs+cDaCabYC6CQU+F9AV3XMBDjIPCkDHMmcD1Exmek9FpNrJLB8AIXPRADqOudAEKt8ZvJ9VzjYJmgsCuK8ch/flaVBe18x7iATae2SOoEIGiBY4PgMBMOaHAojpCg2AbR4SgHEvkqGwgEIDCg9iAVRzvVA9UwEP5g3QuTwCY45V0Fvm4MbzISjtbwRltxoKui4HmIDVZuFGJv2rFVAP26Fk0OGFKl3agVu2X6C3f4e+T9sw5dzkjWl8ce7uyFuoGOyDMrPRH6DFYo9AQXE3gOLg6BKbCXEw3Q2oGhRYF9a3olCARUFWqJ9PJOMrviZcM5SSeRcH7If/AtwRu/bfrt/wwdHXaQEHmAAAAABJRU5ErkJggg==",m9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR4nO2Wv2sUQRzFPygqiJLCwlIUBEEbETR/gWChpLHUIoUgudLqGgsNVhb5wc5MFAQLhUshVsZGOFCENInYCEEwYiEKiZEoB0d8MnN7d5O9HKeXuz3QDHxgebMz77Ez35mFndZlk2NIlmLAMZSfcYndMtyRZU0WpawF7R6H+x9gmgORcZaKLA9lOD6oAErZkKGkGU5uz+w+B5VwLMOpPwgQB3kiw9nuAiSM/oVZJ17KcnGQARQwLMhw1W/mppHjuizvWzB86XmAZpAbzQC1elbOFONPfVqWa5XbPP95ixf9xHt4L+/ZsuYrY3xeHWO9S36ktNNDn/foqiLaNU1zJD2A6mtbVcKZ9Lz4vqkkHRfodZNjjyxPowBlOfaHvoQHkf5GUxzqlel5JVzachMbJtuU8ez2jROGZXiV3cX5BTBMbFVG/14A1a7U9UDClUEEmG0MTBjdCUCeS6DaCTYfLUGYUBPsk2WuoTse6Sa7AobHkdGcSuxNA0xG+ryfu3MAx0jm2qymf0bDmdvsl2Y4Gv6S/HPc5zgXxvixm/WRTptvUZYlWT7K8ilg+JBqSzIsN3QX6TY8199fjt5v6rU5vb7YYvy1wIlvBS5XxilXxnndZ8rey3s2AqwUKK4WUJ54z/rOXtiY4m31Lu/yxHt6bx/g2SDhv2+/AezL91uHM/dIAAAAAElFTkSuQmCC",p9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD0UlEQVR4nO1W7U9bZRRv4h/gJ/dN/xA/r9olw2RovzhnZtLY2fWCFtLbl4zutujYSmmhDNYChZKCAycgBhQ3nCzZsizRyICCRHmZwZhsfbn39nW0/ZnntBpIIUjL/CIn+eU+ec7b79znnOdeheJYjuUQolaPvsTx9mHOJOQ4kx27IeSYjtkoqhJ+8TWFMRxSGMOjJYQUhoVXmYrj7VfLE++G3iS0VJT3QoPthN5sr32dH7G8bHz0YCfYHmcS2jiTUDiIALPR83aX3iSo94TZXstylRHQm4SVg4MfEXj7chkB7hAB9LwAXWMTtAYrga3Z3mFiVETgotEGTR2Pyy1u3PpqGnP3HxJuTUzh8pU20jGbnT71FgcmvpnF+PQdWldMQGuwwiy0YGllFfvJYvgXmGxXyPZvP48viKgkE9i6IgJagxWOa+1IJJOUKJsq4NefnuPhTAZztzP4eSGLZLpAOmZjv+b5h4TZ0YrV9U2srm3CZHcensBFow31vA1xUaIEf67kMNuewqQrgVG3jECHDO91Cc6AhPm152QTF0XU8bay46ioBzR1PG5/f48CP1vP4Y4ziRlnEpOtRQL9JQLNN0QY++JY2iqSmJmdI9+qCOh5ARrOiFQqRUHv9aXxrTOJqdYkxl0JfO6W0dshw9MlQfCJMPTFYZkQwQ4jlU6T737T8a8I6BqbqLvptT7NU9IJVwJjbQmMuGUE22V0d0pwdku45I+D64vhvcEoNuI58rF95qIYFRPQGqxwef0U7PfftjHskanqIY+MgXYZPq9E1Tt8Ioy9cWj7Y1CHoniwlSUfl9e3ayIqItDs7KBgf2zl4PdK6PFK9LzeKcHdJeHTGyIsPXFwgRjODUZxejiC+afb5OPYMQ0VH4GuwYp8Po/tbaCzR6akbV0SrnaLsPtEmHviqOuL4YNgFLVDEZweiyCbK5CPzmCp7gj0vIDzHxnweDFMFf3wYwY2n4gmf7Hqxt449IEYzgejeCcUwRs3I+hfLt4V8wtL5FtVE3KlMWTNVCgUkC8AwbtJqlgXiEEzEMPZwSjODEWgvPkMtkcScgWQ7aVmZ/VjyJUuIlbJ8OgYVcZG7P5aFsJ3Et4dieLtL6L45K6ImScZ0jEJjXxJPkdyEXGlZnz/wsfoDQ4hkyl2+F7CdP6BENnu13wVEeBKJKiqBivGv57G+sYTpNNpwtrGJsYmp6jpmM1BySsiwO34HLMk5z6sx1kNR2BrtrfX5/hICXAv8ofk5KmaZeWpGvwnUNWEywgolWdOnHyzplapekv9IsFyqFSqV8oIHMv/Vv4C615yvhW/JToAAAAASUVORK5CYII=",g9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADKUlEQVR4nO2X30tTYRjHdxF0YUIXBdVNXXRT9A+UgRfuKNVmRph5Isxt9otC3chSK/tBRQpuIuhQ1Gpqbbjj8seZus5gc+amGNbKLkQi0qV0YRaVlvMb7/SstTnbL7upB74wzt7n+X7e9zkHnlcgiDCUGqZY1ci4iJSNTKHgb4aqSX9UqWHmCYSykblMfldomCMxNUlMLFlD0dIEipamE+XfVpbzulPb5Cxr0I7wa0vvaV+TZ75r+DxSg9QKyzxVIomnaNkgRcvAS9XI+EmPKxXqk0Xl6tNKjf9/jDePSEjLHKRmyADCTGkxSaTPF+BmhdqjQICVxeeRGh6ITFlRGACyRySJ67ODjyptW8jmZC0fnM2+dArShyEDULRMR5Is9kFvobF3LrC9A+i0OlYUWUPW8kFqLLVCFxVApPEfwBKrFnAcF5b8WyA6lqMfVyhax+Vy65vc3PVhA0xNTYUlX4B9x0+h7r7WNXa1BBMKBcbl8oEVIagYApj6B5Ff2wSDuQ8dRs7NQ0zI5eWr1oLnphpguBSzz+4i+bEOcS1mlPXYFiG6zd9Hr10fdykUO8MCCDne9wJdaZg1pkFkqIegxeJRnN7igTCaTXB1K26F/Q44nc4/6q2jGQvGg/jGHkJK6z2vOa/tTDumu7IBVrwAVpwXUwDenOz8gCHQfGMLC2dnNmAU+0h0ITYtmHzqc+yB5ht0HTCrhfhhSPEDECPql3DYVAe3d+cNQcyT4KrcgRnN7sgBpoJ8bnO2i0s7b8AmPQtxaz0SmGZs1bdjc0ubx3yyehfmGCrAPCYA06McRB1axOmf4KOtABi68ZuBm13UcuYxacEAVw0Htxdb9O2Y778E9OUHNYsKIFh8HlUClrXo4pKw31AHjs2Du+dw7AGcQT6/c7lZ6KnaBljjYB0qxMuZL8D8HPBhCBipwdfurNUFqKytg8NuAuY/LXtCpIbkzAkYVBkvwIofwCh6BaO4DUaRjijqFqzKPCDkh1Lbr6E00ohoKBVmyor8x/JIxY/lFC0N/fqWKpHEk8uE7+UiGglpqT0x/ew6QTRXMypCJWfk7An7aib4l+InyIMFeS9H2GAAAAAASUVORK5CYII=",_9=()=>O.jsxs("div",{className:"about-wrapper",children:[O.jsx("div",{className:"about-logo-section",children:O.jsx("img",{src:nx,alt:"Logo TGO Tours",className:"about-logo"})}),O.jsxs("div",{className:"about-content",children:[O.jsxs("p",{children:["Bienvenido a ",O.jsx("strong",{children:"TGoTours"}),", una plataforma pensada para ayudarte a descubrir y disfrutar lo mejor de Tarragona."]}),O.jsx("h2",{children:"¿Qué encontrarás aquí?"}),O.jsxs("ul",{children:[O.jsxs("li",{children:[O.jsx("img",{src:d9,alt:"icono de mapa"})," Mapas interactivos con rutas peatonales optimizadas"]}),O.jsxs("li",{children:[O.jsx("img",{src:m9,alt:"icono de lugar"})," Puntos de interés destacados con información histórica"]}),O.jsxs("li",{children:[O.jsx("img",{src:p9,alt:"icono de camara"})," Imágenes y recomendaciones de cada lugar"]}),O.jsxs("li",{children:[O.jsx("img",{src:g9,alt:"icono de foro"})," Foro donde puedes dejar tus comentarios o experiencias"]})]})]}),O.jsxs("div",{className:"content-who",children:[O.jsx("h2",{children:"¿Quiénes somos?"}),O.jsx("p",{children:"Este proyecto nace con el objetivo de facilitar el turismo local, especialmente para quienes visitan Tarragona por primera vez o desean conocerla a fondo sin usar múltiples apps."}),O.jsx("p",{children:"Nuestro equipo está formado por amantes de la historia, la cultura de Tarragona y desarroladores entusiastas. Juntos hemos creado esta plataforma con la intención de conectar tecnología y patrimonio, permitiendo a cualquier persona descubrir la ciudad a pie, a su ritmo y con información útil."}),O.jsx("p",{children:"Tarragona no solo es un museo al aire libre del pasado romano, también es mar, gastronomía, arte y vida local. Queremos ayudarte a vivir esa riqueza con rutas pensadas para que cada paso cuente una historia."}),O.jsx("h2",{children:"¿Cómo funciona?"}),O.jsx("p",{children:"Elige una ruta dependiendo de lo que desees hacer desde nuestro menú de rutas donde tendras divertidas y entretenidas opciones. Podrás ver los puntos destacados, un mapa en tiempo real y comentarios de otros visitantes."}),O.jsx("h2",{children:"¿Tienes sugerencias?"}),O.jsxs("p",{children:["Estamos en constante mejora. Si tienes ideas, correcciones o quieres colaborar, puedes escribirnos a:"," ",O.jsx("a",{href:"mailto:contacto@tarracoexplorer.com",style:{color:"#81c7ff",textDecoration:"underline"},children:"contacto@tarracoexplorer.com"})]}),O.jsx("p",{style:{marginTop:"1.5rem",fontStyle:"italic"},children:"¡Esperamos que disfrutes tu viaje por Tarragona tanto como nosotros disfrutamos construir esta plataforma!"})]}),O.jsxs("div",{className:"about-section",children:[O.jsx("h2",{children:"Sobre los creadores"}),O.jsxs("div",{className:"creator-container",children:[O.jsxs("div",{className:"creator-card",children:[O.jsx("img",{src:"/assets/adria.jpg",alt:"Foto Adrià",className:"creator.image"}),O.jsx("div",{className:"creator-name",children:"Adrià Gonzales "}),O.jsx("div",{className:"creator-role",children:"Desarrolador Backend"}),O.jsx("p",{className:"creator-bio",children:"Responsable de la base de datos y la interaccion del usuario"})]}),O.jsxs("div",{className:"creator-card",children:[O.jsx("img",{src:"/assets/dani.jpg",alt:"Foto Adrià",className:"creator.image"}),O.jsx("div",{className:"creator-name",children:"Daniel Garcia"}),O.jsx("div",{className:"creator-role",children:"Desarrolador Frontend"}),O.jsx("p",{className:"creator-bio",children:"Responsable del contenido y la interaccion del usuario"})]}),O.jsxs("div",{className:"creator-card",children:[O.jsx("img",{src:"/assets/dani.jpg",alt:"Foto Adrià",className:"creator.image"}),O.jsx("div",{className:"creator-name",children:"Nighjhurey Bueno"}),O.jsx("div",{className:"creator-role",children:"Desarroladora FullStack"}),O.jsx("p",{className:"creator-bio",children:"Responsable de la interaccion del usuario"})]})]})]})]});function rA(){const[n,t]=W.useState(null),[e,r]=W.useState({nombreUsuario:"",email:"",fechaRegistro:"",rol:"",fotoURL:""}),[o,l]=W.useState(null),[h,d]=W.useState(null),[g,v]=W.useState(!0),[E,w]=W.useState(!1);W.useEffect(()=>{const k=fv(Xu,async N=>{if(N){await N.reload(),t(N),w(N.emailVerified);const H=Ro(Zi,"usuarios",N.uid),j=await Xd(H);if(j.exists()){const et=j.data();r({nombreUsuario:et.nombreUsuario||"",email:et.email||N.email,fechaRegistro:et.fechaRegistro?.toDate().toLocaleDateString()||"",rol:et.rol||"turista",fotoURL:et.fotoURL||""})}}else t(null);v(!1)});return()=>k()},[]);const A=async()=>{const k=Ro(Zi,"usuarios",n.uid);if(await Ew(k,{nombreUsuario:e.nombreUsuario}),await E1(n,{displayName:e.nombreUsuario}),o){const N=Wk(OV,`fotosPerfil/${n.uid}`),H=await Yk(N,o),j=await Kk(H.ref);await Ew(k,{fotoURL:j}),r({...e,fotoURL:j}),d(null)}alert("Perfil actualizado correctamente")},R=async()=>{try{await _1(Xu,n.email),alert("📩 Se ha enviado un correo para cambiar tu contraseña.")}catch(k){console.error(k),alert("Error al enviar el correo: "+k.message)}};return g?O.jsx("p",{children:"Cargando perfil..."}):n?O.jsxs("div",{className:"perfil-page",children:[O.jsx("h2",{children:"👤 Perfil de usuario"}),e.fotoURL&&O.jsx("div",{className:"foto-perfil",children:O.jsx("img",{src:e.fotoURL,alt:"Foto de perfil"})}),h&&O.jsxs("div",{style:{marginBottom:"1rem"},children:[O.jsx("p",{children:"📷 Vista previa de la nueva foto:"}),O.jsx("img",{src:h,alt:"Vista previa",width:100})]}),O.jsxs("div",{className:"perfil-info",children:[O.jsx("label",{children:"Nombre de usuario"}),O.jsx("input",{type:"text",value:e.nombreUsuario,disabled:!0,style:{backgroundColor:"#eee",cursor:"not-allowed"}}),O.jsx("label",{children:"Correo electrónico"}),O.jsx("input",{type:"email",value:e.email,disabled:!0}),O.jsxs("p",{style:{marginBottom:"1rem"},children:["Estado del correo:"," ",E?"✅ Verificado":"⛔ No verificado"]}),O.jsx("label",{children:"Fecha de registro"}),O.jsx("input",{type:"text",value:e.fechaRegistro,disabled:!0}),O.jsx("label",{children:"Rol"}),O.jsx("input",{type:"text",value:e.rol,disabled:!0}),O.jsx("label",{children:"Foto de perfil"}),O.jsx("input",{type:"file",accept:"image/*",onChange:k=>{const N=k.target.files[0];N&&(l(N),d(URL.createObjectURL(N)))}}),O.jsx("button",{onClick:A,children:"💾 Guardar cambios"}),O.jsx("button",{onClick:R,children:"📩 Enviar correo para cambiar contraseña"})]})]}):O.jsx("p",{children:"No se ha iniciado sesión."})}function v9({usuario:n}){const[t,e]=W.useState(""),[r,o]=W.useState(""),l=nm(),h=async d=>{d.preventDefault(),!(!t||!r)&&(await JC(Wu(Zi,"threads"),{title:t,content:r,authorId:n.uid,authorName:n.displayName||n.email,createdAt:cy()}),l("/comunidad"))};return O.jsxs("div",{className:"nuevo-hilo",children:[O.jsx("h2",{children:"Crear nuevo hilo"}),O.jsxs("form",{onSubmit:h,children:[O.jsx("input",{type:"text",placeholder:"Título",value:t,onChange:d=>e(d.target.value)}),O.jsx("textarea",{placeholder:"Contenido",value:r,onChange:d=>o(d.target.value)}),O.jsx("button",{type:"submit",children:"Publicar hilo"})]})]})}function y9({usuario:n}){const{threadId:t}=iP(),[e,r]=W.useState(null),[o,l]=W.useState([]),[h,d]=W.useState("");W.useEffect(()=>{const E=Ro(Zi,"threads",t);Xd(E).then(R=>{R.exists()&&r(R.data())});const w=XC(Wu(Zi,"threads",t,"comments"),SV("createdAt","asc")),A=PV(w,R=>{const k=R.docs.map(N=>({id:N.id,...N.data()}));l(k)});return()=>A()},[t]);const g=async E=>{try{const w=Ro(Zi,"threads",t,"comments",E);await IV(w),console.log("Comentario eliminado")}catch(w){console.error("Error al eliminar el comentario:",w)}},v=async E=>{if(E.preventDefault(),!h.trim()||!n?.uid)return;const w=n.fotoURL?n.fotoURL:null;await JC(Wu(Zi,"threads",t,"comments"),{content:h,authorId:n.uid,authorName:n.displayName||n.email,fotoURL:w,createdAt:cy()}),d("")};return e?O.jsxs("div",{className:"thread-detail",children:[O.jsx("h2",{children:e.title}),O.jsx("p",{children:e.content}),O.jsx("p",{children:O.jsxs("em",{children:["Publicado por ",e.authorName]})}),O.jsx("hr",{}),O.jsx("h3",{children:"Comentarios"}),O.jsx("ul",{children:o.map(E=>{const w=E.authorName?E.authorName[0].toUpperCase()+E.authorName.slice(-1).toUpperCase():"U",A=E.fotoURL?E.fotoURL:`https://ui-avatars.com/api/?name=${w}&background=random&color=fff&size=128`;return O.jsxs("li",{className:"comentario",children:[O.jsx("img",{src:A,alt:"Avatar",className:"avatar-comentario"}),O.jsxs("div",{children:[O.jsx("strong",{children:E.authorName}),O.jsx("p",{children:E.content}),n?.uid===E.authorId&&O.jsx("button",{onClick:()=>g(E.id),children:"🗑️ Eliminar"})]})]},E.id)})}),n?O.jsxs("form",{onSubmit:v,children:[O.jsx("textarea",{placeholder:"Escribe tu comentario...",value:h,onChange:E=>d(E.target.value)}),O.jsx("button",{type:"submit",children:"💬 Comentar"})]}):O.jsx("p",{children:"Debes iniciar sesión para comentar."})]}):O.jsx("p",{children:"Cargando hilo..."})}function T9(){const[n,t]=W.useState(null),[e,r]=W.useState("");return W.useEffect(()=>{const o=fv(Xu,l=>{l?(t(l),console.log("Sesión activa:",l.email)):(t(null),console.log("No hay sesión iniciada"))});return()=>o()},[]),W.useEffect(()=>{(async()=>{if(n){const l=Ro(Zi,"usuarios",n.uid),h=await Xd(l);h.exists()&&r(h.data().nombreUsuario)}})()},[n]),W.useEffect(()=>{(async()=>{if(n?.uid){const l=Ro(Zi,"usuarios",n.uid),h=await Xd(l);if(h.exists()){const d=h.data();t(g=>({...g,...d}))}}})()},[n?.uid]),O.jsxs(O.Fragment,{children:[O.jsx(BV,{usuario:n,nombreUsuario:e,cerrarSesion:()=>{CI(async()=>{const{signOut:o}=await Promise.resolve().then(()=>VM);return{signOut:o}},[]).then(({signOut:o})=>o(Xu))}}),O.jsxs(_A,{children:[O.jsx(oi,{path:"/",element:O.jsx(e6,{})}),O.jsx(oi,{path:"/login",element:O.jsx(jV,{})}),O.jsx(oi,{path:"/registro",element:O.jsx(FV,{})}),O.jsx(oi,{path:"/rutas/*",element:O.jsx(UV,{})}),O.jsx(oi,{path:"/mapa",element:O.jsx(I6,{})}),O.jsx(oi,{path:"/eventos",element:O.jsx(j6,{})}),O.jsx(oi,{path:"/eventos/:mes",element:O.jsx(f9,{})}),O.jsx(oi,{path:"/about",element:O.jsx(_9,{})}),O.jsx(oi,{path:"/perfil",element:O.jsx(rA,{})}),O.jsx(oi,{path:"/perfil",element:O.jsx(rA,{})}),O.jsx(oi,{path:"/nuevo-hilo",element:O.jsx(v9,{usuario:n})}),O.jsx(oi,{path:"/hilo/:threadId",element:O.jsx(y9,{usuario:n})})]}),O.jsx(c9,{})]})}wI.createRoot(document.getElementById("root")).render(O.jsx(ju.StrictMode,{children:O.jsx(jP,{children:O.jsx(T9,{})})}));
