(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();function kh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function am(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),e}var Rg={exports:{}},$c={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function CI(){if(wT)return $c;wT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:l}}return $c.Fragment=t,$c.jsx=e,$c.jsxs=e,$c}var AT;function RI(){return AT||(AT=1,Rg.exports=CI()),Rg.exports}var C=RI(),Ig={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function II(){if(ST)return Wt;ST=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function V(U,lt,bt){this.props=U,this.context=lt,this.refs=N,this.updater=bt||I}V.prototype.isReactComponent={},V.prototype.setState=function(U,lt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,lt,"setState")},V.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=V.prototype;function tt(U,lt,bt){this.props=U,this.context=lt,this.refs=N,this.updater=bt||I}var nt=tt.prototype=new j;nt.constructor=tt,k(nt,V.prototype),nt.isPureReactComponent=!0;var ct=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},It=Object.prototype.hasOwnProperty;function G(U,lt,bt,_t,At,Rt){return bt=Rt.ref,{$$typeof:n,type:U,key:lt,ref:bt!==void 0?bt:null,props:Rt}}function D(U,lt){return G(U.type,lt,void 0,void 0,void 0,U.props)}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function Z(U){var lt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(bt){return lt[bt]})}var Y=/\/+/g;function W(U,lt){return typeof U=="object"&&U!==null&&U.key!=null?Z(""+U.key):lt.toString(36)}function H(){}function Ce(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(H,H):(U.status="pending",U.then(function(lt){U.status==="pending"&&(U.status="fulfilled",U.value=lt)},function(lt){U.status==="pending"&&(U.status="rejected",U.reason=lt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Fe(U,lt,bt,_t,At){var Rt=typeof U;(Rt==="undefined"||Rt==="boolean")&&(U=null);var wt=!1;if(U===null)wt=!0;else switch(Rt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(U.$$typeof){case n:case t:wt=!0;break;case T:return wt=U._init,Fe(wt(U._payload),lt,bt,_t,At)}}if(wt)return At=At(U),wt=_t===""?"."+W(U,0):_t,ct(At)?(bt="",wt!=null&&(bt=wt.replace(Y,"$&/")+"/"),Fe(At,lt,bt,"",function(wi){return wi})):At!=null&&(z(At)&&(At=D(At,bt+(At.key==null||U&&U.key===At.key?"":(""+At.key).replace(Y,"$&/")+"/")+wt)),lt.push(At)),1;wt=0;var Te=_t===""?".":_t+":";if(ct(U))for(var oe=0;oe<U.length;oe++)_t=U[oe],Rt=Te+W(_t,oe),wt+=Fe(_t,lt,bt,Rt,At);else if(oe=A(U),typeof oe=="function")for(U=oe.call(U),oe=0;!(_t=U.next()).done;)_t=_t.value,Rt=Te+W(_t,oe++),wt+=Fe(_t,lt,bt,Rt,At);else if(Rt==="object"){if(typeof U.then=="function")return Fe(Ce(U),lt,bt,_t,At);throw lt=String(U),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function ot(U,lt,bt){if(U==null)return U;var _t=[],At=0;return Fe(U,_t,"","",function(Rt){return lt.call(bt,Rt,At++)}),_t}function Et(U){if(U._status===-1){var lt=U._result;lt=lt(),lt.then(function(bt){(U._status===0||U._status===-1)&&(U._status=1,U._result=bt)},function(bt){(U._status===0||U._status===-1)&&(U._status=2,U._result=bt)}),U._status===-1&&(U._status=0,U._result=lt)}if(U._status===1)return U._result.default;throw U._result}var vt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function le(){}return Wt.Children={map:ot,forEach:function(U,lt,bt){ot(U,function(){lt.apply(this,arguments)},bt)},count:function(U){var lt=0;return ot(U,function(){lt++}),lt},toArray:function(U){return ot(U,function(lt){return lt})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Wt.Component=V,Wt.Fragment=e,Wt.Profiler=o,Wt.PureComponent=tt,Wt.StrictMode=r,Wt.Suspense=g,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return dt.H.useMemoCache(U)}},Wt.cache=function(U){return function(){return U.apply(null,arguments)}},Wt.cloneElement=function(U,lt,bt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var _t=k({},U.props),At=U.key,Rt=void 0;if(lt!=null)for(wt in lt.ref!==void 0&&(Rt=void 0),lt.key!==void 0&&(At=""+lt.key),lt)!It.call(lt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&lt.ref===void 0||(_t[wt]=lt[wt]);var wt=arguments.length-2;if(wt===1)_t.children=bt;else if(1<wt){for(var Te=Array(wt),oe=0;oe<wt;oe++)Te[oe]=arguments[oe+2];_t.children=Te}return G(U.type,At,void 0,void 0,Rt,_t)},Wt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Wt.createElement=function(U,lt,bt){var _t,At={},Rt=null;if(lt!=null)for(_t in lt.key!==void 0&&(Rt=""+lt.key),lt)It.call(lt,_t)&&_t!=="key"&&_t!=="__self"&&_t!=="__source"&&(At[_t]=lt[_t]);var wt=arguments.length-2;if(wt===1)At.children=bt;else if(1<wt){for(var Te=Array(wt),oe=0;oe<wt;oe++)Te[oe]=arguments[oe+2];At.children=Te}if(U&&U.defaultProps)for(_t in wt=U.defaultProps,wt)At[_t]===void 0&&(At[_t]=wt[_t]);return G(U,Rt,void 0,void 0,null,At)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(U){return{$$typeof:d,render:U}},Wt.isValidElement=z,Wt.lazy=function(U){return{$$typeof:T,_payload:{_status:-1,_result:U},_init:Et}},Wt.memo=function(U,lt){return{$$typeof:v,type:U,compare:lt===void 0?null:lt}},Wt.startTransition=function(U){var lt=dt.T,bt={};dt.T=bt;try{var _t=U(),At=dt.S;At!==null&&At(bt,_t),typeof _t=="object"&&_t!==null&&typeof _t.then=="function"&&_t.then(le,vt)}catch(Rt){vt(Rt)}finally{dt.T=lt}},Wt.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},Wt.use=function(U){return dt.H.use(U)},Wt.useActionState=function(U,lt,bt){return dt.H.useActionState(U,lt,bt)},Wt.useCallback=function(U,lt){return dt.H.useCallback(U,lt)},Wt.useContext=function(U){return dt.H.useContext(U)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(U,lt){return dt.H.useDeferredValue(U,lt)},Wt.useEffect=function(U,lt,bt){var _t=dt.H;if(typeof bt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _t.useEffect(U,lt)},Wt.useId=function(){return dt.H.useId()},Wt.useImperativeHandle=function(U,lt,bt){return dt.H.useImperativeHandle(U,lt,bt)},Wt.useInsertionEffect=function(U,lt){return dt.H.useInsertionEffect(U,lt)},Wt.useLayoutEffect=function(U,lt){return dt.H.useLayoutEffect(U,lt)},Wt.useMemo=function(U,lt){return dt.H.useMemo(U,lt)},Wt.useOptimistic=function(U,lt){return dt.H.useOptimistic(U,lt)},Wt.useReducer=function(U,lt,bt){return dt.H.useReducer(U,lt,bt)},Wt.useRef=function(U){return dt.H.useRef(U)},Wt.useState=function(U){return dt.H.useState(U)},Wt.useSyncExternalStore=function(U,lt,bt){return dt.H.useSyncExternalStore(U,lt,bt)},Wt.useTransition=function(){return dt.H.useTransition()},Wt.version="19.1.0",Wt}var xT;function av(){return xT||(xT=1,Ig.exports=II()),Ig.exports}var q=av();const qu=kh(q);var Lg={exports:{}},Jc={},Pg={exports:{}},Og={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT;function LI(){return CT||(CT=1,function(n){function t(ot,Et){var vt=ot.length;ot.push(Et);t:for(;0<vt;){var le=vt-1>>>1,U=ot[le];if(0<o(U,Et))ot[le]=Et,ot[vt]=U,vt=le;else break t}}function e(ot){return ot.length===0?null:ot[0]}function r(ot){if(ot.length===0)return null;var Et=ot[0],vt=ot.pop();if(vt!==Et){ot[0]=vt;t:for(var le=0,U=ot.length,lt=U>>>1;le<lt;){var bt=2*(le+1)-1,_t=ot[bt],At=bt+1,Rt=ot[At];if(0>o(_t,vt))At<U&&0>o(Rt,_t)?(ot[le]=Rt,ot[At]=vt,le=At):(ot[le]=_t,ot[bt]=vt,le=bt);else if(At<U&&0>o(Rt,vt))ot[le]=Rt,ot[At]=vt,le=At;else break t}}return Et}function o(ot,Et){var vt=ot.sortIndex-Et.sortIndex;return vt!==0?vt:ot.id-Et.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],v=[],T=1,w=null,A=3,I=!1,k=!1,N=!1,V=!1,j=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function ct(ot){for(var Et=e(v);Et!==null;){if(Et.callback===null)r(v);else if(Et.startTime<=ot)r(v),Et.sortIndex=Et.expirationTime,t(g,Et);else break;Et=e(v)}}function dt(ot){if(N=!1,ct(ot),!k)if(e(g)!==null)k=!0,It||(It=!0,W());else{var Et=e(v);Et!==null&&Fe(dt,Et.startTime-ot)}}var It=!1,G=-1,D=5,z=-1;function Z(){return V?!0:!(n.unstable_now()-z<D)}function Y(){if(V=!1,It){var ot=n.unstable_now();z=ot;var Et=!0;try{t:{k=!1,N&&(N=!1,tt(G),G=-1),I=!0;var vt=A;try{e:{for(ct(ot),w=e(g);w!==null&&!(w.expirationTime>ot&&Z());){var le=w.callback;if(typeof le=="function"){w.callback=null,A=w.priorityLevel;var U=le(w.expirationTime<=ot);if(ot=n.unstable_now(),typeof U=="function"){w.callback=U,ct(ot),Et=!0;break e}w===e(g)&&r(g),ct(ot)}else r(g);w=e(g)}if(w!==null)Et=!0;else{var lt=e(v);lt!==null&&Fe(dt,lt.startTime-ot),Et=!1}}break t}finally{w=null,A=vt,I=!1}Et=void 0}}finally{Et?W():It=!1}}}var W;if(typeof nt=="function")W=function(){nt(Y)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ce=H.port2;H.port1.onmessage=Y,W=function(){Ce.postMessage(null)}}else W=function(){j(Y,0)};function Fe(ot,Et){G=j(function(){ot(n.unstable_now())},Et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ot){ot.callback=null},n.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ot?Math.floor(1e3/ot):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(ot){switch(A){case 1:case 2:case 3:var Et=3;break;default:Et=A}var vt=A;A=Et;try{return ot()}finally{A=vt}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(ot,Et){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var vt=A;A=ot;try{return Et()}finally{A=vt}},n.unstable_scheduleCallback=function(ot,Et,vt){var le=n.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?le+vt:le):vt=le,ot){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=vt+U,ot={id:T++,callback:Et,priorityLevel:ot,startTime:vt,expirationTime:U,sortIndex:-1},vt>le?(ot.sortIndex=vt,t(v,ot),e(g)===null&&ot===e(v)&&(N?(tt(G),G=-1):N=!0,Fe(dt,vt-le))):(ot.sortIndex=U,t(g,ot),k||I||(k=!0,It||(It=!0,W()))),ot},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(ot){var Et=A;return function(){var vt=A;A=Et;try{return ot.apply(this,arguments)}finally{A=vt}}}}(Og)),Og}var RT;function PI(){return RT||(RT=1,Pg.exports=LI()),Pg.exports}var Mg={exports:{}},Kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function OI(){if(IT)return Kn;IT=1;var n=av();function t(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,v,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:v,implementation:T}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kn.createPortal=function(g,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return l(g,v,null,T)},Kn.flushSync=function(g){var v=c.T,T=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=v,r.p=T,r.d.f()}},Kn.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},Kn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Kn.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var T=v.as,w=d(T,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,I=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:I}):T==="script"&&r.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:I,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Kn.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=d(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},Kn.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,w=d(T,v.crossOrigin);r.d.L(g,T,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Kn.preloadModule=function(g,v){if(typeof g=="string")if(v){var T=d(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},Kn.requestFormReset=function(g){r.d.r(g)},Kn.unstable_batchedUpdates=function(g,v){return g(v)},Kn.useFormState=function(g,v,T){return c.H.useFormState(g,v,T)},Kn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Kn.version="19.1.0",Kn}var LT;function gA(){if(LT)return Mg.exports;LT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mg.exports=OI(),Mg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function MI(){if(PT)return Jc;PT=1;var n=PI(),t=av(),e=gA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var _=u.return;if(_===null)break;var y=_.alternate;if(y===null){if(f=_.return,f!==null){u=f;continue}break}if(_.child===y.child){for(y=_.child;y;){if(y===u)return d(_),i;if(y===f)return d(_),s;y=y.sibling}throw Error(r(188))}if(u.return!==f.return)u=_,f=y;else{for(var R=!1,O=_.child;O;){if(O===u){R=!0,u=_,f=y;break}if(O===f){R=!0,f=_,u=y;break}O=O.sibling}if(!R){for(O=y.child;O;){if(O===u){R=!0,u=y,f=_;break}if(O===f){R=!0,f=y,u=_;break}O=O.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case V:return"Profiler";case N:return"StrictMode";case dt:return"Suspense";case It:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case nt:return(i.displayName||"Context")+".Provider";case tt:return(i._context.displayName||"Context")+".Consumer";case ct:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:Ce(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return Ce(i(s))}catch{}}return null}var Fe=Array.isArray,ot=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt={pending:!1,data:null,method:null,action:null},le=[],U=-1;function lt(i){return{current:i}}function bt(i){0>U||(i.current=le[U],le[U]=null,U--)}function _t(i,s){U++,le[U]=i.current,i.current=s}var At=lt(null),Rt=lt(null),wt=lt(null),Te=lt(null);function oe(i,s){switch(_t(wt,s),_t(Rt,i),_t(At,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Qb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Qb(s),i=$b(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}bt(At),_t(At,i)}function wi(){bt(At),bt(Rt),bt(wt)}function Xi(i){i.memoizedState!==null&&_t(Te,i);var s=At.current,u=$b(s,i.type);s!==u&&(_t(Rt,i),_t(At,u))}function Ai(i){Rt.current===i&&(bt(At),bt(Rt)),Te.current===i&&(bt(Te),Yc._currentValue=vt)}var Si=Object.prototype.hasOwnProperty,Tr=n.unstable_scheduleCallback,Cs=n.unstable_cancelCallback,ba=n.unstable_shouldYield,Fo=n.unstable_requestPaint,jn=n.unstable_now,Ta=n.unstable_getCurrentPriorityLevel,Ho=n.unstable_ImmediatePriority,Rs=n.unstable_UserBlockingPriority,Er=n.unstable_NormalPriority,Zl=n.unstable_LowPriority,Is=n.unstable_IdlePriority,qo=n.log,Yl=n.unstable_setDisableYieldValue,Oe=null,fe=null;function Bn(i){if(typeof qo=="function"&&Yl(i),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(Oe,i)}catch{}}var Tn=Math.clz32?Math.clz32:Ls,Go=Math.log,Kl=Math.LN2;function Ls(i){return i>>>=0,i===0?32:31-(Go(i)/Kl|0)|0}var qr=256,wr=4194304;function ci(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ea(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var _=0,y=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var O=f&134217727;return O!==0?(f=O&~y,f!==0?_=ci(f):(R&=O,R!==0?_=ci(R):u||(u=O&~i,u!==0&&(_=ci(u))))):(O=f&~y,O!==0?_=ci(O):R!==0?_=ci(R):u||(u=f&~i,u!==0&&(_=ci(u)))),_===0?0:s!==0&&s!==_&&(s&y)===0&&(y=_&-_,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:_}function xi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Zo(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(){var i=qr;return qr<<=1,(qr&4194048)===0&&(qr=256),i}function wa(){var i=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),i}function Qi(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function $i(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ko(i,s,u,f,_,y){var R=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var O=i.entanglements,F=i.expirationTimes,et=i.hiddenUpdates;for(u=R&~u;0<u;){var ut=31-Tn(u),mt=1<<ut;O[ut]=0,F[ut]=-1;var it=et[ut];if(it!==null)for(et[ut]=null,ut=0;ut<it.length;ut++){var rt=it[ut];rt!==null&&(rt.lane&=-536870913)}u&=~mt}f!==0&&Ji(i,f,0),y!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=y&~(R&~s))}function Ji(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-Tn(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function Wo(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-Tn(u),_=1<<f;_&s|i[f]&s&&(i[f]|=s),u&=~_}}function Gr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Aa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zr(){var i=Et.p;return i!==0?i:(i=window.event,i===void 0?32:_T(i.type))}function Sa(i,s){var u=Et.p;try{return Et.p=i,s()}finally{Et.p=u}}var Me=Math.random().toString(36).slice(2),rn="__reactFiber$"+Me,Xe="__reactProps$"+Me,hi="__reactContainer$"+Me,Fn="__reactEvents$"+Me,Mt="__reactListeners$"+Me,Ar="__reactHandles$"+Me,Xo="__reactResources$"+Me,Yr="__reactMarker$"+Me;function Sr(i){delete i[rn],delete i[Xe],delete i[Fn],delete i[Mt],delete i[Ar]}function Ci(i){var s=i[rn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[hi]||u[rn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=nT(i);i!==null;){if(u=i[rn])return u;i=nT(i)}return s}i=u,u=i.parentNode}return null}function Ri(i){if(i=i[rn]||i[hi]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Pn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function En(i){var s=i[Xo];return s||(s=i[Xo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ge(i){i[Yr]=!0}var Qo=new Set,xa={};function Ii(i,s){tr(i,s),tr(i+"Capture",s)}function tr(i,s){for(xa[i]=s,i=0;i<s.length;i++)Qo.add(s[i])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ps={},Os={};function Xl(i){return Si.call(Os,i)?!0:Si.call(Ps,i)?!1:Wl.test(i)?Os[i]=!0:(Ps[i]=!0,!1)}function Kr(i,s,u){if(Xl(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function er(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function gn(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}var xr,Wr;function nr(i){if(xr===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);xr=s&&s[1]||"",Wr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+i+Wr}var Ms=!1;function ir(i,s){if(!i||Ms)return"";Ms=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(rt){var it=rt}Reflect.construct(i,[],mt)}else{try{mt.call()}catch(rt){it=rt}i.call(mt.prototype)}}else{try{throw Error()}catch(rt){it=rt}(mt=i())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(rt){if(rt&&it&&typeof rt.stack=="string")return[rt.stack,it.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),R=y[0],O=y[1];if(R&&O){var F=R.split(`
`),et=O.split(`
`);for(_=f=0;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;for(;_<et.length&&!et[_].includes("DetermineComponentFrameRoot");)_++;if(f===F.length||_===et.length)for(f=F.length-1,_=et.length-1;1<=f&&0<=_&&F[f]!==et[_];)_--;for(;1<=f&&0<=_;f--,_--)if(F[f]!==et[_]){if(f!==1||_!==1)do if(f--,_--,0>_||F[f]!==et[_]){var ut=`
`+F[f].replace(" at new "," at ");return i.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",i.displayName)),ut}while(1<=f&&0<=_);break}}}finally{Ms=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?nr(u):""}function $t(i){switch(i.tag){case 26:case 27:case 5:return nr(i.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return ir(i.type,!1);case 11:return ir(i.type.render,!1);case 1:return ir(i.type,!0);case 31:return nr("Activity");default:return""}}function pe(i){try{var s="";do s+=$t(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function rr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xr(i){var s=rr(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(R){f=""+R,y.call(this,R)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Qr(i){i._valueTracker||(i._valueTracker=Xr(i))}function Gt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=rr(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var $o=/[\n"\\]/g;function je(i){return i.replace($o,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ke(i,s,u,f,_,y,R,O){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),s!=null?R==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+un(s)):i.value!==""+un(s)&&(i.value=""+un(s)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),s!=null?Li(i,R,un(s)):u!=null?Li(i,R,un(u)):f!=null&&i.removeAttribute("value"),_==null&&y!=null&&(i.defaultChecked=!!y),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+un(O):i.removeAttribute("name")}function ks(i,s,u,f,_,y,R,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;u=u!=null?""+un(u):"",s=s!=null?""+un(s):u,O||s===i.value||(i.value=s),i.defaultValue=s}f=f??_,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=O?i.checked:!!f,i.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function Li(i,s,u){s==="number"&&ve(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function On(i,s,u,f){if(i=i.options,s){s={};for(var _=0;_<u.length;_++)s["$"+u[_]]=!0;for(u=0;u<i.length;u++)_=s.hasOwnProperty("$"+i[u].value),i[u].selected!==_&&(i[u].selected=_),_&&f&&(i[u].defaultSelected=!0)}else{for(u=""+un(u),s=null,_=0;_<i.length;_++){if(i[_].value===u){i[_].selected=!0,f&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function jt(i,s,u){if(s!=null&&(s=""+un(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+un(u):""}function ni(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(Fe(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=un(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function wn(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ca(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||Pi.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function Cr(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var _ in s)f=s[_],s.hasOwnProperty(_)&&u[_]!==f&&Ca(i,_,f)}else for(var y in s)s.hasOwnProperty(y)&&Ca(i,y,s[y])}function Ns(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(i){return Ra.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Oi=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sr=null,Mi=null;function tl(i){var s=Ri(i);if(s&&(i=s.stateNode)){var u=i[Xe]||null;t:switch(i=s.stateNode,s.type){case"input":if(ke(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+je(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var _=f[Xe]||null;if(!_)throw Error(r(90));ke(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&Gt(f)}break t;case"textarea":jt(i,u.value,u.defaultValue);break t;case"select":s=u.value,s!=null&&On(i,!!u.multiple,s,!1)}}}var Vt=!1;function ii(i,s,u){if(Vt)return i(s,u);Vt=!0;try{var f=i(s);return f}finally{if(Vt=!1,(sr!==null||Mi!==null)&&(jf(),sr&&(s=sr,i=Mi,Mi=sr=null,tl(s),i)))for(s=0;s<i.length;s++)tl(i[s])}}function ue(i,s){var u=i.stateNode;if(u===null)return null;var f=u[Xe]||null;if(f===null)return null;u=f[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(fi)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Hn=!1}var di=null,qn=null,ki=null;function Ir(){if(ki)return ki;var i,s=qn,u=s.length,f,_="value"in di?di.value:di.textContent,y=_.length;for(i=0;i<u&&s[i]===_[i];i++);var R=u-i;for(f=1;f<=R&&s[u-f]===_[y-f];f++);return ki=_.slice(i,1<f?1-f:void 0)}function Ee(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function An(){return!0}function Ia(){return!1}function sn(i){function s(u,f,_,y,R){this._reactName=u,this._targetInst=_,this.type=f,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?An:Ia,this.isPropagationStopped=Ia,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=An)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=An)},persist:function(){},isPersistent:An}),s}var de={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=sn(de),Lr=T({},de,{view:0,detail:0}),Ql=sn(Lr),Vs,Kt,ar,_n=T({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ar&&(ar&&i.type==="mousemove"?(Vs=i.screenX-ar.screenX,Kt=i.screenY-ar.screenY):Kt=Vs=0,ar=i),Vs)},movementY:function(i){return"movementY"in i?i.movementY:Kt}}),Sn=sn(_n),el=T({},_n,{dataTransfer:0}),cc=sn(el),Pr=T({},Lr,{relatedTarget:0}),La=sn(Pr),Pa=T({},de,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=sn(Pa),$l=T({},de,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jr=sn($l),hc=T({},de,{data:0}),Gn=sn(hc),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ma(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ni[i])?!!s[i]:!1}function ts(){return Ma}var ka=T({},Lr,{key:function(i){if(i.key){var s=Us[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ee(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?nl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(i){return i.type==="keypress"?Ee(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ee(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Na=sn(ka),il=T({},_n,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Da=sn(il),Or=T({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),Jl=sn(Or),Va=T({},de,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=sn(Va),rl=T({},_n,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=sn(rl),cn=T({},de,{newState:0,oldState:0}),or=sn(cn),eu=[9,13,27,32],Zn=fi&&"CompositionEvent"in window,m=null;fi&&"documentMode"in document&&(m=document.documentMode);var E=fi&&"TextEvent"in window&&!m,x=fi&&(!Zn||m&&8<m&&11>=m),M=" ",Q=!1;function at(i,s){switch(i){case"keyup":return eu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function Qe(i,s){switch(i){case"compositionend":return Tt(s);case"keypress":return s.which!==32?null:(Q=!0,M);case"textInput":return i=s.data,i===M&&Q?null:i;default:return null}}function re(i,s){if(ie)return i==="compositionend"||!Zn&&at(i,s)?(i=Ir(),ki=qn=di=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return x&&s.locale!=="ko"?null:s.data;default:return null}}var ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ge[i.type]:s==="textarea"}function Mr(i,s,u,f){sr?Mi?Mi.push(f):Mi=[f]:sr=f,s=Zf(s,"onChange"),0<s.length&&(u=new Ds("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var Re=null,lr=null;function ur(i){Zb(i,0)}function nu(i){var s=Pn(i);if(Gt(s))return i}function Ua(i,s){if(i==="change")return s}var fc=!1;if(fi){var za;if(fi){var dc="oninput"in document;if(!dc){var kr=document.createElement("div");kr.setAttribute("oninput","return;"),dc=typeof kr.oninput=="function"}za=dc}else za=!1;fc=za&&(!document.documentMode||9<document.documentMode)}function sl(){Re&&(Re.detachEvent("onpropertychange",sf),lr=Re=null)}function sf(i){if(i.propertyName==="value"&&nu(lr)){var s=[];Mr(s,lr,i,Mn(i)),ii(ur,s)}}function mc(i,s,u){i==="focusin"?(sl(),Re=s,lr=u,Re.attachEvent("onpropertychange",sf)):i==="focusout"&&sl()}function $m(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nu(lr)}function Nr(i,s){if(i==="click")return nu(s)}function Jm(i,s){if(i==="input"||i==="change")return nu(s)}function ja(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ri=typeof Object.is=="function"?Object.is:ja;function si(i,s){if(ri(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var _=u[f];if(!Si.call(s,_)||!ri(i[_],s[_]))return!1}return!0}function al(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pc(i,s){var u=al(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=al(u)}}function iu(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?iu(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ol(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ve(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=ve(i.document)}return s}function ll(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ru=fi&&"documentMode"in document&&11>=document.documentMode,Di=null,Ba=null,js=null,su=!1;function af(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;su||Di==null||Di!==ve(f)||(f=Di,"selectionStart"in f&&ll(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),js&&si(js,f)||(js=f,f=Zf(Ba,"onSelect"),0<f.length&&(s=new Ds("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Di)))}function cr(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Fa={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},au={},of={};fi&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function es(i){if(au[i])return au[i];if(!Fa[i])return i;var s=Fa[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in of)return au[i]=s[u];return i}var lf=es("animationend"),Vi=es("animationiteration"),ul=es("animationstart"),tp=es("transitionrun"),ou=es("transitionstart"),ep=es("transitioncancel"),gc=es("transitionend"),uf=new Map,Bs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bs.push("scrollEnd");function Ui(i,s){uf.set(i,s),Ii(s,[i])}var Fs=new WeakMap;function ai(i,s){if(typeof i=="object"&&i!==null){var u=Fs.get(i);return u!==void 0?u:(s={value:i,source:s,stack:pe(s)},Fs.set(i,s),s)}return{value:i,source:s,stack:pe(s)}}var oi=[],Ha=0,zi=0;function cl(){for(var i=Ha,s=zi=Ha=0;s<i;){var u=oi[s];oi[s++]=null;var f=oi[s];oi[s++]=null;var _=oi[s];oi[s++]=null;var y=oi[s];if(oi[s++]=null,f!==null&&_!==null){var R=f.pending;R===null?_.next=_:(_.next=R.next,R.next=_),f.pending=_}y!==0&&fl(u,_,y)}}function hl(i,s,u,f){oi[Ha++]=i,oi[Ha++]=s,oi[Ha++]=u,oi[Ha++]=f,zi|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Hs(i,s,u,f){return hl(i,s,u,f),ns(i)}function qa(i,s){return hl(i,null,null,s),ns(i)}function fl(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var _=!1,y=i.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(_=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,_&&s!==null&&(_=31-Tn(u),i=y.hiddenUpdates,f=i[_],f===null?i[_]=[s]:f.push(s),s.lane=u|536870912),y):null}function ns(i){if(50<zc)throw zc=0,$p=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var qs={};function cf(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(i,s,u,f){return new cf(i,s,u,f)}function lu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hr(i,s){var u=i.alternate;return u===null?(u=li(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function _c(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function dl(i,s,u,f,_,y){var R=0;if(f=i,typeof i=="function")lu(i)&&(R=1);else if(typeof i=="string")R=mI(i,u,At.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case z:return i=li(31,u,s,_),i.elementType=z,i.lanes=y,i;case k:return is(u.children,_,y,s);case N:R=8,_|=24;break;case V:return i=li(12,u,s,_|2),i.elementType=V,i.lanes=y,i;case dt:return i=li(13,u,s,_),i.elementType=dt,i.lanes=y,i;case It:return i=li(19,u,s,_),i.elementType=It,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case nt:R=10;break t;case tt:R=9;break t;case ct:R=11;break t;case G:R=14;break t;case D:R=16,f=null;break t}R=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=li(R,u,s,_),s.elementType=i,s.type=f,s.lanes=y,s}function is(i,s,u,f){return i=li(7,i,f,s),i.lanes=u,i}function vc(i,s,u){return i=li(6,i,null,s),i.lanes=u,i}function uu(i,s,u){return s=li(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Gs=[],Ga=0,a=null,h=0,p=[],b=0,S=null,P=1,B="";function $(i,s){Gs[Ga++]=h,Gs[Ga++]=a,a=i,h=s}function st(i,s,u){p[b++]=P,p[b++]=B,p[b++]=S,S=i;var f=P;i=B;var _=32-Tn(f)-1;f&=~(1<<_),u+=1;var y=32-Tn(s)+_;if(30<y){var R=_-_%5;y=(f&(1<<R)-1).toString(32),f>>=R,_-=R,P=1<<32-Tn(s)+_|u<<_|f,B=y+i}else P=1<<y|u<<_|f,B=i}function gt(i){i.return!==null&&($(i,1),st(i,1,0))}function St(i){for(;i===a;)a=Gs[--Ga],Gs[Ga]=null,h=Gs[--Ga],Gs[Ga]=null;for(;i===S;)S=p[--b],p[b]=null,B=p[--b],p[b]=null,P=p[--b],p[b]=null}var Lt=null,Ot=null,qt=!1,De=null,Ze=!1,xn=Error(r(519));function mi(i){var s=Error(r(418,""));throw Ya(ai(s,i)),xn}function hf(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[rn]=i,s[Xe]=f,u){case"dialog":ee("cancel",s),ee("close",s);break;case"iframe":case"object":case"embed":ee("load",s);break;case"video":case"audio":for(u=0;u<Bc.length;u++)ee(Bc[u],s);break;case"source":ee("error",s);break;case"img":case"image":case"link":ee("error",s),ee("load",s);break;case"details":ee("toggle",s);break;case"input":ee("invalid",s),ks(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Qr(s);break;case"select":ee("invalid",s);break;case"textarea":ee("invalid",s),ni(s,f.value,f.defaultValue,f.children),Qr(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||Xb(s.textContent,u)?(f.popover!=null&&(ee("beforetoggle",s),ee("toggle",s)),f.onScroll!=null&&ee("scroll",s),f.onScrollEnd!=null&&ee("scrollend",s),f.onClick!=null&&(s.onclick=Yf),s=!0):s=!1,s||mi(i)}function ff(i){for(Lt=i.return;Lt;)switch(Lt.tag){case 5:case 13:Ze=!1;return;case 27:case 3:Ze=!0;return;default:Lt=Lt.return}}function ml(i){if(i!==Lt)return!1;if(!qt)return ff(i),qt=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||mg(i.type,i.memoizedProps)),u=!u),u&&Ot&&mi(i),ff(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){Ot=zr(i.nextSibling);break t}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}Ot=null}}else s===27?(s=Ot,lo(i.type)?(i=vg,vg=null,Ot=i):Ot=s):Ot=Lt?zr(i.stateNode.nextSibling):null;return!0}function Za(){Ot=Lt=null,qt=!1}function df(){var i=De;return i!==null&&(_i===null?_i=i:_i.push.apply(_i,i),De=null),i}function Ya(i){De===null?De=[i]:De.push(i)}var He=lt(null),fr=null,Dr=null;function rs(i,s,u){_t(He,s._currentValue),s._currentValue=u}function Vr(i){i._currentValue=He.current,bt(He)}function pl(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function cu(i,s,u,f){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var y=_.dependencies;if(y!==null){var R=_.child;y=y.firstContext;t:for(;y!==null;){var O=y;y=_;for(var F=0;F<s.length;F++)if(O.context===s[F]){y.lanes|=u,O=y.alternate,O!==null&&(O.lanes|=u),pl(y.return,u,i),f||(R=null);break t}y=O.next}}else if(_.tag===18){if(R=_.return,R===null)throw Error(r(341));R.lanes|=u,y=R.alternate,y!==null&&(y.lanes|=u),pl(R,u,i),R=null}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===i){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}}function gl(i,s,u,f){i=null;for(var _=s,y=!1;_!==null;){if(!y){if((_.flags&524288)!==0)y=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var R=_.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var O=_.type;ri(_.pendingProps.value,R.value)||(i!==null?i.push(O):i=[O])}}else if(_===Te.current){if(R=_.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(Yc):i=[Yc])}_=_.return}i!==null&&cu(s,i,u,f),s.flags|=262144}function mf(i){for(i=i.firstContext;i!==null;){if(!ri(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _l(i){fr=i,Dr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return Dy(fr,i)}function pf(i,s){return fr===null&&_l(i),Dy(i,s)}function Dy(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Dr===null){if(i===null)throw Error(r(308));Dr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Dr=Dr.next=s;return u}var dR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},mR=n.unstable_scheduleCallback,pR=n.unstable_NormalPriority,vn={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new dR,data:new Map,refCount:0}}function yc(i){i.refCount--,i.refCount===0&&mR(pR,function(){i.controller.abort()})}var bc=null,ip=0,hu=0,fu=null;function gR(i,s){if(bc===null){var u=bc=[];ip=0,hu=sg(),fu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return ip++,s.then(Vy,Vy),s}function Vy(){if(--ip===0&&bc!==null){fu!==null&&(fu.status="fulfilled");var i=bc;bc=null,hu=0,fu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function _R(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var _=0;_<u.length;_++)(0,u[_])(s)},function(_){for(f.status="rejected",f.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),f}var Uy=ot.S;ot.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&gR(i,s),Uy!==null&&Uy(i,s)};var vl=lt(null);function rp(){var i=vl.current;return i!==null?i:Ve.pooledCache}function gf(i,s){s===null?_t(vl,vl.current):_t(vl,s.pool)}function zy(){var i=rp();return i===null?null:{parent:vn._currentValue,pool:i}}var Tc=Error(r(460)),jy=Error(r(474)),_f=Error(r(542)),sp={then:function(){}};function By(i){return i=i.status,i==="fulfilled"||i==="rejected"}function vf(){}function Fy(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(vf,vf),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,qy(i),i;default:if(typeof s.status=="string")s.then(vf,vf);else{if(i=Ve,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=f}},function(f){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,qy(i),i}throw Ec=s,Tc}}var Ec=null;function Hy(){if(Ec===null)throw Error(r(459));var i=Ec;return Ec=null,i}function qy(i){if(i===Tc||i===_f)throw Error(r(483))}var Ka=!1;function ap(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function op(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Wa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xa(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(ye&2)!==0){var _=f.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),f.pending=s,s=ns(i),fl(i,null,u),s}return hl(i,f,s,u),ns(i)}function wc(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Wo(i,u)}}function lp(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var _=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?_=y=R:y=y.next=R,u=u.next}while(u!==null);y===null?_=y=s:y=y.next=s}else _=y=s;u={baseState:f.baseState,firstBaseUpdate:_,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var up=!1;function Ac(){if(up){var i=fu;if(i!==null)throw i}}function Sc(i,s,u,f){up=!1;var _=i.updateQueue;Ka=!1;var y=_.firstBaseUpdate,R=_.lastBaseUpdate,O=_.shared.pending;if(O!==null){_.shared.pending=null;var F=O,et=F.next;F.next=null,R===null?y=et:R.next=et,R=F;var ut=i.alternate;ut!==null&&(ut=ut.updateQueue,O=ut.lastBaseUpdate,O!==R&&(O===null?ut.firstBaseUpdate=et:O.next=et,ut.lastBaseUpdate=F))}if(y!==null){var mt=_.baseState;R=0,ut=et=F=null,O=y;do{var it=O.lane&-536870913,rt=it!==O.lane;if(rt?(ce&it)===it:(f&it)===it){it!==0&&it===hu&&(up=!0),ut!==null&&(ut=ut.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var Ht=i,Ut=O;it=s;var Se=u;switch(Ut.tag){case 1:if(Ht=Ut.payload,typeof Ht=="function"){mt=Ht.call(Se,mt,it);break t}mt=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Ut.payload,it=typeof Ht=="function"?Ht.call(Se,mt,it):Ht,it==null)break t;mt=T({},mt,it);break t;case 2:Ka=!0}}it=O.callback,it!==null&&(i.flags|=64,rt&&(i.flags|=8192),rt=_.callbacks,rt===null?_.callbacks=[it]:rt.push(it))}else rt={lane:it,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ut===null?(et=ut=rt,F=mt):ut=ut.next=rt,R|=it;if(O=O.next,O===null){if(O=_.shared.pending,O===null)break;rt=O,O=rt.next,rt.next=null,_.lastBaseUpdate=rt,_.shared.pending=null}}while(!0);ut===null&&(F=mt),_.baseState=F,_.firstBaseUpdate=et,_.lastBaseUpdate=ut,y===null&&(_.shared.lanes=0),ro|=R,i.lanes=R,i.memoizedState=mt}}function Gy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Zy(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Gy(u[i],s)}var du=lt(null),yf=lt(0);function Yy(i,s){i=$s,_t(yf,i),_t(du,s),$s=i|s.baseLanes}function cp(){_t(yf,$s),_t(du,du.current)}function hp(){$s=yf.current,bt(du),bt(yf)}var Qa=0,Xt=null,we=null,hn=null,bf=!1,mu=!1,yl=!1,Tf=0,xc=0,pu=null,vR=0;function an(){throw Error(r(321))}function fp(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!ri(i[u],s[u]))return!1;return!0}function dp(i,s,u,f,_,y){return Qa=y,Xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ot.H=i===null||i.memoizedState===null?L0:P0,yl=!1,y=u(f,_),yl=!1,mu&&(y=Wy(s,u,f,_)),Ky(i),y}function Ky(i){ot.H=Cf;var s=we!==null&&we.next!==null;if(Qa=0,hn=we=Xt=null,bf=!1,xc=0,pu=null,s)throw Error(r(300));i===null||Cn||(i=i.dependencies,i!==null&&mf(i)&&(Cn=!0))}function Wy(i,s,u,f){Xt=i;var _=0;do{if(mu&&(pu=null),xc=0,mu=!1,25<=_)throw Error(r(301));if(_+=1,hn=we=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ot.H=SR,y=s(u,f)}while(mu);return y}function yR(){var i=ot.H,s=i.useState()[0];return s=typeof s.then=="function"?Cc(s):s,i=i.useState()[0],(we!==null?we.memoizedState:null)!==i&&(Xt.flags|=1024),s}function mp(){var i=Tf!==0;return Tf=0,i}function pp(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function gp(i){if(bf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}bf=!1}Qa=0,hn=we=Xt=null,mu=!1,xc=Tf=0,pu=null}function pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Xt.memoizedState=hn=i:hn=hn.next=i,hn}function fn(){if(we===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=we.next;var s=hn===null?Xt.memoizedState:hn.next;if(s!==null)hn=s,we=i;else{if(i===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));we=i,i={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},hn===null?Xt.memoizedState=hn=i:hn=hn.next=i}return hn}function _p(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cc(i){var s=xc;return xc+=1,pu===null&&(pu=[]),i=Fy(pu,i,s),s=Xt,(hn===null?s.memoizedState:hn.next)===null&&(s=s.alternate,ot.H=s===null||s.memoizedState===null?L0:P0),i}function Ef(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cc(i);if(i.$$typeof===nt)return Yn(i)}throw Error(r(438,String(i)))}function vp(i){var s=null,u=Xt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Xt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=_p(),Xt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=Z;return s.index++,u}function Zs(i,s){return typeof s=="function"?s(i):s}function wf(i){var s=fn();return yp(s,we,i)}function yp(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var _=i.baseQueue,y=f.pending;if(y!==null){if(_!==null){var R=_.next;_.next=y.next,y.next=R}s.baseQueue=_=y,f.pending=null}if(y=i.baseState,_===null)i.memoizedState=y;else{s=_.next;var O=R=null,F=null,et=s,ut=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(ce&mt)===mt:(Qa&mt)===mt){var it=et.revertLane;if(it===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===hu&&(ut=!0);else if((Qa&it)===it){et=et.next,it===hu&&(ut=!0);continue}else mt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},F===null?(O=F=mt,R=y):F=F.next=mt,Xt.lanes|=it,ro|=it;mt=et.action,yl&&u(y,mt),y=et.hasEagerState?et.eagerState:u(y,mt)}else it={lane:mt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},F===null?(O=F=it,R=y):F=F.next=it,Xt.lanes|=mt,ro|=mt;et=et.next}while(et!==null&&et!==s);if(F===null?R=y:F.next=O,!ri(y,i.memoizedState)&&(Cn=!0,ut&&(u=fu,u!==null)))throw u;i.memoizedState=y,i.baseState=R,i.baseQueue=F,f.lastRenderedState=y}return _===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function bp(i){var s=fn(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,_=u.pending,y=s.memoizedState;if(_!==null){u.pending=null;var R=_=_.next;do y=i(y,R.action),R=R.next;while(R!==_);ri(y,s.memoizedState)||(Cn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,f]}function Xy(i,s,u){var f=Xt,_=fn(),y=qt;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=s();var R=!ri((we||_).memoizedState,u);R&&(_.memoizedState=u,Cn=!0),_=_.queue;var O=Jy.bind(null,f,_,i);if(Rc(2048,8,O,[i]),_.getSnapshot!==s||R||hn!==null&&hn.memoizedState.tag&1){if(f.flags|=2048,gu(9,Af(),$y.bind(null,f,_,u,s),null),Ve===null)throw Error(r(349));y||(Qa&124)!==0||Qy(f,s,u)}return u}function Qy(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Xt.updateQueue,s===null?(s=_p(),Xt.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function $y(i,s,u,f){s.value=u,s.getSnapshot=f,t0(s)&&e0(i)}function Jy(i,s,u){return u(function(){t0(s)&&e0(i)})}function t0(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!ri(i,u)}catch{return!0}}function e0(i){var s=qa(i,2);s!==null&&qi(s,i,2)}function Tp(i){var s=pi();if(typeof i=="function"){var u=i;if(i=u(),yl){Bn(!0);try{u()}finally{Bn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:i},s}function n0(i,s,u,f){return i.baseState=u,yp(i,we,typeof f=="function"?f:Zs)}function bR(i,s,u,f,_){if(xf(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};ot.T!==null?u(!0):y.isTransition=!1,f(y),u=s.pending,u===null?(y.next=s.pending=y,i0(s,y)):(y.next=u.next,s.pending=u.next=y)}}function i0(i,s){var u=s.action,f=s.payload,_=i.state;if(s.isTransition){var y=ot.T,R={};ot.T=R;try{var O=u(_,f),F=ot.S;F!==null&&F(R,O),r0(i,s,O)}catch(et){Ep(i,s,et)}finally{ot.T=y}}else try{y=u(_,f),r0(i,s,y)}catch(et){Ep(i,s,et)}}function r0(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){s0(i,s,f)},function(f){return Ep(i,s,f)}):s0(i,s,u)}function s0(i,s,u){s.status="fulfilled",s.value=u,a0(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,i0(i,u)))}function Ep(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,a0(s),s=s.next;while(s!==f)}i.action=null}function a0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function o0(i,s){return s}function l0(i,s){if(qt){var u=Ve.formState;if(u!==null){t:{var f=Xt;if(qt){if(Ot){e:{for(var _=Ot,y=Ze;_.nodeType!==8;){if(!y){_=null;break e}if(_=zr(_.nextSibling),_===null){_=null;break e}}y=_.data,_=y==="F!"||y==="F"?_:null}if(_){Ot=zr(_.nextSibling),f=_.data==="F!";break t}}mi(f)}f=!1}f&&(s=u[0])}}return u=pi(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:s},u.queue=f,u=C0.bind(null,Xt,f),f.dispatch=u,f=Tp(!1),y=Cp.bind(null,Xt,!1,f.queue),f=pi(),_={state:s,dispatch:null,action:i,pending:null},f.queue=_,u=bR.bind(null,Xt,_,y,u),_.dispatch=u,f.memoizedState=i,[s,u,!1]}function u0(i){var s=fn();return c0(s,we,i)}function c0(i,s,u){if(s=yp(i,s,o0)[0],i=wf(Zs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Cc(s)}catch(R){throw R===Tc?_f:R}else f=s;s=fn();var _=s.queue,y=_.dispatch;return u!==s.memoizedState&&(Xt.flags|=2048,gu(9,Af(),TR.bind(null,_,u),null)),[f,y,i]}function TR(i,s){i.action=s}function h0(i){var s=fn(),u=we;if(u!==null)return c0(s,u,i);fn(),s=s.memoizedState,u=fn();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function gu(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Xt.updateQueue,s===null&&(s=_p(),Xt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function Af(){return{destroy:void 0,resource:void 0}}function f0(){return fn().memoizedState}function Sf(i,s,u,f){var _=pi();f=f===void 0?null:f,Xt.flags|=i,_.memoizedState=gu(1|s,Af(),u,f)}function Rc(i,s,u,f){var _=fn();f=f===void 0?null:f;var y=_.memoizedState.inst;we!==null&&f!==null&&fp(f,we.memoizedState.deps)?_.memoizedState=gu(s,y,u,f):(Xt.flags|=i,_.memoizedState=gu(1|s,y,u,f))}function d0(i,s){Sf(8390656,8,i,s)}function m0(i,s){Rc(2048,8,i,s)}function p0(i,s){return Rc(4,2,i,s)}function g0(i,s){return Rc(4,4,i,s)}function _0(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function v0(i,s,u){u=u!=null?u.concat([i]):null,Rc(4,4,_0.bind(null,s,i),u)}function wp(){}function y0(i,s){var u=fn();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&fp(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function b0(i,s){var u=fn();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&fp(s,f[1]))return f[0];if(f=i(),yl){Bn(!0);try{i()}finally{Bn(!1)}}return u.memoizedState=[f,s],f}function Ap(i,s,u){return u===void 0||(Qa&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=wb(),Xt.lanes|=i,ro|=i,u)}function T0(i,s,u,f){return ri(u,s)?u:du.current!==null?(i=Ap(i,u,f),ri(i,s)||(Cn=!0),i):(Qa&42)===0?(Cn=!0,i.memoizedState=u):(i=wb(),Xt.lanes|=i,ro|=i,s)}function E0(i,s,u,f,_){var y=Et.p;Et.p=y!==0&&8>y?y:8;var R=ot.T,O={};ot.T=O,Cp(i,!1,s,u);try{var F=_(),et=ot.S;if(et!==null&&et(O,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ut=_R(F,f);Ic(i,s,ut,Hi(i))}else Ic(i,s,f,Hi(i))}catch(mt){Ic(i,s,{then:function(){},status:"rejected",reason:mt},Hi())}finally{Et.p=y,ot.T=R}}function ER(){}function Sp(i,s,u,f){if(i.tag!==5)throw Error(r(476));var _=w0(i).queue;E0(i,_,s,vt,u===null?ER:function(){return A0(i),u(f)})}function w0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:vt,baseState:vt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:vt},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function A0(i){var s=w0(i).next.queue;Ic(i,s,{},Hi())}function xp(){return Yn(Yc)}function S0(){return fn().memoizedState}function x0(){return fn().memoizedState}function wR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Hi();i=Wa(u);var f=Xa(s,i,u);f!==null&&(qi(f,s,u),wc(f,s,u)),s={cache:np()},i.payload=s;return}s=s.return}}function AR(i,s,u){var f=Hi();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},xf(i)?R0(s,u):(u=Hs(i,s,u,f),u!==null&&(qi(u,i,f),I0(u,s,f)))}function C0(i,s,u){var f=Hi();Ic(i,s,u,f)}function Ic(i,s,u,f){var _={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(xf(i))R0(s,_);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var R=s.lastRenderedState,O=y(R,u);if(_.hasEagerState=!0,_.eagerState=O,ri(O,R))return hl(i,s,_,0),Ve===null&&cl(),!1}catch{}finally{}if(u=Hs(i,s,_,f),u!==null)return qi(u,i,f),I0(u,s,f),!0}return!1}function Cp(i,s,u,f){if(f={lane:2,revertLane:sg(),action:f,hasEagerState:!1,eagerState:null,next:null},xf(i)){if(s)throw Error(r(479))}else s=Hs(i,u,f,2),s!==null&&qi(s,i,2)}function xf(i){var s=i.alternate;return i===Xt||s!==null&&s===Xt}function R0(i,s){mu=bf=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function I0(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Wo(i,u)}}var Cf={readContext:Yn,use:Ef,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an},L0={readContext:Yn,use:Ef,useCallback:function(i,s){return pi().memoizedState=[i,s===void 0?null:s],i},useContext:Yn,useEffect:d0,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Sf(4194308,4,_0.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Sf(4194308,4,i,s)},useInsertionEffect:function(i,s){Sf(4,2,i,s)},useMemo:function(i,s){var u=pi();s=s===void 0?null:s;var f=i();if(yl){Bn(!0);try{i()}finally{Bn(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=pi();if(u!==void 0){var _=u(s);if(yl){Bn(!0);try{u(s)}finally{Bn(!1)}}}else _=s;return f.memoizedState=f.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},f.queue=i,i=i.dispatch=AR.bind(null,Xt,i),[f.memoizedState,i]},useRef:function(i){var s=pi();return i={current:i},s.memoizedState=i},useState:function(i){i=Tp(i);var s=i.queue,u=C0.bind(null,Xt,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:wp,useDeferredValue:function(i,s){var u=pi();return Ap(u,i,s)},useTransition:function(){var i=Tp(!1);return i=E0.bind(null,Xt,i.queue,!0,!1),pi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Xt,_=pi();if(qt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Ve===null)throw Error(r(349));(ce&124)!==0||Qy(f,s,u)}_.memoizedState=u;var y={value:u,getSnapshot:s};return _.queue=y,d0(Jy.bind(null,f,y,i),[i]),f.flags|=2048,gu(9,Af(),$y.bind(null,f,y,u,s),null),u},useId:function(){var i=pi(),s=Ve.identifierPrefix;if(qt){var u=B,f=P;u=(f&~(1<<32-Tn(f)-1)).toString(32)+u,s="«"+s+"R"+u,u=Tf++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=vR++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:xp,useFormState:l0,useActionState:l0,useOptimistic:function(i){var s=pi();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Cp.bind(null,Xt,!0,u),u.dispatch=s,[i,s]},useMemoCache:vp,useCacheRefresh:function(){return pi().memoizedState=wR.bind(null,Xt)}},P0={readContext:Yn,use:Ef,useCallback:y0,useContext:Yn,useEffect:m0,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:b0,useReducer:wf,useRef:f0,useState:function(){return wf(Zs)},useDebugValue:wp,useDeferredValue:function(i,s){var u=fn();return T0(u,we.memoizedState,i,s)},useTransition:function(){var i=wf(Zs)[0],s=fn().memoizedState;return[typeof i=="boolean"?i:Cc(i),s]},useSyncExternalStore:Xy,useId:S0,useHostTransitionStatus:xp,useFormState:u0,useActionState:u0,useOptimistic:function(i,s){var u=fn();return n0(u,we,i,s)},useMemoCache:vp,useCacheRefresh:x0},SR={readContext:Yn,use:Ef,useCallback:y0,useContext:Yn,useEffect:m0,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:b0,useReducer:bp,useRef:f0,useState:function(){return bp(Zs)},useDebugValue:wp,useDeferredValue:function(i,s){var u=fn();return we===null?Ap(u,i,s):T0(u,we.memoizedState,i,s)},useTransition:function(){var i=bp(Zs)[0],s=fn().memoizedState;return[typeof i=="boolean"?i:Cc(i),s]},useSyncExternalStore:Xy,useId:S0,useHostTransitionStatus:xp,useFormState:h0,useActionState:h0,useOptimistic:function(i,s){var u=fn();return we!==null?n0(u,we,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:vp,useCacheRefresh:x0},_u=null,Lc=0;function Rf(i){var s=Lc;return Lc+=1,_u===null&&(_u=[]),Fy(_u,i,s)}function Pc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function If(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function O0(i){var s=i._init;return s(i._payload)}function M0(i){function s(X,K){if(i){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function u(X,K){if(!i)return null;for(;K!==null;)s(X,K),K=K.sibling;return null}function f(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function _(X,K){return X=hr(X,K),X.index=0,X.sibling=null,X}function y(X,K,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function R(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function O(X,K,J,ht){return K===null||K.tag!==6?(K=vc(J,X.mode,ht),K.return=X,K):(K=_(K,J),K.return=X,K)}function F(X,K,J,ht){var Pt=J.type;return Pt===k?ut(X,K,J.props.children,ht,J.key):K!==null&&(K.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===D&&O0(Pt)===K.type)?(K=_(K,J.props),Pc(K,J),K.return=X,K):(K=dl(J.type,J.key,J.props,null,X.mode,ht),Pc(K,J),K.return=X,K)}function et(X,K,J,ht){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=uu(J,X.mode,ht),K.return=X,K):(K=_(K,J.children||[]),K.return=X,K)}function ut(X,K,J,ht,Pt){return K===null||K.tag!==7?(K=is(J,X.mode,ht,Pt),K.return=X,K):(K=_(K,J),K.return=X,K)}function mt(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=vc(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return J=dl(K.type,K.key,K.props,null,X.mode,J),Pc(J,K),J.return=X,J;case I:return K=uu(K,X.mode,J),K.return=X,K;case D:var ht=K._init;return K=ht(K._payload),mt(X,K,J)}if(Fe(K)||W(K))return K=is(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return mt(X,Rf(K),J);if(K.$$typeof===nt)return mt(X,pf(X,K),J);If(X,K)}return null}function it(X,K,J,ht){var Pt=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Pt!==null?null:O(X,K,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return J.key===Pt?F(X,K,J,ht):null;case I:return J.key===Pt?et(X,K,J,ht):null;case D:return Pt=J._init,J=Pt(J._payload),it(X,K,J,ht)}if(Fe(J)||W(J))return Pt!==null?null:ut(X,K,J,ht,null);if(typeof J.then=="function")return it(X,K,Rf(J),ht);if(J.$$typeof===nt)return it(X,K,pf(X,J),ht);If(X,J)}return null}function rt(X,K,J,ht,Pt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return X=X.get(J)||null,O(K,X,""+ht,Pt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case A:return X=X.get(ht.key===null?J:ht.key)||null,F(K,X,ht,Pt);case I:return X=X.get(ht.key===null?J:ht.key)||null,et(K,X,ht,Pt);case D:var Jt=ht._init;return ht=Jt(ht._payload),rt(X,K,J,ht,Pt)}if(Fe(ht)||W(ht))return X=X.get(J)||null,ut(K,X,ht,Pt,null);if(typeof ht.then=="function")return rt(X,K,J,Rf(ht),Pt);if(ht.$$typeof===nt)return rt(X,K,J,pf(K,ht),Pt);If(K,ht)}return null}function Ht(X,K,J,ht){for(var Pt=null,Jt=null,Nt=K,zt=K=0,In=null;Nt!==null&&zt<J.length;zt++){Nt.index>zt?(In=Nt,Nt=null):In=Nt.sibling;var me=it(X,Nt,J[zt],ht);if(me===null){Nt===null&&(Nt=In);break}i&&Nt&&me.alternate===null&&s(X,Nt),K=y(me,K,zt),Jt===null?Pt=me:Jt.sibling=me,Jt=me,Nt=In}if(zt===J.length)return u(X,Nt),qt&&$(X,zt),Pt;if(Nt===null){for(;zt<J.length;zt++)Nt=mt(X,J[zt],ht),Nt!==null&&(K=y(Nt,K,zt),Jt===null?Pt=Nt:Jt.sibling=Nt,Jt=Nt);return qt&&$(X,zt),Pt}for(Nt=f(Nt);zt<J.length;zt++)In=rt(Nt,X,zt,J[zt],ht),In!==null&&(i&&In.alternate!==null&&Nt.delete(In.key===null?zt:In.key),K=y(In,K,zt),Jt===null?Pt=In:Jt.sibling=In,Jt=In);return i&&Nt.forEach(function(mo){return s(X,mo)}),qt&&$(X,zt),Pt}function Ut(X,K,J,ht){if(J==null)throw Error(r(151));for(var Pt=null,Jt=null,Nt=K,zt=K=0,In=null,me=J.next();Nt!==null&&!me.done;zt++,me=J.next()){Nt.index>zt?(In=Nt,Nt=null):In=Nt.sibling;var mo=it(X,Nt,me.value,ht);if(mo===null){Nt===null&&(Nt=In);break}i&&Nt&&mo.alternate===null&&s(X,Nt),K=y(mo,K,zt),Jt===null?Pt=mo:Jt.sibling=mo,Jt=mo,Nt=In}if(me.done)return u(X,Nt),qt&&$(X,zt),Pt;if(Nt===null){for(;!me.done;zt++,me=J.next())me=mt(X,me.value,ht),me!==null&&(K=y(me,K,zt),Jt===null?Pt=me:Jt.sibling=me,Jt=me);return qt&&$(X,zt),Pt}for(Nt=f(Nt);!me.done;zt++,me=J.next())me=rt(Nt,X,zt,me.value,ht),me!==null&&(i&&me.alternate!==null&&Nt.delete(me.key===null?zt:me.key),K=y(me,K,zt),Jt===null?Pt=me:Jt.sibling=me,Jt=me);return i&&Nt.forEach(function(xI){return s(X,xI)}),qt&&$(X,zt),Pt}function Se(X,K,J,ht){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case A:t:{for(var Pt=J.key;K!==null;){if(K.key===Pt){if(Pt=J.type,Pt===k){if(K.tag===7){u(X,K.sibling),ht=_(K,J.props.children),ht.return=X,X=ht;break t}}else if(K.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===D&&O0(Pt)===K.type){u(X,K.sibling),ht=_(K,J.props),Pc(ht,J),ht.return=X,X=ht;break t}u(X,K);break}else s(X,K);K=K.sibling}J.type===k?(ht=is(J.props.children,X.mode,ht,J.key),ht.return=X,X=ht):(ht=dl(J.type,J.key,J.props,null,X.mode,ht),Pc(ht,J),ht.return=X,X=ht)}return R(X);case I:t:{for(Pt=J.key;K!==null;){if(K.key===Pt)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(X,K.sibling),ht=_(K,J.children||[]),ht.return=X,X=ht;break t}else{u(X,K);break}else s(X,K);K=K.sibling}ht=uu(J,X.mode,ht),ht.return=X,X=ht}return R(X);case D:return Pt=J._init,J=Pt(J._payload),Se(X,K,J,ht)}if(Fe(J))return Ht(X,K,J,ht);if(W(J)){if(Pt=W(J),typeof Pt!="function")throw Error(r(150));return J=Pt.call(J),Ut(X,K,J,ht)}if(typeof J.then=="function")return Se(X,K,Rf(J),ht);if(J.$$typeof===nt)return Se(X,K,pf(X,J),ht);If(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(u(X,K.sibling),ht=_(K,J),ht.return=X,X=ht):(u(X,K),ht=vc(J,X.mode,ht),ht.return=X,X=ht),R(X)):u(X,K)}return function(X,K,J,ht){try{Lc=0;var Pt=Se(X,K,J,ht);return _u=null,Pt}catch(Nt){if(Nt===Tc||Nt===_f)throw Nt;var Jt=li(29,Nt,null,X.mode);return Jt.lanes=ht,Jt.return=X,Jt}finally{}}}var vu=M0(!0),k0=M0(!1),dr=lt(null),ss=null;function $a(i){var s=i.alternate;_t(yn,yn.current&1),_t(dr,i),ss===null&&(s===null||du.current!==null||s.memoizedState!==null)&&(ss=i)}function N0(i){if(i.tag===22){if(_t(yn,yn.current),_t(dr,i),ss===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(ss=i)}}else Ja()}function Ja(){_t(yn,yn.current),_t(dr,dr.current)}function Ys(i){bt(dr),ss===i&&(ss=null),bt(yn)}var yn=lt(0);function Lf(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||_g(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Rp(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:T({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ip={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=Hi(),_=Wa(f);_.payload=s,u!=null&&(_.callback=u),s=Xa(i,_,f),s!==null&&(qi(s,i,f),wc(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=Hi(),_=Wa(f);_.tag=1,_.payload=s,u!=null&&(_.callback=u),s=Xa(i,_,f),s!==null&&(qi(s,i,f),wc(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Hi(),f=Wa(u);f.tag=2,s!=null&&(f.callback=s),s=Xa(i,f,u),s!==null&&(qi(s,i,u),wc(s,i,u))}};function D0(i,s,u,f,_,y,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,R):s.prototype&&s.prototype.isPureReactComponent?!si(u,f)||!si(_,y):!0}function V0(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&Ip.enqueueReplaceState(s,s.state,null)}function bl(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=T({},u));for(var _ in i)u[_]===void 0&&(u[_]=i[_])}return u}var Pf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function U0(i){Pf(i)}function z0(i){console.error(i)}function j0(i){Pf(i)}function Of(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function B0(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Lp(i,s,u){return u=Wa(u),u.tag=3,u.payload={element:null},u.callback=function(){Of(i,s)},u}function F0(i){return i=Wa(i),i.tag=3,i}function H0(i,s,u,f){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var y=f.value;i.payload=function(){return _(y)},i.callback=function(){B0(s,u,f)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){B0(s,u,f),typeof _!="function"&&(so===null?so=new Set([this]):so.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function xR(i,s,u,f,_){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&gl(s,u,_,!0),u=dr.current,u!==null){switch(u.tag){case 13:return ss===null?tg():u.alternate===null&&$e===0&&($e=3),u.flags&=-257,u.flags|=65536,u.lanes=_,f===sp?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),ng(i,f,_)),!1;case 22:return u.flags|=65536,f===sp?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),ng(i,f,_)),!1}throw Error(r(435,u.tag))}return ng(i,f,_),tg(),!1}if(qt)return s=dr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,f!==xn&&(i=Error(r(422),{cause:f}),Ya(ai(i,u)))):(f!==xn&&(s=Error(r(423),{cause:f}),Ya(ai(s,u))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,f=ai(f,u),_=Lp(i.stateNode,f,_),lp(i,_),$e!==4&&($e=2)),!1;var y=Error(r(520),{cause:f});if(y=ai(y,u),Uc===null?Uc=[y]:Uc.push(y),$e!==4&&($e=2),s===null)return!0;f=ai(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=_&-_,u.lanes|=i,i=Lp(u.stateNode,f,i),lp(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(so===null||!so.has(y))))return u.flags|=65536,_&=-_,u.lanes|=_,_=F0(_),H0(_,i,u,f),lp(u,_),!1}u=u.return}while(u!==null);return!1}var q0=Error(r(461)),Cn=!1;function kn(i,s,u,f){s.child=i===null?k0(s,null,u,f):vu(s,i.child,u,f)}function G0(i,s,u,f,_){u=u.render;var y=s.ref;if("ref"in f){var R={};for(var O in f)O!=="ref"&&(R[O]=f[O])}else R=f;return _l(s),f=dp(i,s,u,R,y,_),O=mp(),i!==null&&!Cn?(pp(i,s,_),Ks(i,s,_)):(qt&&O&&gt(s),s.flags|=1,kn(i,s,f,_),s.child)}function Z0(i,s,u,f,_){if(i===null){var y=u.type;return typeof y=="function"&&!lu(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,Y0(i,s,y,f,_)):(i=dl(u.type,null,f,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Up(i,_)){var R=y.memoizedProps;if(u=u.compare,u=u!==null?u:si,u(R,f)&&i.ref===s.ref)return Ks(i,s,_)}return s.flags|=1,i=hr(y,f),i.ref=s.ref,i.return=s,s.child=i}function Y0(i,s,u,f,_){if(i!==null){var y=i.memoizedProps;if(si(y,f)&&i.ref===s.ref)if(Cn=!1,s.pendingProps=f=y,Up(i,_))(i.flags&131072)!==0&&(Cn=!0);else return s.lanes=i.lanes,Ks(i,s,_)}return Pp(i,s,u,f,_)}function K0(i,s,u){var f=s.pendingProps,_=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=y!==null?y.baseLanes|u:u,i!==null){for(_=s.child=i.child,y=0;_!==null;)y=y|_.lanes|_.childLanes,_=_.sibling;s.childLanes=y&~f}else s.childLanes=0,s.child=null;return W0(i,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&gf(s,y!==null?y.cachePool:null),y!==null?Yy(s,y):cp(),N0(s);else return s.lanes=s.childLanes=536870912,W0(i,s,y!==null?y.baseLanes|u:u,u)}else y!==null?(gf(s,y.cachePool),Yy(s,y),Ja(),s.memoizedState=null):(i!==null&&gf(s,null),cp(),Ja());return kn(i,s,_,u),s.child}function W0(i,s,u,f){var _=rp();return _=_===null?null:{parent:vn._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},i!==null&&gf(s,null),cp(),N0(s),i!==null&&gl(i,s,f,!0),null}function Mf(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function Pp(i,s,u,f,_){return _l(s),u=dp(i,s,u,f,void 0,_),f=mp(),i!==null&&!Cn?(pp(i,s,_),Ks(i,s,_)):(qt&&f&&gt(s),s.flags|=1,kn(i,s,u,_),s.child)}function X0(i,s,u,f,_,y){return _l(s),s.updateQueue=null,u=Wy(s,f,u,_),Ky(i),f=mp(),i!==null&&!Cn?(pp(i,s,y),Ks(i,s,y)):(qt&&f&&gt(s),s.flags|=1,kn(i,s,u,y),s.child)}function Q0(i,s,u,f,_){if(_l(s),s.stateNode===null){var y=qs,R=u.contextType;typeof R=="object"&&R!==null&&(y=Yn(R)),y=new u(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ip,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},ap(s),R=u.contextType,y.context=typeof R=="object"&&R!==null?Yn(R):qs,y.state=s.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Rp(s,u,R,f),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&Ip.enqueueReplaceState(y,y.state,null),Sc(s,f,y,_),Ac(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){y=s.stateNode;var O=s.memoizedProps,F=bl(u,O);y.props=F;var et=y.context,ut=u.contextType;R=qs,typeof ut=="object"&&ut!==null&&(R=Yn(ut));var mt=u.getDerivedStateFromProps;ut=typeof mt=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ut||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||et!==R)&&V0(s,y,f,R),Ka=!1;var it=s.memoizedState;y.state=it,Sc(s,f,y,_),Ac(),et=s.memoizedState,O||it!==et||Ka?(typeof mt=="function"&&(Rp(s,u,mt,f),et=s.memoizedState),(F=Ka||D0(s,u,F,f,it,et,R))?(ut||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=et),y.props=f,y.state=et,y.context=R,f=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,op(i,s),R=s.memoizedProps,ut=bl(u,R),y.props=ut,mt=s.pendingProps,it=y.context,et=u.contextType,F=qs,typeof et=="object"&&et!==null&&(F=Yn(et)),O=u.getDerivedStateFromProps,(et=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==mt||it!==F)&&V0(s,y,f,F),Ka=!1,it=s.memoizedState,y.state=it,Sc(s,f,y,_),Ac();var rt=s.memoizedState;R!==mt||it!==rt||Ka||i!==null&&i.dependencies!==null&&mf(i.dependencies)?(typeof O=="function"&&(Rp(s,u,O,f),rt=s.memoizedState),(ut=Ka||D0(s,u,ut,f,it,rt,F)||i!==null&&i.dependencies!==null&&mf(i.dependencies))?(et||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,rt,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,rt,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=rt),y.props=f,y.state=rt,y.context=F,f=ut):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),f=!1)}return y=f,Mf(i,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&f?(s.child=vu(s,i.child,null,_),s.child=vu(s,null,u,_)):kn(i,s,u,_),s.memoizedState=y.state,i=s.child):i=Ks(i,s,_),i}function $0(i,s,u,f){return Za(),s.flags|=256,kn(i,s,u,f),s.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mp(i){return{baseLanes:i,cachePool:zy()}}function kp(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=mr),i}function J0(i,s,u){var f=s.pendingProps,_=!1,y=(s.flags&128)!==0,R;if((R=y)||(R=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),R&&(_=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,i===null){if(qt){if(_?$a(s):Ja(),qt){var O=Ot,F;if(F=O){t:{for(F=O,O=Ze;F.nodeType!==8;){if(!O){O=null;break t}if(F=zr(F.nextSibling),F===null){O=null;break t}}O=F}O!==null?(s.memoizedState={dehydrated:O,treeContext:S!==null?{id:P,overflow:B}:null,retryLane:536870912,hydrationErrors:null},F=li(18,null,null,0),F.stateNode=O,F.return=s,s.child=F,Lt=s,Ot=null,F=!0):F=!1}F||mi(s)}if(O=s.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return _g(O)?s.lanes=32:s.lanes=536870912,null;Ys(s)}return O=f.children,f=f.fallback,_?(Ja(),_=s.mode,O=kf({mode:"hidden",children:O},_),f=is(f,_,u,null),O.return=s,f.return=s,O.sibling=f,s.child=O,_=s.child,_.memoizedState=Mp(u),_.childLanes=kp(i,R,u),s.memoizedState=Op,f):($a(s),Np(s,O))}if(F=i.memoizedState,F!==null&&(O=F.dehydrated,O!==null)){if(y)s.flags&256?($a(s),s.flags&=-257,s=Dp(i,s,u)):s.memoizedState!==null?(Ja(),s.child=i.child,s.flags|=128,s=null):(Ja(),_=f.fallback,O=s.mode,f=kf({mode:"visible",children:f.children},O),_=is(_,O,u,null),_.flags|=2,f.return=s,_.return=s,f.sibling=_,s.child=f,vu(s,i.child,null,u),f=s.child,f.memoizedState=Mp(u),f.childLanes=kp(i,R,u),s.memoizedState=Op,s=_);else if($a(s),_g(O)){if(R=O.nextSibling&&O.nextSibling.dataset,R)var et=R.dgst;R=et,f=Error(r(419)),f.stack="",f.digest=R,Ya({value:f,source:null,stack:null}),s=Dp(i,s,u)}else if(Cn||gl(i,s,u,!1),R=(u&i.childLanes)!==0,Cn||R){if(R=Ve,R!==null&&(f=u&-u,f=(f&42)!==0?1:Gr(f),f=(f&(R.suspendedLanes|u))!==0?0:f,f!==0&&f!==F.retryLane))throw F.retryLane=f,qa(i,f),qi(R,i,f),q0;O.data==="$?"||tg(),s=Dp(i,s,u)}else O.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=F.treeContext,Ot=zr(O.nextSibling),Lt=s,qt=!0,De=null,Ze=!1,i!==null&&(p[b++]=P,p[b++]=B,p[b++]=S,P=i.id,B=i.overflow,S=s),s=Np(s,f.children),s.flags|=4096);return s}return _?(Ja(),_=f.fallback,O=s.mode,F=i.child,et=F.sibling,f=hr(F,{mode:"hidden",children:f.children}),f.subtreeFlags=F.subtreeFlags&65011712,et!==null?_=hr(et,_):(_=is(_,O,u,null),_.flags|=2),_.return=s,f.return=s,f.sibling=_,s.child=f,f=_,_=s.child,O=i.child.memoizedState,O===null?O=Mp(u):(F=O.cachePool,F!==null?(et=vn._currentValue,F=F.parent!==et?{parent:et,pool:et}:F):F=zy(),O={baseLanes:O.baseLanes|u,cachePool:F}),_.memoizedState=O,_.childLanes=kp(i,R,u),s.memoizedState=Op,f):($a(s),u=i.child,i=u.sibling,u=hr(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(R=s.deletions,R===null?(s.deletions=[i],s.flags|=16):R.push(i)),s.child=u,s.memoizedState=null,u)}function Np(i,s){return s=kf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function kf(i,s){return i=li(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Dp(i,s,u){return vu(s,i.child,null,u),i=Np(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function tb(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),pl(i.return,s,u)}function Vp(i,s,u,f,_){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:_}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=_)}function eb(i,s,u){var f=s.pendingProps,_=f.revealOrder,y=f.tail;if(kn(i,s,f.children,u),f=yn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tb(i,u,s);else if(i.tag===19)tb(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(_t(yn,f),_){case"forwards":for(u=s.child,_=null;u!==null;)i=u.alternate,i!==null&&Lf(i)===null&&(_=u),u=u.sibling;u=_,u===null?(_=s.child,s.child=null):(_=u.sibling,u.sibling=null),Vp(s,!1,_,u,y);break;case"backwards":for(u=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Lf(i)===null){s.child=_;break}i=_.sibling,_.sibling=u,u=_,_=i}Vp(s,!0,u,null,y);break;case"together":Vp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ks(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),ro|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(gl(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=hr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=hr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Up(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&mf(i)))}function CR(i,s,u){switch(s.tag){case 3:oe(s,s.stateNode.containerInfo),rs(s,vn,i.memoizedState.cache),Za();break;case 27:case 5:Xi(s);break;case 4:oe(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?($a(s),s.flags|=128,null):(u&s.child.childLanes)!==0?J0(i,s,u):($a(s),i=Ks(i,s,u),i!==null?i.sibling:null);$a(s);break;case 19:var _=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(gl(i,s,u,!1),f=(u&s.childLanes)!==0),_){if(f)return eb(i,s,u);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),_t(yn,yn.current),f)break;return null;case 22:case 23:return s.lanes=0,K0(i,s,u);case 24:rs(s,vn,i.memoizedState.cache)}return Ks(i,s,u)}function nb(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Cn=!0;else{if(!Up(i,u)&&(s.flags&128)===0)return Cn=!1,CR(i,s,u);Cn=(i.flags&131072)!==0}else Cn=!1,qt&&(s.flags&1048576)!==0&&st(s,h,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var f=s.elementType,_=f._init;if(f=_(f._payload),s.type=f,typeof f=="function")lu(f)?(i=bl(f,i),s.tag=1,s=Q0(null,s,f,i,u)):(s.tag=0,s=Pp(null,s,f,i,u));else{if(f!=null){if(_=f.$$typeof,_===ct){s.tag=11,s=G0(null,s,f,i,u);break t}else if(_===G){s.tag=14,s=Z0(null,s,f,i,u);break t}}throw s=Ce(f)||f,Error(r(306,s,""))}}return s;case 0:return Pp(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,_=bl(f,s.pendingProps),Q0(i,s,f,_,u);case 3:t:{if(oe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var y=s.memoizedState;_=y.element,op(i,s),Sc(s,f,null,u);var R=s.memoizedState;if(f=R.cache,rs(s,vn,f),f!==y.cache&&cu(s,[vn],u,!0),Ac(),f=R.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=$0(i,s,f,u);break t}else if(f!==_){_=ai(Error(r(424)),s),Ya(_),s=$0(i,s,f,u);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ot=zr(i.firstChild),Lt=s,qt=!0,De=null,Ze=!0,u=k0(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Za(),f===_){s=Ks(i,s,u);break t}kn(i,s,f,u)}s=s.child}return s;case 26:return Mf(i,s),i===null?(u=aT(s.type,null,s.pendingProps,null))?s.memoizedState=u:qt||(u=s.type,i=s.pendingProps,f=Kf(wt.current).createElement(u),f[rn]=s,f[Xe]=i,Dn(f,u,i),Ge(f),s.stateNode=f):s.memoizedState=aT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Xi(s),i===null&&qt&&(f=s.stateNode=iT(s.type,s.pendingProps,wt.current),Lt=s,Ze=!0,_=Ot,lo(s.type)?(vg=_,Ot=zr(f.firstChild)):Ot=_),kn(i,s,s.pendingProps.children,u),Mf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&qt&&((_=f=Ot)&&(f=eI(f,s.type,s.pendingProps,Ze),f!==null?(s.stateNode=f,Lt=s,Ot=zr(f.firstChild),Ze=!1,_=!0):_=!1),_||mi(s)),Xi(s),_=s.type,y=s.pendingProps,R=i!==null?i.memoizedProps:null,f=y.children,mg(_,y)?f=null:R!==null&&mg(_,R)&&(s.flags|=32),s.memoizedState!==null&&(_=dp(i,s,yR,null,null,u),Yc._currentValue=_),Mf(i,s),kn(i,s,f,u),s.child;case 6:return i===null&&qt&&((i=u=Ot)&&(u=nI(u,s.pendingProps,Ze),u!==null?(s.stateNode=u,Lt=s,Ot=null,i=!0):i=!1),i||mi(s)),null;case 13:return J0(i,s,u);case 4:return oe(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=vu(s,null,f,u):kn(i,s,f,u),s.child;case 11:return G0(i,s,s.type,s.pendingProps,u);case 7:return kn(i,s,s.pendingProps,u),s.child;case 8:return kn(i,s,s.pendingProps.children,u),s.child;case 12:return kn(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,rs(s,s.type,f.value),kn(i,s,f.children,u),s.child;case 9:return _=s.type._context,f=s.pendingProps.children,_l(s),_=Yn(_),f=f(_),s.flags|=1,kn(i,s,f,u),s.child;case 14:return Z0(i,s,s.type,s.pendingProps,u);case 15:return Y0(i,s,s.type,s.pendingProps,u);case 19:return eb(i,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},i===null?(u=kf(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=hr(i.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return K0(i,s,u);case 24:return _l(s),f=Yn(vn),i===null?(_=rp(),_===null&&(_=Ve,y=np(),_.pooledCache=y,y.refCount++,y!==null&&(_.pooledCacheLanes|=u),_=y),s.memoizedState={parent:f,cache:_},ap(s),rs(s,vn,_)):((i.lanes&u)!==0&&(op(i,s),Sc(s,null,null,u),Ac()),_=i.memoizedState,y=s.memoizedState,_.parent!==f?(_={parent:f,cache:f},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),rs(s,vn,f)):(f=y.cache,rs(s,vn,f),f!==_.cache&&cu(s,[vn],u,!0))),kn(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ws(i){i.flags|=4}function ib(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hT(s)){if(s=dr.current,s!==null&&((ce&4194048)===ce?ss!==null:(ce&62914560)!==ce&&(ce&536870912)===0||s!==ss))throw Ec=sp,jy;i.flags|=8192}}function Nf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?wa():536870912,i.lanes|=s,Eu|=s)}function Oc(i,s){if(!qt)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ye(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var _=i.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags&65011712,f|=_.flags&65011712,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)u|=_.lanes|_.childLanes,f|=_.subtreeFlags,f|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function RR(i,s,u){var f=s.pendingProps;switch(St(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(s),null;case 1:return Ye(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Vr(vn),wi(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ml(s)?Ws(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,df())),Ye(s),null;case 26:return u=s.memoizedState,i===null?(Ws(s),u!==null?(Ye(s),ib(s,u)):(Ye(s),s.flags&=-16777217)):u?u!==i.memoizedState?(Ws(s),Ye(s),ib(s,u)):(Ye(s),s.flags&=-16777217):(i.memoizedProps!==f&&Ws(s),Ye(s),s.flags&=-16777217),null;case 27:Ai(s),u=wt.current;var _=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Ws(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Ye(s),null}i=At.current,ml(s)?hf(s):(i=iT(_,f,u),s.stateNode=i,Ws(s))}return Ye(s),null;case 5:if(Ai(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Ws(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Ye(s),null}if(i=At.current,ml(s))hf(s);else{switch(_=Kf(wt.current),i){case 1:i=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?_.createElement(u,{is:f.is}):_.createElement(u)}}i[rn]=s,i[Xe]=f;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)i.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=i;t:switch(Dn(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ws(s)}}return Ye(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Ws(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=wt.current,ml(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,_=Lt,_!==null)switch(_.tag){case 27:case 5:f=_.memoizedProps}i[rn]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Xb(i.nodeValue,u)),i||mi(s)}else i=Kf(i).createTextNode(f),i[rn]=s,s.stateNode=i}return Ye(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=ml(s),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[rn]=s}else Za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ye(s),_=!1}else _=df(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(Ys(s),s):(Ys(s),null)}if(Ys(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=s.child,_=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(_=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==_&&(f.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),Nf(s,s.updateQueue),Ye(s),null;case 4:return wi(),i===null&&ug(s.stateNode.containerInfo),Ye(s),null;case 10:return Vr(s.type),Ye(s),null;case 19:if(bt(yn),_=s.memoizedState,_===null)return Ye(s),null;if(f=(s.flags&128)!==0,y=_.rendering,y===null)if(f)Oc(_,!1);else{if($e!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Lf(i),y!==null){for(s.flags|=128,Oc(_,!1),i=y.updateQueue,s.updateQueue=i,Nf(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)_c(u,i),u=u.sibling;return _t(yn,yn.current&1|2),s.child}i=i.sibling}_.tail!==null&&jn()>Uf&&(s.flags|=128,f=!0,Oc(_,!1),s.lanes=4194304)}else{if(!f)if(i=Lf(y),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Nf(s,i),Oc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!y.alternate&&!qt)return Ye(s),null}else 2*jn()-_.renderingStartTime>Uf&&u!==536870912&&(s.flags|=128,f=!0,Oc(_,!1),s.lanes=4194304);_.isBackwards?(y.sibling=s.child,s.child=y):(i=_.last,i!==null?i.sibling=y:s.child=y,_.last=y)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=jn(),s.sibling=null,i=yn.current,_t(yn,f?i&1|2:i&1),s):(Ye(s),null);case 22:case 23:return Ys(s),hp(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(Ye(s),s.subtreeFlags&6&&(s.flags|=8192)):Ye(s),u=s.updateQueue,u!==null&&Nf(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&bt(vl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Vr(vn),Ye(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function IR(i,s){switch(St(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Vr(vn),wi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ai(s),null;case 13:if(Ys(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Za()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return bt(yn),null;case 4:return wi(),null;case 10:return Vr(s.type),null;case 22:case 23:return Ys(s),hp(),i!==null&&bt(vl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Vr(vn),null;case 25:return null;default:return null}}function rb(i,s){switch(St(s),s.tag){case 3:Vr(vn),wi();break;case 26:case 27:case 5:Ai(s);break;case 4:wi();break;case 13:Ys(s);break;case 19:bt(yn);break;case 10:Vr(s.type);break;case 22:case 23:Ys(s),hp(),i!==null&&bt(vl);break;case 24:Vr(vn)}}function Mc(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&i)===i){f=void 0;var y=u.create,R=u.inst;f=y(),R.destroy=f}u=u.next}while(u!==_)}}catch(O){Ie(s,s.return,O)}}function to(i,s,u){try{var f=s.updateQueue,_=f!==null?f.lastEffect:null;if(_!==null){var y=_.next;f=y;do{if((f.tag&i)===i){var R=f.inst,O=R.destroy;if(O!==void 0){R.destroy=void 0,_=s;var F=u,et=O;try{et()}catch(ut){Ie(_,F,ut)}}}f=f.next}while(f!==y)}}catch(ut){Ie(s,s.return,ut)}}function sb(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{Zy(s,u)}catch(f){Ie(i,i.return,f)}}}function ab(i,s,u){u.props=bl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Ie(i,s,f)}}function kc(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(_){Ie(i,s,_)}}function as(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(_){Ie(i,s,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Ie(i,s,_)}else u.current=null}function ob(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(_){Ie(i,i.return,_)}}function zp(i,s,u){try{var f=i.stateNode;XR(f,i.type,u,s),f[Xe]=s}catch(_){Ie(i,i.return,_)}}function lb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&lo(i.type)||i.tag===4}function jp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||lb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&lo(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bp(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Yf));else if(f!==4&&(f===27&&lo(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(Bp(i,s,u),i=i.sibling;i!==null;)Bp(i,s,u),i=i.sibling}function Df(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&lo(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Df(i,s,u),i=i.sibling;i!==null;)Df(i,s,u),i=i.sibling}function ub(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);Dn(s,f,u),s[rn]=i,s[Xe]=u}catch(y){Ie(i,i.return,y)}}var Xs=!1,on=!1,Fp=!1,cb=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function LR(i,s){if(i=i.containerInfo,fg=td,i=ol(i),ll(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var _=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var R=0,O=-1,F=-1,et=0,ut=0,mt=i,it=null;e:for(;;){for(var rt;mt!==u||_!==0&&mt.nodeType!==3||(O=R+_),mt!==y||f!==0&&mt.nodeType!==3||(F=R+f),mt.nodeType===3&&(R+=mt.nodeValue.length),(rt=mt.firstChild)!==null;)it=mt,mt=rt;for(;;){if(mt===i)break e;if(it===u&&++et===_&&(O=R),it===y&&++ut===f&&(F=R),(rt=mt.nextSibling)!==null)break;mt=it,it=mt.parentNode}mt=rt}u=O===-1||F===-1?null:{start:O,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(dg={focusedElem:i,selectionRange:u},td=!1,Rn=s;Rn!==null;)if(s=Rn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Rn=i;else for(;Rn!==null;){switch(s=Rn,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,_=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var Ht=bl(u.type,_,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(Ht,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ut){Ie(u,u.return,Ut)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)gg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":gg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Rn=i;break}Rn=s.return}}function hb(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:eo(i,u),f&4&&Mc(5,u);break;case 1:if(eo(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(R){Ie(u,u.return,R)}else{var _=bl(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(_,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Ie(u,u.return,R)}}f&64&&sb(u),f&512&&kc(u,u.return);break;case 3:if(eo(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Zy(i,s)}catch(R){Ie(u,u.return,R)}}break;case 27:s===null&&f&4&&ub(u);case 26:case 5:eo(i,u),s===null&&f&4&&ob(u),f&512&&kc(u,u.return);break;case 12:eo(i,u);break;case 13:eo(i,u),f&4&&mb(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=zR.bind(null,u),iI(i,u))));break;case 22:if(f=u.memoizedState!==null||Xs,!f){s=s!==null&&s.memoizedState!==null||on,_=Xs;var y=on;Xs=f,(on=s)&&!y?no(i,u,(u.subtreeFlags&8772)!==0):eo(i,u),Xs=_,on=y}break;case 30:break;default:eo(i,u)}}function fb(i){var s=i.alternate;s!==null&&(i.alternate=null,fb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Sr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qe=null,gi=!1;function Qs(i,s,u){for(u=u.child;u!==null;)db(i,s,u),u=u.sibling}function db(i,s,u){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(Oe,u)}catch{}switch(u.tag){case 26:on||as(u,s),Qs(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:on||as(u,s);var f=qe,_=gi;lo(u.type)&&(qe=u.stateNode,gi=!1),Qs(i,s,u),Hc(u.stateNode),qe=f,gi=_;break;case 5:on||as(u,s);case 6:if(f=qe,_=gi,qe=null,Qs(i,s,u),qe=f,gi=_,qe!==null)if(gi)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(u.stateNode)}catch(y){Ie(u,s,y)}else try{qe.removeChild(u.stateNode)}catch(y){Ie(u,s,y)}break;case 18:qe!==null&&(gi?(i=qe,eT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Qc(i)):eT(qe,u.stateNode));break;case 4:f=qe,_=gi,qe=u.stateNode.containerInfo,gi=!0,Qs(i,s,u),qe=f,gi=_;break;case 0:case 11:case 14:case 15:on||to(2,u,s),on||to(4,u,s),Qs(i,s,u);break;case 1:on||(as(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&ab(u,s,f)),Qs(i,s,u);break;case 21:Qs(i,s,u);break;case 22:on=(f=on)||u.memoizedState!==null,Qs(i,s,u),on=f;break;default:Qs(i,s,u)}}function mb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qc(i)}catch(u){Ie(s,s.return,u)}}function PR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new cb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new cb),s;default:throw Error(r(435,i.tag))}}function Hp(i,s){var u=PR(i);s.forEach(function(f){var _=jR.bind(null,i,f);u.has(f)||(u.add(f),f.then(_,_))})}function ji(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var _=u[f],y=i,R=s,O=R;t:for(;O!==null;){switch(O.tag){case 27:if(lo(O.type)){qe=O.stateNode,gi=!1;break t}break;case 5:qe=O.stateNode,gi=!1;break t;case 3:case 4:qe=O.stateNode.containerInfo,gi=!0;break t}O=O.return}if(qe===null)throw Error(r(160));db(y,R,_),qe=null,gi=!1,y=_.alternate,y!==null&&(y.return=null),_.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)pb(s,i),s=s.sibling}var Ur=null;function pb(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ji(s,i),Bi(i),f&4&&(to(3,i,i.return),Mc(3,i),to(5,i,i.return));break;case 1:ji(s,i),Bi(i),f&512&&(on||u===null||as(u,u.return)),f&64&&Xs&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var _=Ur;if(ji(s,i),Bi(i),f&512&&(on||u===null||as(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){t:{f=i.type,u=i.memoizedProps,_=_.ownerDocument||_;e:switch(f){case"title":y=_.getElementsByTagName("title")[0],(!y||y[Yr]||y[rn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=_.createElement(f),_.head.insertBefore(y,_.querySelector("head > title"))),Dn(y,f,u),y[rn]=i,Ge(y),f=y;break t;case"link":var R=uT("link","href",_).get(f+(u.href||""));if(R){for(var O=0;O<R.length;O++)if(y=R[O],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(O,1);break e}}y=_.createElement(f),Dn(y,f,u),_.head.appendChild(y);break;case"meta":if(R=uT("meta","content",_).get(f+(u.content||""))){for(O=0;O<R.length;O++)if(y=R[O],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(O,1);break e}}y=_.createElement(f),Dn(y,f,u),_.head.appendChild(y);break;default:throw Error(r(468,f))}y[rn]=i,Ge(y),f=y}i.stateNode=f}else cT(_,i.type,i.stateNode);else i.stateNode=lT(_,f,i.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?cT(_,i.type,i.stateNode):lT(_,f,i.memoizedProps)):f===null&&i.stateNode!==null&&zp(i,i.memoizedProps,u.memoizedProps)}break;case 27:ji(s,i),Bi(i),f&512&&(on||u===null||as(u,u.return)),u!==null&&f&4&&zp(i,i.memoizedProps,u.memoizedProps);break;case 5:if(ji(s,i),Bi(i),f&512&&(on||u===null||as(u,u.return)),i.flags&32){_=i.stateNode;try{wn(_,"")}catch(rt){Ie(i,i.return,rt)}}f&4&&i.stateNode!=null&&(_=i.memoizedProps,zp(i,_,u!==null?u.memoizedProps:_)),f&1024&&(Fp=!0);break;case 6:if(ji(s,i),Bi(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(rt){Ie(i,i.return,rt)}}break;case 3:if(Qf=null,_=Ur,Ur=Wf(s.containerInfo),ji(s,i),Ur=_,Bi(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Qc(s.containerInfo)}catch(rt){Ie(i,i.return,rt)}Fp&&(Fp=!1,gb(i));break;case 4:f=Ur,Ur=Wf(i.stateNode.containerInfo),ji(s,i),Bi(i),Ur=f;break;case 12:ji(s,i),Bi(i);break;case 13:ji(s,i),Bi(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Wp=jn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Hp(i,f)));break;case 22:_=i.memoizedState!==null;var F=u!==null&&u.memoizedState!==null,et=Xs,ut=on;if(Xs=et||_,on=ut||F,ji(s,i),on=ut,Xs=et,Bi(i),f&8192)t:for(s=i.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(u===null||F||Xs||on||Tl(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){F=u=s;try{if(y=F.stateNode,_)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{O=F.stateNode;var mt=F.memoizedProps.style,it=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;O.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(rt){Ie(F,F.return,rt)}}}else if(s.tag===6){if(u===null){F=s;try{F.stateNode.nodeValue=_?"":F.memoizedProps}catch(rt){Ie(F,F.return,rt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Hp(i,u))));break;case 19:ji(s,i),Bi(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Hp(i,f)));break;case 30:break;case 21:break;default:ji(s,i),Bi(i)}}function Bi(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(lb(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,y=jp(i);Df(i,y,_);break;case 5:var R=u.stateNode;u.flags&32&&(wn(R,""),u.flags&=-33);var O=jp(i);Df(i,O,R);break;case 3:case 4:var F=u.stateNode.containerInfo,et=jp(i);Bp(i,et,F);break;default:throw Error(r(161))}}catch(ut){Ie(i,i.return,ut)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function gb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;gb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function eo(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hb(i,s.alternate,s),s=s.sibling}function Tl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:to(4,s,s.return),Tl(s);break;case 1:as(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&ab(s,s.return,u),Tl(s);break;case 27:Hc(s.stateNode);case 26:case 5:as(s,s.return),Tl(s);break;case 22:s.memoizedState===null&&Tl(s);break;case 30:Tl(s);break;default:Tl(s)}i=i.sibling}}function no(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,_=i,y=s,R=y.flags;switch(y.tag){case 0:case 11:case 15:no(_,y,u),Mc(4,y);break;case 1:if(no(_,y,u),f=y,_=f.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(et){Ie(f,f.return,et)}if(f=y,_=f.updateQueue,_!==null){var O=f.stateNode;try{var F=_.shared.hiddenCallbacks;if(F!==null)for(_.shared.hiddenCallbacks=null,_=0;_<F.length;_++)Gy(F[_],O)}catch(et){Ie(f,f.return,et)}}u&&R&64&&sb(y),kc(y,y.return);break;case 27:ub(y);case 26:case 5:no(_,y,u),u&&f===null&&R&4&&ob(y),kc(y,y.return);break;case 12:no(_,y,u);break;case 13:no(_,y,u),u&&R&4&&mb(_,y);break;case 22:y.memoizedState===null&&no(_,y,u),kc(y,y.return);break;case 30:break;default:no(_,y,u)}s=s.sibling}}function qp(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&yc(u))}function Gp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&yc(i))}function os(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_b(i,s,u,f),s=s.sibling}function _b(i,s,u,f){var _=s.flags;switch(s.tag){case 0:case 11:case 15:os(i,s,u,f),_&2048&&Mc(9,s);break;case 1:os(i,s,u,f);break;case 3:os(i,s,u,f),_&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&yc(i)));break;case 12:if(_&2048){os(i,s,u,f),i=s.stateNode;try{var y=s.memoizedProps,R=y.id,O=y.onPostCommit;typeof O=="function"&&O(R,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){Ie(s,s.return,F)}}else os(i,s,u,f);break;case 13:os(i,s,u,f);break;case 23:break;case 22:y=s.stateNode,R=s.alternate,s.memoizedState!==null?y._visibility&2?os(i,s,u,f):Nc(i,s):y._visibility&2?os(i,s,u,f):(y._visibility|=2,yu(i,s,u,f,(s.subtreeFlags&10256)!==0)),_&2048&&qp(R,s);break;case 24:os(i,s,u,f),_&2048&&Gp(s.alternate,s);break;default:os(i,s,u,f)}}function yu(i,s,u,f,_){for(_=_&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,R=s,O=u,F=f,et=R.flags;switch(R.tag){case 0:case 11:case 15:yu(y,R,O,F,_),Mc(8,R);break;case 23:break;case 22:var ut=R.stateNode;R.memoizedState!==null?ut._visibility&2?yu(y,R,O,F,_):Nc(y,R):(ut._visibility|=2,yu(y,R,O,F,_)),_&&et&2048&&qp(R.alternate,R);break;case 24:yu(y,R,O,F,_),_&&et&2048&&Gp(R.alternate,R);break;default:yu(y,R,O,F,_)}s=s.sibling}}function Nc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,_=f.flags;switch(f.tag){case 22:Nc(u,f),_&2048&&qp(f.alternate,f);break;case 24:Nc(u,f),_&2048&&Gp(f.alternate,f);break;default:Nc(u,f)}s=s.sibling}}var Dc=8192;function bu(i){if(i.subtreeFlags&Dc)for(i=i.child;i!==null;)vb(i),i=i.sibling}function vb(i){switch(i.tag){case 26:bu(i),i.flags&Dc&&i.memoizedState!==null&&gI(Ur,i.memoizedState,i.memoizedProps);break;case 5:bu(i);break;case 3:case 4:var s=Ur;Ur=Wf(i.stateNode.containerInfo),bu(i),Ur=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Dc,Dc=16777216,bu(i),Dc=s):bu(i));break;default:bu(i)}}function yb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Vc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Rn=f,Tb(f,i)}yb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bb(i),i=i.sibling}function bb(i){switch(i.tag){case 0:case 11:case 15:Vc(i),i.flags&2048&&to(9,i,i.return);break;case 3:Vc(i);break;case 12:Vc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Vf(i)):Vc(i);break;default:Vc(i)}}function Vf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Rn=f,Tb(f,i)}yb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:to(8,s,s.return),Vf(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Vf(s));break;default:Vf(s)}i=i.sibling}}function Tb(i,s){for(;Rn!==null;){var u=Rn;switch(u.tag){case 0:case 11:case 15:to(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:yc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Rn=f;else t:for(u=i;Rn!==null;){f=Rn;var _=f.sibling,y=f.return;if(fb(f),f===u){Rn=null;break t}if(_!==null){_.return=y,Rn=_;break t}Rn=y}}}var OR={getCacheForType:function(i){var s=Yn(vn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},MR=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ve=null,te=null,ce=0,be=0,Fi=null,io=!1,Tu=!1,Zp=!1,$s=0,$e=0,ro=0,El=0,Yp=0,mr=0,Eu=0,Uc=null,_i=null,Kp=!1,Wp=0,Uf=1/0,zf=null,so=null,Nn=0,ao=null,wu=null,Au=0,Xp=0,Qp=null,Eb=null,zc=0,$p=null;function Hi(){if((ye&2)!==0&&ce!==0)return ce&-ce;if(ot.T!==null){var i=hu;return i!==0?i:sg()}return Zr()}function wb(){mr===0&&(mr=(ce&536870912)===0||qt?Yo():536870912);var i=dr.current;return i!==null&&(i.flags|=32),mr}function qi(i,s,u){(i===Ve&&(be===2||be===9)||i.cancelPendingCommit!==null)&&(Su(i,0),oo(i,ce,mr,!1)),$i(i,u),((ye&2)===0||i!==Ve)&&(i===Ve&&((ye&2)===0&&(El|=u),$e===4&&oo(i,ce,mr,!1)),ls(i))}function Ab(i,s,u){if((ye&6)!==0)throw Error(r(327));var f=!u&&(s&124)===0&&(s&i.expiredLanes)===0||xi(i,s),_=f?DR(i,s):eg(i,s,!0),y=f;do{if(_===0){Tu&&!f&&oo(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!kR(u)){_=eg(i,s,!1),y=!1;continue}if(_===2){if(y=s,i.errorRecoveryDisabledLanes&y)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;t:{var O=i;_=Uc;var F=O.current.memoizedState.isDehydrated;if(F&&(Su(O,R).flags|=256),R=eg(O,R,!1),R!==2){if(Zp&&!F){O.errorRecoveryDisabledLanes|=y,El|=y,_=4;break t}y=_i,_i=_,y!==null&&(_i===null?_i=y:_i.push.apply(_i,y))}_=R}if(y=!1,_!==2)continue}}if(_===1){Su(i,0),oo(i,s,0,!0);break}t:{switch(f=i,y=_,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:oo(f,s,mr,!io);break t;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(_=Wp+300-jn(),10<_)){if(oo(f,s,mr,!io),Ea(f,0,!0)!==0)break t;f.timeoutHandle=Jb(Sb.bind(null,f,u,_i,zf,Kp,s,mr,El,Eu,io,y,2,-0,0),_);break t}Sb(f,u,_i,zf,Kp,s,mr,El,Eu,io,y,0,-0,0)}}break}while(!0);ls(i)}function Sb(i,s,u,f,_,y,R,O,F,et,ut,mt,it,rt){if(i.timeoutHandle=-1,mt=s.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:pI},vb(s),mt=_I(),mt!==null)){i.cancelPendingCommit=mt(Ob.bind(null,i,s,y,u,f,_,R,O,F,ut,1,it,rt)),oo(i,y,R,!et);return}Ob(i,s,y,u,f,_,R,O,F)}function kR(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var _=u[f],y=_.getSnapshot;_=_.value;try{if(!ri(y(),_))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oo(i,s,u,f){s&=~Yp,s&=~El,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var _=s;0<_;){var y=31-Tn(_),R=1<<y;f[y]=-1,_&=~R}u!==0&&Ji(i,u,s)}function jf(){return(ye&6)===0?(jc(0),!1):!0}function Jp(){if(te!==null){if(be===0)var i=te.return;else i=te,Dr=fr=null,gp(i),_u=null,Lc=0,i=te;for(;i!==null;)rb(i.alternate,i),i=i.return;te=null}}function Su(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,$R(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Jp(),Ve=i,te=u=hr(i.current,null),ce=s,be=0,Fi=null,io=!1,Tu=xi(i,s),Zp=!1,Eu=mr=Yp=El=ro=$e=0,_i=Uc=null,Kp=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var _=31-Tn(f),y=1<<_;s|=i[_],f&=~y}return $s=s,cl(),u}function xb(i,s){Xt=null,ot.H=Cf,s===Tc||s===_f?(s=Hy(),be=3):s===jy?(s=Hy(),be=4):be=s===q0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fi=s,te===null&&($e=1,Of(i,ai(s,i.current)))}function Cb(){var i=ot.H;return ot.H=Cf,i===null?Cf:i}function Rb(){var i=ot.A;return ot.A=OR,i}function tg(){$e=4,io||(ce&4194048)!==ce&&dr.current!==null||(Tu=!0),(ro&134217727)===0&&(El&134217727)===0||Ve===null||oo(Ve,ce,mr,!1)}function eg(i,s,u){var f=ye;ye|=2;var _=Cb(),y=Rb();(Ve!==i||ce!==s)&&(zf=null,Su(i,s)),s=!1;var R=$e;t:do try{if(be!==0&&te!==null){var O=te,F=Fi;switch(be){case 8:Jp(),R=6;break t;case 3:case 2:case 9:case 6:dr.current===null&&(s=!0);var et=be;if(be=0,Fi=null,xu(i,O,F,et),u&&Tu){R=0;break t}break;default:et=be,be=0,Fi=null,xu(i,O,F,et)}}NR(),R=$e;break}catch(ut){xb(i,ut)}while(!0);return s&&i.shellSuspendCounter++,Dr=fr=null,ye=f,ot.H=_,ot.A=y,te===null&&(Ve=null,ce=0,cl()),R}function NR(){for(;te!==null;)Ib(te)}function DR(i,s){var u=ye;ye|=2;var f=Cb(),_=Rb();Ve!==i||ce!==s?(zf=null,Uf=jn()+500,Su(i,s)):Tu=xi(i,s);t:do try{if(be!==0&&te!==null){s=te;var y=Fi;e:switch(be){case 1:be=0,Fi=null,xu(i,s,y,1);break;case 2:case 9:if(By(y)){be=0,Fi=null,Lb(s);break}s=function(){be!==2&&be!==9||Ve!==i||(be=7),ls(i)},y.then(s,s);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:By(y)?(be=0,Fi=null,Lb(s)):(be=0,Fi=null,xu(i,s,y,7));break;case 5:var R=null;switch(te.tag){case 26:R=te.memoizedState;case 5:case 27:var O=te;if(!R||hT(R)){be=0,Fi=null;var F=O.sibling;if(F!==null)te=F;else{var et=O.return;et!==null?(te=et,Bf(et)):te=null}break e}}be=0,Fi=null,xu(i,s,y,5);break;case 6:be=0,Fi=null,xu(i,s,y,6);break;case 8:Jp(),$e=6;break t;default:throw Error(r(462))}}VR();break}catch(ut){xb(i,ut)}while(!0);return Dr=fr=null,ot.H=f,ot.A=_,ye=u,te!==null?0:(Ve=null,ce=0,cl(),$e)}function VR(){for(;te!==null&&!ba();)Ib(te)}function Ib(i){var s=nb(i.alternate,i,$s);i.memoizedProps=i.pendingProps,s===null?Bf(i):te=s}function Lb(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=X0(u,s,s.pendingProps,s.type,void 0,ce);break;case 11:s=X0(u,s,s.pendingProps,s.type.render,s.ref,ce);break;case 5:gp(s);default:rb(u,s),s=te=_c(s,$s),s=nb(u,s,$s)}i.memoizedProps=i.pendingProps,s===null?Bf(i):te=s}function xu(i,s,u,f){Dr=fr=null,gp(s),_u=null,Lc=0;var _=s.return;try{if(xR(i,_,s,u,ce)){$e=1,Of(i,ai(u,i.current)),te=null;return}}catch(y){if(_!==null)throw te=_,y;$e=1,Of(i,ai(u,i.current)),te=null;return}s.flags&32768?(qt||f===1?i=!0:Tu||(ce&536870912)!==0?i=!1:(io=i=!0,(f===2||f===9||f===3||f===6)&&(f=dr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Pb(s,i)):Bf(s)}function Bf(i){var s=i;do{if((s.flags&32768)!==0){Pb(s,io);return}i=s.return;var u=RR(s.alternate,s,$s);if(u!==null){te=u;return}if(s=s.sibling,s!==null){te=s;return}te=s=i}while(s!==null);$e===0&&($e=5)}function Pb(i,s){do{var u=IR(i.alternate,i);if(u!==null){u.flags&=32767,te=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){te=i;return}te=i=u}while(i!==null);$e=6,te=null}function Ob(i,s,u,f,_,y,R,O,F){i.cancelPendingCommit=null;do Ff();while(Nn!==0);if((ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=zi,Ko(i,u,y,R,O,F),i===Ve&&(te=Ve=null,ce=0),wu=s,ao=i,Au=u,Xp=y,Qp=_,Eb=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BR(Er,function(){return Vb(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=ot.T,ot.T=null,_=Et.p,Et.p=2,R=ye,ye|=4;try{LR(i,s,u)}finally{ye=R,Et.p=_,ot.T=f}}Nn=1,Mb(),kb(),Nb()}}function Mb(){if(Nn===1){Nn=0;var i=ao,s=wu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=ot.T,ot.T=null;var f=Et.p;Et.p=2;var _=ye;ye|=4;try{pb(s,i);var y=dg,R=ol(i.containerInfo),O=y.focusedElem,F=y.selectionRange;if(R!==O&&O&&O.ownerDocument&&iu(O.ownerDocument.documentElement,O)){if(F!==null&&ll(O)){var et=F.start,ut=F.end;if(ut===void 0&&(ut=et),"selectionStart"in O)O.selectionStart=et,O.selectionEnd=Math.min(ut,O.value.length);else{var mt=O.ownerDocument||document,it=mt&&mt.defaultView||window;if(it.getSelection){var rt=it.getSelection(),Ht=O.textContent.length,Ut=Math.min(F.start,Ht),Se=F.end===void 0?Ut:Math.min(F.end,Ht);!rt.extend&&Ut>Se&&(R=Se,Se=Ut,Ut=R);var X=pc(O,Ut),K=pc(O,Se);if(X&&K&&(rt.rangeCount!==1||rt.anchorNode!==X.node||rt.anchorOffset!==X.offset||rt.focusNode!==K.node||rt.focusOffset!==K.offset)){var J=mt.createRange();J.setStart(X.node,X.offset),rt.removeAllRanges(),Ut>Se?(rt.addRange(J),rt.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),rt.addRange(J))}}}}for(mt=[],rt=O;rt=rt.parentNode;)rt.nodeType===1&&mt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<mt.length;O++){var ht=mt[O];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}td=!!fg,dg=fg=null}finally{ye=_,Et.p=f,ot.T=u}}i.current=s,Nn=2}}function kb(){if(Nn===2){Nn=0;var i=ao,s=wu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=ot.T,ot.T=null;var f=Et.p;Et.p=2;var _=ye;ye|=4;try{hb(i,s.alternate,s)}finally{ye=_,Et.p=f,ot.T=u}}Nn=3}}function Nb(){if(Nn===4||Nn===3){Nn=0,Fo();var i=ao,s=wu,u=Au,f=Eb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Nn=5:(Nn=0,wu=ao=null,Db(i,i.pendingLanes));var _=i.pendingLanes;if(_===0&&(so=null),Aa(u),s=s.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(Oe,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=ot.T,_=Et.p,Et.p=2,ot.T=null;try{for(var y=i.onRecoverableError,R=0;R<f.length;R++){var O=f[R];y(O.value,{componentStack:O.stack})}}finally{ot.T=s,Et.p=_}}(Au&3)!==0&&Ff(),ls(i),_=i.pendingLanes,(u&4194090)!==0&&(_&42)!==0?i===$p?zc++:(zc=0,$p=i):zc=0,jc(0)}}function Db(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,yc(s)))}function Ff(i){return Mb(),kb(),Nb(),Vb()}function Vb(){if(Nn!==5)return!1;var i=ao,s=Xp;Xp=0;var u=Aa(Au),f=ot.T,_=Et.p;try{Et.p=32>u?32:u,ot.T=null,u=Qp,Qp=null;var y=ao,R=Au;if(Nn=0,wu=ao=null,Au=0,(ye&6)!==0)throw Error(r(331));var O=ye;if(ye|=4,bb(y.current),_b(y,y.current,R,u),ye=O,jc(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(Oe,y)}catch{}return!0}finally{Et.p=_,ot.T=f,Db(i,s)}}function Ub(i,s,u){s=ai(u,s),s=Lp(i.stateNode,s,2),i=Xa(i,s,2),i!==null&&($i(i,2),ls(i))}function Ie(i,s,u){if(i.tag===3)Ub(i,i,u);else for(;s!==null;){if(s.tag===3){Ub(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(so===null||!so.has(f))){i=ai(u,i),u=F0(2),f=Xa(s,u,2),f!==null&&(H0(u,f,s,i),$i(f,2),ls(f));break}}s=s.return}}function ng(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new MR;var _=new Set;f.set(s,_)}else _=f.get(s),_===void 0&&(_=new Set,f.set(s,_));_.has(u)||(Zp=!0,_.add(u),i=UR.bind(null,i,s,u),s.then(i,i))}function UR(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ve===i&&(ce&u)===u&&($e===4||$e===3&&(ce&62914560)===ce&&300>jn()-Wp?(ye&2)===0&&Su(i,0):Yp|=u,Eu===ce&&(Eu=0)),ls(i)}function zb(i,s){s===0&&(s=wa()),i=qa(i,s),i!==null&&($i(i,s),ls(i))}function zR(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),zb(i,u)}function jR(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,_=i.memoizedState;_!==null&&(u=_.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),zb(i,u)}function BR(i,s){return Tr(i,s)}var Hf=null,Cu=null,ig=!1,qf=!1,rg=!1,wl=0;function ls(i){i!==Cu&&i.next===null&&(Cu===null?Hf=Cu=i:Cu=Cu.next=i),qf=!0,ig||(ig=!0,HR())}function jc(i,s){if(!rg&&qf){rg=!0;do for(var u=!1,f=Hf;f!==null;){if(i!==0){var _=f.pendingLanes;if(_===0)var y=0;else{var R=f.suspendedLanes,O=f.pingedLanes;y=(1<<31-Tn(42|i)+1)-1,y&=_&~(R&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Hb(f,y))}else y=ce,y=Ea(f,f===Ve?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||xi(f,y)||(u=!0,Hb(f,y));f=f.next}while(u);rg=!1}}function FR(){jb()}function jb(){qf=ig=!1;var i=0;wl!==0&&(QR()&&(i=wl),wl=0);for(var s=jn(),u=null,f=Hf;f!==null;){var _=f.next,y=Bb(f,s);y===0?(f.next=null,u===null?Hf=_:u.next=_,_===null&&(Cu=u)):(u=f,(i!==0||(y&3)!==0)&&(qf=!0)),f=_}jc(i)}function Bb(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,_=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var R=31-Tn(y),O=1<<R,F=_[R];F===-1?((O&u)===0||(O&f)!==0)&&(_[R]=Zo(O,s)):F<=s&&(i.expiredLanes|=O),y&=~O}if(s=Ve,u=ce,u=Ea(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(be===2||be===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Cs(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||xi(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&Cs(f),Aa(u)){case 2:case 8:u=Rs;break;case 32:u=Er;break;case 268435456:u=Is;break;default:u=Er}return f=Fb.bind(null,i),u=Tr(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&Cs(f),i.callbackPriority=2,i.callbackNode=null,2}function Fb(i,s){if(Nn!==0&&Nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Ff()&&i.callbackNode!==u)return null;var f=ce;return f=Ea(i,i===Ve?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Ab(i,f,s),Bb(i,jn()),i.callbackNode!=null&&i.callbackNode===u?Fb.bind(null,i):null)}function Hb(i,s){if(Ff())return null;Ab(i,s,!0)}function HR(){JR(function(){(ye&6)!==0?Tr(Ho,FR):jb()})}function sg(){return wl===0&&(wl=Yo()),wl}function qb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$r(""+i)}function Gb(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function qR(i,s,u,f,_){if(s==="submit"&&u&&u.stateNode===_){var y=qb((_[Xe]||null).action),R=f.submitter;R&&(s=(s=R[Xe]||null)?qb(s.formAction):R.getAttribute("formAction"),s!==null&&(y=s,R=null));var O=new Ds("action","action",null,f,_);i.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(wl!==0){var F=R?Gb(_,R):new FormData(_);Sp(u,{pending:!0,data:F,method:_.method,action:y},null,F)}}else typeof y=="function"&&(O.preventDefault(),F=R?Gb(_,R):new FormData(_),Sp(u,{pending:!0,data:F,method:_.method,action:y},y,F))},currentTarget:_}]})}}for(var ag=0;ag<Bs.length;ag++){var og=Bs[ag],GR=og.toLowerCase(),ZR=og[0].toUpperCase()+og.slice(1);Ui(GR,"on"+ZR)}Ui(lf,"onAnimationEnd"),Ui(Vi,"onAnimationIteration"),Ui(ul,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(tp,"onTransitionRun"),Ui(ou,"onTransitionStart"),Ui(ep,"onTransitionCancel"),Ui(gc,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function Zb(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],_=f.event;f=f.listeners;t:{var y=void 0;if(s)for(var R=f.length-1;0<=R;R--){var O=f[R],F=O.instance,et=O.currentTarget;if(O=O.listener,F!==y&&_.isPropagationStopped())break t;y=O,_.currentTarget=et;try{y(_)}catch(ut){Pf(ut)}_.currentTarget=null,y=F}else for(R=0;R<f.length;R++){if(O=f[R],F=O.instance,et=O.currentTarget,O=O.listener,F!==y&&_.isPropagationStopped())break t;y=O,_.currentTarget=et;try{y(_)}catch(ut){Pf(ut)}_.currentTarget=null,y=F}}}}function ee(i,s){var u=s[Fn];u===void 0&&(u=s[Fn]=new Set);var f=i+"__bubble";u.has(f)||(Yb(s,i,2,!1),u.add(f))}function lg(i,s,u){var f=0;s&&(f|=4),Yb(u,i,f,s)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function ug(i){if(!i[Gf]){i[Gf]=!0,Qo.forEach(function(u){u!=="selectionchange"&&(YR.has(u)||lg(u,!1,i),lg(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Gf]||(s[Gf]=!0,lg("selectionchange",!1,s))}}function Yb(i,s,u,f){switch(_T(s)){case 2:var _=bI;break;case 8:_=TI;break;default:_=wg}u=_.bind(null,s,u,i),_=void 0,!Hn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),f?_!==void 0?i.addEventListener(s,u,{capture:!0,passive:_}):i.addEventListener(s,u,!0):_!==void 0?i.addEventListener(s,u,{passive:_}):i.addEventListener(s,u,!1)}function cg(i,s,u,f,_){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)t:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var O=f.stateNode.containerInfo;if(O===_)break;if(R===4)for(R=f.return;R!==null;){var F=R.tag;if((F===3||F===4)&&R.stateNode.containerInfo===_)return;R=R.return}for(;O!==null;){if(R=Ci(O),R===null)return;if(F=R.tag,F===5||F===6||F===26||F===27){f=y=R;continue t}O=O.parentNode}}f=f.return}ii(function(){var et=y,ut=Mn(u),mt=[];t:{var it=uf.get(i);if(it!==void 0){var rt=Ds,Ht=i;switch(i){case"keypress":if(Ee(u)===0)break t;case"keydown":case"keyup":rt=Na;break;case"focusin":Ht="focus",rt=La;break;case"focusout":Ht="blur",rt=La;break;case"beforeblur":case"afterblur":rt=La;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Jl;break;case lf:case Vi:case ul:rt=Oa;break;case gc:rt=tu;break;case"scroll":case"scrollend":rt=Ql;break;case"wheel":rt=zs;break;case"copy":case"cut":case"paste":rt=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Da;break;case"toggle":case"beforetoggle":rt=or}var Ut=(s&4)!==0,Se=!Ut&&(i==="scroll"||i==="scrollend"),X=Ut?it!==null?it+"Capture":null:it;Ut=[];for(var K=et,J;K!==null;){var ht=K;if(J=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||J===null||X===null||(ht=ue(K,X),ht!=null&&Ut.push(Fc(K,ht,J))),Se)break;K=K.return}0<Ut.length&&(it=new rt(it,Ht,null,u,ut),mt.push({event:it,listeners:Ut}))}}if((s&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",it&&u!==Oi&&(Ht=u.relatedTarget||u.fromElement)&&(Ci(Ht)||Ht[hi]))break t;if((rt||it)&&(it=ut.window===ut?ut:(it=ut.ownerDocument)?it.defaultView||it.parentWindow:window,rt?(Ht=u.relatedTarget||u.toElement,rt=et,Ht=Ht?Ci(Ht):null,Ht!==null&&(Se=l(Ht),Ut=Ht.tag,Ht!==Se||Ut!==5&&Ut!==27&&Ut!==6)&&(Ht=null)):(rt=null,Ht=et),rt!==Ht)){if(Ut=Sn,ht="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ut=Da,ht="onPointerLeave",X="onPointerEnter",K="pointer"),Se=rt==null?it:Pn(rt),J=Ht==null?it:Pn(Ht),it=new Ut(ht,K+"leave",rt,u,ut),it.target=Se,it.relatedTarget=J,ht=null,Ci(ut)===et&&(Ut=new Ut(X,K+"enter",Ht,u,ut),Ut.target=J,Ut.relatedTarget=Se,ht=Ut),Se=ht,rt&&Ht)e:{for(Ut=rt,X=Ht,K=0,J=Ut;J;J=Ru(J))K++;for(J=0,ht=X;ht;ht=Ru(ht))J++;for(;0<K-J;)Ut=Ru(Ut),K--;for(;0<J-K;)X=Ru(X),J--;for(;K--;){if(Ut===X||X!==null&&Ut===X.alternate)break e;Ut=Ru(Ut),X=Ru(X)}Ut=null}else Ut=null;rt!==null&&Kb(mt,it,rt,Ut,!1),Ht!==null&&Se!==null&&Kb(mt,Se,Ht,Ut,!0)}}t:{if(it=et?Pn(et):window,rt=it.nodeName&&it.nodeName.toLowerCase(),rt==="select"||rt==="input"&&it.type==="file")var Pt=Ua;else if(Ne(it))if(fc)Pt=Jm;else{Pt=$m;var Jt=mc}else rt=it.nodeName,!rt||rt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&Ns(et.elementType)&&(Pt=Ua):Pt=Nr;if(Pt&&(Pt=Pt(i,et))){Mr(mt,Pt,u,ut);break t}Jt&&Jt(i,it,et),i==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&Li(it,"number",it.value)}switch(Jt=et?Pn(et):window,i){case"focusin":(Ne(Jt)||Jt.contentEditable==="true")&&(Di=Jt,Ba=et,js=null);break;case"focusout":js=Ba=Di=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,af(mt,u,ut);break;case"selectionchange":if(ru)break;case"keydown":case"keyup":af(mt,u,ut)}var Nt;if(Zn)t:{switch(i){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else ie?at(i,u)&&(zt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(zt="onCompositionStart");zt&&(x&&u.locale!=="ko"&&(ie||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie&&(Nt=Ir()):(di=ut,qn="value"in di?di.value:di.textContent,ie=!0)),Jt=Zf(et,zt),0<Jt.length&&(zt=new Gn(zt,i,null,u,ut),mt.push({event:zt,listeners:Jt}),Nt?zt.data=Nt:(Nt=Tt(u),Nt!==null&&(zt.data=Nt)))),(Nt=E?Qe(i,u):re(i,u))&&(zt=Zf(et,"onBeforeInput"),0<zt.length&&(Jt=new Gn("onBeforeInput","beforeinput",null,u,ut),mt.push({event:Jt,listeners:zt}),Jt.data=Nt)),qR(mt,i,et,u,ut)}Zb(mt,s)})}function Fc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Zf(i,s){for(var u=s+"Capture",f=[];i!==null;){var _=i,y=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||y===null||(_=ue(i,u),_!=null&&f.unshift(Fc(i,_,y)),_=ue(i,s),_!=null&&f.push(Fc(i,_,y))),i.tag===3)return f;i=i.return}return[]}function Ru(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Kb(i,s,u,f,_){for(var y=s._reactName,R=[];u!==null&&u!==f;){var O=u,F=O.alternate,et=O.stateNode;if(O=O.tag,F!==null&&F===f)break;O!==5&&O!==26&&O!==27||et===null||(F=et,_?(et=ue(u,y),et!=null&&R.unshift(Fc(u,et,F))):_||(et=ue(u,y),et!=null&&R.push(Fc(u,et,F)))),u=u.return}R.length!==0&&i.push({event:s,listeners:R})}var KR=/\r\n?/g,WR=/\u0000|\uFFFD/g;function Wb(i){return(typeof i=="string"?i:""+i).replace(KR,`
`).replace(WR,"")}function Xb(i,s){return s=Wb(s),Wb(i)===s}function Yf(){}function Ae(i,s,u,f,_,y){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||wn(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&wn(i,""+f);break;case"className":er(i,"class",f);break;case"tabIndex":er(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":er(i,u,f);break;case"style":Cr(i,f,y);break;case"data":if(s!=="object"){er(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=$r(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&Ae(i,s,"name",_.name,_,null),Ae(i,s,"formEncType",_.formEncType,_,null),Ae(i,s,"formMethod",_.formMethod,_,null),Ae(i,s,"formTarget",_.formTarget,_,null)):(Ae(i,s,"encType",_.encType,_,null),Ae(i,s,"method",_.method,_,null),Ae(i,s,"target",_.target,_,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=$r(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Yf);break;case"onScroll":f!=null&&ee("scroll",i);break;case"onScrollEnd":f!=null&&ee("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=$r(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":ee("beforetoggle",i),ee("toggle",i),Kr(i,"popover",f);break;case"xlinkActuate":gn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":gn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":gn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":gn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":gn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":gn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":gn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":gn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":gn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Kr(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Jo.get(u)||u,Kr(i,u,f))}}function hg(i,s,u,f,_,y){switch(u){case"style":Cr(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?wn(i,f):(typeof f=="number"||typeof f=="bigint")&&wn(i,""+f);break;case"onScroll":f!=null&&ee("scroll",i);break;case"onScrollEnd":f!=null&&ee("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),s=u.slice(2,_?u.length-7:void 0),y=i[Xe]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,_),typeof f=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,_);break t}u in i?i[u]=f:f===!0?i.setAttribute(u,""):Kr(i,u,f)}}}function Dn(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",i),ee("load",i);var f=!1,_=!1,y;for(y in u)if(u.hasOwnProperty(y)){var R=u[y];if(R!=null)switch(y){case"src":f=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ae(i,s,y,R,u,null)}}_&&Ae(i,s,"srcSet",u.srcSet,u,null),f&&Ae(i,s,"src",u.src,u,null);return;case"input":ee("invalid",i);var O=y=R=_=null,F=null,et=null;for(f in u)if(u.hasOwnProperty(f)){var ut=u[f];if(ut!=null)switch(f){case"name":_=ut;break;case"type":R=ut;break;case"checked":F=ut;break;case"defaultChecked":et=ut;break;case"value":y=ut;break;case"defaultValue":O=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,s));break;default:Ae(i,s,f,ut,u,null)}}ks(i,y,O,F,et,R,_,!1),Qr(i);return;case"select":ee("invalid",i),f=R=y=null;for(_ in u)if(u.hasOwnProperty(_)&&(O=u[_],O!=null))switch(_){case"value":y=O;break;case"defaultValue":R=O;break;case"multiple":f=O;default:Ae(i,s,_,O,u,null)}s=y,u=R,i.multiple=!!f,s!=null?On(i,!!f,s,!1):u!=null&&On(i,!!f,u,!0);return;case"textarea":ee("invalid",i),y=_=f=null;for(R in u)if(u.hasOwnProperty(R)&&(O=u[R],O!=null))switch(R){case"value":f=O;break;case"defaultValue":_=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Ae(i,s,R,O,u,null)}ni(i,f,_,y),Qr(i);return;case"option":for(F in u)if(u.hasOwnProperty(F)&&(f=u[F],f!=null))switch(F){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ae(i,s,F,f,u,null)}return;case"dialog":ee("beforetoggle",i),ee("toggle",i),ee("cancel",i),ee("close",i);break;case"iframe":case"object":ee("load",i);break;case"video":case"audio":for(f=0;f<Bc.length;f++)ee(Bc[f],i);break;case"image":ee("error",i),ee("load",i);break;case"details":ee("toggle",i);break;case"embed":case"source":case"link":ee("error",i),ee("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in u)if(u.hasOwnProperty(et)&&(f=u[et],f!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ae(i,s,et,f,u,null)}return;default:if(Ns(s)){for(ut in u)u.hasOwnProperty(ut)&&(f=u[ut],f!==void 0&&hg(i,s,ut,f,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(f=u[O],f!=null&&Ae(i,s,O,f,u,null))}function XR(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,y=null,R=null,O=null,F=null,et=null,ut=null;for(rt in u){var mt=u[rt];if(u.hasOwnProperty(rt)&&mt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":F=mt;default:f.hasOwnProperty(rt)||Ae(i,s,rt,null,f,mt)}}for(var it in f){var rt=f[it];if(mt=u[it],f.hasOwnProperty(it)&&(rt!=null||mt!=null))switch(it){case"type":y=rt;break;case"name":_=rt;break;case"checked":et=rt;break;case"defaultChecked":ut=rt;break;case"value":R=rt;break;case"defaultValue":O=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,s));break;default:rt!==mt&&Ae(i,s,it,rt,f,mt)}}ke(i,R,O,F,et,ut,y,_);return;case"select":rt=R=O=it=null;for(y in u)if(F=u[y],u.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":rt=F;default:f.hasOwnProperty(y)||Ae(i,s,y,null,f,F)}for(_ in f)if(y=f[_],F=u[_],f.hasOwnProperty(_)&&(y!=null||F!=null))switch(_){case"value":it=y;break;case"defaultValue":O=y;break;case"multiple":R=y;default:y!==F&&Ae(i,s,_,y,f,F)}s=O,u=R,f=rt,it!=null?On(i,!!u,it,!1):!!f!=!!u&&(s!=null?On(i,!!u,s,!0):On(i,!!u,u?[]:"",!1));return;case"textarea":rt=it=null;for(O in u)if(_=u[O],u.hasOwnProperty(O)&&_!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ae(i,s,O,null,f,_)}for(R in f)if(_=f[R],y=u[R],f.hasOwnProperty(R)&&(_!=null||y!=null))switch(R){case"value":it=_;break;case"defaultValue":rt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==y&&Ae(i,s,R,_,f,y)}jt(i,it,rt);return;case"option":for(var Ht in u)if(it=u[Ht],u.hasOwnProperty(Ht)&&it!=null&&!f.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:Ae(i,s,Ht,null,f,it)}for(F in f)if(it=f[F],rt=u[F],f.hasOwnProperty(F)&&it!==rt&&(it!=null||rt!=null))switch(F){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Ae(i,s,F,it,f,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in u)it=u[Ut],u.hasOwnProperty(Ut)&&it!=null&&!f.hasOwnProperty(Ut)&&Ae(i,s,Ut,null,f,it);for(et in f)if(it=f[et],rt=u[et],f.hasOwnProperty(et)&&it!==rt&&(it!=null||rt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:Ae(i,s,et,it,f,rt)}return;default:if(Ns(s)){for(var Se in u)it=u[Se],u.hasOwnProperty(Se)&&it!==void 0&&!f.hasOwnProperty(Se)&&hg(i,s,Se,void 0,f,it);for(ut in f)it=f[ut],rt=u[ut],!f.hasOwnProperty(ut)||it===rt||it===void 0&&rt===void 0||hg(i,s,ut,it,f,rt);return}}for(var X in u)it=u[X],u.hasOwnProperty(X)&&it!=null&&!f.hasOwnProperty(X)&&Ae(i,s,X,null,f,it);for(mt in f)it=f[mt],rt=u[mt],!f.hasOwnProperty(mt)||it===rt||it==null&&rt==null||Ae(i,s,mt,it,f,rt)}var fg=null,dg=null;function Kf(i){return i.nodeType===9?i:i.ownerDocument}function Qb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $b(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function mg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pg=null;function QR(){var i=window.event;return i&&i.type==="popstate"?i===pg?!1:(pg=i,!0):(pg=null,!1)}var Jb=typeof setTimeout=="function"?setTimeout:void 0,$R=typeof clearTimeout=="function"?clearTimeout:void 0,tT=typeof Promise=="function"?Promise:void 0,JR=typeof queueMicrotask=="function"?queueMicrotask:typeof tT<"u"?function(i){return tT.resolve(null).then(i).catch(tI)}:Jb;function tI(i){setTimeout(function(){throw i})}function lo(i){return i==="head"}function eT(i,s){var u=s,f=0,_=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<f&&8>f){u=f;var R=i.ownerDocument;if(u&1&&Hc(R.documentElement),u&2&&Hc(R.body),u&4)for(u=R.head,Hc(u),R=u.firstChild;R;){var O=R.nextSibling,F=R.nodeName;R[Yr]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=O}}if(_===0){i.removeChild(y),Qc(s);return}_--}else u==="$"||u==="$?"||u==="$!"?_++:f=u.charCodeAt(0)-48;else f=0;u=y}while(u);Qc(s)}function gg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":gg(u),Sr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function eI(i,s,u,f){for(;i.nodeType===1;){var _=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Yr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==_.rel||i.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=zr(i.nextSibling),i===null)break}return null}function nI(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=zr(i.nextSibling),i===null))return null;return i}function _g(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iI(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function zr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var vg=null;function nT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function iT(i,s,u){switch(s=Kf(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Hc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Sr(i)}var pr=new Map,rT=new Set;function Wf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Js=Et.d;Et.d={f:rI,r:sI,D:aI,C:oI,L:lI,m:uI,X:hI,S:cI,M:fI};function rI(){var i=Js.f(),s=jf();return i||s}function sI(i){var s=Ri(i);s!==null&&s.tag===5&&s.type==="form"?A0(s):Js.r(i)}var Iu=typeof document>"u"?null:document;function sT(i,s,u){var f=Iu;if(f&&typeof s=="string"&&s){var _=je(s);_='link[rel="'+i+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),rT.has(_)||(rT.add(_),i={rel:i,crossOrigin:u,href:s},f.querySelector(_)===null&&(s=f.createElement("link"),Dn(s,"link",i),Ge(s),f.head.appendChild(s)))}}function aI(i){Js.D(i),sT("dns-prefetch",i,null)}function oI(i,s){Js.C(i,s),sT("preconnect",i,s)}function lI(i,s,u){Js.L(i,s,u);var f=Iu;if(f&&i&&s){var _='link[rel="preload"][as="'+je(s)+'"]';s==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+je(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+je(u.imageSizes)+'"]')):_+='[href="'+je(i)+'"]';var y=_;switch(s){case"style":y=Lu(i);break;case"script":y=Pu(i)}pr.has(y)||(i=T({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),pr.set(y,i),f.querySelector(_)!==null||s==="style"&&f.querySelector(qc(y))||s==="script"&&f.querySelector(Gc(y))||(s=f.createElement("link"),Dn(s,"link",i),Ge(s),f.head.appendChild(s)))}}function uI(i,s){Js.m(i,s);var u=Iu;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+je(f)+'"][href="'+je(i)+'"]',y=_;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Pu(i)}if(!pr.has(y)&&(i=T({rel:"modulepreload",href:i},s),pr.set(y,i),u.querySelector(_)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Gc(y)))return}f=u.createElement("link"),Dn(f,"link",i),Ge(f),u.head.appendChild(f)}}}function cI(i,s,u){Js.S(i,s,u);var f=Iu;if(f&&i){var _=En(f).hoistableStyles,y=Lu(i);s=s||"default";var R=_.get(y);if(!R){var O={loading:0,preload:null};if(R=f.querySelector(qc(y)))O.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},u),(u=pr.get(y))&&yg(i,u);var F=R=f.createElement("link");Ge(F),Dn(F,"link",i),F._p=new Promise(function(et,ut){F.onload=et,F.onerror=ut}),F.addEventListener("load",function(){O.loading|=1}),F.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Xf(R,s,f)}R={type:"stylesheet",instance:R,count:1,state:O},_.set(y,R)}}}function hI(i,s){Js.X(i,s);var u=Iu;if(u&&i){var f=En(u).hoistableScripts,_=Pu(i),y=f.get(_);y||(y=u.querySelector(Gc(_)),y||(i=T({src:i,async:!0},s),(s=pr.get(_))&&bg(i,s),y=u.createElement("script"),Ge(y),Dn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(_,y))}}function fI(i,s){Js.M(i,s);var u=Iu;if(u&&i){var f=En(u).hoistableScripts,_=Pu(i),y=f.get(_);y||(y=u.querySelector(Gc(_)),y||(i=T({src:i,async:!0,type:"module"},s),(s=pr.get(_))&&bg(i,s),y=u.createElement("script"),Ge(y),Dn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(_,y))}}function aT(i,s,u,f){var _=(_=wt.current)?Wf(_):null;if(!_)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Lu(u.href),u=En(_).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Lu(u.href);var y=En(_).hoistableStyles,R=y.get(i);if(R||(_=_.ownerDocument||_,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,R),(y=_.querySelector(qc(i)))&&!y._p&&(R.instance=y,R.state.loading=5),pr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},pr.set(i,u),y||dI(_,i,u,R.state))),s&&f===null)throw Error(r(528,""));return R}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Pu(u),u=En(_).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Lu(i){return'href="'+je(i)+'"'}function qc(i){return'link[rel="stylesheet"]['+i+"]"}function oT(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function dI(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Dn(s,"link",u),Ge(s),i.head.appendChild(s))}function Pu(i){return'[src="'+je(i)+'"]'}function Gc(i){return"script[async]"+i}function lT(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+je(u.href)+'"]');if(f)return s.instance=f,Ge(f),f;var _=T({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Ge(f),Dn(f,"style",_),Xf(f,u.precedence,i),s.instance=f;case"stylesheet":_=Lu(u.href);var y=i.querySelector(qc(_));if(y)return s.state.loading|=4,s.instance=y,Ge(y),y;f=oT(u),(_=pr.get(_))&&yg(f,_),y=(i.ownerDocument||i).createElement("link"),Ge(y);var R=y;return R._p=new Promise(function(O,F){R.onload=O,R.onerror=F}),Dn(y,"link",f),s.state.loading|=4,Xf(y,u.precedence,i),s.instance=y;case"script":return y=Pu(u.src),(_=i.querySelector(Gc(y)))?(s.instance=_,Ge(_),_):(f=u,(_=pr.get(y))&&(f=T({},u),bg(f,_)),i=i.ownerDocument||i,_=i.createElement("script"),Ge(_),Dn(_,"link",f),i.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Xf(f,u.precedence,i));return s.instance}function Xf(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=f.length?f[f.length-1]:null,y=_,R=0;R<f.length;R++){var O=f[R];if(O.dataset.precedence===s)y=O;else if(y!==_)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function yg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Qf=null;function uT(i,s,u){if(Qf===null){var f=new Map,_=Qf=new Map;_.set(u,f)}else _=Qf,f=_.get(u),f||(f=new Map,_.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),_=0;_<u.length;_++){var y=u[_];if(!(y[Yr]||y[rn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(s)||"";R=i+R;var O=f.get(R);O?O.push(y):f.set(R,[y])}}return f}function cT(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function mI(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Zc=null;function pI(){}function gI(i,s,u){if(Zc===null)throw Error(r(475));var f=Zc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var _=Lu(u.href),y=i.querySelector(qc(_));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=$f.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=y,Ge(y);return}y=i.ownerDocument||i,u=oT(u),(_=pr.get(_))&&yg(u,_),y=y.createElement("link"),Ge(y);var R=y;R._p=new Promise(function(O,F){R.onload=O,R.onerror=F}),Dn(y,"link",u),s.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=$f.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function _I(){if(Zc===null)throw Error(r(475));var i=Zc;return i.stylesheets&&i.count===0&&Tg(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&Tg(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function $f(){if(this.count--,this.count===0){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jf=null;function Tg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jf=new Map,s.forEach(vI,i),Jf=null,$f.call(i))}function vI(i,s){if(!(s.state.loading&4)){var u=Jf.get(i);if(u)var f=u.get(null);else{u=new Map,Jf.set(i,u);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<_.length;y++){var R=_[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),f=R)}f&&u.set(null,f)}_=s.instance,R=_.getAttribute("data-precedence"),y=u.get(R)||f,y===f&&u.set(null,_),u.set(R,_),this.count++,f=$f.bind(this),_.addEventListener("load",f),_.addEventListener("error",f),y?y.parentNode.insertBefore(_,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),s.state.loading|=4}}var Yc={$$typeof:nt,Provider:null,Consumer:null,_currentValue:vt,_currentValue2:vt,_threadCount:0};function yI(i,s,u,f,_,y,R,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=f,this.onUncaughtError=_,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function fT(i,s,u,f,_,y,R,O,F,et,ut,mt){return i=new yI(i,s,u,R,O,F,et,mt),s=1,y===!0&&(s|=24),y=li(3,null,null,s),i.current=y,y.stateNode=i,s=np(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:s},ap(y),i}function dT(i){return i?(i=qs,i):qs}function mT(i,s,u,f,_,y){_=dT(_),f.context===null?f.context=_:f.pendingContext=_,f=Wa(s),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=Xa(i,f,s),u!==null&&(qi(u,i,s),wc(u,i,s))}function pT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Eg(i,s){pT(i,s),(i=i.alternate)&&pT(i,s)}function gT(i){if(i.tag===13){var s=qa(i,67108864);s!==null&&qi(s,i,67108864),Eg(i,67108864)}}var td=!0;function bI(i,s,u,f){var _=ot.T;ot.T=null;var y=Et.p;try{Et.p=2,wg(i,s,u,f)}finally{Et.p=y,ot.T=_}}function TI(i,s,u,f){var _=ot.T;ot.T=null;var y=Et.p;try{Et.p=8,wg(i,s,u,f)}finally{Et.p=y,ot.T=_}}function wg(i,s,u,f){if(td){var _=Ag(f);if(_===null)cg(i,s,f,ed,u),vT(i,f);else if(wI(_,i,s,u,f))f.stopPropagation();else if(vT(i,f),s&4&&-1<EI.indexOf(i)){for(;_!==null;){var y=Ri(_);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=ci(y.pendingLanes);if(R!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;R;){var F=1<<31-Tn(R);O.entanglements[1]|=F,R&=~F}ls(y),(ye&6)===0&&(Uf=jn()+500,jc(0))}}break;case 13:O=qa(y,2),O!==null&&qi(O,y,2),jf(),Eg(y,2)}if(y=Ag(f),y===null&&cg(i,s,f,ed,u),y===_)break;_=y}_!==null&&f.stopPropagation()}else cg(i,s,f,null,u)}}function Ag(i){return i=Mn(i),Sg(i)}var ed=null;function Sg(i){if(ed=null,i=Ci(i),i!==null){var s=l(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=c(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ed=i,null}function _T(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ta()){case Ho:return 2;case Rs:return 8;case Er:case Zl:return 32;case Is:return 268435456;default:return 32}default:return 32}}var xg=!1,uo=null,co=null,ho=null,Kc=new Map,Wc=new Map,fo=[],EI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vT(i,s){switch(i){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Kc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(s.pointerId)}}function Xc(i,s,u,f,_,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[_]},s!==null&&(s=Ri(s),s!==null&&gT(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function wI(i,s,u,f,_){switch(s){case"focusin":return uo=Xc(uo,i,s,u,f,_),!0;case"dragenter":return co=Xc(co,i,s,u,f,_),!0;case"mouseover":return ho=Xc(ho,i,s,u,f,_),!0;case"pointerover":var y=_.pointerId;return Kc.set(y,Xc(Kc.get(y)||null,i,s,u,f,_)),!0;case"gotpointercapture":return y=_.pointerId,Wc.set(y,Xc(Wc.get(y)||null,i,s,u,f,_)),!0}return!1}function yT(i){var s=Ci(i.target);if(s!==null){var u=l(s);if(u!==null){if(s=u.tag,s===13){if(s=c(u),s!==null){i.blockedOn=s,Sa(i.priority,function(){if(u.tag===13){var f=Hi();f=Gr(f);var _=qa(u,f);_!==null&&qi(_,u,f),Eg(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Ag(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Oi=f,u.target.dispatchEvent(f),Oi=null}else return s=Ri(u),s!==null&&gT(s),i.blockedOn=u,!1;s.shift()}return!0}function bT(i,s,u){nd(i)&&u.delete(s)}function AI(){xg=!1,uo!==null&&nd(uo)&&(uo=null),co!==null&&nd(co)&&(co=null),ho!==null&&nd(ho)&&(ho=null),Kc.forEach(bT),Wc.forEach(bT)}function id(i,s){i.blockedOn===s&&(i.blockedOn=null,xg||(xg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AI)))}var rd=null;function TT(i){rd!==i&&(rd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rd===i&&(rd=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],_=i[s+2];if(typeof f!="function"){if(Sg(f||u)===null)continue;break}var y=Ri(u);y!==null&&(i.splice(s,3),s-=3,Sp(y,{pending:!0,data:_,method:u.method,action:f},f,_))}}))}function Qc(i){function s(F){return id(F,i)}uo!==null&&id(uo,i),co!==null&&id(co,i),ho!==null&&id(ho,i),Kc.forEach(s),Wc.forEach(s);for(var u=0;u<fo.length;u++){var f=fo[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<fo.length&&(u=fo[0],u.blockedOn===null);)yT(u),u.blockedOn===null&&fo.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var _=u[f],y=u[f+1],R=_[Xe]||null;if(typeof y=="function")R||TT(u);else if(R){var O=null;if(y&&y.hasAttribute("formAction")){if(_=y,R=y[Xe]||null)O=R.formAction;else if(Sg(_)!==null)continue}else O=R.action;typeof O=="function"?u[f+1]=O:(u.splice(f,3),f-=3),TT(u)}}}function Cg(i){this._internalRoot=i}sd.prototype.render=Cg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=Hi();mT(u,f,i,s,null,null)},sd.prototype.unmount=Cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;mT(i.current,2,null,i,null,null),jf(),s[hi]=null}};function sd(i){this._internalRoot=i}sd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Zr();i={blockedOn:null,target:i,priority:s};for(var u=0;u<fo.length&&s!==0&&s<fo[u].priority;u++);fo.splice(u,0,i),u===0&&yT(i)}};var ET=t.version;if(ET!=="19.1.0")throw Error(r(527,ET,"19.1.0"));Et.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var SI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ot,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{Oe=ad.inject(SI),fe=ad}catch{}}return Jc.createRoot=function(i,s){if(!o(i))throw Error(r(299));var u=!1,f="",_=U0,y=z0,R=j0,O=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks)),s=fT(i,1,!1,null,null,u,f,_,y,R,O,null),i[hi]=s.current,ug(i),new Cg(s)},Jc.hydrateRoot=function(i,s,u){if(!o(i))throw Error(r(299));var f=!1,_="",y=U0,R=z0,O=j0,F=null,et=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(F=u.unstable_transitionCallbacks),u.formState!==void 0&&(et=u.formState)),s=fT(i,1,!0,s,u??null,f,_,y,R,O,F,et),s.context=dT(null),u=s.current,f=Hi(),f=Gr(f),_=Wa(f),_.callback=null,Xa(u,_,f),u=f,s.current.lanes=u,$i(s,u),ls(s),i[hi]=s.current,ug(i),new sd(s)},Jc.version="19.1.0",Jc}var OT;function kI(){if(OT)return Lg.exports;OT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lg.exports=MI(),Lg.exports}var NI=kI();const DI=kh(NI),VI="modulepreload",UI=function(n){return"/"+n},MT={},zI=function(t,e,r){let o=Promise.resolve();if(e&&e.length>0){let v=function(T){return Promise.all(T.map(w=>Promise.resolve(w).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};var c=v;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");o=v(e.map(T=>{if(T=UI(T),T in MT)return;MT[T]=!0;const w=T.endsWith(".css"),A=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${A}`))return;const I=document.createElement("link");if(I.rel=w?"stylesheet":VI,w||(I.as="script"),I.crossOrigin="",I.href=T,g&&I.setAttribute("nonce",g),document.head.appendChild(I),w)return new Promise((k,N)=>{I.addEventListener("load",k),I.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${T}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return t().catch(l)})};var th={},kT;function jI(){if(kT)return th;kT=1,Object.defineProperty(th,"__esModule",{value:!0}),th.parse=c,th.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,I){const k=new l,N=A.length;if(N<2)return k;const V=I?.decode||T;let j=0;do{const tt=A.indexOf("=",j);if(tt===-1)break;const nt=A.indexOf(";",j),ct=nt===-1?N:nt;if(tt>ct){j=A.lastIndexOf(";",tt-1)+1;continue}const dt=d(A,j,tt),It=g(A,tt,dt),G=A.slice(dt,It);if(k[G]===void 0){let D=d(A,tt+1,ct),z=g(A,ct,D);const Z=V(A.slice(D,z));k[G]=Z}j=ct+1}while(j<N);return k}function d(A,I,k){do{const N=A.charCodeAt(I);if(N!==32&&N!==9)return I}while(++I<k);return k}function g(A,I,k){for(;I>k;){const N=A.charCodeAt(--I);if(N!==32&&N!==9)return I+1}return k}function v(A,I,k){const N=k?.encode||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const V=N(I);if(!t.test(V))throw new TypeError(`argument val is invalid: ${I}`);let j=A+"="+V;if(!k)return j;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);j+="; Max-Age="+k.maxAge}if(k.domain){if(!e.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);j+="; Domain="+k.domain}if(k.path){if(!r.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);j+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);j+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(j+="; HttpOnly"),k.secure&&(j+="; Secure"),k.partitioned&&(j+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return j}function T(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return th}jI();var NT="popstate";function BI(n={}){function t(r,o){let{pathname:l,search:c,hash:d}=r.location;return l_("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){return typeof o=="string"?o:wh(o)}return HI(t,e,null,n)}function Ke(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ts(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FI(){return Math.random().toString(36).substring(2,10)}function DT(n,t){return{usr:n.state,key:n.key,idx:t}}function l_(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?tc(t):t,state:e,key:t&&t.key||r||FI()}}function wh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function tc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function HI(n,t,e,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,d="POP",g=null,v=T();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function T(){return(c.state||{idx:null}).idx}function w(){d="POP";let V=T(),j=V==null?null:V-v;v=V,g&&g({action:d,location:N.location,delta:j})}function A(V,j){d="PUSH";let tt=l_(N.location,V,j);v=T()+1;let nt=DT(tt,v),ct=N.createHref(tt);try{c.pushState(nt,"",ct)}catch(dt){if(dt instanceof DOMException&&dt.name==="DataCloneError")throw dt;o.location.assign(ct)}l&&g&&g({action:d,location:N.location,delta:1})}function I(V,j){d="REPLACE";let tt=l_(N.location,V,j);v=T();let nt=DT(tt,v),ct=N.createHref(tt);c.replaceState(nt,"",ct),l&&g&&g({action:d,location:N.location,delta:0})}function k(V){return qI(V)}let N={get action(){return d},get location(){return n(o,c)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(NT,w),g=V,()=>{o.removeEventListener(NT,w),g=null}},createHref(V){return t(o,V)},createURL:k,encodeLocation(V){let j=k(V);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:I,go(V){return c.go(V)}};return N}function qI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:wh(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function _A(n,t,e="/"){return GI(n,t,e,!1)}function GI(n,t,e,r){let o=typeof t=="string"?tc(t):t,l=ua(o.pathname||"/",e);if(l==null)return null;let c=vA(n);ZI(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let v=iL(l);d=eL(c[g],v,r)}return d}function vA(n,t=[],e=[],r=""){let o=(l,c,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};g.relativePath.startsWith("/")&&(Ke(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length));let v=aa([r,g.relativePath]),T=e.concat(g);l.children&&l.children.length>0&&(Ke(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),vA(l.children,t,T,v)),!(l.path==null&&!l.index)&&t.push({path:v,score:JI(v,l.index),routesMeta:T})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let d of yA(l.path))o(l,c,d)}),t}function yA(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,o=e.endsWith("?"),l=e.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=yA(r.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),o&&d.push(...c),d.map(g=>n.startsWith("/")&&g===""?"/":g)}function ZI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:tL(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var YI=/^:[\w-]+$/,KI=3,WI=2,XI=1,QI=10,$I=-2,VT=n=>n==="*";function JI(n,t){let e=n.split("/"),r=e.length;return e.some(VT)&&(r+=$I),t&&(r+=WI),e.filter(o=>!VT(o)).reduce((o,l)=>o+(YI.test(l)?KI:l===""?XI:QI),r)}function tL(n,t){return n.length===t.length&&n.slice(0,-1).every((r,o)=>r===t[o])?n[n.length-1]-t[t.length-1]:0}function eL(n,t,e=!1){let{routesMeta:r}=n,o={},l="/",c=[];for(let d=0;d<r.length;++d){let g=r[d],v=d===r.length-1,T=l==="/"?t:t.slice(l.length)||"/",w=kd({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},T),A=g.route;if(!w&&v&&e&&!r[r.length-1].route.index&&(w=kd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:aa([l,w.pathname]),pathnameBase:oL(aa([l,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(l=aa([l,w.pathnameBase]))}return c}function kd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=nL(n.path,n.caseSensitive,n.end),o=t.match(e);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((v,{paramName:T,isOptional:w},A)=>{if(T==="*"){let k=d[A]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const I=d[A];return w&&!I?v[T]=void 0:v[T]=(I||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:n}}function nL(n,t=!1,e=!0){Ts(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(r.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function iL(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ts(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ua(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function rL(n,t="/"){let{pathname:e,search:r="",hash:o=""}=typeof n=="string"?tc(n):n;return{pathname:e?e.startsWith("/")?e:sL(e,t):t,search:lL(r),hash:uL(o)}}function sL(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function kg(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aL(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function bA(n){let t=aL(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function TA(n,t,e,r=!1){let o;typeof n=="string"?o=tc(n):(o={...n},Ke(!o.pathname||!o.pathname.includes("?"),kg("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),kg("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),kg("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=e;else{let w=t.length-1;if(!r&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}d=w>=0?t[w]:"/"}let g=rL(o,d),v=c&&c!=="/"&&c.endsWith("/"),T=(l||c===".")&&e.endsWith("/");return!g.pathname.endsWith("/")&&(v||T)&&(g.pathname+="/"),g}var aa=n=>n.join("/").replace(/\/\/+/g,"/"),oL=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var EA=["POST","PUT","PATCH","DELETE"];new Set(EA);var hL=["GET",...EA];new Set(hL);var ec=q.createContext(null);ec.displayName="DataRouter";var om=q.createContext(null);om.displayName="DataRouterState";var wA=q.createContext({isTransitioning:!1});wA.displayName="ViewTransition";var fL=q.createContext(new Map);fL.displayName="Fetchers";var dL=q.createContext(null);dL.displayName="Await";var As=q.createContext(null);As.displayName="Navigation";var Nh=q.createContext(null);Nh.displayName="Location";var Ss=q.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var ov=q.createContext(null);ov.displayName="RouteError";function mL(n,{relative:t}={}){Ke(Dh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=q.useContext(As),{hash:o,pathname:l,search:c}=Uh(n,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:aa([e,l])),r.createHref({pathname:d,search:c,hash:o})}function Dh(){return q.useContext(Nh)!=null}function jl(){return Ke(Dh(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Nh).location}var AA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SA(n){q.useContext(As).static||q.useLayoutEffect(n)}function Vh(){let{isDataRoute:n}=q.useContext(Ss);return n?CL():pL()}function pL(){Ke(Dh(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(ec),{basename:t,navigator:e}=q.useContext(As),{matches:r}=q.useContext(Ss),{pathname:o}=jl(),l=JSON.stringify(bA(r)),c=q.useRef(!1);return SA(()=>{c.current=!0}),q.useCallback((g,v={})=>{if(Ts(c.current,AA),!c.current)return;if(typeof g=="number"){e.go(g);return}let T=TA(g,JSON.parse(l),o,v.relative==="path");n==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:aa([t,T.pathname])),(v.replace?e.replace:e.push)(T,v.state,v)},[t,e,l,o,n])}q.createContext(null);function xA(){let{matches:n}=q.useContext(Ss),t=n[n.length-1];return t?t.params:{}}function Uh(n,{relative:t}={}){let{matches:e}=q.useContext(Ss),{pathname:r}=jl(),o=JSON.stringify(bA(e));return q.useMemo(()=>TA(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function gL(n,t){return CA(n,t)}function CA(n,t,e,r){Ke(Dh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(As),{matches:l}=q.useContext(Ss),c=l[l.length-1],d=c?c.params:{},g=c?c.pathname:"/",v=c?c.pathnameBase:"/",T=c&&c.route;{let j=T&&T.path||"";RA(g,!T||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=jl(),A;if(t){let j=typeof t=="string"?tc(t):t;Ke(v==="/"||j.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${j.pathname}" was given in the \`location\` prop.`),A=j}else A=w;let I=A.pathname||"/",k=I;if(v!=="/"){let j=v.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=_A(n,{pathname:k});Ts(T||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ts(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=TL(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:aa([v,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:aa([v,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,e,r);return t&&V?q.createElement(Nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},V):V}function _L(){let n=xL(),t=cL(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),e?q.createElement("pre",{style:o},e):null,c)}var vL=q.createElement(_L,null),yL=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?q.createElement(Ss.Provider,{value:this.props.routeContext},q.createElement(ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bL({routeContext:n,match:t,children:e}){let r=q.useContext(ec);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Ss.Provider,{value:n},e)}function TL(n,t=[],e=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let g=o.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);Ke(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,d=-1;if(e)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:T,errors:w}=e,A=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||A){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,v,T)=>{let w,A=!1,I=null,k=null;e&&(w=l&&v.route.id?l[v.route.id]:void 0,I=v.route.errorElement||vL,c&&(d<0&&T===0?(RA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):d===T&&(A=!0,k=v.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,T+1)),V=()=>{let j;return w?j=I:A?j=k:v.route.Component?j=q.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=g,q.createElement(bL,{match:v,routeContext:{outlet:g,matches:N,isDataRoute:e!=null},children:j})};return e&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?q.createElement(yL,{location:e.location,revalidation:e.revalidation,component:I,error:w,children:V(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):V()},null)}function lv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EL(n){let t=q.useContext(ec);return Ke(t,lv(n)),t}function wL(n){let t=q.useContext(om);return Ke(t,lv(n)),t}function AL(n){let t=q.useContext(Ss);return Ke(t,lv(n)),t}function uv(n){let t=AL(n),e=t.matches[t.matches.length-1];return Ke(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function SL(){return uv("useRouteId")}function xL(){let n=q.useContext(ov),t=wL("useRouteError"),e=uv("useRouteError");return n!==void 0?n:t.errors?.[e]}function CL(){let{router:n}=EL("useNavigate"),t=uv("useNavigate"),e=q.useRef(!1);return SA(()=>{e.current=!0}),q.useCallback(async(o,l={})=>{Ts(e.current,AA),e.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:t,...l}))},[n,t])}var UT={};function RA(n,t,e){!t&&!UT[n]&&(UT[n]=!0,Ts(!1,e))}q.memo(RL);function RL({routes:n,future:t,state:e}){return CA(n,void 0,e,t)}function Je(n){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IL({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:o,static:l=!1}){Ke(!Dh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=q.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof e=="string"&&(e=tc(e));let{pathname:g="/",search:v="",hash:T="",state:w=null,key:A="default"}=e,I=q.useMemo(()=>{let k=ua(g,c);return k==null?null:{location:{pathname:k,search:v,hash:T,state:w,key:A},navigationType:r}},[c,g,v,T,w,A,r]);return Ts(I!=null,`<Router basename="${c}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:q.createElement(As.Provider,{value:d},q.createElement(Nh.Provider,{children:t,value:I}))}function IA({children:n,location:t}){return gL(u_(n),t)}function u_(n,t=[]){let e=[];return q.Children.forEach(n,(r,o)=>{if(!q.isValidElement(r))return;let l=[...t,o];if(r.type===q.Fragment){e.push.apply(e,u_(r.props.children,l));return}Ke(r.type===Je,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=u_(r.props.children,l)),e.push(c)}),e}var yd="get",bd="application/x-www-form-urlencoded";function lm(n){return n!=null&&typeof n.tagName=="string"}function LL(n){return lm(n)&&n.tagName.toLowerCase()==="button"}function PL(n){return lm(n)&&n.tagName.toLowerCase()==="form"}function OL(n){return lm(n)&&n.tagName.toLowerCase()==="input"}function ML(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kL(n,t){return n.button===0&&(!t||t==="_self")&&!ML(n)}var od=null;function NL(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var DL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(n){return n!=null&&!DL.has(n)?(Ts(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bd}"`),null):n}function VL(n,t){let e,r,o,l,c;if(PL(n)){let d=n.getAttribute("action");r=d?ua(d,t):null,e=n.getAttribute("method")||yd,o=Ng(n.getAttribute("enctype"))||bd,l=new FormData(n)}else if(LL(n)||OL(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||d.getAttribute("action");if(r=g?ua(g,t):null,e=n.getAttribute("formmethod")||d.getAttribute("method")||yd,o=Ng(n.getAttribute("formenctype"))||Ng(d.getAttribute("enctype"))||bd,l=new FormData(d,n),!NL()){let{name:v,type:T,value:w}=n;if(T==="image"){let A=v?`${v}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else v&&l.append(v,w)}}else{if(lm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=yd,r=null,o=bd,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:e.toLowerCase(),encType:o,formData:l,body:c}}function cv(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function UL(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jL(n,t,e){let r=await Promise.all(n.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await UL(l,e);return c.links?c.links():[]}return[]}));return qL(r.flat(1).filter(zL).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zT(n,t,e,r,o,l){let c=(g,v)=>e[v]?g.route.id!==e[v].route.id:!0,d=(g,v)=>e[v].pathname!==g.pathname||e[v].route.path?.endsWith("*")&&e[v].params["*"]!==g.params["*"];return l==="assets"?t.filter((g,v)=>c(g,v)||d(g,v)):l==="data"?t.filter((g,v)=>{let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(c(g,v)||d(g,v))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function BL(n,t,{includeHydrateFallback:e}={}){return FL(n.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function FL(n){return[...new Set(n)]}function HL(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function qL(n,t){let e=new Set;return new Set(t),n.reduce((r,o)=>{let l=JSON.stringify(HL(o));return e.has(l)||(e.add(l),r.push({key:l,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GL=new Set([100,101,204,205]);function ZL(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&ua(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LA(){let n=q.useContext(ec);return cv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YL(){let n=q.useContext(om);return cv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hv=q.createContext(void 0);hv.displayName="FrameworkContext";function PA(){let n=q.useContext(hv);return cv(n,"You must render this element inside a <HydratedRouter> element"),n}function KL(n,t){let e=q.useContext(hv),[r,o]=q.useState(!1),[l,c]=q.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:v,onMouseLeave:T,onTouchStart:w}=t,A=q.useRef(null);q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let N=j=>{j.forEach(tt=>{c(tt.isIntersecting)})},V=new IntersectionObserver(N,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[n]),q.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let I=()=>{o(!0)},k=()=>{o(!1),c(!1)};return e?n!=="intent"?[l,A,{}]:[l,A,{onFocus:eh(d,I),onBlur:eh(g,k),onMouseEnter:eh(v,I),onMouseLeave:eh(T,k),onTouchStart:eh(w,I)}]:[!1,A,{}]}function eh(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function WL({page:n,...t}){let{router:e}=LA(),r=q.useMemo(()=>_A(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?q.createElement(QL,{page:n,matches:r,...t}):null}function XL(n){let{manifest:t,routeModules:e}=PA(),[r,o]=q.useState([]);return q.useEffect(()=>{let l=!1;return jL(n,t,e).then(c=>{l||o(c)}),()=>{l=!0}},[n,t,e]),r}function QL({page:n,matches:t,...e}){let r=jl(),{manifest:o,routeModules:l}=PA(),{basename:c}=LA(),{loaderData:d,matches:g}=YL(),v=q.useMemo(()=>zT(n,t,g,o,r,"data"),[n,t,g,o,r]),T=q.useMemo(()=>zT(n,t,g,o,r,"assets"),[n,t,g,o,r]),w=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,N=!1;if(t.forEach(j=>{let tt=o.routes[j.route.id];!tt||!tt.hasLoader||(!v.some(nt=>nt.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||tt.hasClientLoader?N=!0:k.add(j.route.id))}),k.size===0)return[];let V=ZL(n,c);return N&&k.size>0&&V.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[V.pathname+V.search]},[c,d,r,o,v,t,n,l]),A=q.useMemo(()=>BL(T,o),[T,o]),I=XL(T);return q.createElement(q.Fragment,null,w.map(k=>q.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...e})),A.map(k=>q.createElement("link",{key:k,rel:"modulepreload",href:k,...e})),I.map(({key:k,link:N})=>q.createElement("link",{key:k,...N})))}function $L(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var OA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OA&&(window.__reactRouterVersion="7.6.3")}catch{}function JL({basename:n,children:t,window:e}){let r=q.useRef();r.current==null&&(r.current=BI({window:e,v5Compat:!0}));let o=r.current,[l,c]=q.useState({action:o.action,location:o.location}),d=q.useCallback(g=>{q.startTransition(()=>c(g))},[c]);return q.useLayoutEffect(()=>o.listen(d),[o,d]),q.createElement(IL,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:o})}var MA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=q.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:d,target:g,to:v,preventScrollReset:T,viewTransition:w,...A},I){let{basename:k}=q.useContext(As),N=typeof v=="string"&&MA.test(v),V,j=!1;if(typeof v=="string"&&N&&(V=v,OA))try{let z=new URL(window.location.href),Z=v.startsWith("//")?new URL(z.protocol+v):new URL(v),Y=ua(Z.pathname,k);Z.origin===z.origin&&Y!=null?v=Y+Z.search+Z.hash:j=!0}catch{Ts(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=mL(v,{relative:o}),[nt,ct,dt]=KL(r,A),It=iP(v,{replace:c,state:d,target:g,preventScrollReset:T,relative:o,viewTransition:w});function G(z){t&&t(z),z.defaultPrevented||It(z)}let D=q.createElement("a",{...A,...dt,href:V||tt,onClick:j||l?t:G,ref:$L(I,ct),target:g,"data-discover":!N&&e==="render"?"true":void 0});return nt&&!N?q.createElement(q.Fragment,null,D,q.createElement(WL,{page:tt})):D});Le.displayName="Link";var tP=q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:g,...v},T){let w=Uh(c,{relative:v.relative}),A=jl(),I=q.useContext(om),{navigator:k,basename:N}=q.useContext(As),V=I!=null&&lP(w)&&d===!0,j=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,tt=A.pathname,nt=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;e||(tt=tt.toLowerCase(),nt=nt?nt.toLowerCase():null,j=j.toLowerCase()),nt&&N&&(nt=ua(nt,N)||nt);const ct=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let dt=tt===j||!o&&tt.startsWith(j)&&tt.charAt(ct)==="/",It=nt!=null&&(nt===j||!o&&nt.startsWith(j)&&nt.charAt(j.length)==="/"),G={isActive:dt,isPending:It,isTransitioning:V},D=dt?t:void 0,z;typeof r=="function"?z=r(G):z=[r,dt?"active":null,It?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let Z=typeof l=="function"?l(G):l;return q.createElement(Le,{...v,"aria-current":D,className:z,ref:T,style:Z,to:c,viewTransition:d},typeof g=="function"?g(G):g)});tP.displayName="NavLink";var eP=q.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:o,state:l,method:c=yd,action:d,onSubmit:g,relative:v,preventScrollReset:T,viewTransition:w,...A},I)=>{let k=aP(),N=oP(d,{relative:v}),V=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&MA.test(d),tt=nt=>{if(g&&g(nt),nt.defaultPrevented)return;nt.preventDefault();let ct=nt.nativeEvent.submitter,dt=ct?.getAttribute("formmethod")||c;k(ct||nt.currentTarget,{fetcherKey:t,method:dt,navigate:e,replace:o,state:l,relative:v,preventScrollReset:T,viewTransition:w})};return q.createElement("form",{ref:I,method:V,action:N,onSubmit:r?g:tt,...A,"data-discover":!j&&n==="render"?"true":void 0})});eP.displayName="Form";function nP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(n){let t=q.useContext(ec);return Ke(t,nP(n)),t}function iP(n,{target:t,replace:e,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Vh(),g=jl(),v=Uh(n,{relative:l});return q.useCallback(T=>{if(kL(T,t)){T.preventDefault();let w=e!==void 0?e:wh(g)===wh(v);d(n,{replace:w,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[g,d,v,e,r,t,n,o,l,c])}var rP=0,sP=()=>`__${String(++rP)}__`;function aP(){let{router:n}=kA("useSubmit"),{basename:t}=q.useContext(As),e=SL();return q.useCallback(async(r,o={})=>{let{action:l,method:c,encType:d,formData:g,body:v}=VL(r,t);if(o.navigate===!1){let T=o.fetcherKey||sP();await n.fetch(T,e,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:e,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,t,e])}function oP(n,{relative:t}={}){let{basename:e}=q.useContext(As),r=q.useContext(Ss);Ke(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Uh(n||".",{relative:t})},c=jl();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(T=>T==="")){d.delete("index"),g.filter(w=>w).forEach(w=>d.append("index",w));let T=d.toString();l.search=T?`?${T}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:aa([e,l.pathname])),wh(l)}function lP(n,t={}){let e=q.useContext(wA);Ke(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kA("useViewTransitionState"),o=Uh(n,{relative:t.relative});if(!e.isTransitioning)return!1;let l=ua(e.currentLocation.pathname,r)||e.currentLocation.pathname,c=ua(e.nextLocation.pathname,r)||e.nextLocation.pathname;return kd(o.pathname,c)!=null||kd(o.pathname,l)!=null}[...GL];var uP=gA();const cP=()=>{};var jT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},hP=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[e++];t[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[e++],c=n[e++],d=n[e++],g=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const l=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return t.join("")},DA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,g=o+2<n.length,v=g?n[o+2]:0,T=l>>2,w=(l&3)<<4|d>>4;let A=(d&15)<<2|v>>6,I=v&63;g||(I=64,c||(A=64)),r.push(e[T],e[w],e[A],e[I])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(NA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):hP(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const l=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const v=o<n.length?e[n.charAt(o)]:64;++o;const w=o<n.length?e[n.charAt(o)]:64;if(++o,l==null||d==null||v==null||w==null)throw new fP;const A=l<<2|d>>4;if(r.push(A),v!==64){const I=d<<4&240|v>>2;if(r.push(I),w!==64){const k=v<<6&192|w;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dP=function(n){const t=NA(n);return DA.encodeByteArray(t,!0)},Nd=function(n){return dP(n).replace(/\./g,"")},VA=function(n){try{return DA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=()=>mP().__FIREBASE_DEFAULTS__,gP=()=>{if(typeof process>"u"||typeof jT>"u")return;const n=jT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_P=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&VA(n[1]);return t&&JSON.parse(t)},um=()=>{try{return cP()||pP()||gP()||_P()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UA=n=>{var t,e;return(e=(t=um())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},zA=n=>{const t=UA(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},jA=()=>{var n;return(n=um())===null||n===void 0?void 0:n.config},BA=n=>{var t;return(t=um())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nd(JSON.stringify(e)),Nd(JSON.stringify(c)),""].join(".")}const fh={};function yP(){const n={prod:[],emulator:[]};for(const t of Object.keys(fh))fh[t]?n.emulator.push(t):n.prod.push(t);return n}function bP(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let BT=!1;function dv(n,t){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||fh[n]===t||fh[n]||BT)return;fh[n]=t;function e(A){return`__firebase__banner__${A}`}const r="__firebase__banner",l=yP().prod.length>0;function c(){const A=document.getElementById(r);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{BT=!0,c()},A}function T(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=bP(r),I=e("text"),k=document.getElementById(I)||document.createElement("span"),N=e("learnmore"),V=document.getElementById(N)||document.createElement("a"),j=e("preprendIcon"),tt=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const nt=A.element;d(nt),T(V,N);const ct=v();g(tt,j),nt.append(tt,k,V,ct),document.body.appendChild(nt)}l?(k.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function EP(){var n;const t=(n=um())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SP(){const n=ti();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xP(){return!EP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var l;t(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}function CP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="FirebaseError";class br extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=RP,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,l=this.errors[t],c=l?IP(l,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new br(o,d,r)}}function IP(n,t){return n.replace(LP,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const LP=/\{\$([^}]+)}/g;function PP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ca(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const l=n[o],c=t[o];if(FT(l)&&FT(c)){if(!ca(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function FT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ih(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(l)}}),t}function rh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function OP(n,t){const e=new MP(n,t);return e.subscribe.bind(e)}class MP{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");kP(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=Dg),o.error===void 0&&(o.error=Dg),o.complete===void 0&&(o.complete=Dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kP(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=1e3,DP=2,VP=4*60*60*1e3,UP=.5;function HT(n,t=NP,e=DP){const r=t*Math.pow(e,n),o=Math.round(UP*r*(Math.random()-.5)*2);return Math.min(VP,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n){return n&&n._delegate?n._delegate:n}class vr{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new vP;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t?.identifier),o=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BP(t))try{this.getOrInitializeService({instanceIdentifier:Al})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(t=Al){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Al){return this.instances.has(t)}getOptions(t=Al){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(o)}return o}onInit(t,e){var r;const o=this.normalizeInstanceIdentifier(e),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&t(c,o),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jP(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Al){return this.component?this.component.multipleInstances?t:Al:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jP(n){return n===Al?void 0:n}function BP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new zP(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(se||(se={}));const HP={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},qP=se.INFO,GP={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},ZP=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=GP[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=qP,this._logHandler=ZP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const YP=(n,t)=>t.some(e=>n instanceof e);let qT,GT;function KP(){return qT||(qT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WP(){return GT||(GT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZA=new WeakMap,c_=new WeakMap,YA=new WeakMap,Vg=new WeakMap,mv=new WeakMap;function XP(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(yo(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&ZA.set(e,n)}).catch(()=>{}),mv.set(t,n),t}function QP(n){if(c_.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});c_.set(n,t)}let h_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return c_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||YA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return yo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function $P(n){h_=n(h_)}function JP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Ug(this),t,...e);return YA.set(r,t.sort?t.sort():[t]),yo(r)}:WP().includes(n)?function(...t){return n.apply(Ug(this),t),yo(ZA.get(this))}:function(...t){return yo(n.apply(Ug(this),t))}}function t2(n){return typeof n=="function"?JP(n):(n instanceof IDBTransaction&&QP(n),YP(n,KP())?new Proxy(n,h_):n)}function yo(n){if(n instanceof IDBRequest)return XP(n);if(Vg.has(n))return Vg.get(n);const t=t2(n);return t!==n&&(Vg.set(n,t),mv.set(t,n)),t}const Ug=n=>mv.get(n);function KA(n,t,{blocked:e,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(n,t),d=yo(c);return r&&c.addEventListener("upgradeneeded",g=>{r(yo(c.result),g.oldVersion,g.newVersion,yo(c.transaction),g)}),e&&c.addEventListener("blocked",g=>e(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const e2=["get","getKey","getAll","getAllKeys","count"],n2=["put","add","delete","clear"],zg=new Map;function ZT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(zg.get(t))return zg.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=n2.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||e2.includes(e)))return;const l=async function(c,...d){const g=this.transaction(c,o?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(d.shift())),(await Promise.all([v[e](...d),o&&g.done]))[0]};return zg.set(t,l),l}$P(n=>({...n,get:(t,e,r)=>ZT(t,e)||n.get(t,e,r),has:(t,e)=>!!ZT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(r2(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function r2(n){const t=n.getComponent();return t?.type==="VERSION"}const f_="@firebase/app",YT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new cm("@firebase/app"),s2="@firebase/app-compat",a2="@firebase/analytics-compat",o2="@firebase/analytics",l2="@firebase/app-check-compat",u2="@firebase/app-check",c2="@firebase/auth",h2="@firebase/auth-compat",f2="@firebase/database",d2="@firebase/data-connect",m2="@firebase/database-compat",p2="@firebase/functions",g2="@firebase/functions-compat",_2="@firebase/installations",v2="@firebase/installations-compat",y2="@firebase/messaging",b2="@firebase/messaging-compat",T2="@firebase/performance",E2="@firebase/performance-compat",w2="@firebase/remote-config",A2="@firebase/remote-config-compat",S2="@firebase/storage",x2="@firebase/storage-compat",C2="@firebase/firestore",R2="@firebase/ai",I2="@firebase/firestore-compat",L2="firebase",P2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="[DEFAULT]",O2={[f_]:"fire-core",[s2]:"fire-core-compat",[o2]:"fire-analytics",[a2]:"fire-analytics-compat",[u2]:"fire-app-check",[l2]:"fire-app-check-compat",[c2]:"fire-auth",[h2]:"fire-auth-compat",[f2]:"fire-rtdb",[d2]:"fire-data-connect",[m2]:"fire-rtdb-compat",[p2]:"fire-fn",[g2]:"fire-fn-compat",[_2]:"fire-iid",[v2]:"fire-iid-compat",[y2]:"fire-fcm",[b2]:"fire-fcm-compat",[T2]:"fire-perf",[E2]:"fire-perf-compat",[w2]:"fire-rc",[A2]:"fire-rc-compat",[S2]:"fire-gcs",[x2]:"fire-gcs-compat",[C2]:"fire-fst",[I2]:"fire-fst-compat",[R2]:"fire-vertex","fire-js":"fire-js",[L2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Map,M2=new Map,m_=new Map;function KT(n,t){try{n.container.addComponent(t)}catch(e){ha.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Br(n){const t=n.name;if(m_.has(t))return ha.debug(`There were multiple attempts to register component ${t}.`),!1;m_.set(t,n);for(const e of Dd.values())KT(e,n);for(const e of M2.values())KT(e,n);return!0}function Do(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Gi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new Bl("app","Firebase",k2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=P2;function WA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:d_,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw bo.create("bad-app-name",{appName:String(o)});if(e||(e=jA()),!e)throw bo.create("no-options");const l=Dd.get(o);if(l){if(ca(e,l.options)&&ca(r,l.config))return l;throw bo.create("duplicate-app",{appName:o})}const c=new FP(o);for(const g of m_.values())c.addComponent(g);const d=new N2(e,r,c);return Dd.set(o,d),d}function hm(n=d_){const t=Dd.get(n);if(!t&&n===d_&&jA())return WA();if(!t)throw bo.create("no-app",{appName:n});return t}function bi(n,t,e){var r;let o=(r=O2[n])!==null&&r!==void 0?r:n;e&&(o+=`-${e}`);const l=o.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${t}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ha.warn(d.join(" "));return}Br(new vr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="firebase-heartbeat-database",V2=1,Ah="firebase-heartbeat-store";let jg=null;function XA(){return jg||(jg=KA(D2,V2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Ah)}catch(e){console.warn(e)}}}}).catch(n=>{throw bo.create("idb-open",{originalErrorMessage:n.message})})),jg}async function U2(n){try{const e=(await XA()).transaction(Ah),r=await e.objectStore(Ah).get(QA(n));return await e.done,r}catch(t){if(t instanceof br)ha.warn(t.message);else{const e=bo.create("idb-get",{originalErrorMessage:t?.message});ha.warn(e.message)}}}async function WT(n,t){try{const r=(await XA()).transaction(Ah,"readwrite");await r.objectStore(Ah).put(t,QA(n)),await r.done}catch(e){if(e instanceof br)ha.warn(e.message);else{const r=bo.create("idb-set",{originalErrorMessage:e?.message});ha.warn(r.message)}}}function QA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=1024,j2=30;class B2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new H2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=XT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>j2){const c=q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ha.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XT(),{heartbeatsToSend:r,unsentEntries:o}=F2(this._heartbeatsCache.heartbeats),l=Nd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ha.warn(e),""}}}function XT(){return new Date().toISOString().substring(0,10)}function F2(n,t=z2){const e=[];let r=n.slice();for(const o of n){const l=e.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),QT(e)>t){l.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),QT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class H2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await U2(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return WT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return WT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function QT(n){return Nd(JSON.stringify({version:2,heartbeats:n})).length}function q2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){Br(new vr("platform-logger",t=>new i2(t),"PRIVATE")),Br(new vr("heartbeat",t=>new B2(t),"PRIVATE")),bi(f_,YT,n),bi(f_,YT,"esm2017"),bi("fire-js","")}G2("");function pv(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e}function $A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JA=$A,t1=new Bl("auth","Firebase",$A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new cm("@firebase/auth");function Z2(n,...t){Vd.logLevel<=se.WARN&&Vd.warn(`Auth (${Fl}): ${n}`,...t)}function Td(n,...t){Vd.logLevel<=se.ERROR&&Vd.error(`Auth (${Fl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(n,...t){throw gv(n,...t)}function ps(n,...t){return gv(n,...t)}function e1(n,t,e){const r=Object.assign(Object.assign({},JA()),{[t]:e});return new Bl("auth","Firebase",r).create(t,{appName:n.name})}function oa(n){return e1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gv(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return t1.create(n,...t)}function Bt(n,t,...e){if(!n)throw gv(t,...e)}function ra(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Td(t),new Error(t)}function fa(n,t){n||ra(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Y2(){return $T()==="http:"||$T()==="https:"}function $T(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||HA()||"connection"in navigator)?navigator.onLine:!0}function W2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,e){this.shortDelay=t,this.longDelay=e,fa(e>t,"Short delay should be less than long delay!"),this.isMobile=TP()||AP()}get(){return K2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n,t){fa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$2=new jh(3e4,6e4);function va(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function xs(n,t,e,r,o={}){return i1(n,o,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const d=zh(Object.assign({key:n.config.apiKey},c)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:t,headers:g},l);return wP()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&No(n.emulatorConfig.host)&&(v.credentials="include"),n1.fetch()(await r1(n,n.config.apiHost,e,d),v)})}async function i1(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},X2),t);try{const o=new tO(n),l=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ld(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[g,v]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(n,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw ld(n,"email-already-in-use",c);if(g==="USER_DISABLED")throw ld(n,"user-disabled",c);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw e1(n,T,v);Fr(n,T)}}catch(o){if(o instanceof br)throw o;Fr(n,"network-request-failed",{message:String(o)})}}async function Bh(n,t,e,r,o={}){const l=await xs(n,t,e,r,o);return"mfaPendingCredential"in l&&Fr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function r1(n,t,e,r){const o=`${t}${e}?${r}`,l=n,c=l.config.emulator?_v(n.config,o):`${n.config.apiScheme}://${o}`;return Q2.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function J2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),$2.get())})}}function ld(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=ps(n,t,r);return o.customData._tokenResponse=e,o}function JT(n){return n!==void 0&&n.enterprise!==void 0}class eO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return J2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nO(n,t){return xs(n,"GET","/v2/recaptchaConfig",va(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,t){return xs(n,"POST","/v1/accounts:delete",t)}async function Ud(n,t){return xs(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function s1(n,t=!1){const e=xe(n),r=await e.getIdToken(t),o=vv(r);Bt(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:r,authTime:dh(Bg(o.auth_time)),issuedAtTime:dh(Bg(o.iat)),expirationTime:dh(Bg(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Bg(n){return Number(n)*1e3}function vv(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const o=VA(e);return o?JSON.parse(o):(Td("Failed to decode base64 JWT payload"),null)}catch(o){return Td("Caught error parsing JWT payload as JSON",o?.toString()),null}}function tE(n){const t=vv(n);return Bt(t,"internal-error"),Bt(typeof t.exp<"u","internal-error"),Bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof br&&rO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function rO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(n){var t;const e=n.auth,r=await n.getIdToken(),o=await Gu(n,Ud(e,{idToken:r}));Bt(o?.users.length,e,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?o1(l.providerUserInfo):[],d=aO(n.providerData,c),g=n.isAnonymous,v=!(n.email&&l.passwordHash)&&!d?.length,T=g?v:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new g_(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(n,w)}async function a1(n){const t=xe(n);await zd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aO(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function o1(n){return n.map(t=>{var{providerId:e}=t,r=pv(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,t){const e=await i1(n,{},async()=>{const r=zh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await r1(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:r};return n.emulatorConfig&&No(n.emulatorConfig.host)&&(g.credentials="include"),n1.fetch()(c,g)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function lO(n,t){return xs(n,"POST","/v2/accounts:revokeToken",va(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Bt(t.idToken,"internal-error"),Bt(typeof t.idToken<"u","internal-error"),Bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Bt(t.length!==0,"internal-error");const e=tE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:l}=await oO(t,e);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:l}=e,c=new zu;return r&&(Bt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Bt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),l&&(Bt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(n,t){Bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class jr{constructor(t){var{uid:e,auth:r,stsTokenManager:o}=t,l=pv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new g_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await Gu(this,this.stsTokenManager.getToken(this.auth,t));return Bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return s1(this,t)}reload(){return a1(this)}_assign(t){this!==t&&(Bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new jr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gi(this.auth.app))return Promise.reject(oa(this.auth));const t=await this.getIdToken();return await Gu(this,iO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,o,l,c,d,g,v,T;const w=(r=e.displayName)!==null&&r!==void 0?r:void 0,A=(o=e.email)!==null&&o!==void 0?o:void 0,I=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,k=(c=e.photoURL)!==null&&c!==void 0?c:void 0,N=(d=e.tenantId)!==null&&d!==void 0?d:void 0,V=(g=e._redirectEventId)!==null&&g!==void 0?g:void 0,j=(v=e.createdAt)!==null&&v!==void 0?v:void 0,tt=(T=e.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:nt,emailVerified:ct,isAnonymous:dt,providerData:It,stsTokenManager:G}=e;Bt(nt&&G,t,"internal-error");const D=zu.fromJSON(this.name,G);Bt(typeof nt=="string",t,"internal-error"),po(w,t.name),po(A,t.name),Bt(typeof ct=="boolean",t,"internal-error"),Bt(typeof dt=="boolean",t,"internal-error"),po(I,t.name),po(k,t.name),po(N,t.name),po(V,t.name),po(j,t.name),po(tt,t.name);const z=new jr({uid:nt,auth:t,email:A,emailVerified:ct,displayName:w,isAnonymous:dt,photoURL:k,phoneNumber:I,tenantId:N,stsTokenManager:D,createdAt:j,lastLoginAt:tt});return It&&Array.isArray(It)&&(z.providerData=It.map(Z=>Object.assign({},Z))),V&&(z._redirectEventId=V),z}static async _fromIdTokenResponse(t,e,r=!1){const o=new zu;o.updateFromServerResponse(e);const l=new jr({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await zd(l),l}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Bt(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?o1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new zu;d.updateFromIdToken(r);const g=new jr({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new g_(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function sa(n){fa(n instanceof Function,"Expected a class definition");let t=eE.get(n);return t?(fa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,eE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}l1.type="NONE";const __=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n,t,e){return`firebase:${n}:${t}:${e}`}class ju{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Ed(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ed("persistence",o.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Ud(this.auth,{idToken:t}).catch(()=>{});return e?jr._fromGetAccountInfoResponse(this.auth,e,t):null}return jr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new ju(sa(__),t,r);const o=(await Promise.all(e.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||sa(__);const c=Ed(r,t.config.apiKey,t.name);let d=null;for(const v of e)try{const T=await v._get(c);if(T){let w;if(typeof T=="string"){const A=await Ud(t,{idToken:T}).catch(()=>{});if(!A)break;w=await jr._fromGetAccountInfoResponse(t,A,T)}else w=jr._fromJSON(t,T);v!==l&&(d=w),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new ju(l,t,r):(l=g[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new ju(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(f1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(u1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(m1(t))return"Blackberry";if(p1(t))return"Webos";if(c1(t))return"Safari";if((t.includes("chrome/")||h1(t))&&!t.includes("edge/"))return"Chrome";if(d1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function u1(n=ti()){return/firefox\//i.test(n)}function c1(n=ti()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function h1(n=ti()){return/crios\//i.test(n)}function f1(n=ti()){return/iemobile/i.test(n)}function d1(n=ti()){return/android/i.test(n)}function m1(n=ti()){return/blackberry/i.test(n)}function p1(n=ti()){return/webos/i.test(n)}function yv(n=ti()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uO(n=ti()){var t;return yv(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cO(){return SP()&&document.documentMode===10}function g1(n=ti()){return yv(n)||d1(n)||p1(n)||m1(n)||/windows phone/i.test(n)||f1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n,t=[]){let e;switch(n){case"Browser":e=nE(ti());break;case"Worker":e=`${nE(ti())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=l=>new Promise((c,d)=>{try{const g=t(l);c(g)}catch(g){d(g)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(n,t={}){return xs(n,"GET","/v2/passwordPolicy",va(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=6;class mO{constructor(t){var e,r,o,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:dO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,o,l,c,d;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(e=g.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsNumericCharacter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),g}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iE(this),this.idTokenSubscription=new iE(this),this.beforeStateQueue=new hO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=sa(e)),this._initializationPromise=this.queue(async()=>{var r,o,l;if(!this._deleted&&(this.persistenceManager=await ju.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ud(this,{idToken:t}),r=await jr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Gi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await zd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=W2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gi(this.app))return Promise.reject(oa(this));const e=t?xe(t):null;return e&&Bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gi(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gi(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sa(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fO(this),e=new mO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await lO(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&sa(t)||this._popupRedirectResolver;Bt(e,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[sa(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const g=t.addObserver(e,r,o);return()=>{c=!0,g()}}else{const g=t.addObserver(e);return()=>{c=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(Gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&Z2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(n){return xe(n)}class iE{constructor(t){this.auth=t,this.observer=null,this.addObserver=OP(e=>this.observer=e)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gO(n){fm=n}function v1(n){return fm.loadJS(n)}function _O(){return fm.recaptchaEnterpriseScript}function vO(){return fm.gapiScript}function yO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bO{constructor(){this.enterprise=new TO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class TO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const EO="recaptcha-enterprise",y1="NO_RECAPTCHA";class wO{constructor(t){this.type=EO,this.auth=Vo(t)}async verify(t="verify",e=!1){async function r(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{nO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const v=new eO(g);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,c(v.siteKey)}}).catch(g=>{d(g)})})}function o(l,c,d){const g=window.grecaptcha;JT(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:t}).then(v=>{c(v)}).catch(()=>{c(y1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!e&&JT(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=_O();g.length!==0&&(g+=d),v1(g).then(()=>{o(d,l,c)}).catch(v=>{c(v)})}}).catch(d=>{c(d)})})}}async function rE(n,t,e,r=!1,o=!1){const l=new wO(n);let c;if(o)c=y1;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const d=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,v=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function jd(n,t,e,r,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await rE(n,t,e,e==="getOobCode");return r(n,c)}else return r(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await rE(n,t,e,e==="getOobCode");return r(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,t){const e=Do(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),l=e.getOptions();if(ca(l,t??{}))return o;Fr(o,"already-initialized")}return e.initialize({options:t})}function AO(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(sa);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function T1(n,t,e){const r=Vo(n);Bt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,l=E1(t),{host:c,port:d}=SO(t),g=d===null?"":`:${d}`,v={url:`${l}//${c}${g}/`},T=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Bt(ca(v,r.config.emulator)&&ca(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,No(c)?(fv(`${l}//${c}${g}`),dv("Auth",!0)):xO()}function E1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function SO(n){const t=E1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:sE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:sE(c)}}}function sE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function xO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ra("not implemented")}_getIdTokenResponse(t){return ra("not implemented")}_linkToIdToken(t,e){return ra("not implemented")}_getReauthenticationResolver(t){return ra("not implemented")}}async function CO(n,t){return xs(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(n,t){return Bh(n,"POST","/v1/accounts:signInWithPassword",va(n,t))}async function w1(n,t){return xs(n,"POST","/v1/accounts:sendOobCode",va(n,t))}async function IO(n,t){return w1(n,t)}async function LO(n,t){return w1(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(n,t){return Bh(n,"POST","/v1/accounts:signInWithEmailLink",va(n,t))}async function OO(n,t){return Bh(n,"POST","/v1/accounts:signInWithEmailLink",va(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends dm{constructor(t,e,r,o=null){super("password",r),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Zu(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Zu(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(t,e,"signInWithPassword",RO);case"emailLink":return PO(t,{email:this._email,oobCode:this._password});default:Fr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jd(t,r,"signUpPassword",CO);case"emailLink":return OO(t,{idToken:e,email:this._email,oobCode:this._password});default:Fr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(n,t){return Bh(n,"POST","/v1/accounts:signInWithIdp",va(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="http://localhost";class wo extends dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new wo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Fr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=e,l=pv(e,["providerId","signInMethod"]);if(!r||!o)return null;const c=new wo(r,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Bu(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Bu(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Bu(t,e)}buildRequest(){const t={requestUri:MO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=zh(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NO(n){const t=ih(rh(n)).link,e=t?ih(rh(t)).deep_link_id:null,r=ih(rh(n)).deep_link_id;return(r?ih(rh(r)).link:null)||r||e||t||n}class mm{constructor(t){var e,r,o,l,c,d;const g=ih(rh(t)),v=(e=g.apiKey)!==null&&e!==void 0?e:null,T=(r=g.oobCode)!==null&&r!==void 0?r:null,w=kO((o=g.mode)!==null&&o!==void 0?o:null);Bt(v&&T&&w,"argument-error"),this.apiKey=v,this.operation=w,this.code=T,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=g.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=g.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const e=NO(t);try{return new mm(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(t,e){return Zu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=mm.parseLink(e);return Bt(r,"argument-error"),Zu._fromEmailAndCode(t,r.code,r.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends A1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Fh{constructor(){super("facebook.com")}static credential(t){return wo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ta.credential(t.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Fh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return wo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return ea.credential(e,r)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Fh{constructor(){super("github.com")}static credential(t){return wo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return na.credential(t.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Fh{constructor(){super("twitter.com")}static credential(t,e){return wo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return ia.credential(e,r)}catch{return null}}}ia.TWITTER_SIGN_IN_METHOD="twitter.com";ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,t){return Bh(n,"POST","/v1/accounts:signUp",va(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const l=await jr._fromIdTokenResponse(t,r,o),c=aE(r);return new Ol({user:l,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=aE(r);return new Ol({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function aE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends br{constructor(t,e,r,o){var l;super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new Bd(t,e,r,o)}}function S1(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(n,l,t,r):l})}async function VO(n,t,e=!1){const r=await Gu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ol._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(n,t,e=!1){const{auth:r}=n;if(Gi(r.app))return Promise.reject(oa(r));const o="reauthenticate";try{const l=await Gu(n,S1(r,o,t,n),e);Bt(l.idToken,r,"internal-error");const c=vv(l.idToken);Bt(c,r,"internal-error");const{sub:d}=c;return Bt(n.uid===d,r,"user-mismatch"),Ol._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Fr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(n,t,e=!1){if(Gi(n.app))return Promise.reject(oa(n));const r="signIn",o=await S1(n,r,t),l=await Ol._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(l.user),l}async function C1(n,t){return x1(Vo(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(n){const t=Vo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function I1(n,t,e){const r=Vo(n);await jd(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",LO)}async function L1(n,t,e){if(Gi(n.app))return Promise.reject(oa(n));const r=Vo(n),c=await jd(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DO).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&R1(n),g}),d=await Ol._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function P1(n,t,e){return Gi(n.app)?Promise.reject(oa(n)):C1(xe(n),Hl.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R1(n),r})}async function O1(n,t){const e=xe(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await IO(e.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(n,t){return xs(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const r=xe(n),l={idToken:await r.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await Gu(r,zO(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:g})=>g==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function k1(n,t,e,r){return xe(n).onIdTokenChanged(t,e,r)}function N1(n,t,e){return xe(n).beforeAuthStateChanged(t,e)}function bv(n,t,e,r){return xe(n).onAuthStateChanged(t,e,r)}function jO(n){return xe(n).signOut()}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1e3,FO=10;class V1 extends D1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,g)=>{this.notifyListeners(c,g)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);cO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,FO):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}V1.type="LOCAL";const U1=V1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends D1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}z1.type="SESSION";const Tv=z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new pm(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:l}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(c).map(async v=>v(e.origin,l)),g=await HO(d);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,g)=>{const v=Ev("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(T),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(T),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:v,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return window}function GO(n){gs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function ZO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YO(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function KO(){return j1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firebaseLocalStorageDb",WO=1,Hd="firebaseLocalStorage",F1="fbase_key";class Hh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function gm(n,t){return n.transaction([Hd],t?"readwrite":"readonly").objectStore(Hd)}function XO(){const n=indexedDB.deleteDatabase(B1);return new Hh(n).toPromise()}function v_(){const n=indexedDB.open(B1,WO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hd,{keyPath:F1})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hd)?t(r):(r.close(),await XO(),t(await v_()))})})}async function oE(n,t,e){const r=gm(n,!0).put({[F1]:t,value:e});return new Hh(r).toPromise()}async function QO(n,t){const e=gm(n,!1).get(t),r=await new Hh(e).toPromise();return r===void 0?null:r.value}function lE(n,t){const e=gm(n,!0).delete(t);return new Hh(e).toPromise()}const $O=800,JO=3;class H1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>JO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(KO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await ZO(),!this.activeServiceWorker)return;this.sender=new qO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await v_();return await oE(t,Fd,"1"),await lE(t,Fd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>QO(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>lE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const l=gm(o,!1).getAll();return new Hh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:l}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H1.type="LOCAL";const q1=H1;new jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n,t){return t?sa(t):(Bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends dm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Bu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Bu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function eM(n){return x1(n.auth,new wv(n),n.bypassAuthState)}function nM(n){const{auth:t,user:e}=n;return Bt(e,t,"internal-error"),UO(e,new wv(n),n.bypassAuthState)}async function iM(n){const{auth:t,user:e}=n;return Bt(e,t,"internal-error"),VO(e,new wv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,e,r,o,l=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:e,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eM;case"linkViaPopup":case"linkViaRedirect":return iM;case"reauthViaPopup":case"reauthViaRedirect":return nM;default:Fr(this.auth,"internal-error")}}resolve(t){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new jh(2e3,1e4);class Du extends G1{constructor(t,e,r,o,l){super(t,e,o,l),this.provider=r,this.authWindow=null,this.pollId=null,Du.currentPopupAction&&Du.currentPopupAction.cancel(),Du.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Bt(t,this.auth,"internal-error"),t}async onExecution(){fa(this.filter.length===1,"Popup operations only handle one event");const t=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Du.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rM.get())};t()}}Du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="pendingRedirect",wd=new Map;class aM extends G1{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=wd.get(this.auth._key());if(!t){try{const r=await oM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}wd.set(this.auth._key(),t)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oM(n,t){const e=cM(t),r=uM(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function lM(n,t){wd.set(n._key(),t)}function uM(n){return sa(n._redirectPersistence)}function cM(n){return Ed(sM,n.config.apiKey,n.name)}async function hM(n,t,e=!1){if(Gi(n.app))return Promise.reject(oa(n));const r=Vo(n),o=tM(r,t),c=await new aM(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=10*60*1e3;class dM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!Z1(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(ps(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fM&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(t))}saveEventToCache(t){this.cachedEventUids.add(uE(t)),this.lastProcessedEventTime=Date.now()}}function uE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Z1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function mM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(n,t={}){return xs(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_M=/^https?/;async function vM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await pM(n);for(const e of t)try{if(yM(e))return}catch{}Fr(n,"unauthorized-domain")}function yM(n){const t=p_(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!_M.test(e))return!1;if(gM.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new jh(3e4,6e4);function cE(){const n=gs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function TM(n){return new Promise((t,e)=>{var r,o,l;function c(){cE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cE(),e(ps(n,"network-request-failed"))},timeout:bM.get()})}if(!((o=(r=gs().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((l=gs().gapi)===null||l===void 0)&&l.load)c();else{const d=yO("iframefcb");return gs()[d]=()=>{gapi.load?c():e(ps(n,"network-request-failed"))},v1(`${vO()}?onload=${d}`).catch(g=>e(g))}}).catch(t=>{throw Ad=null,t})}let Ad=null;function EM(n){return Ad=Ad||TM(n),Ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=new jh(5e3,15e3),AM="__/auth/iframe",SM="emulator/auth/iframe",xM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RM(n){const t=n.config;Bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?_v(t,SM):`https://${n.config.authDomain}/${AM}`,r={apiKey:t.apiKey,appName:n.name,v:Fl},o=CM.get(n.config.apiHost);o&&(r.eid=o);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${e}?${zh(r).slice(1)}`}async function IM(n){const t=await EM(n),e=gs().gapi;return Bt(e,n,"internal-error"),t.open({where:document.body,url:RM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xM,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const c=ps(n,"network-request-failed"),d=gs().setTimeout(()=>{l(c)},wM.get());function g(){gs().clearTimeout(d),o(r)}r.ping(g).then(g,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PM=500,OM=600,MM="_blank",kM="http://localhost";class hE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NM(n,t,e,r=PM,o=OM){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const g=Object.assign(Object.assign({},LM),{width:r.toString(),height:o.toString(),top:l,left:c}),v=ti().toLowerCase();e&&(d=h1(v)?MM:e),u1(v)&&(t=t||kM,g.scrollbars="yes");const T=Object.entries(g).reduce((A,[I,k])=>`${A}${I}=${k},`,"");if(uO(v)&&d!=="_self")return DM(t||"",d),new hE(null);const w=window.open(t||"",d,T);Bt(w,n,"popup-blocked");try{w.focus()}catch{}return new hE(w)}function DM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="__/auth/handler",UM="emulator/auth/handler",zM=encodeURIComponent("fac");async function fE(n,t,e,r,o,l){Bt(n.config.authDomain,n,"auth-domain-config-required"),Bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Fl,eventId:o};if(t instanceof A1){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",PP(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))c[T]=w}if(t instanceof Fh){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(c.scopes=T.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const T of Object.keys(d))d[T]===void 0&&delete d[T];const g=await n._getAppCheckToken(),v=g?`#${zM}=${encodeURIComponent(g)}`:"";return`${jM(n)}?${zh(d).slice(1)}${v}`}function jM({config:n}){return n.emulator?_v(n,UM):`https://${n.authDomain}/${VM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="webStorageSupport";class BM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tv,this._completeRedirectFn=hM,this._overrideRedirectResult=lM}async _openPopup(t,e,r,o){var l;fa((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await fE(t,e,r,p_(),o);return NM(t,c,Ev())}async _openRedirect(t,e,r,o){await this._originValidation(t);const l=await fE(t,e,r,p_(),o);return GO(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:l}=this.eventManagers[e];return o?Promise.resolve(o):(fa(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await IM(t),r=new dM(t);return e.register("authEvent",o=>(Bt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Fg,{type:Fg},o=>{var l;const c=(l=o?.[0])===null||l===void 0?void 0:l[Fg];c!==void 0&&e(!!c),Fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=vM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return g1()||c1()||yv()}}const Y1=BM;var dE="@firebase/auth",mE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qM(n){Br(new vr("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Bt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_1(n)},v=new pO(r,o,l,g);return AO(v,e),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Br(new vr("auth-internal",t=>{const e=Vo(t.getProvider("auth").getImmediate());return(r=>new FM(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(dE,mE,HM(n)),bi(dE,mE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=5*60,ZM=BA("authIdTokenMaxAge")||GM;let pE=null;const YM=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>ZM)return;const o=e?.token;pE!==o&&(pE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Av(n=hm()){const t=Do(n,"auth");if(t.isInitialized())return t.getImmediate();const e=b1(n,{popupRedirectResolver:Y1,persistence:[q1,U1,Tv]}),r=BA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=YM(l.toString());N1(e,c,()=>c(e.currentUser)),k1(e,d=>c(d))}}const o=UA("auth");return o&&T1(e,`http://${o}`),e}function KM(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}gO({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const l=ps("internal-error");l.customData=o,e(l)},r.type="text/javascript",r.charset="UTF-8",KM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qM("Browser");const WM=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:mm,AuthCredential:dm,EmailAuthCredential:Zu,EmailAuthProvider:Hl,FacebookAuthProvider:ta,GithubAuthProvider:na,GoogleAuthProvider:ea,OAuthCredential:wo,TwitterAuthProvider:ia,beforeAuthStateChanged:N1,browserLocalPersistence:U1,browserPopupRedirectResolver:Y1,browserSessionPersistence:Tv,connectAuthEmulator:T1,createUserWithEmailAndPassword:L1,getAuth:Av,getIdTokenResult:s1,inMemoryPersistence:__,indexedDBLocalPersistence:q1,initializeAuth:b1,onAuthStateChanged:bv,onIdTokenChanged:k1,prodErrorMap:JA,reload:a1,sendEmailVerification:O1,sendPasswordResetEmail:I1,signInWithCredential:C1,signInWithEmailAndPassword:P1,signOut:jO,updateProfile:M1},Symbol.toStringTag,{value:"Module"}));var XM="firebase",QM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(XM,QM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebasestorage.googleapis.com",W1="storageBucket",$M=2*60*1e3,JM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends br{constructor(t,e,r=0){super(Hg(t),`Firebase Storage: ${e} (${Hg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Hg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var en;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(en||(en={}));function Hg(n){return"storage/"+n}function Sv(){const n="An unknown error occurred, please check the error payload for server response.";return new nn(en.UNKNOWN,n)}function tk(n){return new nn(en.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function ek(n){return new nn(en.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nk(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(en.UNAUTHENTICATED,n)}function ik(){return new nn(en.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rk(n){return new nn(en.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function sk(){return new nn(en.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ak(){return new nn(en.CANCELED,"User canceled the upload/download.")}function ok(n){return new nn(en.INVALID_URL,"Invalid URL '"+n+"'.")}function lk(n){return new nn(en.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uk(){return new nn(en.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W1+"' property when initializing the app?")}function ck(){return new nn(en.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hk(){return new nn(en.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fk(n){return new nn(en.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function y_(n){return new nn(en.INVALID_ARGUMENT,n)}function X1(){return new nn(en.APP_DELETED,"The Firebase app was deleted.")}function dk(n){return new nn(en.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mh(n,t){return new nn(en.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function nh(n){throw new nn(en.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Zi.makeFromUrl(t,e)}catch{return new Zi(t,"")}if(r.path==="")return r;throw lk(t)}static makeFromUrl(t,e){let r=null;const o="([A-Za-z0-9.\\-_]+)";function l(ct){ct.path.charAt(ct.path.length-1)==="/"&&(ct.path_=ct.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),g={bucket:1,path:3};function v(ct){ct.path_=decodeURIComponent(ct.path)}const T="v[A-Za-z0-9_]+",w=e.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${T}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},N=e===K1?"(?:storage.googleapis.com|storage.cloud.google.com)":e,V="([^?#]*)",j=new RegExp(`^https?://${N}/${o}/${V}`,"i"),nt=[{regex:d,indices:g,postModify:l},{regex:I,indices:k,postModify:v},{regex:j,indices:{bucket:1,path:2},postModify:v}];for(let ct=0;ct<nt.length;ct++){const dt=nt[ct],It=dt.regex.exec(t);if(It){const G=It[dt.indices.bucket];let D=It[dt.indices.path];D||(D=""),r=new Zi(G,D),dt.postModify(r);break}}if(r==null)throw ok(t);return r}}class mk{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n,t,e){let r=1,o=null,l=null,c=!1,d=0;function g(){return d===2}let v=!1;function T(...V){v||(v=!0,t.apply(null,V))}function w(V){o=setTimeout(()=>{o=null,n(I,g())},V)}function A(){l&&clearTimeout(l)}function I(V,...j){if(v){A();return}if(V){A(),T.call(null,V,...j);return}if(g()||c){A(),T.call(null,V,...j);return}r<64&&(r*=2);let nt;d===1?(d=2,nt=0):nt=(r+Math.random())*1e3,w(nt)}let k=!1;function N(V){k||(k=!0,A(),!v&&(o!==null?(V||(d=2),clearTimeout(o),w(0)):V||(d=1)))}return w(0),l=setTimeout(()=>{c=!0,N(!0)},e),N}function gk(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){return n!==void 0}function vk(n){return typeof n=="object"&&!Array.isArray(n)}function xv(n){return typeof n=="string"||n instanceof String}function gE(n){return Cv()&&n instanceof Blob}function Cv(){return typeof Blob<"u"}function _E(n,t,e,r){if(r<t)throw y_(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw y_(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,t,e){let r=t;return e==null&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function Q1(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const o=t(r)+"="+t(n[r]);e=e+o+"&"}return e=e.slice(0,-1),e}var Il;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Il||(Il={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n,t){const e=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=t.indexOf(n)!==-1;return e||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t,e,r,o,l,c,d,g,v,T,w,A=!0,I=!1){this.url_=t,this.method_=e,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,N)=>{this.resolve_=k,this.reject_=N,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new ud(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const g=d.loaded,v=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,v)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Il.NO_ERROR,g=l.getStatus();if(!d||yk(g,this.additionalRetryCodes_)&&this.retry){const T=l.getErrorCode()===Il.ABORT;r(!1,new ud(!1,null,T));return}const v=this.successCodes_.indexOf(g)!==-1;r(!0,new ud(v,l))})},e=(r,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());_k(g)?l(g):l()}catch(g){c(g)}else if(d!==null){const g=Sv();g.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,g)):c(g)}else if(o.canceled){const g=this.appDelete_?X1():ak();c(g)}else{const g=sk();c(g)}};this.canceled_?e(!1,new ud(!1,null,!0)):this.backoffId_=pk(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&gk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ud{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function Tk(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function Ek(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wk(n,t){t&&(n["X-Firebase-GMPID"]=t)}function Ak(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function Sk(n,t,e,r,o,l,c=!0,d=!1){const g=Q1(n.urlParams),v=n.url+g,T=Object.assign({},n.headers);return wk(T,t),Tk(T,e),Ek(T,l),Ak(T,r),new bk(v,n.method,T,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ck(...n){const t=xk();if(t!==void 0){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}else{if(Cv())return new Blob(n);throw new nn(en.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Rk(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){if(typeof atob>"u")throw fk("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qg{constructor(t,e){this.data=t,this.contentType=e||null}}function Lk(n,t){switch(n){case fs.RAW:return new qg($1(t));case fs.BASE64:case fs.BASE64URL:return new qg(J1(n,t));case fs.DATA_URL:return new qg(Ok(t),Mk(t))}throw Sv()}function $1(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const l=r,c=n.charCodeAt(++e);r=65536|(l&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Pk(n){let t;try{t=decodeURIComponent(n)}catch{throw mh(fs.DATA_URL,"Malformed data URL.")}return $1(t)}function J1(n,t){switch(n){case fs.BASE64:{const o=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(o||l)throw mh(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case fs.BASE64URL:{const o=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(o||l)throw mh(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=Ik(t)}catch(o){throw o.message.includes("polyfill")?o:mh(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}class tS{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw mh(fs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;r!=null&&(this.base64=kk(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Ok(n){const t=new tS(n);return t.base64?J1(fs.BASE64,t.rest):Pk(t.rest)}function Mk(n){return new tS(n).contentType}function kk(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,e){let r=0,o="";gE(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(gE(this.data_)){const r=this.data_,o=Rk(r,t,e);return o===null?null:new _o(o)}else{const r=new Uint8Array(this.data_.buffer,t,e-t);return new _o(r,!0)}}static getBlob(...t){if(Cv()){const e=t.map(r=>r instanceof _o?r.data_:r);return new _o(Ck.apply(null,e))}else{const e=t.map(c=>xv(c)?Lk(fs.RAW,c).data:c.data_);let r=0;e.forEach(c=>{r+=c.byteLength});const o=new Uint8Array(r);let l=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new _o(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n){let t;try{t=JSON.parse(n)}catch{return null}return vk(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function Dk(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return n.length===0?e:n+"/"+e}function nS(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n,t){return t}class ui{constructor(t,e,r,o){this.server=t,this.local=e||t,this.writable=!!r,this.xform=o||Vk}}let cd=null;function Uk(n){return!xv(n)||n.length<2?n:nS(n)}function iS(){if(cd)return cd;const n=[];n.push(new ui("bucket")),n.push(new ui("generation")),n.push(new ui("metageneration")),n.push(new ui("name","fullPath",!0));function t(l,c){return Uk(c)}const e=new ui("name");e.xform=t,n.push(e);function r(l,c){return c!==void 0?Number(c):c}const o=new ui("size");return o.xform=r,n.push(o),n.push(new ui("timeCreated")),n.push(new ui("updated")),n.push(new ui("md5Hash",null,!0)),n.push(new ui("cacheControl",null,!0)),n.push(new ui("contentDisposition",null,!0)),n.push(new ui("contentEncoding",null,!0)),n.push(new ui("contentLanguage",null,!0)),n.push(new ui("contentType",null,!0)),n.push(new ui("metadata","customMetadata",!0)),cd=n,cd}function zk(n,t){function e(){const r=n.bucket,o=n.fullPath,l=new Zi(r,o);return t._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:e})}function jk(n,t,e){const r={};r.type="file";const o=e.length;for(let l=0;l<o;l++){const c=e[l];r[c.local]=c.xform(r,t[c.server])}return zk(r,n),r}function rS(n,t,e){const r=eS(t);return r===null?null:jk(n,r,e)}function Bk(n,t,e,r){const o=eS(t);if(o===null||!xv(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(v=>{const T=n.bucket,w=n.fullPath,A="/b/"+c(T)+"/o/"+c(w),I=_m(A,e,r),k=Q1({alt:"media",token:v});return I+k})[0]}function Fk(n,t){const e={},r=t.length;for(let o=0;o<r;o++){const l=t[o];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}class Rv{constructor(t,e,r,o){this.url=t,this.method=e,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n){if(!n)throw Sv()}function Hk(n,t){function e(r,o){const l=rS(n,o,t);return sS(l!==null),l}return e}function qk(n,t){function e(r,o){const l=rS(n,o,t);return sS(l!==null),Bk(l,o,n.host,n._protocol)}return e}function aS(n){function t(e,r){let o;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?o=ik():o=nk():e.getStatus()===402?o=ek(n.bucket):e.getStatus()===403?o=rk(n.path):o=r,o.status=e.getStatus(),o.serverResponse=r.serverResponse,o}return t}function oS(n){const t=aS(n);function e(r,o){let l=t(r,o);return r.getStatus()===404&&(l=tk(n.path)),l.serverResponse=o.serverResponse,l}return e}function Gk(n,t,e){const r=t.fullServerUrl(),o=_m(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new Rv(o,l,qk(n,e),c);return d.errorHandler=oS(t),d}function Zk(n,t){const e=t.fullServerUrl(),r=_m(e,n.host,n._protocol),o="DELETE",l=n.maxOperationRetryTime;function c(g,v){}const d=new Rv(r,o,c,l);return d.successCodes=[200,204],d.errorHandler=oS(t),d}function Yk(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function Kk(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=Yk(null,t)),r}function Wk(n,t,e,r,o){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let nt="";for(let ct=0;ct<2;ct++)nt=nt+Math.random().toString().slice(2);return nt}const g=d();c["Content-Type"]="multipart/related; boundary="+g;const v=Kk(t,r,o),T=Fk(v,e),w="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+g+`\r
Content-Type: `+v.contentType+`\r
\r
`,A=`\r
--`+g+"--",I=_o.getBlob(w,r,A);if(I===null)throw ck();const k={name:v.fullPath},N=_m(l,n.host,n._protocol),V="POST",j=n.maxUploadRetryTime,tt=new Rv(N,V,Hk(n,e),j);return tt.urlParams=k,tt.headers=c,tt.body=I.uploadData(),tt.errorHandler=aS(t),tt}class Xk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Il.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Il.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Il.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,o,l){if(this.sent_)throw nh("cannot .send() more than once");if(No(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Qk extends Xk{initXhr(){this.xhr_.responseType="text"}}function Iv(){return new Qk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,e){this._service=t,e instanceof Zi?this._location=e:this._location=Zi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ml(t,e)}get root(){const t=new Zi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nS(this._location.path)}get storage(){return this._service}get parent(){const t=Nk(this._location.path);if(t===null)return null;const e=new Zi(this._location.bucket,t);return new Ml(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw dk(t)}}function $k(n,t,e){n._throwIfRoot("uploadBytes");const r=Wk(n.storage,n._location,iS(),new _o(t,!0),e);return n.storage.makeRequestWithTokens(r,Iv).then(o=>({metadata:o,ref:n}))}function Jk(n){n._throwIfRoot("getDownloadURL");const t=Gk(n.storage,n._location,iS());return n.storage.makeRequestWithTokens(t,Iv).then(e=>{if(e===null)throw hk();return e})}function tN(n){n._throwIfRoot("deleteObject");const t=Zk(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Iv)}function eN(n,t){const e=Dk(n._location.path,t),r=new Zi(n._location.bucket,e);return new Ml(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){return/^[A-Za-z]+:\/\//.test(n)}function iN(n,t){return new Ml(n,t)}function lS(n,t){if(n instanceof Lv){const e=n;if(e._bucket==null)throw uk();const r=new Ml(e,e._bucket);return t!=null?lS(r,t):r}else return t!==void 0?eN(n,t):n}function rN(n,t){if(t&&nN(t)){if(n instanceof Lv)return iN(n,t);throw y_("To use ref(service, url), the first argument must be a Storage instance.")}else return lS(n,t)}function vE(n,t){const e=t?.[W1];return e==null?null:Zi.makeFromBucketSpec(e,n)}function sN(n,t,e,r={}){n.host=`${t}:${e}`;const o=No(t);o&&(fv(`https://${n.host}/b`),dv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:FA(l,n.app.options.projectId))}class Lv{constructor(t,e,r,o,l,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=K1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$M,this._maxUploadRetryTime=JM,this._requests=new Set,o!=null?this._bucket=Zi.makeFromBucketSpec(o,this._host):this._bucket=vE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Zi.makeFromBucketSpec(this._url,t):this._bucket=vE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){_E("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){_E("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ml(this,t)}_makeRequest(t,e,r,o,l=!0){if(this._deleted)return new mk(X1());{const c=Sk(t,this._appId,r,o,e,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,o).getPromise()}}const yE="@firebase/storage",bE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="storage";function aN(n,t,e){return n=xe(n),$k(n,t,e)}function oN(n){return n=xe(n),Jk(n)}function lN(n){return n=xe(n),tN(n)}function TE(n,t){return n=xe(n),rN(n,t)}function uN(n=hm(),t){n=xe(n);const r=Do(n,uS).getImmediate({identifier:t}),o=zA("storage");return o&&cN(r,...o),r}function cN(n,t,e,r={}){sN(n,t,e,r)}function hN(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Lv(e,r,o,t,Fl)}function fN(){Br(new vr(uS,hN,"PUBLIC").setMultipleInstances(!0)),bi(yE,bE,""),bi(yE,bE,"esm2017")}fN();const cS="@firebase/installations",Pv="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=1e4,fS=`w:${Pv}`,dS="FIS_v2",dN="https://firebaseinstallations.googleapis.com/v1",mN=60*60*1e3,pN="installations",gN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},kl=new Bl(pN,gN,_N);function mS(n){return n instanceof br&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS({projectId:n}){return`${dN}/projects/${n}/installations`}function gS(n){return{token:n.token,requestStatus:2,expiresIn:yN(n.expiresIn),creationTime:Date.now()}}async function _S(n,t){const r=(await t.json()).error;return kl.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function vN(n,{refreshToken:t}){const e=vS(n);return e.append("Authorization",bN(t)),e}async function yS(n){const t=await n();return t.status>=500&&t.status<600?n():t}function yN(n){return Number(n.replace("s","000"))}function bN(n){return`${dS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=pS(n),o=vS(n),l=t.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:e,authVersion:dS,appId:n.appId,sdkVersion:fS},d={method:"POST",headers:o,body:JSON.stringify(c)},g=await yS(()=>fetch(r,d));if(g.ok){const v=await g.json();return{fid:v.fid||e,registrationStatus:2,refreshToken:v.refreshToken,authToken:gS(v.authToken)}}else throw await _S("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^[cdef][\w-]{21}$/,b_="";function AN(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=SN(n);return wN.test(e)?e:b_}catch{return b_}}function SN(n){return EN(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new Map;function ES(n,t){const e=vm(n);wS(e,t),xN(e,t)}function wS(n,t){const e=TS.get(n);if(e)for(const r of e)r(t)}function xN(n,t){const e=CN();e&&e.postMessage({key:n,fid:t}),RN()}let xl=null;function CN(){return!xl&&"BroadcastChannel"in self&&(xl=new BroadcastChannel("[Firebase] FID Change"),xl.onmessage=n=>{wS(n.data.key,n.data.fid)}),xl}function RN(){TS.size===0&&xl&&(xl.close(),xl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="firebase-installations-database",LN=1,Nl="firebase-installations-store";let Gg=null;function Ov(){return Gg||(Gg=KA(IN,LN,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Nl)}}})),Gg}async function qd(n,t){const e=vm(n),o=(await Ov()).transaction(Nl,"readwrite"),l=o.objectStore(Nl),c=await l.get(e);return await l.put(t,e),await o.done,(!c||c.fid!==t.fid)&&ES(n,t.fid),t}async function AS(n){const t=vm(n),r=(await Ov()).transaction(Nl,"readwrite");await r.objectStore(Nl).delete(t),await r.done}async function ym(n,t){const e=vm(n),o=(await Ov()).transaction(Nl,"readwrite"),l=o.objectStore(Nl),c=await l.get(e),d=t(c);return d===void 0?await l.delete(e):await l.put(d,e),await o.done,d&&(!c||c.fid!==d.fid)&&ES(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mv(n){let t;const e=await ym(n.appConfig,r=>{const o=PN(r),l=ON(n,o);return t=l.registrationPromise,l.installationEntry});return e.fid===b_?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function PN(n){const t=n||{fid:AN(),registrationStatus:0};return SS(t)}function ON(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(kl.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=MN(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:kN(n)}:{installationEntry:t}}async function MN(n,t){try{const e=await TN(n,t);return qd(n.appConfig,e)}catch(e){throw mS(e)&&e.customData.serverCode===409?await AS(n.appConfig):await qd(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function kN(n){let t=await EE(n.appConfig);for(;t.registrationStatus===1;)await bS(100),t=await EE(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await Mv(n);return r||e}return t}function EE(n){return ym(n,t=>{if(!t)throw kl.create("installation-not-found");return SS(t)})}function SS(n){return NN(n)?{fid:n.fid,registrationStatus:0}:n}function NN(n){return n.registrationStatus===1&&n.registrationTime+hS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN({appConfig:n,heartbeatServiceProvider:t},e){const r=VN(n,e),o=vN(n,e),l=t.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:fS,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},g=await yS(()=>fetch(r,d));if(g.ok){const v=await g.json();return gS(v)}else throw await _S("Generate Auth Token",g)}function VN(n,{fid:t}){return`${pS(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kv(n,t=!1){let e;const r=await ym(n.appConfig,l=>{if(!xS(l))throw kl.create("not-registered");const c=l.authToken;if(!t&&jN(c))return l;if(c.requestStatus===1)return e=UN(n,t),l;{if(!navigator.onLine)throw kl.create("app-offline");const d=FN(l);return e=zN(n,d),d}});return e?await e:r.authToken}async function UN(n,t){let e=await wE(n.appConfig);for(;e.authToken.requestStatus===1;)await bS(100),e=await wE(n.appConfig);const r=e.authToken;return r.requestStatus===0?kv(n,t):r}function wE(n){return ym(n,t=>{if(!xS(t))throw kl.create("not-registered");const e=t.authToken;return HN(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function zN(n,t){try{const e=await DN(n,t),r=Object.assign(Object.assign({},t),{authToken:e});return await qd(n.appConfig,r),e}catch(e){if(mS(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await AS(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await qd(n.appConfig,r)}throw e}}function xS(n){return n!==void 0&&n.registrationStatus===2}function jN(n){return n.requestStatus===2&&!BN(n)}function BN(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+mN}function FN(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function HN(n){return n.requestStatus===1&&n.requestTime+hS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(n){const t=n,{installationEntry:e,registrationPromise:r}=await Mv(t);return r?r.catch(console.error):kv(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,t=!1){const e=n;return await ZN(e),(await kv(e,t)).token}async function ZN(n){const{registrationPromise:t}=await Mv(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n){if(!n||!n.options)throw Zg("App Configuration");if(!n.name)throw Zg("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw Zg(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Zg(n){return kl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="installations",KN="installations-internal",WN=n=>{const t=n.getProvider("app").getImmediate(),e=YN(t),r=Do(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},XN=n=>{const t=n.getProvider("app").getImmediate(),e=Do(t,CS).getImmediate();return{getId:()=>qN(e),getToken:o=>GN(e,o)}};function QN(){Br(new vr(CS,WN,"PUBLIC")),Br(new vr(KN,XN,"PRIVATE"))}QN();bi(cS,Pv);bi(cS,Pv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="analytics",$N="firebase_id",JN="origin",tD=60*1e3,eD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new cm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ki=new Bl("analytics","Analytics",nD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){if(!n.startsWith(Nv)){const t=Ki.create("invalid-gtag-resource",{gtagURL:n});return Ti.warn(t.message),""}return n}function RS(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function rD(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function sD(n,t){const e=rD("firebase-js-sdk-policy",{createScriptURL:iD}),r=document.createElement("script"),o=`${Nv}?l=${n}&id=${t}`;r.src=e?e?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function aD(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function oD(n,t,e,r,o,l){const c=r[o];try{if(c)await t[c];else{const g=(await RS(e)).find(v=>v.measurementId===o);g&&await t[g.appId]}}catch(d){Ti.error(d)}n("config",o,l)}async function lD(n,t,e,r,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await RS(e);for(const g of c){const v=d.find(w=>w.measurementId===g),T=v&&t[v.appId];if(T)l.push(T);else{l=[];break}}}l.length===0&&(l=Object.values(t)),await Promise.all(l),n("event",r,o||{})}catch(l){Ti.error(l)}}function uD(n,t,e,r){async function o(l,...c){try{if(l==="event"){const[d,g]=c;await lD(n,t,e,d,g)}else if(l==="config"){const[d,g]=c;await oD(n,t,e,r,d,g)}else if(l==="consent"){const[d,g]=c;n("consent",d,g)}else if(l==="get"){const[d,g,v]=c;n("get",d,g,v)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){Ti.error(d)}}return o}function cD(n,t,e,r,o){let l=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=uD(l,n,t,e),{gtagCore:l,wrappedGtag:window[o]}}function hD(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Nv)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=30,dD=1e3;class mD{constructor(t={},e=dD){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const IS=new mD;function pD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function gD(n){var t;const{appId:e,apiKey:r}=n,o={method:"GET",headers:pD(r)},l=eD.replace("{app-id}",e),c=await fetch(l,o);if(c.status!==200&&c.status!==304){let d="";try{const g=await c.json();!((t=g.error)===null||t===void 0)&&t.message&&(d=g.error.message)}catch{}throw Ki.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function _D(n,t=IS,e){const{appId:r,apiKey:o,measurementId:l}=n.options;if(!r)throw Ki.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:r};throw Ki.create("no-api-key")}const c=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new bD;return setTimeout(async()=>{d.abort()},tD),LS({appId:r,apiKey:o,measurementId:l},c,d,t)}async function LS(n,{throttleEndTimeMillis:t,backoffCount:e},r,o=IS){var l;const{appId:c,measurementId:d}=n;try{await vD(r,t)}catch(g){if(d)return Ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:d};throw g}try{const g=await gD(n);return o.deleteThrottleMetadata(c),g}catch(g){const v=g;if(!yD(v)){if(o.deleteThrottleMetadata(c),d)return Ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:d};throw g}const T=Number((l=v?.customData)===null||l===void 0?void 0:l.httpStatus)===503?HT(e,o.intervalMillis,fD):HT(e,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+T,backoffCount:e+1};return o.setThrottleMetadata(c,w),Ti.debug(`Calling attemptFetch again in ${T} millis`),LS(n,w,r,o)}}function vD(n,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),l=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(l),r(Ki.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function yD(n){if(!(n instanceof br)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class bD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function TD(n,t,e,r,o){if(o&&o.global){n("event",e,r);return}else{const l=await t,c=Object.assign(Object.assign({},r),{send_to:l});n("event",e,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(){if(qA())try{await GA()}catch(n){return Ti.warn(Ki.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Ti.warn(Ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wD(n,t,e,r,o,l,c){var d;const g=_D(n);g.then(I=>{e[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&Ti.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>Ti.error(I)),t.push(g);const v=ED().then(I=>{if(I)return r.getId()}),[T,w]=await Promise.all([g,v]);hD(l)||sD(l,T.measurementId),o("js",new Date);const A=(d=c?.config)!==null&&d!==void 0?d:{};return A[JN]="firebase",A.update=!0,w!=null&&(A[$N]=w),o("config",T.measurementId,A),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t){this.app=t}_delete(){return delete ph[this.app.options.appId],Promise.resolve()}}let ph={},AE=[];const SE={};let Yg="dataLayer",SD="gtag",xE,PS,CE=!1;function xD(){const n=[];if(HA()&&n.push("This is a browser extension environment."),CP()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=Ki.create("invalid-analytics-context",{errorInfo:t});Ti.warn(e.message)}}function CD(n,t,e){xD();const r=n.options.appId;if(!r)throw Ki.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ki.create("no-api-key");if(ph[r]!=null)throw Ki.create("already-exists",{id:r});if(!CE){aD(Yg);const{wrappedGtag:l,gtagCore:c}=cD(ph,AE,SE,Yg,SD);PS=l,xE=c,CE=!0}return ph[r]=wD(n,AE,SE,t,xE,Yg,e),new AD(n)}function RD(n=hm()){n=xe(n);const t=Do(n,Gd);return t.isInitialized()?t.getImmediate():ID(n)}function ID(n,t={}){const e=Do(n,Gd);if(e.isInitialized()){const o=e.getImmediate();if(ca(t,e.getOptions()))return o;throw Ki.create("already-initialized")}return e.initialize({options:t})}function LD(n,t,e,r){n=xe(n),TD(PS,ph[n.app.options.appId],t,e,r).catch(o=>Ti.error(o))}const RE="@firebase/analytics",IE="0.10.17";function PD(){Br(new vr(Gd,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return CD(r,o,e)},"PUBLIC")),Br(new vr("analytics-internal",n,"PRIVATE")),bi(RE,IE),bi(RE,IE,"esm2017");function n(t){try{const e=t.getProvider(Gd).getImmediate();return{logEvent:(r,o,l)=>LD(e,r,o,l)}}catch(e){throw Ki.create("interop-component-reg-failed",{reason:e})}}}PD();var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,OS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(G,D){function z(){}z.prototype=D.prototype,G.D=D.prototype,G.prototype=new z,G.prototype.constructor=G,G.C=function(Z,Y,W){for(var H=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)H[Ce-2]=arguments[Ce];return D.prototype[Y].apply(Z,H)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(G,D,z){z||(z=0);var Z=Array(16);if(typeof D=="string")for(var Y=0;16>Y;++Y)Z[Y]=D.charCodeAt(z++)|D.charCodeAt(z++)<<8|D.charCodeAt(z++)<<16|D.charCodeAt(z++)<<24;else for(Y=0;16>Y;++Y)Z[Y]=D[z++]|D[z++]<<8|D[z++]<<16|D[z++]<<24;D=G.g[0],z=G.g[1],Y=G.g[2];var W=G.g[3],H=D+(W^z&(Y^W))+Z[0]+3614090360&4294967295;D=z+(H<<7&4294967295|H>>>25),H=W+(Y^D&(z^Y))+Z[1]+3905402710&4294967295,W=D+(H<<12&4294967295|H>>>20),H=Y+(z^W&(D^z))+Z[2]+606105819&4294967295,Y=W+(H<<17&4294967295|H>>>15),H=z+(D^Y&(W^D))+Z[3]+3250441966&4294967295,z=Y+(H<<22&4294967295|H>>>10),H=D+(W^z&(Y^W))+Z[4]+4118548399&4294967295,D=z+(H<<7&4294967295|H>>>25),H=W+(Y^D&(z^Y))+Z[5]+1200080426&4294967295,W=D+(H<<12&4294967295|H>>>20),H=Y+(z^W&(D^z))+Z[6]+2821735955&4294967295,Y=W+(H<<17&4294967295|H>>>15),H=z+(D^Y&(W^D))+Z[7]+4249261313&4294967295,z=Y+(H<<22&4294967295|H>>>10),H=D+(W^z&(Y^W))+Z[8]+1770035416&4294967295,D=z+(H<<7&4294967295|H>>>25),H=W+(Y^D&(z^Y))+Z[9]+2336552879&4294967295,W=D+(H<<12&4294967295|H>>>20),H=Y+(z^W&(D^z))+Z[10]+4294925233&4294967295,Y=W+(H<<17&4294967295|H>>>15),H=z+(D^Y&(W^D))+Z[11]+2304563134&4294967295,z=Y+(H<<22&4294967295|H>>>10),H=D+(W^z&(Y^W))+Z[12]+1804603682&4294967295,D=z+(H<<7&4294967295|H>>>25),H=W+(Y^D&(z^Y))+Z[13]+4254626195&4294967295,W=D+(H<<12&4294967295|H>>>20),H=Y+(z^W&(D^z))+Z[14]+2792965006&4294967295,Y=W+(H<<17&4294967295|H>>>15),H=z+(D^Y&(W^D))+Z[15]+1236535329&4294967295,z=Y+(H<<22&4294967295|H>>>10),H=D+(Y^W&(z^Y))+Z[1]+4129170786&4294967295,D=z+(H<<5&4294967295|H>>>27),H=W+(z^Y&(D^z))+Z[6]+3225465664&4294967295,W=D+(H<<9&4294967295|H>>>23),H=Y+(D^z&(W^D))+Z[11]+643717713&4294967295,Y=W+(H<<14&4294967295|H>>>18),H=z+(W^D&(Y^W))+Z[0]+3921069994&4294967295,z=Y+(H<<20&4294967295|H>>>12),H=D+(Y^W&(z^Y))+Z[5]+3593408605&4294967295,D=z+(H<<5&4294967295|H>>>27),H=W+(z^Y&(D^z))+Z[10]+38016083&4294967295,W=D+(H<<9&4294967295|H>>>23),H=Y+(D^z&(W^D))+Z[15]+3634488961&4294967295,Y=W+(H<<14&4294967295|H>>>18),H=z+(W^D&(Y^W))+Z[4]+3889429448&4294967295,z=Y+(H<<20&4294967295|H>>>12),H=D+(Y^W&(z^Y))+Z[9]+568446438&4294967295,D=z+(H<<5&4294967295|H>>>27),H=W+(z^Y&(D^z))+Z[14]+3275163606&4294967295,W=D+(H<<9&4294967295|H>>>23),H=Y+(D^z&(W^D))+Z[3]+4107603335&4294967295,Y=W+(H<<14&4294967295|H>>>18),H=z+(W^D&(Y^W))+Z[8]+1163531501&4294967295,z=Y+(H<<20&4294967295|H>>>12),H=D+(Y^W&(z^Y))+Z[13]+2850285829&4294967295,D=z+(H<<5&4294967295|H>>>27),H=W+(z^Y&(D^z))+Z[2]+4243563512&4294967295,W=D+(H<<9&4294967295|H>>>23),H=Y+(D^z&(W^D))+Z[7]+1735328473&4294967295,Y=W+(H<<14&4294967295|H>>>18),H=z+(W^D&(Y^W))+Z[12]+2368359562&4294967295,z=Y+(H<<20&4294967295|H>>>12),H=D+(z^Y^W)+Z[5]+4294588738&4294967295,D=z+(H<<4&4294967295|H>>>28),H=W+(D^z^Y)+Z[8]+2272392833&4294967295,W=D+(H<<11&4294967295|H>>>21),H=Y+(W^D^z)+Z[11]+1839030562&4294967295,Y=W+(H<<16&4294967295|H>>>16),H=z+(Y^W^D)+Z[14]+4259657740&4294967295,z=Y+(H<<23&4294967295|H>>>9),H=D+(z^Y^W)+Z[1]+2763975236&4294967295,D=z+(H<<4&4294967295|H>>>28),H=W+(D^z^Y)+Z[4]+1272893353&4294967295,W=D+(H<<11&4294967295|H>>>21),H=Y+(W^D^z)+Z[7]+4139469664&4294967295,Y=W+(H<<16&4294967295|H>>>16),H=z+(Y^W^D)+Z[10]+3200236656&4294967295,z=Y+(H<<23&4294967295|H>>>9),H=D+(z^Y^W)+Z[13]+681279174&4294967295,D=z+(H<<4&4294967295|H>>>28),H=W+(D^z^Y)+Z[0]+3936430074&4294967295,W=D+(H<<11&4294967295|H>>>21),H=Y+(W^D^z)+Z[3]+3572445317&4294967295,Y=W+(H<<16&4294967295|H>>>16),H=z+(Y^W^D)+Z[6]+76029189&4294967295,z=Y+(H<<23&4294967295|H>>>9),H=D+(z^Y^W)+Z[9]+3654602809&4294967295,D=z+(H<<4&4294967295|H>>>28),H=W+(D^z^Y)+Z[12]+3873151461&4294967295,W=D+(H<<11&4294967295|H>>>21),H=Y+(W^D^z)+Z[15]+530742520&4294967295,Y=W+(H<<16&4294967295|H>>>16),H=z+(Y^W^D)+Z[2]+3299628645&4294967295,z=Y+(H<<23&4294967295|H>>>9),H=D+(Y^(z|~W))+Z[0]+4096336452&4294967295,D=z+(H<<6&4294967295|H>>>26),H=W+(z^(D|~Y))+Z[7]+1126891415&4294967295,W=D+(H<<10&4294967295|H>>>22),H=Y+(D^(W|~z))+Z[14]+2878612391&4294967295,Y=W+(H<<15&4294967295|H>>>17),H=z+(W^(Y|~D))+Z[5]+4237533241&4294967295,z=Y+(H<<21&4294967295|H>>>11),H=D+(Y^(z|~W))+Z[12]+1700485571&4294967295,D=z+(H<<6&4294967295|H>>>26),H=W+(z^(D|~Y))+Z[3]+2399980690&4294967295,W=D+(H<<10&4294967295|H>>>22),H=Y+(D^(W|~z))+Z[10]+4293915773&4294967295,Y=W+(H<<15&4294967295|H>>>17),H=z+(W^(Y|~D))+Z[1]+2240044497&4294967295,z=Y+(H<<21&4294967295|H>>>11),H=D+(Y^(z|~W))+Z[8]+1873313359&4294967295,D=z+(H<<6&4294967295|H>>>26),H=W+(z^(D|~Y))+Z[15]+4264355552&4294967295,W=D+(H<<10&4294967295|H>>>22),H=Y+(D^(W|~z))+Z[6]+2734768916&4294967295,Y=W+(H<<15&4294967295|H>>>17),H=z+(W^(Y|~D))+Z[13]+1309151649&4294967295,z=Y+(H<<21&4294967295|H>>>11),H=D+(Y^(z|~W))+Z[4]+4149444226&4294967295,D=z+(H<<6&4294967295|H>>>26),H=W+(z^(D|~Y))+Z[11]+3174756917&4294967295,W=D+(H<<10&4294967295|H>>>22),H=Y+(D^(W|~z))+Z[2]+718787259&4294967295,Y=W+(H<<15&4294967295|H>>>17),H=z+(W^(Y|~D))+Z[9]+3951481745&4294967295,G.g[0]=G.g[0]+D&4294967295,G.g[1]=G.g[1]+(Y+(H<<21&4294967295|H>>>11))&4294967295,G.g[2]=G.g[2]+Y&4294967295,G.g[3]=G.g[3]+W&4294967295}r.prototype.u=function(G,D){D===void 0&&(D=G.length);for(var z=D-this.blockSize,Z=this.B,Y=this.h,W=0;W<D;){if(Y==0)for(;W<=z;)o(this,G,W),W+=this.blockSize;if(typeof G=="string"){for(;W<D;)if(Z[Y++]=G.charCodeAt(W++),Y==this.blockSize){o(this,Z),Y=0;break}}else for(;W<D;)if(Z[Y++]=G[W++],Y==this.blockSize){o(this,Z),Y=0;break}}this.h=Y,this.o+=D},r.prototype.v=function(){var G=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);G[0]=128;for(var D=1;D<G.length-8;++D)G[D]=0;var z=8*this.o;for(D=G.length-8;D<G.length;++D)G[D]=z&255,z/=256;for(this.u(G),G=Array(16),D=z=0;4>D;++D)for(var Z=0;32>Z;Z+=8)G[z++]=this.g[D]>>>Z&255;return G};function l(G,D){var z=d;return Object.prototype.hasOwnProperty.call(z,G)?z[G]:z[G]=D(G)}function c(G,D){this.h=D;for(var z=[],Z=!0,Y=G.length-1;0<=Y;Y--){var W=G[Y]|0;Z&&W==D||(z[Y]=W,Z=!1)}this.g=z}var d={};function g(G){return-128<=G&&128>G?l(G,function(D){return new c([D|0],0>D?-1:0)}):new c([G|0],0>G?-1:0)}function v(G){if(isNaN(G)||!isFinite(G))return w;if(0>G)return V(v(-G));for(var D=[],z=1,Z=0;G>=z;Z++)D[Z]=G/z|0,z*=4294967296;return new c(D,0)}function T(G,D){if(G.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(G.charAt(0)=="-")return V(T(G.substring(1),D));if(0<=G.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=v(Math.pow(D,8)),Z=w,Y=0;Y<G.length;Y+=8){var W=Math.min(8,G.length-Y),H=parseInt(G.substring(Y,Y+W),D);8>W?(W=v(Math.pow(D,W)),Z=Z.j(W).add(v(H))):(Z=Z.j(z),Z=Z.add(v(H)))}return Z}var w=g(0),A=g(1),I=g(16777216);n=c.prototype,n.m=function(){if(N(this))return-V(this).m();for(var G=0,D=1,z=0;z<this.g.length;z++){var Z=this.i(z);G+=(0<=Z?Z:4294967296+Z)*D,D*=4294967296}return G},n.toString=function(G){if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if(k(this))return"0";if(N(this))return"-"+V(this).toString(G);for(var D=v(Math.pow(G,6)),z=this,Z="";;){var Y=ct(z,D).g;z=j(z,Y.j(D));var W=((0<z.g.length?z.g[0]:z.h)>>>0).toString(G);if(z=Y,k(z))return W+Z;for(;6>W.length;)W="0"+W;Z=W+Z}},n.i=function(G){return 0>G?0:G<this.g.length?this.g[G]:this.h};function k(G){if(G.h!=0)return!1;for(var D=0;D<G.g.length;D++)if(G.g[D]!=0)return!1;return!0}function N(G){return G.h==-1}n.l=function(G){return G=j(this,G),N(G)?-1:k(G)?0:1};function V(G){for(var D=G.g.length,z=[],Z=0;Z<D;Z++)z[Z]=~G.g[Z];return new c(z,~G.h).add(A)}n.abs=function(){return N(this)?V(this):this},n.add=function(G){for(var D=Math.max(this.g.length,G.g.length),z=[],Z=0,Y=0;Y<=D;Y++){var W=Z+(this.i(Y)&65535)+(G.i(Y)&65535),H=(W>>>16)+(this.i(Y)>>>16)+(G.i(Y)>>>16);Z=H>>>16,W&=65535,H&=65535,z[Y]=H<<16|W}return new c(z,z[z.length-1]&-2147483648?-1:0)};function j(G,D){return G.add(V(D))}n.j=function(G){if(k(this)||k(G))return w;if(N(this))return N(G)?V(this).j(V(G)):V(V(this).j(G));if(N(G))return V(this.j(V(G)));if(0>this.l(I)&&0>G.l(I))return v(this.m()*G.m());for(var D=this.g.length+G.g.length,z=[],Z=0;Z<2*D;Z++)z[Z]=0;for(Z=0;Z<this.g.length;Z++)for(var Y=0;Y<G.g.length;Y++){var W=this.i(Z)>>>16,H=this.i(Z)&65535,Ce=G.i(Y)>>>16,Fe=G.i(Y)&65535;z[2*Z+2*Y]+=H*Fe,tt(z,2*Z+2*Y),z[2*Z+2*Y+1]+=W*Fe,tt(z,2*Z+2*Y+1),z[2*Z+2*Y+1]+=H*Ce,tt(z,2*Z+2*Y+1),z[2*Z+2*Y+2]+=W*Ce,tt(z,2*Z+2*Y+2)}for(Z=0;Z<D;Z++)z[Z]=z[2*Z+1]<<16|z[2*Z];for(Z=D;Z<2*D;Z++)z[Z]=0;return new c(z,0)};function tt(G,D){for(;(G[D]&65535)!=G[D];)G[D+1]+=G[D]>>>16,G[D]&=65535,D++}function nt(G,D){this.g=G,this.h=D}function ct(G,D){if(k(D))throw Error("division by zero");if(k(G))return new nt(w,w);if(N(G))return D=ct(V(G),D),new nt(V(D.g),V(D.h));if(N(D))return D=ct(G,V(D)),new nt(V(D.g),D.h);if(30<G.g.length){if(N(G)||N(D))throw Error("slowDivide_ only works with positive integers.");for(var z=A,Z=D;0>=Z.l(G);)z=dt(z),Z=dt(Z);var Y=It(z,1),W=It(Z,1);for(Z=It(Z,2),z=It(z,2);!k(Z);){var H=W.add(Z);0>=H.l(G)&&(Y=Y.add(z),W=H),Z=It(Z,1),z=It(z,1)}return D=j(G,Y.j(D)),new nt(Y,D)}for(Y=w;0<=G.l(D);){for(z=Math.max(1,Math.floor(G.m()/D.m())),Z=Math.ceil(Math.log(z)/Math.LN2),Z=48>=Z?1:Math.pow(2,Z-48),W=v(z),H=W.j(D);N(H)||0<H.l(G);)z-=Z,W=v(z),H=W.j(D);k(W)&&(W=A),Y=Y.add(W),G=j(G,H)}return new nt(Y,G)}n.A=function(G){return ct(this,G).h},n.and=function(G){for(var D=Math.max(this.g.length,G.g.length),z=[],Z=0;Z<D;Z++)z[Z]=this.i(Z)&G.i(Z);return new c(z,this.h&G.h)},n.or=function(G){for(var D=Math.max(this.g.length,G.g.length),z=[],Z=0;Z<D;Z++)z[Z]=this.i(Z)|G.i(Z);return new c(z,this.h|G.h)},n.xor=function(G){for(var D=Math.max(this.g.length,G.g.length),z=[],Z=0;Z<D;Z++)z[Z]=this.i(Z)^G.i(Z);return new c(z,this.h^G.h)};function dt(G){for(var D=G.g.length+1,z=[],Z=0;Z<D;Z++)z[Z]=G.i(Z)<<1|G.i(Z-1)>>>31;return new c(z,G.h)}function It(G,D){var z=D>>5;D%=32;for(var Z=G.g.length-z,Y=[],W=0;W<Z;W++)Y[W]=0<D?G.i(W+z)>>>D|G.i(W+z+1)<<32-D:G.i(W+z);return new c(Y,G.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=T,To=c}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MS,sh,kS,Sd,T_,NS,DS,VS;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,x){return m==Array.prototype||m==Object.prototype||(m[E]=x.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var E=0;E<m.length;++E){var x=m[E];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=e(this);function o(m,E){if(E)t:{var x=r;m=m.split(".");for(var M=0;M<m.length-1;M++){var Q=m[M];if(!(Q in x))break t;x=x[Q]}m=m[m.length-1],M=x[m],E=E(M),E!=M&&E!=null&&t(x,m,{configurable:!0,writable:!0,value:E})}}function l(m,E){m instanceof String&&(m+="");var x=0,M=!1,Q={next:function(){if(!M&&x<m.length){var at=x++;return{value:E(at,m[at]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}o("Array.prototype.values",function(m){return m||function(){return l(this,function(E,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function v(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function T(m,E,x){return m.call.apply(m.bind,arguments)}function w(m,E,x){if(!m)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,M),m.apply(E,Q)}}return function(){return m.apply(E,arguments)}}function A(m,E,x){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,A.apply(null,arguments)}function I(m,E){var x=Array.prototype.slice.call(arguments,1);return function(){var M=x.slice();return M.push.apply(M,arguments),m.apply(this,M)}}function k(m,E){function x(){}x.prototype=E.prototype,m.aa=E.prototype,m.prototype=new x,m.prototype.constructor=m,m.Qb=function(M,Q,at){for(var Tt=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)Tt[ie-2]=arguments[ie];return E.prototype[Q].apply(M,Tt)}}function N(m){const E=m.length;if(0<E){const x=Array(E);for(let M=0;M<E;M++)x[M]=m[M];return x}return[]}function V(m,E){for(let x=1;x<arguments.length;x++){const M=arguments[x];if(g(M)){const Q=m.length||0,at=M.length||0;m.length=Q+at;for(let Tt=0;Tt<at;Tt++)m[Q+Tt]=M[Tt]}else m.push(M)}}class j{constructor(E,x){this.i=E,this.j=x,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function tt(m){return/^[\s\xa0]*$/.test(m)}function nt(){var m=d.navigator;return m&&(m=m.userAgent)?m:""}function ct(m){return ct[" "](m),m}ct[" "]=function(){};var dt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function It(m,E,x){for(const M in m)E.call(x,m[M],M,m)}function G(m,E){for(const x in m)E.call(void 0,m[x],x,m)}function D(m){const E={};for(const x in m)E[x]=m[x];return E}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(m,E){let x,M;for(let Q=1;Q<arguments.length;Q++){M=arguments[Q];for(x in M)m[x]=M[x];for(let at=0;at<z.length;at++)x=z[at],Object.prototype.hasOwnProperty.call(M,x)&&(m[x]=M[x])}}function Y(m){var E=1;m=m.split(":");const x=[];for(;0<E&&m.length;)x.push(m.shift()),E--;return m.length&&x.push(m.join(":")),x}function W(m){d.setTimeout(()=>{throw m},0)}function H(){var m=le;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Ce{constructor(){this.h=this.g=null}add(E,x){const M=Fe.get();M.set(E,x),this.h?this.h.next=M:this.g=M,this.h=M}}var Fe=new j(()=>new ot,m=>m.reset());class ot{constructor(){this.next=this.g=this.h=null}set(E,x){this.h=E,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Et,vt=!1,le=new Ce,U=()=>{const m=d.Promise.resolve(void 0);Et=()=>{m.then(lt)}};var lt=()=>{for(var m;m=H();){try{m.h.call(m.g)}catch(x){W(x)}var E=Fe;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}vt=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _t(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};d.addEventListener("test",x,E),d.removeEventListener("test",x,E)}catch{}return m}();function Rt(m,E){if(_t.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var x=this.type=m.type,M=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(dt){t:{try{ct(E.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(E=null)}}else x=="mouseover"?E=m.fromElement:x=="mouseout"&&(E=m.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:wt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Rt.aa.h.call(this)}}k(Rt,_t);var wt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),oe=0;function wi(m,E,x,M,Q){this.listener=m,this.proxy=null,this.src=E,this.type=x,this.capture=!!M,this.ha=Q,this.key=++oe,this.da=this.fa=!1}function Xi(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ai(m){this.src=m,this.g={},this.h=0}Ai.prototype.add=function(m,E,x,M,Q){var at=m.toString();m=this.g[at],m||(m=this.g[at]=[],this.h++);var Tt=Tr(m,E,M,Q);return-1<Tt?(E=m[Tt],x||(E.fa=!1)):(E=new wi(E,this.src,at,!!M,Q),E.fa=x,m.push(E)),E};function Si(m,E){var x=E.type;if(x in m.g){var M=m.g[x],Q=Array.prototype.indexOf.call(M,E,void 0),at;(at=0<=Q)&&Array.prototype.splice.call(M,Q,1),at&&(Xi(E),m.g[x].length==0&&(delete m.g[x],m.h--))}}function Tr(m,E,x,M){for(var Q=0;Q<m.length;++Q){var at=m[Q];if(!at.da&&at.listener==E&&at.capture==!!x&&at.ha==M)return Q}return-1}var Cs="closure_lm_"+(1e6*Math.random()|0),ba={};function Fo(m,E,x,M,Q){if(Array.isArray(E)){for(var at=0;at<E.length;at++)Fo(m,E[at],x,M,Q);return null}return x=Yl(x),m&&m[Te]?m.K(E,x,v(M)?!!M.capture:!1,Q):jn(m,E,x,!1,M,Q)}function jn(m,E,x,M,Q,at){if(!E)throw Error("Invalid event type");var Tt=v(Q)?!!Q.capture:!!Q,ie=Is(m);if(ie||(m[Cs]=ie=new Ai(m)),x=ie.add(E,x,M,Tt,at),x.proxy)return x;if(M=Ta(),x.proxy=M,M.src=m,M.listener=x,m.addEventListener)At||(Q=Tt),Q===void 0&&(Q=!1),m.addEventListener(E.toString(),M,Q);else if(m.attachEvent)m.attachEvent(Er(E.toString()),M);else if(m.addListener&&m.removeListener)m.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ta(){function m(x){return E.call(m.src,m.listener,x)}const E=Zl;return m}function Ho(m,E,x,M,Q){if(Array.isArray(E))for(var at=0;at<E.length;at++)Ho(m,E[at],x,M,Q);else M=v(M)?!!M.capture:!!M,x=Yl(x),m&&m[Te]?(m=m.i,E=String(E).toString(),E in m.g&&(at=m.g[E],x=Tr(at,x,M,Q),-1<x&&(Xi(at[x]),Array.prototype.splice.call(at,x,1),at.length==0&&(delete m.g[E],m.h--)))):m&&(m=Is(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Tr(E,x,M,Q)),(x=-1<m?E[m]:null)&&Rs(x))}function Rs(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Te])Si(E.i,m);else{var x=m.type,M=m.proxy;E.removeEventListener?E.removeEventListener(x,M,m.capture):E.detachEvent?E.detachEvent(Er(x),M):E.addListener&&E.removeListener&&E.removeListener(M),(x=Is(E))?(Si(x,m),x.h==0&&(x.src=null,E[Cs]=null)):Xi(m)}}}function Er(m){return m in ba?ba[m]:ba[m]="on"+m}function Zl(m,E){if(m.da)m=!0;else{E=new Rt(E,this);var x=m.listener,M=m.ha||m.src;m.fa&&Rs(m),m=x.call(M,E)}return m}function Is(m){return m=m[Cs],m instanceof Ai?m:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yl(m){return typeof m=="function"?m:(m[qo]||(m[qo]=function(E){return m.handleEvent(E)}),m[qo])}function Oe(){bt.call(this),this.i=new Ai(this),this.M=this,this.F=null}k(Oe,bt),Oe.prototype[Te]=!0,Oe.prototype.removeEventListener=function(m,E,x,M){Ho(this,m,E,x,M)};function fe(m,E){var x,M=m.F;if(M)for(x=[];M;M=M.F)x.push(M);if(m=m.M,M=E.type||E,typeof E=="string")E=new _t(E,m);else if(E instanceof _t)E.target=E.target||m;else{var Q=E;E=new _t(M,m),Z(E,Q)}if(Q=!0,x)for(var at=x.length-1;0<=at;at--){var Tt=E.g=x[at];Q=Bn(Tt,M,!0,E)&&Q}if(Tt=E.g=m,Q=Bn(Tt,M,!0,E)&&Q,Q=Bn(Tt,M,!1,E)&&Q,x)for(at=0;at<x.length;at++)Tt=E.g=x[at],Q=Bn(Tt,M,!1,E)&&Q}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var x=m.g[E],M=0;M<x.length;M++)Xi(x[M]);delete m.g[E],m.h--}}this.F=null},Oe.prototype.K=function(m,E,x,M){return this.i.add(String(m),E,!1,x,M)},Oe.prototype.L=function(m,E,x,M){return this.i.add(String(m),E,!0,x,M)};function Bn(m,E,x,M){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,at=0;at<E.length;++at){var Tt=E[at];if(Tt&&!Tt.da&&Tt.capture==x){var ie=Tt.listener,Qe=Tt.ha||Tt.src;Tt.fa&&Si(m.i,Tt),Q=ie.call(Qe,M)!==!1&&Q}}return Q&&!M.defaultPrevented}function Tn(m,E,x){if(typeof m=="function")x&&(m=A(m,x));else if(m&&typeof m.handleEvent=="function")m=A(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:d.setTimeout(m,E||0)}function Go(m){m.g=Tn(()=>{m.g=null,m.i&&(m.i=!1,Go(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Kl extends bt{constructor(E,x){super(),this.m=E,this.l=x,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(m){bt.call(this),this.h=m,this.g={}}k(Ls,bt);var qr=[];function wr(m){It(m.g,function(E,x){this.g.hasOwnProperty(x)&&Rs(E)},m),m.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),wr(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=d.JSON.stringify,Ea=d.JSON.parse,xi=class{stringify(m){return d.JSON.stringify(m,void 0)}parse(m){return d.JSON.parse(m,void 0)}};function Zo(){}Zo.prototype.h=null;function Yo(m){return m.h||(m.h=m.i())}function wa(){}var Qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){_t.call(this,"d")}k($i,_t);function Ko(){_t.call(this,"c")}k(Ko,_t);var Ji={},Wo=null;function Gr(){return Wo=Wo||new Oe}Ji.La="serverreachability";function Aa(m){_t.call(this,Ji.La,m)}k(Aa,_t);function Zr(m){const E=Gr();fe(E,new Aa(E))}Ji.STAT_EVENT="statevent";function Sa(m,E){_t.call(this,Ji.STAT_EVENT,m),this.stat=E}k(Sa,_t);function Me(m){const E=Gr();fe(E,new Sa(E,m))}Ji.Ma="timingevent";function rn(m,E){_t.call(this,Ji.Ma,m),this.size=E}k(rn,_t);function Xe(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){m()},E)}function hi(){this.g=!0}hi.prototype.xa=function(){this.g=!1};function Fn(m,E,x,M,Q,at){m.info(function(){if(m.g)if(at)for(var Tt="",ie=at.split("&"),Qe=0;Qe<ie.length;Qe++){var re=ie[Qe].split("=");if(1<re.length){var ge=re[0];re=re[1];var Ne=ge.split("_");Tt=2<=Ne.length&&Ne[1]=="type"?Tt+(ge+"="+re+"&"):Tt+(ge+"=redacted&")}}else Tt=null;else Tt=at;return"XMLHTTP REQ ("+M+") [attempt "+Q+"]: "+E+`
`+x+`
`+Tt})}function Mt(m,E,x,M,Q,at,Tt){m.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Q+"]: "+E+`
`+x+`
`+at+" "+Tt})}function Ar(m,E,x,M){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Yr(m,x)+(M?" "+M:"")})}function Xo(m,E){m.info(function(){return"TIMEOUT: "+E})}hi.prototype.info=function(){};function Yr(m,E){if(!m.g)return E;if(!E)return null;try{var x=JSON.parse(E);if(x){for(m=0;m<x.length;m++)if(Array.isArray(x[m])){var M=x[m];if(!(2>M.length)){var Q=M[1];if(Array.isArray(Q)&&!(1>Q.length)){var at=Q[0];if(at!="noop"&&at!="stop"&&at!="close")for(var Tt=1;Tt<Q.length;Tt++)Q[Tt]=""}}}}return ci(x)}catch{return E}}var Sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ri;function Pn(){}k(Pn,Zo),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},Ri=new Pn;function En(m,E,x,M){this.j=m,this.i=E,this.l=x,this.R=M||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}var Qo={},xa={};function Ii(m,E,x){m.L=1,m.v=ni(ke(E)),m.m=x,m.P=!0,tr(m,null)}function tr(m,E){m.F=Date.now(),Os(m),m.A=ke(m.v);var x=m.A,M=m.R;Array.isArray(M)||(M=[String(M)]),tl(x.i,"t",M),m.C=0,x=m.j.J,m.h=new Ge,m.g=tu(m.j,x?E:null,!m.m),0<m.O&&(m.M=new Kl(A(m.Y,m,m.g),m.O)),E=m.U,x=m.g,M=m.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(qr[0]=Q.toString()),Q=qr);for(var at=0;at<Q.length;at++){var Tt=Fo(x,Q[at],M||E.handleEvent,!1,E.h||E);if(!Tt)break;E.g[Tt.key]=Tt}E=m.H?D(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Zr(),Fn(m.i,m.u,m.A,m.l,m.R,m.m)}En.prototype.ca=function(m){m=m.target;const E=this.M;E&&Sn(m)==3?E.j():this.Y(m)},En.prototype.Y=function(m){try{if(m==this.g)t:{const Ne=Sn(this.g);var E=this.g.Ba();const Mr=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||Ne!=4||E==7||(E==8||0>=Mr?Zr(3):Zr(2)),Kr(this);var x=this.g.Z();this.X=x;e:if(Wl(this)){var M=el(this.g);m="";var Q=M.length,at=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),er(this);var Tt="";break e}this.h.i=new d.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,m+=this.h.i.decode(M[E],{stream:!(at&&E==Q-1)});M.length=0,this.h.g+=m,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=x==200,Mt(this.i,this.u,this.A,this.l,this.R,Ne,x),this.o){if(this.T&&!this.K){e:{if(this.g){var ie,Qe=this.g;if((ie=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(ie)){var re=ie;break e}}re=null}if(x=re)Ar(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,x);else{this.o=!1,this.s=3,Me(12),gn(this),er(this);break t}}if(this.P){x=!0;let Re;for(;!this.J&&this.C<Tt.length;)if(Re=Ps(this,Tt),Re==xa){Ne==4&&(this.s=4,Me(14),x=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==Qo){this.s=4,Me(15),Ar(this.i,this.l,Tt,"[Invalid Chunk]"),x=!1;break}else Ar(this.i,this.l,Re,null),xr(this,Re);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||Tt.length!=0||this.h.h||(this.s=1,Me(16),x=!1),this.o=this.o&&x,!x)Ar(this.i,this.l,Tt,"[Invalid Chunked Response]"),gn(this),er(this);else if(0<Tt.length&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.ba&&!ge.M&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),ts(ge),ge.M=!0,Me(11))}}else Ar(this.i,this.l,Tt,null),xr(this,Tt);Ne==4&&gn(this),this.o&&!this.J&&(Ne==4?il(this.j,this):(this.o=!1,Os(this)))}else cc(this.g),x==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),gn(this),er(this)}}}catch{}finally{}};function Wl(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ps(m,E){var x=m.C,M=E.indexOf(`
`,x);return M==-1?xa:(x=Number(E.substring(x,M)),isNaN(x)?Qo:(M+=1,M+x>E.length?xa:(E=E.slice(M,M+x),m.C=M+x,E)))}En.prototype.cancel=function(){this.J=!0,gn(this)};function Os(m){m.S=Date.now()+m.I,Xl(m,m.I)}function Xl(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Xe(A(m.ba,m),E)}function Kr(m){m.B&&(d.clearTimeout(m.B),m.B=null)}En.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Xo(this.i,this.A),this.L!=2&&(Zr(),Me(17)),gn(this),this.s=2,er(this)):Xl(this,this.S-m)};function er(m){m.j.G==0||m.J||il(m.j,m)}function gn(m){Kr(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,wr(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function xr(m,E){try{var x=m.j;if(x.G!=0&&(x.g==m||$t(x.h,m))){if(!m.K&&$t(x.h,m)&&x.G==3){try{var M=x.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Q=M;if(Q[0]==0){t:if(!x.u){if(x.g)if(x.g.F+3e3<m.F)Na(x),Oa(x);else break t;Ma(x),Me(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=Xe(A(x.Za,x),6e3));if(1>=ir(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Or(x,11)}else if((m.K||x.g==m)&&Na(x),!tt(E))for(Q=x.Da.g.parse(E),E=0;E<Q.length;E++){let re=Q[E];if(x.T=re[0],re=re[1],x.G==2)if(re[0]=="c"){x.K=re[1],x.ia=re[2];const ge=re[3];ge!=null&&(x.la=ge,x.j.info("VER="+x.la));const Ne=re[4];Ne!=null&&(x.Aa=Ne,x.j.info("SVER="+x.Aa));const Mr=re[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(M=1.5*Mr,x.L=M,x.j.info("backChannelRequestTimeoutMs_="+M)),M=x;const Re=m.g;if(Re){const lr=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var at=M.h;at.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(pe(at,at.h),at.h=null))}if(M.D){const ur=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;ur&&(M.ya=ur,jt(M.I,M.D,ur))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-m.F,x.j.info("Handshake RTT: "+x.R+"ms")),M=x;var Tt=m;if(M.qa=Va(M,M.J?M.ia:null,M.W),Tt.K){un(M.h,Tt);var ie=Tt,Qe=M.L;Qe&&(ie.I=Qe),ie.B&&(Kr(ie),Os(ie)),M.g=Tt}else Ni(M);0<x.i.length&&Jr(x)}else re[0]!="stop"&&re[0]!="close"||Or(x,7);else x.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Or(x,7):Pa(x):re[0]!="noop"&&x.l&&x.l.ta(re),x.v=0)}}Zr(4)}catch{}}var Wr=class{constructor(m,E){this.g=m,this.map=E}};function nr(m){this.l=m||10,d.PerformanceNavigationTiming?(m=d.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ms(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ir(m){return m.h?1:m.g?m.g.size:0}function $t(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function pe(m,E){m.g?m.g.add(E):m.h=E}function un(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}nr.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function rr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const x of m.g.values())E=E.concat(x.D);return E}return N(m.i)}function Xr(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(g(m)){for(var E=[],x=m.length,M=0;M<x;M++)E.push(m[M]);return E}E=[],x=0;for(M in m)E[x++]=m[M];return E}function Qr(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(g(m)||typeof m=="string"){var E=[];m=m.length;for(var x=0;x<m;x++)E.push(x);return E}E=[],x=0;for(const M in m)E[x++]=M;return E}}}function Gt(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(g(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var x=Qr(m),M=Xr(m),Q=M.length,at=0;at<Q;at++)E.call(void 0,M[at],x&&x[at],m)}var ve=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $o(m,E){if(m){m=m.split("&");for(var x=0;x<m.length;x++){var M=m[x].indexOf("="),Q=null;if(0<=M){var at=m[x].substring(0,M);Q=m[x].substring(M+1)}else at=m[x];E(at,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function je(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof je){this.h=m.h,ks(this,m.j),this.o=m.o,this.g=m.g,Li(this,m.s),this.l=m.l;var E=m.i,x=new Oi;x.i=E.i,E.g&&(x.g=new Map(E.g),x.h=E.h),On(this,x),this.m=m.m}else m&&(E=String(m).match(ve))?(this.h=!1,ks(this,E[1]||"",!0),this.o=wn(E[2]||""),this.g=wn(E[3]||"",!0),Li(this,E[4]),this.l=wn(E[5]||"",!0),On(this,E[6]||"",!0),this.m=wn(E[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}je.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Pi(E,Cr,!0),":");var x=this.g;return(x||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Pi(E,Cr,!0),"@"),m.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&m.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(Pi(x,x.charAt(0)=="/"?Jo:Ns,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",Pi(x,$r)),m.join("")};function ke(m){return new je(m)}function ks(m,E,x){m.j=x?wn(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Li(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function On(m,E,x){E instanceof Oi?(m.i=E,ii(m.i,m.h)):(x||(E=Pi(E,Ra)),m.i=new Oi(E,m.h))}function jt(m,E,x){m.i.set(E,x)}function ni(m){return jt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function wn(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Pi(m,E,x){return typeof m=="string"?(m=encodeURI(m).replace(E,Ca),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ca(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Cr=/[#\/\?@]/g,Ns=/[#\?:]/g,Jo=/[#\?]/g,Ra=/[#\?@]/g,$r=/#/g;function Oi(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Mn(m){m.g||(m.g=new Map,m.h=0,m.i&&$o(m.i,function(E,x){m.add(decodeURIComponent(E.replace(/\+/g," ")),x)}))}n=Oi.prototype,n.add=function(m,E){Mn(this),this.i=null,m=Vt(this,m);var x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(E),this.h+=1,this};function sr(m,E){Mn(m),E=Vt(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Mi(m,E){return Mn(m),E=Vt(m,E),m.g.has(E)}n.forEach=function(m,E){Mn(this),this.g.forEach(function(x,M){x.forEach(function(Q){m.call(E,Q,M,this)},this)},this)},n.na=function(){Mn(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),x=[];for(let M=0;M<E.length;M++){const Q=m[M];for(let at=0;at<Q.length;at++)x.push(E[M])}return x},n.V=function(m){Mn(this);let E=[];if(typeof m=="string")Mi(this,m)&&(E=E.concat(this.g.get(Vt(this,m))));else{m=Array.from(this.g.values());for(let x=0;x<m.length;x++)E=E.concat(m[x])}return E},n.set=function(m,E){return Mn(this),this.i=null,m=Vt(this,m),Mi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function tl(m,E,x){sr(m,E),0<x.length&&(m.i=null,m.g.set(Vt(m,E),N(x)),m.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var x=0;x<E.length;x++){var M=E[x];const at=encodeURIComponent(String(M)),Tt=this.V(M);for(M=0;M<Tt.length;M++){var Q=at;Tt[M]!==""&&(Q+="="+encodeURIComponent(String(Tt[M]))),m.push(Q)}}return this.i=m.join("&")};function Vt(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function ii(m,E){E&&!m.j&&(Mn(m),m.i=null,m.g.forEach(function(x,M){var Q=M.toLowerCase();M!=Q&&(sr(this,M),tl(this,Q,x))},m)),m.j=E}function ue(m,E){const x=new hi;if(d.Image){const M=new Image;M.onload=I(Hn,x,"TestLoadImage: loaded",!0,E,M),M.onerror=I(Hn,x,"TestLoadImage: error",!1,E,M),M.onabort=I(Hn,x,"TestLoadImage: abort",!1,E,M),M.ontimeout=I(Hn,x,"TestLoadImage: timeout",!1,E,M),d.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=m}else E(!1)}function fi(m,E){const x=new hi,M=new AbortController,Q=setTimeout(()=>{M.abort(),Hn(x,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:M.signal}).then(at=>{clearTimeout(Q),at.ok?Hn(x,"TestPingServer: ok",!0,E):Hn(x,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),Hn(x,"TestPingServer: error",!1,E)})}function Hn(m,E,x,M,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),M(x)}catch{}}function Rr(){this.g=new xi}function di(m,E,x){const M=x||"";try{Gt(m,function(Q,at){let Tt=Q;v(Q)&&(Tt=ci(Q)),E.push(M+at+"="+encodeURIComponent(Tt))})}catch(Q){throw E.push(M+"type="+encodeURIComponent("_badmap")),Q}}function qn(m){this.l=m.Ub||null,this.j=m.eb||!1}k(qn,Zo),qn.prototype.g=function(){return new ki(this.l,this.j)},qn.prototype.i=function(m){return function(){return m}}({});function ki(m,E){Oe.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ki,Oe),n=ki.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,An(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||d).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ee(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ir(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ir(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Ee(this):An(this),this.readyState==3&&Ir(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ee(this))},n.Qa=function(m){this.g&&(this.response=m,Ee(this))},n.ga=function(){this.g&&Ee(this)};function Ee(m){m.readyState=4,m.l=null,m.j=null,m.v=null,An(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var x=E.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=E.next();return m.join(`\r
`)};function An(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ia(m){let E="";return It(m,function(x,M){E+=M,E+=":",E+=x,E+=`\r
`}),E}function sn(m,E,x){t:{for(M in x){var M=!1;break t}M=!0}M||(x=Ia(x),typeof m=="string"?x!=null&&encodeURIComponent(String(x)):jt(m,E,x))}function de(m){Oe.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(de,Oe);var Ds=/^https?$/i,Lr=["POST","PUT"];n=de.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,x,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ri.g(),this.v=this.o?Yo(this.o):Yo(Ri),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(at){Ql(this,at);return}if(m=x||"",x=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Q in M)x.set(Q,M[Q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const at of M.keys())x.set(at,M.get(at));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(x.keys()).find(at=>at.toLowerCase()=="content-type"),Q=d.FormData&&m instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Lr,E,void 0))||M||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,Tt]of x)this.g.setRequestHeader(at,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_n(this),this.u=!0,this.g.send(m),this.u=!1}catch(at){Ql(this,at)}};function Ql(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Vs(m),ar(m)}function Vs(m){m.A||(m.A=!0,fe(m,"complete"),fe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,fe(this,"complete"),fe(this,"abort"),ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),de.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Kt(this):this.bb())},n.bb=function(){Kt(this)};function Kt(m){if(m.h&&typeof c<"u"&&(!m.v[1]||Sn(m)!=4||m.Z()!=2)){if(m.u&&Sn(m)==4)Tn(m.Ea,0,m);else if(fe(m,"readystatechange"),Sn(m)==4){m.h=!1;try{const Tt=m.Z();t:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var x;if(!(x=E)){var M;if(M=Tt===0){var Q=String(m.D).match(ve)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),M=!Ds.test(Q?Q.toLowerCase():"")}x=M}if(x)fe(m,"complete"),fe(m,"success");else{m.m=6;try{var at=2<Sn(m)?m.g.statusText:""}catch{at=""}m.l=at+" ["+m.Z()+"]",Vs(m)}}finally{ar(m)}}}}function ar(m,E){if(m.g){_n(m);const x=m.g,M=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||fe(m,"ready");try{x.onreadystatechange=M}catch{}}}function _n(m){m.I&&(d.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Sn(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Ea(E)}};function el(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function cc(m){const E={};m=(m.g&&2<=Sn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<m.length;M++){if(tt(m[M]))continue;var x=Y(m[M]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const at=E[Q]||[];E[Q]=at,at.push(x)}G(E,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(m,E,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||E}function La(m){this.Aa=0,this.i=[],this.j=new hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,m),this.cb=Pr("retryDelaySeedMs",1e4,m),this.Wa=Pr("forwardChannelMaxRetries",2,m),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new nr(m&&m.concurrentRequestLimit),this.Da=new Rr,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=La.prototype,n.la=8,n.G=1,n.connect=function(m,E,x,M){Me(0),this.W=m,this.H=E||{},x&&M!==void 0&&(this.H.OSID=x,this.H.OAID=M),this.F=this.X,this.I=Va(this,null,this.W),Jr(this)};function Pa(m){if($l(m),m.G==3){var E=m.U++,x=ke(m.I);if(jt(x,"SID",m.K),jt(x,"RID",E),jt(x,"TYPE","terminate"),Us(m,x),E=new En(m,m.j,E),E.L=2,E.v=ni(ke(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(E.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=E.v,x=!0),x||(E.g=tu(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Os(E)}Jl(m)}function Oa(m){m.g&&(ts(m),m.g.cancel(),m.g=null)}function $l(m){Oa(m),m.u&&(d.clearTimeout(m.u),m.u=null),Na(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&d.clearTimeout(m.s),m.s=null)}function Jr(m){if(!Ms(m.h)&&!m.s){m.s=!0;var E=m.Ga;Et||U(),vt||(Et(),vt=!0),le.add(E,m),m.B=0}}function hc(m,E){return ir(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Xe(A(m.Ga,m,E),Da(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Q=new En(this,this.j,m);let at=this.o;if(this.S&&(at?(at=D(at),Z(at,this.S)):at=this.S),this.m!==null||this.O||(Q.H=at,at=null),this.P)t:{for(var E=0,x=0;x<this.i.length;x++){e:{var M=this.i[x];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=x;break t}if(E===4096||x===this.i.length-1){E=x+1;break t}}E=1e3}else E=1e3;E=nl(this,Q,E),x=ke(this.I),jt(x,"RID",m),jt(x,"CVER",22),this.D&&jt(x,"X-HTTP-Session-Id",this.D),Us(this,x),at&&(this.O?E="headers="+encodeURIComponent(String(Ia(at)))+"&"+E:this.m&&sn(x,this.m,at)),pe(this.h,Q),this.Ua&&jt(x,"TYPE","init"),this.P?(jt(x,"$req",E),jt(x,"SID","null"),Q.T=!0,Ii(Q,x,null)):Ii(Q,x,E),this.G=2}}else this.G==3&&(m?Gn(this,m):this.i.length==0||Ms(this.h)||Gn(this))};function Gn(m,E){var x;E?x=E.l:x=m.U++;const M=ke(m.I);jt(M,"SID",m.K),jt(M,"RID",x),jt(M,"AID",m.T),Us(m,M),m.m&&m.o&&sn(M,m.m,m.o),x=new En(m,m.j,x,m.B+1),m.m===null&&(x.H=m.o),E&&(m.i=E.D.concat(m.i)),E=nl(m,x,1e3),x.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),pe(m.h,x),Ii(x,M,E)}function Us(m,E){m.H&&It(m.H,function(x,M){jt(E,M,x)}),m.l&&Gt({},function(x,M){jt(E,M,x)})}function nl(m,E,x){x=Math.min(m.i.length,x);var M=m.l?A(m.l.Na,m.l,m):null;t:{var Q=m.i;let at=-1;for(;;){const Tt=["count="+x];at==-1?0<x?(at=Q[0].g,Tt.push("ofs="+at)):at=0:Tt.push("ofs="+at);let ie=!0;for(let Qe=0;Qe<x;Qe++){let re=Q[Qe].g;const ge=Q[Qe].map;if(re-=at,0>re)at=Math.max(0,Q[Qe].g-100),ie=!1;else try{di(ge,Tt,"req"+re+"_")}catch{M&&M(ge)}}if(ie){M=Tt.join("&");break t}}}return m=m.i.splice(0,x),E.D=m,M}function Ni(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;Et||U(),vt||(Et(),vt=!0),le.add(E,m),m.v=0}}function Ma(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Xe(A(m.Fa,m),Da(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Xe(A(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Oa(this),ka(this))};function ts(m){m.A!=null&&(d.clearTimeout(m.A),m.A=null)}function ka(m){m.g=new En(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=ke(m.qa);jt(E,"RID","rpc"),jt(E,"SID",m.K),jt(E,"AID",m.T),jt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&jt(E,"TO",m.ja),jt(E,"TYPE","xmlhttp"),Us(m,E),m.m&&m.o&&sn(E,m.m,m.o),m.L&&(m.g.I=m.L);var x=m.g;m=m.ia,x.L=1,x.v=ni(ke(E)),x.m=null,x.P=!0,tr(x,m)}n.Za=function(){this.C!=null&&(this.C=null,Oa(this),Ma(this),Me(19))};function Na(m){m.C!=null&&(d.clearTimeout(m.C),m.C=null)}function il(m,E){var x=null;if(m.g==E){Na(m),ts(m),m.g=null;var M=2}else if($t(m.h,E))x=E.D,un(m.h,E),M=1;else return;if(m.G!=0){if(E.o)if(M==1){x=E.m?E.m.length:0,E=Date.now()-E.F;var Q=m.B;M=Gr(),fe(M,new rn(M,x)),Jr(m)}else Ni(m);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(M==1&&hc(m,E)||M==2&&Ma(m)))switch(x&&0<x.length&&(E=m.h,E.i=E.i.concat(x)),Q){case 1:Or(m,5);break;case 4:Or(m,10);break;case 3:Or(m,6);break;default:Or(m,2)}}}function Da(m,E){let x=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(x*=2),x*E}function Or(m,E){if(m.j.info("Error code "+E),E==2){var x=A(m.fb,m),M=m.Xa;const Q=!M;M=new je(M||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ks(M,"https"),ni(M),Q?ue(M.toString(),x):fi(M.toString(),x)}else Me(2);m.G=0,m.l&&m.l.sa(E),Jl(m),$l(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Jl(m){if(m.G=0,m.ka=[],m.l){const E=rr(m.h);(E.length!=0||m.i.length!=0)&&(V(m.ka,E),V(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function Va(m,E,x){var M=x instanceof je?ke(x):new je(x);if(M.g!="")E&&(M.g=E+"."+M.g),Li(M,M.s);else{var Q=d.location;M=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var at=new je(null);M&&ks(at,M),E&&(at.g=E),Q&&Li(at,Q),x&&(at.l=x),M=at}return x=m.D,E=m.ya,x&&E&&jt(M,x,E),jt(M,"VER",m.la),Us(m,M),M}function tu(m,E,x){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new de(new qn({eb:x})):new de(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}n=rl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zs(){}zs.prototype.g=function(m,E){return new cn(m,E)};function cn(m,E){Oe.call(this),this.g=new La(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!tt(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!tt(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Zn(this)}k(cn,Oe),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Pa(this.g)},cn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.u&&(x={},x.__data__=ci(m),m=x);E.i.push(new Wr(E.Ya++,m)),E.G==3&&Jr(E)},cn.prototype.N=function(){this.g.l=null,delete this.j,Pa(this.g),delete this.g,cn.aa.N.call(this)};function or(m){$i.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){t:{for(const x in E){m=x;break t}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}k(or,$i);function eu(){Ko.call(this),this.status=1}k(eu,Ko);function Zn(m){this.g=m}k(Zn,rl),Zn.prototype.ua=function(){fe(this.g,"a")},Zn.prototype.ta=function(m){fe(this.g,new or(m))},Zn.prototype.sa=function(m){fe(this.g,new eu)},Zn.prototype.ra=function(){fe(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,VS=function(){return new zs},DS=function(){return Gr()},NS=Ji,T_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Sd=Sr,Ci.COMPLETE="complete",kS=Ci,wa.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,sh=wa,de.prototype.listenOnce=de.prototype.L,de.prototype.getLastError=de.prototype.Ka,de.prototype.getLastErrorCode=de.prototype.Ba,de.prototype.getStatus=de.prototype.Z,de.prototype.getResponseJson=de.prototype.Oa,de.prototype.getResponseText=de.prototype.oa,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Ha,MS=de}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",OE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new cm("@firebase/firestore");function Ou(){return Dl.logLevel}function Ct(n,...t){if(Dl.logLevel<=se.DEBUG){const e=t.map(Dv);Dl.debug(`Firestore (${nc}): ${n}`,...e)}}function da(n,...t){if(Dl.logLevel<=se.ERROR){const e=t.map(Dv);Dl.error(`Firestore (${nc}): ${n}`,...e)}}function Ao(n,...t){if(Dl.logLevel<=se.WARN){const e=t.map(Dv);Dl.warn(`Firestore (${nc}): ${n}`,...e)}}function Dv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,US(n,r,e)}function US(n,t,e){let r=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw da(r),new Error(r)}function _e(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||US(t,o,r)}function Yt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends br{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Xn.UNAUTHENTICATED))}shutdown(){}}class MD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class kD{constructor(t){this.t=t,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_e(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,e(g)):Promise.resolve();let l=new la;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new la,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const g=l;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new la)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new zS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new Xn(t)}}class ND{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new ND(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_e(this.o===void 0,3512);const r=l=>{l.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const o=l=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ME(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UD(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<e&&(r+=t.charAt(o[l]%62))}return r}}function Qt(n,t){return n<t?-1:n>t?1:0}function E_(n,t){let e=0;for(;e<n.length&&e<t.length;){const r=n.codePointAt(e),o=t.codePointAt(e);if(r!==o){if(r<128&&o<128)return Qt(r,o);{const l=jS(),c=zD(l.encode(kE(n,e)),l.encode(kE(t,e)));return c!==0?c:Qt(r,o)}}e+=r>65535?2:1}return Qt(n.length,t.length)}function kE(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function zD(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Qt(n[e],t[e]);return Qt(n.length,t.length)}function Yu(n,t,e){return n.length===t.length&&n.every((r,o)=>e(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__name__";class cs{constructor(t,e,r){e===void 0?e=0:e>t.length&&Ft(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Ft(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return cs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof cs?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const l=cs.compareSegments(t.get(o),e.get(o));if(l!==0)return l}return Qt(t.length,e.length)}static compareSegments(t,e){const r=cs.isNumericId(t),o=cs.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?cs.extractNumericId(t).compare(cs.extractNumericId(e)):E_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return To.fromString(t.substring(4,t.length-2))}}class Ue extends cs{construct(t,e,r){return new Ue(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new xt(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new Ue(e)}static emptyPath(){return new Ue([])}}const jD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends cs{construct(t,e,r){return new Un(t,e,r)}static isValidIdentifier(t){return jD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NE}static keyField(){return new Un([NE])}static fromServerFormat(t){const e=[];let r="",o=0;const l=()=>{if(r.length===0)throw new xt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new xt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new xt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(l(),o++)}if(l(),c)throw new xt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Un(e)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(Ue.fromString(t))}static fromName(t){return new Dt(Ue.fromString(t).popFirst(5))}static empty(){return new Dt(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new Ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n,t,e){if(!e)throw new xt(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function BD(n,t,e,r){if(t===!0&&r===!0)throw new xt(ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function DE(n){if(!Dt.isDocumentKey(n))throw new xt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VE(n){if(Dt.isDocumentKey(n))throw new xt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ft(12329,{type:typeof n})}function Ei(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bm(n);throw new xt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n,t){const e={typeString:n};return t&&(e.value=t),e}function qh(n,t){if(!FS(n))throw new xt(ft.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${r}' field to equal '${l.value}'`;break}}if(e)throw new xt(ft.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=-62135596800,zE=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*zE);return new ze(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<UE)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qh(t,ze._jsonSchema))return new ze(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-UE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:pn("string",ze._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new ze(0,0))}static max(){return new Zt(new ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=-1;function FD(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Zt.fromTimestamp(r===1e9?new ze(e+1,0):new ze(e,r));return new So(o,Dt.empty(),t)}function HD(n){return new So(n.readTime,n.key,Sh)}class So{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new So(Zt.min(),Dt.empty(),Sh)}static max(){return new So(Zt.max(),Dt.empty(),Sh)}}function qD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Dt.comparator(n.documentKey,t.documentKey),e!==0?e:Qt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==GD)throw n;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pt((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof pt?e:pt.resolve(e)}catch(e){return pt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):pt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):pt.reject(e)}static resolve(t){return new pt((e,r)=>{e(t)})}static reject(t){return new pt((e,r)=>{r(t)})}static waitFor(t){return new pt((e,r)=>{let o=0,l=0,c=!1;t.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&e()},g=>r(g))}),c=!0,l===o&&e()})}static or(t){let e=pt.resolve(!1);for(const r of t)e=e.next(o=>o?pt.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,l)=>{r.push(e.call(this,o,l))}),this.waitFor(r)}static mapArray(t,e){return new pt((r,o)=>{const l=t.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const v=g;e(t[v]).next(T=>{c[v]=T,++d,d===l&&r(c)},T=>o(T))}})}static doWhile(t,e){return new pt((r,o)=>{const l=()=>{t()===!0?e().next(()=>{l()},o):r()};l()})}}function YD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function rc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this._e(r),this.ae=r=>e.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Tm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-1;function Em(n){return n==null}function Zd(n){return n===0&&1/n==-1/0}function KD(n){return typeof n=="number"&&Number.isInteger(n)&&!Zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="";function WD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=jE(t)),t=XD(n.get(e),t);return jE(t)}function XD(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":e+="";break;case HS:e+="";break;default:e+=l}}return e}function jE(n){return n+HS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Uo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function qS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,e){this.comparator=t,this.root=e||Vn.EMPTY}insert(t,e){return new We(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(t){return new We(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fd(this.root,t,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fd(this.root,t,this.comparator,!0)}}class fd{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vn{constructor(t,e,r,o,l){this.key=t,this.value=e,this.color=r??Vn.RED,this.left=o??Vn.EMPTY,this.right=l??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,l){return new Vn(t??this.key,e??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const l=r(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,r),null):l===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Vn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ft(27949);return t+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(t,e,r,o,l){return this}insert(t,e,r){return new Vn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(t){return new FE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof bn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new bn(this.comparator);return e.data=t,e}}class FE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this.fields=t,t.sort(Un.comparator)}static empty(){return new Yi([])}unionWith(t){let e=new bn(Un.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Yi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yu(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new GS("Invalid base64 string: "+l):l}}(t);return new zn(e)}static fromUint8Array(t){const e=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(t);return new zn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const QD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(n){if(_e(!!n,39018),typeof n=="string"){let t=0;const e=QD.exec(n);if(_e(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ln(n.seconds),nanos:ln(n.nanos)}}function ln(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Co(n){return typeof n=="string"?zn.fromBase64String(n):zn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="server_timestamp",YS="__type__",KS="__previous_value__",WS="__local_write_time__";function zv(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[YS])===null||e===void 0?void 0:e.stringValue)===ZS}function wm(n){const t=n.mapValue.fields[KS];return zv(t)?wm(t):t}function xh(n){const t=xo(n.mapValue.fields[WS].timestampValue);return new ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,e,r,o,l,c,d,g,v,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=T}}const Yd="(default)";class Ch{constructor(t,e){this.projectId=t,this.database=e||Yd}static empty(){return new Ch("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(t){return t instanceof Ch&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="__type__",JD="__max__",dd={mapValue:{}},QS="__vector__",Kd="value";function Ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zv(n)?4:e4(n)?9007199254740991:t4(n)?10:11:Ft(28295,{value:n})}function Es(n,t){if(n===t)return!0;const e=Ro(n);if(e!==Ro(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return xh(n).isEqual(xh(t));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=xo(o.timestampValue),d=xo(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,l){return Co(o.bytesValue).isEqual(Co(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,l){return ln(o.geoPointValue.latitude)===ln(l.geoPointValue.latitude)&&ln(o.geoPointValue.longitude)===ln(l.geoPointValue.longitude)}(n,t);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ln(o.integerValue)===ln(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ln(o.doubleValue),d=ln(l.doubleValue);return c===d?Zd(c)===Zd(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return Yu(n.arrayValue.values||[],t.arrayValue.values||[],Es);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(BE(c)!==BE(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!Es(c[g],d[g])))return!1;return!0}(n,t);default:return Ft(52216,{left:n})}}function Rh(n,t){return(n.values||[]).find(e=>Es(e,t))!==void 0}function Ku(n,t){if(n===t)return 0;const e=Ro(n),r=Ro(t);if(e!==r)return Qt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(l,c){const d=ln(l.integerValue||l.doubleValue),g=ln(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,t);case 3:return HE(n.timestampValue,t.timestampValue);case 4:return HE(xh(n),xh(t));case 5:return E_(n.stringValue,t.stringValue);case 6:return function(l,c){const d=Co(l),g=Co(c);return d.compareTo(g)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),g=c.split("/");for(let v=0;v<d.length&&v<g.length;v++){const T=Qt(d[v],g[v]);if(T!==0)return T}return Qt(d.length,g.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const d=Qt(ln(l.latitude),ln(c.latitude));return d!==0?d:Qt(ln(l.longitude),ln(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return qE(n.arrayValue,t.arrayValue);case 10:return function(l,c){var d,g,v,T;const w=l.fields||{},A=c.fields||{},I=(d=w[Kd])===null||d===void 0?void 0:d.arrayValue,k=(g=A[Kd])===null||g===void 0?void 0:g.arrayValue,N=Qt(((v=I?.values)===null||v===void 0?void 0:v.length)||0,((T=k?.values)===null||T===void 0?void 0:T.length)||0);return N!==0?N:qE(I,k)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===dd.mapValue&&c===dd.mapValue)return 0;if(l===dd.mapValue)return 1;if(c===dd.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),v=c.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let w=0;w<g.length&&w<T.length;++w){const A=E_(g[w],T[w]);if(A!==0)return A;const I=Ku(d[g[w]],v[T[w]]);if(I!==0)return I}return Qt(g.length,T.length)}(n.mapValue,t.mapValue);default:throw Ft(23264,{le:e})}}function HE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Qt(n,t);const e=xo(n),r=xo(t),o=Qt(e.seconds,r.seconds);return o!==0?o:Qt(e.nanos,r.nanos)}function qE(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const l=Ku(e[o],r[o]);if(l)return l}return Qt(e.length,r.length)}function Wu(n){return w_(n)}function w_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=xo(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Co(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Dt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",o=!0;for(const l of e.values||[])o?o=!1:r+=",",r+=w_(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${w_(e.fields[c])}`;return o+"}"}(n.mapValue):Ft(61005,{value:n})}function xd(n){switch(Ro(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wm(n);return t?16+xd(t):16;case 5:return 2*n.stringValue.length;case 6:return Co(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+xd(l),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Uo(r.fields,(l,c)=>{o+=l.length+xd(c)}),o}(n.mapValue);default:throw Ft(13486,{value:n})}}function GE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function A_(n){return!!n&&"integerValue"in n}function jv(n){return!!n&&"arrayValue"in n}function ZE(n){return!!n&&"nullValue"in n}function YE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cd(n){return!!n&&"mapValue"in n}function t4(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[XS])===null||e===void 0?void 0:e.stringValue)===QS}function gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Uo(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=gh(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function e4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.value=t}static empty(){return new yi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Cd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gh(e)}setAll(t){let e=Un.emptyPath(),r={},o=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const g=this.getFieldsMap(e);this.applyChanges(g,r,o),r={},o=[],e=d.popLast()}c?r[d.lastSegment()]=gh(c):o.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,o)}delete(t){const e=this.field(t.popLast());Cd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Es(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Cd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Uo(e,(o,l)=>t[o]=l);for(const o of r)delete t[o]}clone(){return new yi(gh(this.value))}}function $S(n){const t=[];return Uo(n.fields,(e,r)=>{const o=new Un([e]);if(Cd(r)){const l=$S(r.mapValue).fields;if(l.length===0)t.push(o);else for(const c of l)t.push(o.child(c))}else t.push(o)}),new Yi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t,e,r,o,l,c,d){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new $n(t,0,Zt.min(),Zt.min(),Zt.min(),yi.empty(),0)}static newFoundDocument(t,e,r,o){return new $n(t,1,e,Zt.min(),r,o,0)}static newNoDocument(t,e){return new $n(t,2,e,Zt.min(),Zt.min(),yi.empty(),0)}static newUnknownDocument(t,e){return new $n(t,3,e,Zt.min(),Zt.min(),yi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,e){this.position=t,this.inclusive=e}}function KE(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const l=t[o],c=n.position[o];if(l.field.isKeyField()?r=Dt.comparator(Dt.fromName(c.referenceValue),e.key):r=Ku(c,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function WE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Es(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,e="asc"){this.field=t,this.dir=e}}function n4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{}class mn extends JS{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new r4(t,e,r):e==="array-contains"?new o4(t,r):e==="in"?new l4(t,r):e==="not-in"?new u4(t,r):e==="array-contains-any"?new c4(t,r):new mn(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new s4(t,r):new a4(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ku(e,this.value)):e!==null&&Ro(this.value)===Ro(e)&&this.matchesComparison(Ku(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends JS{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new Hr(t,e)}matches(t){return tx(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function tx(n){return n.op==="and"}function ex(n){return i4(n)&&tx(n)}function i4(n){for(const t of n.filters)if(t instanceof Hr)return!1;return!0}function S_(n){if(n instanceof mn)return n.field.canonicalString()+n.op.toString()+Wu(n.value);if(ex(n))return n.filters.map(t=>S_(t)).join(",");{const t=n.filters.map(e=>S_(e)).join(",");return`${n.op}(${t})`}}function nx(n,t){return n instanceof mn?function(r,o){return o instanceof mn&&r.op===o.op&&r.field.isEqual(o.field)&&Es(r.value,o.value)}(n,t):n instanceof Hr?function(r,o){return o instanceof Hr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,c,d)=>l&&nx(c,o.filters[d]),!0):!1}(n,t):void Ft(19439)}function ix(n){return n instanceof mn?function(e){return`${e.field.canonicalString()} ${e.op} ${Wu(e.value)}`}(n):n instanceof Hr?function(e){return e.op.toString()+" {"+e.getFilters().map(ix).join(" ,")+"}"}(n):"Filter"}class r4 extends mn{constructor(t,e,r){super(t,e,r),this.key=Dt.fromName(r.referenceValue)}matches(t){const e=Dt.comparator(t.key,this.key);return this.matchesComparison(e)}}class s4 extends mn{constructor(t,e){super(t,"in",e),this.keys=rx("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class a4 extends mn{constructor(t,e){super(t,"not-in",e),this.keys=rx("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function rx(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>Dt.fromName(r.referenceValue))}class o4 extends mn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return jv(e)&&Rh(e.arrayValue,this.value)}}class l4 extends mn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Rh(this.value.arrayValue,e)}}class u4 extends mn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Rh(this.value.arrayValue,e)}}class c4 extends mn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!jv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Rh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t,e=null,r=[],o=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Pe=null}}function XE(n,t=null,e=[],r=[],o=null,l=null,c=null){return new h4(n,t,e,r,o,l,c)}function Bv(n){const t=Yt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>S_(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Em(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Wu(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Wu(r)).join(",")),t.Pe=e}return t.Pe}function Fv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!n4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!nx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!WE(n.startAt,t.startAt)&&WE(n.endAt,t.endAt)}function x_(n){return Dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,e=null,r=[],o=[],l=null,c="F",d=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function f4(n,t,e,r,o,l,c,d){return new sc(n,t,e,r,o,l,c,d)}function Am(n){return new sc(n)}function QE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sx(n){return n.collectionGroup!==null}function _h(n){const t=Yt(n);if(t.Te===null){t.Te=[];const e=new Set;for(const l of t.explicitOrderBy)t.Te.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new bn(Un.comparator);return c.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(d=d.add(v.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Te.push(new Ih(l,r))}),e.has(Un.keyField().canonicalString())||t.Te.push(new Ih(Un.keyField(),r))}return t.Te}function _s(n){const t=Yt(n);return t.Ie||(t.Ie=d4(t,_h(n))),t.Ie}function d4(n,t){if(n.limitType==="F")return XE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Ih(o.field,l)});const e=n.endAt?new Wd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wd(n.startAt.position,n.startAt.inclusive):null;return XE(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function C_(n,t){const e=n.filters.concat([t]);return new sc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function R_(n,t,e){return new sc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Sm(n,t){return Fv(_s(n),_s(t))&&n.limitType===t.limitType}function ax(n){return`${Bv(_s(n))}|lt:${n.limitType}`}function Mu(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>ix(o)).join(", ")}]`),Em(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Wu(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Wu(o)).join(",")),`Target(${r})`}(_s(n))}; limitType=${n.limitType})`}function xm(n,t){return t.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Dt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,t)&&function(r,o){for(const l of _h(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(c,d,g){const v=KE(c,d,g);return c.inclusive?v<=0:v<0}(r.startAt,_h(r),o)||r.endAt&&!function(c,d,g){const v=KE(c,d,g);return c.inclusive?v>=0:v>0}(r.endAt,_h(r),o))}(n,t)}function m4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ox(n){return(t,e)=>{let r=!1;for(const o of _h(n)){const l=p4(o,t,e);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function p4(n,t,e){const r=n.field.isKeyField()?Dt.comparator(t.key,e.key):function(l,c,d){const g=c.data.field(l),v=d.data.field(l);return g!==null&&v!==null?Ku(g,v):Ft(42886)}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Uo(this.inner,(e,r)=>{for(const[o,l]of r)t(o,l)})}isEmpty(){return qS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new We(Dt.comparator);function ma(){return g4}const lx=new We(Dt.comparator);function ah(...n){let t=lx;for(const e of n)t=t.insert(e.key,e);return t}function ux(n){let t=lx;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Cl(){return vh()}function cx(){return vh()}function vh(){return new ql(n=>n.toString(),(n,t)=>n.isEqual(t))}const _4=new We(Dt.comparator),v4=new bn(Dt.comparator);function ae(...n){let t=v4;for(const e of n)t=t.add(e);return t}const y4=new bn(Qt);function b4(){return y4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(t)?"-0":t}}function hx(n){return{integerValue:""+n}}function T4(n,t){return KD(t)?hx(t):Hv(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this._=void 0}}function E4(n,t,e){return n instanceof Lh?function(o,l){const c={fields:{[YS]:{stringValue:ZS},[WS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&zv(l)&&(l=wm(l)),l&&(c.fields[KS]=l),{mapValue:c}}(e,t):n instanceof Xu?dx(n,t):n instanceof Ph?mx(n,t):function(o,l){const c=fx(o,l),d=$E(c)+$E(o.Ee);return A_(c)&&A_(o.Ee)?hx(d):Hv(o.serializer,d)}(n,t)}function w4(n,t,e){return n instanceof Xu?dx(n,t):n instanceof Ph?mx(n,t):e}function fx(n,t){return n instanceof Xd?function(r){return A_(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Lh extends Cm{}class Xu extends Cm{constructor(t){super(),this.elements=t}}function dx(n,t){const e=px(t);for(const r of n.elements)e.some(o=>Es(o,r))||e.push(r);return{arrayValue:{values:e}}}class Ph extends Cm{constructor(t){super(),this.elements=t}}function mx(n,t){let e=px(t);for(const r of n.elements)e=e.filter(o=>!Es(o,r));return{arrayValue:{values:e}}}class Xd extends Cm{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function $E(n){return ln(n.integerValue||n.doubleValue)}function px(n){return jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,e){this.field=t,this.transform=e}}function A4(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof Xu&&o instanceof Xu||r instanceof Ph&&o instanceof Ph?Yu(r.elements,o.elements,Es):r instanceof Xd&&o instanceof Xd?Es(r.Ee,o.Ee):r instanceof Lh&&o instanceof Lh}(n.transform,t.transform)}class S4{constructor(t,e){this.version=t,this.transformResults=e}}class _r{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new _r}static exists(t){return new _r(void 0,t)}static updateTime(t){return new _r(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Rm{}function _x(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new qv(n.key,_r.none()):new Gh(n.key,n.data,_r.none());{const e=n.data,r=yi.empty();let o=new bn(Un.comparator);for(let l of t.fields)if(!o.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new zo(n.key,r,new Yi(o.toArray()),_r.none())}}function x4(n,t,e){n instanceof Gh?function(o,l,c){const d=o.value.clone(),g=tw(o.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof zo?function(o,l,c){if(!Rd(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=tw(o.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(vx(o)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,t,e):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function yh(n,t,e,r){return n instanceof Gh?function(l,c,d,g){if(!Rd(l.precondition,c))return d;const v=l.value.clone(),T=ew(l.fieldTransforms,g,c);return v.setAll(T),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null}(n,t,e,r):n instanceof zo?function(l,c,d,g){if(!Rd(l.precondition,c))return d;const v=ew(l.fieldTransforms,g,c),T=c.data;return T.setAll(vx(l)),T.setAll(v),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,t,e,r):function(l,c,d){return Rd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function C4(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),l=fx(r.transform,o||null);l!=null&&(e===null&&(e=yi.empty()),e.set(r.field,l))}return e||null}function JE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yu(r,o,(l,c)=>A4(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Gh extends Rm{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zo extends Rm{constructor(t,e,r,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vx(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function tw(n,t,e){const r=new Map;_e(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let o=0;o<e.length;o++){const l=n[o],c=l.transform,d=t.data.field(l.field);r.set(l.field,w4(c,d,e[o]))}return r}function ew(n,t,e){const r=new Map;for(const o of n){const l=o.transform,c=e.data.field(o.field);r.set(o.field,E4(l,c,t))}return r}class qv extends Rm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R4 extends Rm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&x4(l,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=yh(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=yh(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=cx();return this.mutations.forEach(o=>{const l=t.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(o.key)?null:d;const g=_x(c,d);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Zt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ae())}isEqual(t){return this.batchId===t.batchId&&Yu(this.mutations,t.mutations,(e,r)=>JE(e,r))&&Yu(this.baseMutations,t.baseMutations,(e,r)=>JE(e,r))}}class Gv{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){_e(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let o=function(){return _4}();const l=t.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new Gv(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,he;function O4(n){switch(n){case ft.OK:return Ft(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Ft(15467,{code:n})}}function yx(n){if(n===void 0)return da("GRPC error has no .code"),ft.UNKNOWN;switch(n){case dn.OK:return ft.OK;case dn.CANCELLED:return ft.CANCELLED;case dn.UNKNOWN:return ft.UNKNOWN;case dn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case dn.INTERNAL:return ft.INTERNAL;case dn.UNAVAILABLE:return ft.UNAVAILABLE;case dn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case dn.NOT_FOUND:return ft.NOT_FOUND;case dn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case dn.ABORTED:return ft.ABORTED;case dn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case dn.DATA_LOSS:return ft.DATA_LOSS;default:return Ft(39323,{code:n})}}(he=dn||(dn={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new To([4294967295,4294967295],0);function nw(n){const t=jS().encode(n),e=new OS;return e.update(t),new Uint8Array(e.digest())}function iw(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new To([e,r],0),new To([o,l],0)]}class Zv{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new oh(`Invalid padding: ${e}`);if(r<0)throw new oh(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new oh(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=To.fromNumber(this.fe)}pe(t,e,r){let o=t.add(e.multiply(To.fromNumber(r)));return o.compare(M4)===1&&(o=new To([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=nw(t),[r,o]=iw(e);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,o,l);if(!this.ye(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Zv(l,o,e);return r.forEach(d=>c.insert(d)),c}insert(t){if(this.fe===0)return;const e=nw(t),[r,o]=iw(e);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,o,l);this.we(c)}}we(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,e,r,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Zh.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Im(Zt.min(),o,new We(Qt),ma(),ae())}}class Zh{constructor(t,e,r,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Zh(r,e,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.be=o}}class bx{constructor(t,e){this.targetId=t,this.De=e}}class Tx{constructor(t,e,r=zn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class rw{constructor(){this.ve=0,this.Ce=sw(),this.Fe=zn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=ae(),e=ae(),r=ae();return this.Ce.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:Ft(38017,{changeType:l})}}),new Zh(this.Fe,this.Me,t,e,r)}ke(){this.xe=!1,this.Ce=sw()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class k4{constructor(t){this.We=t,this.Ge=new Map,this.ze=ma(),this.je=md(),this.Je=md(),this.He=new We(Qt)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const r=this.tt(e);switch(t.state){case 0:this.nt(e)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),r.Be(t.resumeToken));break;default:Ft(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((r,o)=>{this.nt(o)&&e(o)})}it(t){const e=t.targetId,r=t.De.count,o=this.st(e);if(o){const l=o.target;if(x_(l))if(r===0){const c=new Dt(l.path);this.Xe(e,c,$n.newNoDocument(c,Zt.min()))}else _e(r===1,20013,{expectedCount:r});else{const c=this.ot(e);if(c!==r){const d=this._t(t),g=d?this.ut(d,t,c):1;if(g!==0){this.rt(e);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,v)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=e;let c,d;try{c=Co(r).toUint8Array()}catch(g){if(g instanceof GS)return Ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Zv(c,o,l)}catch(g){return Ao(g instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.fe===0?null:d}ut(t,e,r){return e.De.count===r-this.ht(t,e.targetId)?0:2}ht(t,e){const r=this.We.getRemoteKeysForTarget(e);let o=0;return r.forEach(l=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.Xe(e,l,null),o++)}),o}Pt(t){const e=new Map;this.Ge.forEach((l,c)=>{const d=this.st(c);if(d){if(l.current&&x_(d.target)){const g=new Dt(d.target.path);this.Tt(g).has(c)||this.It(c,g)||this.Xe(c,g,$n.newNoDocument(g,t))}l.Ne&&(e.set(c,l.Le()),l.ke())}});let r=ae();this.Je.forEach((l,c)=>{let d=!0;c.forEachWhile(g=>{const v=this.st(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(t));const o=new Im(t,e,this.He,this.ze,r);return this.ze=ma(),this.je=md(),this.Je=md(),this.He=new We(Qt),o}Ze(t,e){if(!this.nt(t))return;const r=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,r),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,r){if(!this.nt(t))return;const o=this.tt(t);this.It(t,e)?o.qe(e,1):o.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),r&&(this.ze=this.ze.insert(e,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new rw,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new bn(Qt),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new bn(Qt),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||Ct("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new rw),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function md(){return new We(Dt.comparator)}function sw(){return new We(Dt.comparator)}const N4={asc:"ASCENDING",desc:"DESCENDING"},D4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V4={and:"AND",or:"OR"};class U4{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function I_(n,t){return n.useProto3Json||Em(t)?t:{value:t}}function Qd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ex(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function z4(n,t){return Qd(n,t.toTimestamp())}function vs(n){return _e(!!n,49232),Zt.fromTimestamp(function(e){const r=xo(e);return new ze(r.seconds,r.nanos)}(n))}function Yv(n,t){return L_(n,t).canonicalString()}function L_(n,t){const e=function(o){return new Ue(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?e:e.child(t)}function wx(n){const t=Ue.fromString(n);return _e(Rx(t),10190,{key:t.toString()}),t}function P_(n,t){return Yv(n.databaseId,t.path)}function Kg(n,t){const e=wx(t);if(e.get(1)!==n.databaseId.projectId)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Dt(Sx(e))}function Ax(n,t){return Yv(n.databaseId,t)}function j4(n){const t=wx(n);return t.length===4?Ue.emptyPath():Sx(t)}function O_(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Sx(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function aw(n,t,e){return{name:P_(n,t),fields:e.value.mapValue.fields}}function B4(n,t){let e;if("targetChange"in t){t.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ft(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],l=function(v,T){return v.useProto3Json?(_e(T===void 0||typeof T=="string",58123),zn.fromBase64String(T||"")):(_e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),zn.fromUint8Array(T||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(v){const T=v.code===void 0?ft.UNKNOWN:yx(v.code);return new xt(T,v.message||"")}(c);e=new Tx(r,o,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Kg(n,r.document.name),l=vs(r.document.updateTime),c=r.document.createTime?vs(r.document.createTime):Zt.min(),d=new yi({mapValue:{fields:r.document.fields}}),g=$n.newFoundDocument(o,l,c,d),v=r.targetIds||[],T=r.removedTargetIds||[];e=new Id(v,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Kg(n,r.document),l=r.readTime?vs(r.readTime):Zt.min(),c=$n.newNoDocument(o,l),d=r.removedTargetIds||[];e=new Id([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Kg(n,r.document),l=r.removedTargetIds||[];e=new Id([],l,o,null)}else{if(!("filter"in t))return Ft(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new P4(o,l),d=r.targetId;e=new bx(d,c)}}return e}function F4(n,t){let e;if(t instanceof Gh)e={update:aw(n,t.key,t.value)};else if(t instanceof qv)e={delete:P_(n,t.key)};else if(t instanceof zo)e={update:aw(n,t.key,t.data),updateMask:Q4(t.fieldMask)};else{if(!(t instanceof R4))return Ft(16599,{Rt:t.type});e={verify:P_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof Lh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ph)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xd)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Ft(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:z4(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ft(27497)}(n,t.precondition)),e}function H4(n,t){return n&&n.length>0?(_e(t!==void 0,14353),n.map(e=>function(o,l){let c=o.updateTime?vs(o.updateTime):vs(l);return c.isEqual(Zt.min())&&(c=vs(l)),new S4(c,o.transformResults||[])}(e,t))):[]}function q4(n,t){return{documents:[Ax(n,t.path)]}}function G4(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=Ax(n,o);const l=function(v){if(v.length!==0)return Cx(Hr.create(v,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(v){if(v.length!==0)return v.map(T=>function(A){return{field:ku(A.field),direction:K4(A.dir)}}(T))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=I_(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{Vt:e,parent:o}}function Z4(n){let t=j4(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){_e(r===1,65062);const T=e.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let l=[];e.where&&(l=function(w){const A=xx(w);return A instanceof Hr&&ex(A)?A.getFilters():[A]}(e.where));let c=[];e.orderBy&&(c=function(w){return w.map(A=>function(k){return new Ih(Nu(k.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(e.orderBy));let d=null;e.limit&&(d=function(w){let A;return A=typeof w=="object"?w.value:w,Em(A)?null:A}(e.limit));let g=null;e.startAt&&(g=function(w){const A=!!w.before,I=w.values||[];return new Wd(I,A)}(e.startAt));let v=null;return e.endAt&&(v=function(w){const A=!w.before,I=w.values||[];return new Wd(I,A)}(e.endAt)),f4(t,o,c,l,d,"F",g,v)}function Y4(n,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function xx(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Nu(e.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Nu(e.unaryFilter.field);return mn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Nu(e.unaryFilter.field);return mn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Nu(e.unaryFilter.field);return mn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}}(n):n.fieldFilter!==void 0?function(e){return mn.create(Nu(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Hr.create(e.compositeFilter.filters.map(r=>xx(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}}(e.compositeFilter.op))}(n):Ft(30097,{filter:n})}function K4(n){return N4[n]}function W4(n){return D4[n]}function X4(n){return V4[n]}function ku(n){return{fieldPath:n.canonicalString()}}function Nu(n){return Un.fromServerFormat(n.fieldPath)}function Cx(n){return n instanceof mn?function(e){if(e.op==="=="){if(YE(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NAN"}};if(ZE(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(YE(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NOT_NAN"}};if(ZE(e.value))return{unaryFilter:{field:ku(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ku(e.field),op:W4(e.op),value:e.value}}}(n):n instanceof Hr?function(e){const r=e.getFilters().map(o=>Cx(o));return r.length===1?r[0]:{compositeFilter:{op:X4(e.op),filters:r}}}(n):Ft(54877,{filter:n})}function Q4(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Rx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,e,r,o,l=Zt.min(),c=Zt.min(),d=zn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(t){return new vo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t){this.gt=t}}function J4(n){const t=Z4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?R_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.Dn=new e3}addToCollectionParentIndex(t,e){return this.Dn.add(e),pt.resolve()}getCollectionParents(t,e){return pt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return pt.resolve()}deleteFieldIndex(t,e){return pt.resolve()}deleteAllFieldIndexes(t){return pt.resolve()}createTargetIndexes(t,e){return pt.resolve()}getDocumentsMatchingTarget(t,e){return pt.resolve(null)}getIndexType(t,e){return pt.resolve(0)}getFieldIndexes(t,e){return pt.resolve([])}getNextCollectionGroupToUpdate(t){return pt.resolve(null)}getMinOffset(t,e){return pt.resolve(So.min())}getMinOffsetFromCollectionGroup(t,e){return pt.resolve(So.min())}updateCollectionGroup(t,e,r){return pt.resolve()}updateIndexEntries(t,e){return pt.resolve()}}class e3{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new bn(Ue.comparator),l=!o.has(r);return this.index[e]=o.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new bn(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ix=41943040;class vi{static withCacheSize(t){return new vi(t,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(Ix,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Qu(0)}static ur(){return new Qu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="LruGarbageCollector",n3=1048576;function uw([n,t],[e,r]){const o=Qt(n,e);return o===0?Qt(t,r):o}class i3{constructor(t){this.Tr=t,this.buffer=new bn(uw),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();uw(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class r3{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){Ct(lw,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rc(e)?Ct(lw,"Ignoring IndexedDB error during garbage collection: ",e):await ic(e)}await this.Rr(3e5)})}}class s3{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return pt.resolve(Tm.ue);const r=new i3(e);return this.Vr.forEachTarget(t,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(ow)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ow):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let r,o,l,c,d,g,v;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(t,r,e))).next(w=>(l=w,g=Date.now(),this.removeOrphanedDocuments(t,r))).next(w=>(v=Date.now(),Ou()<=se.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${w} documents in `+(v-g)+`ms
Total Duration: ${v-T}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function a3(n,t){return new s3(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.changes=new ql(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,$n.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?pt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(r!==null&&yh(r.mutation,o,Yi.empty(),ze.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,ae()).next(()=>r))}getLocalViewOfDocuments(t,e,r=ae()){const o=Cl();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,r).next(l=>{let c=ah();return l.forEach((d,g)=>{c=c.insert(d,g.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const r=Cl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,ae()))}populateOverlays(t,e,r){const o=[];return r.forEach(l=>{e.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(t,o).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,r,o){let l=ma();const c=vh(),d=function(){return vh()}();return e.forEach((g,v)=>{const T=r.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof zo)?l=l.insert(v.key,v):T!==void 0?(c.set(v.key,T.mutation.getFieldMask()),yh(T.mutation,v,T.mutation.getFieldMask(),ze.now())):c.set(v.key,Yi.empty())}),this.recalculateAndSaveOverlays(t,l).next(g=>(g.forEach((v,T)=>c.set(v,T)),e.forEach((v,T)=>{var w;return d.set(v,new l3(T,(w=c.get(v))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(t,e){const r=vh();let o=new We((c,d)=>c-d),l=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(g=>{const v=e.get(g);if(v===null)return;let T=r.get(g)||Yi.empty();T=d.applyToLocalView(v,T),r.set(g,T);const w=(o.get(d.batchId)||ae()).add(g);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),v=g.key,T=g.value,w=cx();T.forEach(A=>{if(!l.has(A)){const I=_x(e.get(A),r.get(A));I!==null&&w.set(A,I),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,v,w))}return pt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,o){return function(c){return Dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):sx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-l.size):pt.resolve(Cl());let d=Sh,g=l;return c.next(v=>pt.forEach(v,(T,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(T)?pt.resolve():this.remoteDocumentCache.getEntry(t,T).next(A=>{g=g.insert(T,A)}))).next(()=>this.populateOverlays(t,v,l)).next(()=>this.computeViews(t,g,v,ae())).next(T=>({batchId:d,changes:ux(T)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Dt(e)).next(r=>{let o=ah();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const l=e.collectionGroup;let c=ah();return this.indexManager.getCollectionParents(t,l).next(d=>pt.forEach(d,g=>{const v=function(w,A){return new sc(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(e,g.child(l));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next(T=>{T.forEach((w,A)=>{c=c.insert(w,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,o))).next(c=>{l.forEach((g,v)=>{const T=v.getKey();c.get(T)===null&&(c=c.insert(T,$n.newInvalidDocument(T)))});let d=ah();return c.forEach((g,v)=>{const T=l.get(g);T!==void 0&&yh(T.mutation,v,Yi.empty(),ze.now()),xm(e,v)&&(d=d.insert(g,v))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return pt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(o){return{id:o.id,version:o.version,createTime:vs(o.createTime)}}(e)),pt.resolve()}getNamedQuery(t,e){return pt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(o){return{name:o.name,query:J4(o.bundledQuery),readTime:vs(o.readTime)}}(e)),pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.overlays=new We(Dt.comparator),this.kr=new Map}getOverlay(t,e){return pt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Cl();return pt.forEach(e,o=>this.getOverlay(t,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((o,l)=>{this.wt(t,e,l)}),pt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(r)),pt.resolve()}getOverlaysForCollection(t,e,r){const o=Cl(),l=e.length+1,c=new Dt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>r&&o.set(g.getKey(),g)}return pt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let l=new We((v,T)=>v-T);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let T=l.get(v.largestBatchId);T===null&&(T=Cl(),l=l.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const d=Cl(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,T)=>d.set(v,T)),!(d.size()>=o)););return pt.resolve(d)}wt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new L4(e,r));let l=this.kr.get(e);l===void 0&&(l=ae(),this.kr.set(e,l)),this.kr.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(t){return pt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,pt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.qr=new bn(Ln.Qr),this.$r=new bn(Ln.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const r=new Ln(t,e);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Wr(new Ln(t,e))}Gr(t,e){t.forEach(r=>this.removeReference(r,e))}zr(t){const e=new Dt(new Ue([])),r=new Ln(e,t),o=new Ln(e,t+1),l=[];return this.$r.forEachInRange([r,o],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new Dt(new Ue([])),r=new Ln(e,t),o=new Ln(e,t+1);let l=ae();return this.$r.forEachInRange([r,o],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new Ln(t,0),r=this.qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Ln{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Dt.comparator(t.key,e.key)||Qt(t.Hr,e.Hr)}static Ur(t,e){return Qt(t.Hr,e.Hr)||Dt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new bn(Ln.Qr)}checkEmpty(t){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new I4(l,e,r,o);this.mutationQueue.push(c);for(const d of o)this.Yr=this.Yr.add(new Ln(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return pt.resolve(c)}lookupMutationBatch(t,e){return pt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),l=o<0?0:o;return pt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?Uv:this.er-1)}getAllMutationBatches(t){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Ln(e,0),o=new Ln(e,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([r,o],c=>{const d=this.Zr(c.Hr);l.push(d)}),pt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new bn(Qt);return e.forEach(o=>{const l=new Ln(o,0),c=new Ln(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],d=>{r=r.add(d.Hr)})}),pt.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let l=r;Dt.isDocumentKey(l)||(l=l.child(""));const c=new Ln(new Dt(l),0);let d=new bn(Qt);return this.Yr.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(d=d.add(g.Hr)),!0)},c),pt.resolve(this.ei(d))}ei(t){const e=[];return t.forEach(r=>{const o=this.Zr(r);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){_e(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return pt.forEach(e.mutations,o=>{const l=new Ln(o.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=r})}rr(t){}containsKey(t,e){const r=new Ln(e,0),o=this.Yr.firstAfterOrEqual(r);return pt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,pt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(t){this.ni=t,this.docs=function(){return new We(Dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),l=o?o.size:0,c=this.ni(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return pt.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(e))}getEntries(t,e){let r=ma();return e.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():$n.newInvalidDocument(o))}),pt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let l=ma();const c=e.path,d=new Dt(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||qD(HD(T),r)<=0||(o.has(T.key)||xm(e,T))&&(l=l.insert(T.key,T.mutableCopy()))}return pt.resolve(l)}getAllFromCollectionGroup(t,e,r,o){Ft(9500)}ri(t,e){return pt.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new p3(this)}getSize(t){return pt.resolve(this.size)}}class p3 extends o3{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.Or.addEntry(t,o)):this.Or.removeEntry(r)}),pt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(t){this.persistence=t,this.ii=new ql(e=>Bv(e),Fv),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.si=0,this.oi=new Kv,this.targetCount=0,this._i=Qu.ar()}forEachTarget(t,e){return this.ii.forEach((r,o)=>e(o)),pt.resolve()}getLastRemoteSnapshotVersion(t){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.si&&(this.si=e),pt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new Qu(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,pt.resolve()}updateTargetData(t,e){return this.hr(e),pt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,pt.resolve()}removeTargets(t,e,r){let o=0;const l=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),pt.waitFor(l).next(()=>o)}getTargetCount(t){return pt.resolve(this.targetCount)}getTargetData(t,e){const r=this.ii.get(e)||null;return pt.resolve(r)}addMatchingKeys(t,e,r){return this.oi.Kr(e,r),pt.resolve()}removeMatchingKeys(t,e,r){this.oi.Gr(e,r);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(c=>{l.push(o.markPotentiallyOrphaned(t,c))}),pt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),pt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.oi.Jr(e);return pt.resolve(r)}containsKey(t,e){return pt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t,e){this.ai={},this.overlays={},this.ui=new Tm(0),this.ci=!1,this.ci=!0,this.li=new f3,this.referenceDelegate=t(this),this.hi=new g3(this),this.indexManager=new t3,this.remoteDocumentCache=function(o){return new m3(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new $4(e),this.Ti=new c3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new h3,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ai[t.toKey()];return r||(r=new d3(e,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,r){Ct("MemoryPersistence","Starting transaction:",t);const o=new _3(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(t,e){return pt.or(Object.values(this.ai).map(r=>()=>r.containsKey(t,e)))}}class _3 extends ZD{constructor(t){super(),this.currentSequenceNumber=t}}class Wv{constructor(t){this.persistence=t,this.Ai=new Kv,this.Ri=null}static Vi(t){return new Wv(t)}get mi(){if(this.Ri)return this.Ri;throw Ft(60996)}addReference(t,e,r){return this.Ai.addReference(r,e),this.mi.delete(r.toString()),pt.resolve()}removeReference(t,e,r){return this.Ai.removeReference(r,e),this.mi.add(r.toString()),pt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),pt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.mi,r=>{const o=Dt.fromPath(r);return this.fi(t,o).next(l=>{l||e.removeEntry(o,Zt.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(r=>{r?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return pt.or([()=>pt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class $d{constructor(t,e){this.persistence=t,this.gi=new ql(r=>WD(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=a3(this,e)}static Vi(t,e){return new $d(t,e)}Ii(){}di(t){return pt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}yr(t){let e=0;return this.gr(t,r=>{e++}).next(()=>e)}gr(t,e){return pt.forEach(this.gi,(r,o)=>this.Sr(t,r,o).next(l=>l?pt.resolve():e(o)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(t,c=>this.Sr(t,c,e).next(d=>{d||(r++,l.removeEntry(c,Zt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),pt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.gi.set(r,t.currentSequenceNumber),pt.resolve()}removeReference(t,e,r){return this.gi.set(r,t.currentSequenceNumber),pt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),pt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=xd(t.data.value)),e}Sr(t,e,r){return pt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.gi.get(e);return pt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Is=r,this.ds=o}static Es(t,e){let r=ae(),o=ae();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Xv(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return xP()?8:YD(ti())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,r,o){const l={result:null};return this.ps(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(t,e,o,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new v3;return this.ws(t,e,c).next(d=>{if(l.result=d,this.Rs)return this.Ss(t,e,c,d.size)})}).next(()=>l.result)}Ss(t,e,r,o){return r.documentReadCount<this.Vs?(Ou()<=se.DEBUG&&Ct("QueryEngine","SDK will not create cache indexes for query:",Mu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pt.resolve()):(Ou()<=se.DEBUG&&Ct("QueryEngine","Query:",Mu(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(Ou()<=se.DEBUG&&Ct("QueryEngine","The SDK decides to create cache indexes for query:",Mu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_s(e))):pt.resolve())}ps(t,e){if(QE(e))return pt.resolve(null);let r=_s(e);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=R_(e,null,"F"),r=_s(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=ae(...l);return this.gs.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(g=>{const v=this.bs(e,d);return this.Ds(e,v,c,g.readTime)?this.ps(t,R_(e,null,"F")):this.vs(t,v,e,g)}))})))}ys(t,e,r,o){return QE(e)||o.isEqual(Zt.min())?pt.resolve(null):this.gs.getDocuments(t,r).next(l=>{const c=this.bs(e,l);return this.Ds(e,c,r,o)?pt.resolve(null):(Ou()<=se.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mu(e)),this.vs(t,c,e,FD(o,Sh)).next(d=>d))})}bs(t,e){let r=new bn(ox(t));return e.forEach((o,l)=>{xm(t,l)&&(r=r.add(l))}),r}Ds(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(t,e,r){return Ou()<=se.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Mu(e)),this.gs.getDocumentsMatchingQuery(t,e,So.min(),r)}vs(t,e,r,o){return this.gs.getDocumentsMatchingQuery(t,r,o).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LocalStore",b3=3e8;class T3{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.Fs=new We(Qt),this.Ms=new ql(l=>Bv(l),Fv),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new u3(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function E3(n,t,e,r){return new T3(n,t,e,r)}async function Px(n,t){const e=Yt(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,e.Ns(t),e.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let g=ae();for(const v of o){c.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of l){d.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return e.localDocuments.getDocuments(r,g).next(v=>({Bs:v,removedBatchIds:c,addedBatchIds:d}))})})}function w3(n,t){const e=Yt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),l=e.Os.newChangeBuffer({trackRemovals:!0});return function(d,g,v,T){const w=v.batch,A=w.keys();let I=pt.resolve();return A.forEach(k=>{I=I.next(()=>T.getEntry(g,k)).next(N=>{const V=v.docVersions.get(k);_e(V!==null,48541),N.version.compareTo(V)<0&&(w.applyToRemoteDocument(N,v),N.isValidDocument()&&(N.setReadTime(v.commitVersion),T.addEntry(N)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(g,w))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=ae();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(g=g.add(d.batch.mutations[v].key));return g}(t))).next(()=>e.localDocuments.getDocuments(r,o))})}function Ox(n){const t=Yt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function A3(n,t){const e=Yt(n),r=t.snapshotVersion;let o=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.Os.newChangeBuffer({trackRemovals:!0});o=e.Fs;const d=[];t.targetChanges.forEach((T,w)=>{const A=o.get(w);if(!A)return;d.push(e.hi.removeMatchingKeys(l,T.removedDocuments,w).next(()=>e.hi.addMatchingKeys(l,T.addedDocuments,w)));let I=A.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(w)!==null?I=I.withResumeToken(zn.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):T.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(T.resumeToken,r)),o=o.insert(w,I),function(N,V,j){return N.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=b3?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(A,I,T)&&d.push(e.hi.updateTargetData(l,I))});let g=ma(),v=ae();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,T))}),d.push(S3(l,c,t.documentUpdates).next(T=>{g=T.Ls,v=T.ks})),!r.isEqual(Zt.min())){const T=e.hi.getLastRemoteSnapshotVersion(l).next(w=>e.hi.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(T)}return pt.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,g,v)).next(()=>g)}).then(l=>(e.Fs=o,l))}function S3(n,t,e){let r=ae(),o=ae();return e.forEach(l=>r=r.add(l)),t.getEntries(n,r).next(l=>{let c=ma();return e.forEach((d,g)=>{const v=l.get(d);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Zt.min())?(t.removeEntry(d,g.readTime),c=c.insert(d,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(g),c=c.insert(d,g)):Ct(Qv,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",g.version)}),{Ls:c,ks:o}})}function x3(n,t){const e=Yt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Uv),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function C3(n,t){const e=Yt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.hi.getTargetData(r,t).next(l=>l?(o=l,pt.resolve(o)):e.hi.allocateTargetId(r).next(c=>(o=new vo(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(r.targetId,r),e.Ms.set(t,r.targetId)),r})}async function M_(n,t,e){const r=Yt(n),o=r.Fs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!rc(c))throw c;Ct(Qv,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(o.target)}function cw(n,t,e){const r=Yt(n);let o=Zt.min(),l=ae();return r.persistence.runTransaction("Execute query","readwrite",c=>function(g,v,T){const w=Yt(g),A=w.Ms.get(T);return A!==void 0?pt.resolve(w.Fs.get(A)):w.hi.getTargetData(v,T)}(r,c,_s(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,d.targetId).next(g=>{l=g})}).next(()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:Zt.min(),e?l:ae())).next(d=>(R3(r,m4(t),d),{documents:d,qs:l})))}function R3(n,t,e){let r=n.xs.get(t)||Zt.min();e.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.xs.set(t,r)}class hw{constructor(){this.activeTargetIds=b4()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class I3{constructor(){this.Fo=new hw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,r){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new hw,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="ConnectivityMonitor";class dw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ct(fw,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){Ct(fw,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function k_(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="RestConnection",P3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O3{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Yd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,l){const c=k_(),d=this.Go(t,e.toUriEncodedString());Ct(Wg,`Sending RPC '${t}' ${c}:`,d,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,l);const{host:v}=new URL(d),T=No(v);return this.jo(t,d,g,r,T).then(w=>(Ct(Wg,`Received RPC '${t}' ${c}: `,w),w),w=>{throw Ao(Wg,`RPC '${t}' ${c} failed with error: `,w,"url: ",d,"request:",r),w})}Jo(t,e,r,o,l,c){return this.Wo(t,e,r,o,l)}zo(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),r&&r.headers.forEach((o,l)=>t[l]=o)}Go(t,e){const r=P3[t];return`${this.$o}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class k3 extends O3{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,r,o,l){const c=k_();return new Promise((d,g)=>{const v=new MS;v.setWithCredentials(!0),v.listenOnce(kS.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Sd.NO_ERROR:const w=v.getResponseJson();Ct(Wn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(w)),d(w);break;case Sd.TIMEOUT:Ct(Wn,`RPC '${t}' ${c} timed out`),g(new xt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:const A=v.getStatus();if(Ct(Wn,`RPC '${t}' ${c} failed with status:`,A,"response text:",v.getResponseText()),A>0){let I=v.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I?.error;if(k&&k.status&&k.message){const N=function(j){const tt=j.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(tt)>=0?tt:ft.UNKNOWN}(k.status);g(new xt(N,k.message))}else g(new xt(ft.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new xt(ft.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{c_:t,streamId:c,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{Ct(Wn,`RPC '${t}' ${c} completed.`)}});const T=JSON.stringify(o);Ct(Wn,`RPC '${t}' ${c} sending request:`,o),v.send(e,"POST",T,r,15)})}P_(t,e,r){const o=k_(),l=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=VS(),d=DS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,e,r),g.encodeInitMessageHeaders=!0;const T=l.join("");Ct(Wn,`Creating RPC '${t}' stream ${o}: ${T}`,g);const w=c.createWebChannel(T,g);this.T_(w);let A=!1,I=!1;const k=new M3({Ho:V=>{I?Ct(Wn,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(A||(Ct(Wn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),A=!0),Ct(Wn,`RPC '${t}' stream ${o} sending:`,V),w.send(V))},Yo:()=>w.close()}),N=(V,j,tt)=>{V.listen(j,nt=>{try{tt(nt)}catch(ct){setTimeout(()=>{throw ct},0)}})};return N(w,sh.EventType.OPEN,()=>{I||(Ct(Wn,`RPC '${t}' stream ${o} transport opened.`),k.s_())}),N(w,sh.EventType.CLOSE,()=>{I||(I=!0,Ct(Wn,`RPC '${t}' stream ${o} transport closed`),k.__(),this.I_(w))}),N(w,sh.EventType.ERROR,V=>{I||(I=!0,Ao(Wn,`RPC '${t}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),k.__(new xt(ft.UNAVAILABLE,"The operation could not be completed")))}),N(w,sh.EventType.MESSAGE,V=>{var j;if(!I){const tt=V.data[0];_e(!!tt,16349);const nt=tt,ct=nt?.error||((j=nt[0])===null||j===void 0?void 0:j.error);if(ct){Ct(Wn,`RPC '${t}' stream ${o} received error:`,ct);const dt=ct.status;let It=function(z){const Z=dn[z];if(Z!==void 0)return yx(Z)}(dt),G=ct.message;It===void 0&&(It=ft.INTERNAL,G="Unknown error status: "+dt+" with message "+ct.message),I=!0,k.__(new xt(It,G)),w.close()}else Ct(Wn,`RPC '${t}' stream ${o} received:`,tt),k.a_(tt)}}),N(d,NS.STAT_EVENT,V=>{V.stat===T_.PROXY?Ct(Wn,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===T_.NOPROXY&&Ct(Wn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function Xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n){return new U4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,e,r=1e3,o=1.5,l=6e4){this.Fi=t,this.timerId=e,this.d_=r,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,e-r);o>0&&Ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="PersistentStream";class kx{constructor(t,e,r,o,l,c,d,g){this.Fi=t,this.w_=r,this.S_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Mx(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(da(e.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===e&&this.W_(r,o)},r=>{t(()=>{const o=new xt(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(t,e){const r=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return Ct(mw,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(Ct(mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N3 extends kx{constructor(t,e,r,o,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=l}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=B4(this.serializer,t),r=function(l){if(!("targetChange"in l))return Zt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Zt.min():c.readTime?vs(c.readTime):Zt.min()}(t);return this.listener.J_(e,r)}H_(t){const e={};e.database=O_(this.serializer),e.addTarget=function(l,c){let d;const g=c.target;if(d=x_(g)?{documents:q4(l,g)}:{query:G4(l,g).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Ex(l,c.resumeToken);const v=I_(l,c.expectedCount);v!==null&&(d.expectedCount=v)}else if(c.snapshotVersion.compareTo(Zt.min())>0){d.readTime=Qd(l,c.snapshotVersion.toTimestamp());const v=I_(l,c.expectedCount);v!==null&&(d.expectedCount=v)}return d}(this.serializer,t);const r=Y4(this.serializer,t);r&&(e.labels=r),this.k_(e)}Y_(t){const e={};e.database=O_(this.serializer),e.removeTarget=t,this.k_(e)}}class D3 extends kx{constructor(t,e,r,o,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=H4(t.writeResults,t.commitTime),r=vs(t.commitTime);return this.listener.ta(r,e)}na(){const t={};t.database=O_(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>F4(this.serializer,r))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{}class U3 extends V3{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(t,L_(e,r),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xt(ft.UNKNOWN,l.toString())})}Jo(t,e,r,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(t,L_(e,r),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xt(ft.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class z3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(da(e),this._a=!1):Ct("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class j3{constructor(t,e,r,o,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{r.enqueueAndForget(async()=>{Gl(this)&&(Ct(Vl,"Restarting streams for network reachability change."),await async function(g){const v=Yt(g);v.Ia.add(4),await Yh(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Pm(v)}(this))})}),this.Aa=new z3(r,o)}}async function Pm(n){if(Gl(n))for(const t of n.da)await t(!0)}async function Yh(n){for(const t of n.da)await t(!1)}function Nx(n,t){const e=Yt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),ey(e)?ty(e):ac(e).x_()&&Jv(e,t))}function $v(n,t){const e=Yt(n),r=ac(e);e.Ta.delete(t),r.x_()&&Dx(e,t),e.Ta.size===0&&(r.x_()?r.B_():Gl(e)&&e.Aa.set("Unknown"))}function Jv(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ac(n).H_(t)}function Dx(n,t){n.Ra.$e(t),ac(n).Y_(t)}function ty(n){n.Ra=new k4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),ac(n).start(),n.Aa.aa()}function ey(n){return Gl(n)&&!ac(n).M_()&&n.Ta.size>0}function Gl(n){return Yt(n).Ia.size===0}function Vx(n){n.Ra=void 0}async function B3(n){n.Aa.set("Online")}async function F3(n){n.Ta.forEach((t,e)=>{Jv(n,t)})}async function H3(n,t){Vx(n),ey(n)?(n.Aa.la(t),ty(n)):n.Aa.set("Unknown")}async function q3(n,t,e){if(n.Aa.set("Online"),t instanceof Tx&&t.state===2&&t.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ta.delete(d),o.Ra.removeTarget(d))}(n,t)}catch(r){Ct(Vl,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Jd(n,r)}else if(t instanceof Id?n.Ra.Ye(t):t instanceof bx?n.Ra.it(t):n.Ra.et(t),!e.isEqual(Zt.min()))try{const r=await Ox(n.localStore);e.compareTo(r)>=0&&await function(l,c){const d=l.Ra.Pt(c);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=l.Ta.get(v);T&&l.Ta.set(v,T.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach((g,v)=>{const T=l.Ta.get(g);if(!T)return;l.Ta.set(g,T.withResumeToken(zn.EMPTY_BYTE_STRING,T.snapshotVersion)),Dx(l,g);const w=new vo(T.target,g,v,T.sequenceNumber);Jv(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(r){Ct(Vl,"Failed to raise snapshot:",r),await Jd(n,r)}}async function Jd(n,t,e){if(!rc(t))throw t;n.Ia.add(1),await Yh(n),n.Aa.set("Offline"),e||(e=()=>Ox(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ct(Vl,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await Pm(n)})}function Ux(n,t){return t().catch(e=>Jd(n,e,t))}async function Om(n){const t=Yt(n),e=Io(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Uv;for(;G3(t);)try{const o=await x3(t.localStore,r);if(o===null){t.Pa.length===0&&e.B_();break}r=o.batchId,Z3(t,o)}catch(o){await Jd(t,o)}zx(t)&&jx(t)}function G3(n){return Gl(n)&&n.Pa.length<10}function Z3(n,t){n.Pa.push(t);const e=Io(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function zx(n){return Gl(n)&&!Io(n).M_()&&n.Pa.length>0}function jx(n){Io(n).start()}async function Y3(n){Io(n).na()}async function K3(n){const t=Io(n);for(const e of n.Pa)t.X_(e.mutations)}async function W3(n,t,e){const r=n.Pa.shift(),o=Gv.from(r,t,e);await Ux(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Om(n)}async function X3(n,t){t&&Io(n).Z_&&await async function(r,o){if(function(c){return O4(c)&&c!==ft.ABORTED}(o.code)){const l=r.Pa.shift();Io(r).N_(),await Ux(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Om(r)}}(n,t),zx(n)&&jx(n)}async function pw(n,t){const e=Yt(n);e.asyncQueue.verifyOperationInProgress(),Ct(Vl,"RemoteStore received new credentials");const r=Gl(e);e.Ia.add(3),await Yh(e),r&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await Pm(e)}async function Q3(n,t){const e=Yt(n);t?(e.Ia.delete(2),await Pm(e)):t||(e.Ia.add(2),await Yh(e),e.Aa.set("Unknown"))}function ac(n){return n.Va||(n.Va=function(e,r,o){const l=Yt(e);return l.ia(),new N3(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Zo:B3.bind(null,n),e_:F3.bind(null,n),n_:H3.bind(null,n),J_:q3.bind(null,n)}),n.da.push(async t=>{t?(n.Va.N_(),ey(n)?ty(n):n.Aa.set("Unknown")):(await n.Va.stop(),Vx(n))})),n.Va}function Io(n){return n.ma||(n.ma=function(e,r,o){const l=Yt(e);return l.ia(),new D3(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Y3.bind(null,n),n_:X3.bind(null,n),ea:K3.bind(null,n),ta:W3.bind(null,n)}),n.da.push(async t=>{t?(n.ma.N_(),await Om(n)):(await n.ma.stop(),n.Pa.length>0&&(Ct(Vl,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,e,r,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,l){const c=Date.now()+r,d=new ny(t,e,c,o,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(n,t){if(da("AsyncQueue",`${t}: ${n}`),rc(n))return new xt(ft.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{static emptySet(t){return new Fu(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Dt.comparator(e.key,r.key):(e,r)=>Dt.comparator(e.key,r.key),this.keyedMap=ah(),this.sortedSet=new We(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Fu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Fu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.fa=new We(Dt.comparator)}track(t){const e=t.doc.key,r=this.fa.get(e);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(e,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(e):t.type===1&&r.type===2?this.fa=this.fa.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Ft(63341,{At:t,ga:r}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,r)=>{t.push(r)}),t}}class $u{constructor(t,e,r,o,l,c,d,g,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,o,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new $u(t,e,Fu.emptySet(e),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class J3{constructor(){this.queries=_w(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,r){const o=Yt(e),l=o.queries;o.queries=_w(),l.forEach((c,d)=>{for(const g of d.wa)g.onError(r)})})(this,new xt(ft.ABORTED,"Firestore shutting down"))}}function _w(){return new ql(n=>ax(n),Sm)}async function ry(n,t){const e=Yt(n);let r=3;const o=t.query;let l=e.queries.get(o);l?!l.Sa()&&t.ba()&&(r=2):(l=new $3,r=t.ba()?0:1);try{switch(r){case 0:l.ya=await e.onListen(o,!0);break;case 1:l.ya=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=iy(c,`Initialization of query '${Mu(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,l),l.wa.push(t),t.va(e.onlineState),l.ya&&t.Ca(l.ya)&&ay(e)}async function sy(n,t){const e=Yt(n),r=t.query;let o=3;const l=e.queries.get(r);if(l){const c=l.wa.indexOf(t);c>=0&&(l.wa.splice(c,1),l.wa.length===0?o=t.ba()?0:1:!l.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function tV(n,t){const e=Yt(n);let r=!1;for(const o of t){const l=o.query,c=e.queries.get(l);if(c){for(const d of c.wa)d.Ca(o)&&(r=!0);c.ya=o}}r&&ay(e)}function eV(n,t,e){const r=Yt(n),o=r.queries.get(t);if(o)for(const l of o.wa)l.onError(e);r.queries.delete(t)}function ay(n){n.Da.forEach(t=>{t.next()})}var N_,vw;(vw=N_||(N_={})).Fa="default",vw.Cache="cache";class oy{constructor(t,e,r){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new $u(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const r=e!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=$u.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==N_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.key=t}}class Fx{constructor(t){this.key=t}}class nV{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ae(),this.mutatedKeys=ae(),this.Xa=ox(t),this.eu=new Fu(this.Xa)}get tu(){return this.Ha}nu(t,e){const r=e?e.ru:new gw,o=e?e.eu:this.eu;let l=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,w)=>{const A=o.get(T),I=xm(this.query,w)?w:null,k=!!A&&this.mutatedKeys.has(A.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;A&&I?A.data.isEqual(I.data)?k!==N&&(r.track({type:3,doc:I}),V=!0):this.iu(A,I)||(r.track({type:2,doc:I}),V=!0,(g&&this.Xa(I,g)>0||v&&this.Xa(I,v)<0)&&(d=!0)):!A&&I?(r.track({type:0,doc:I}),V=!0):A&&!I&&(r.track({type:1,doc:A}),V=!0,(g||v)&&(d=!0)),V&&(I?(c=c.add(I),l=N?l.add(T):l.delete(T)):(c=c.delete(T),l=l.delete(T)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{eu:c,ru:r,Ds:d,mutatedKeys:l}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const l=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort((T,w)=>function(I,k){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{At:V})}};return N(I)-N(k)}(T.type,w.type)||this.Xa(T.doc,w.doc)),this.su(r),o=o!=null&&o;const d=e&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,v=g!==this.Ya;return this.Ya=g,c.length!==0||v?{snapshot:new $u(this.query,t.eu,l,c,t.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=ae(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const e=[];return t.forEach(r=>{this.Za.has(r)||e.push(new Fx(r))}),this.Za.forEach(r=>{t.has(r)||e.push(new Bx(r))}),e}uu(t){this.Ha=t.qs,this.Za=ae();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return $u.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ly="SyncEngine";class iV{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class rV{constructor(t){this.key=t,this.lu=!1}}class sV{constructor(t,e,r,o,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new ql(d=>ax(d),Sm),this.Tu=new Map,this.Iu=new Set,this.du=new We(Dt.comparator),this.Eu=new Map,this.Au=new Kv,this.Ru={},this.Vu=new Map,this.mu=Qu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function aV(n,t,e=!0){const r=Kx(n);let o;const l=r.Pu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await Hx(r,t,e,!0),o}async function oV(n,t){const e=Kx(n);await Hx(e,t,!0,!1)}async function Hx(n,t,e,r){const o=await C3(n.localStore,_s(t)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return r&&(d=await lV(n,t,l,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&Nx(n.remoteStore,o),d}async function lV(n,t,e,r,o){n.gu=(w,A,I)=>async function(N,V,j,tt){let nt=V.view.nu(j);nt.Ds&&(nt=await cw(N.localStore,V.query,!1).then(({documents:G})=>V.view.nu(G,nt)));const ct=tt&&tt.targetChanges.get(V.targetId),dt=tt&&tt.targetMismatches.get(V.targetId)!=null,It=V.view.applyChanges(nt,N.isPrimaryClient,ct,dt);return bw(N,V.targetId,It._u),It.snapshot}(n,w,A,I);const l=await cw(n.localStore,t,!0),c=new nV(t,l.qs),d=c.nu(l.documents),g=Zh.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),v=c.applyChanges(d,n.isPrimaryClient,g);bw(n,e,v._u);const T=new iV(t,e,c);return n.Pu.set(t,T),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),v.snapshot}async function uV(n,t,e){const r=Yt(n),o=r.Pu.get(t),l=r.Tu.get(o.targetId);if(l.length>1)return r.Tu.set(o.targetId,l.filter(c=>!Sm(c,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await M_(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),e&&$v(r.remoteStore,o.targetId),D_(r,o.targetId)}).catch(ic)):(D_(r,o.targetId),await M_(r.localStore,o.targetId,!0))}async function cV(n,t){const e=Yt(n),r=e.Pu.get(t),o=e.Tu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),$v(e.remoteStore,r.targetId))}async function hV(n,t,e){const r=vV(n);try{const o=await function(c,d){const g=Yt(c),v=ze.now(),T=d.reduce((I,k)=>I.add(k.key),ae());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>{let k=ma(),N=ae();return g.Os.getEntries(I,T).next(V=>{k=V,k.forEach((j,tt)=>{tt.isValidDocument()||(N=N.add(j))})}).next(()=>g.localDocuments.getOverlayedDocuments(I,k)).next(V=>{w=V;const j=[];for(const tt of d){const nt=C4(tt,w.get(tt.key).overlayedDocument);nt!=null&&j.push(new zo(tt.key,nt,$S(nt.value.mapValue),_r.exists(!0)))}return g.mutationQueue.addMutationBatch(I,v,j,d)}).next(V=>{A=V;const j=V.applyToLocalDocumentSet(w,N);return g.documentOverlayCache.saveOverlays(I,V.batchId,j)})}).then(()=>({batchId:A.batchId,changes:ux(w)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(c,d,g){let v=c.Ru[c.currentUser.toKey()];v||(v=new We(Qt)),v=v.insert(d,g),c.Ru[c.currentUser.toKey()]=v}(r,o.batchId,e),await Kh(r,o.changes),await Om(r.remoteStore)}catch(o){const l=iy(o,"Failed to persist write");e.reject(l)}}async function qx(n,t){const e=Yt(n);try{const r=await A3(e.localStore,t);t.targetChanges.forEach((o,l)=>{const c=e.Eu.get(l);c&&(_e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.lu=!0:o.modifiedDocuments.size>0?_e(c.lu,14607):o.removedDocuments.size>0&&(_e(c.lu,42227),c.lu=!1))}),await Kh(e,r,t)}catch(r){await ic(r)}}function yw(n,t,e){const r=Yt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Pu.forEach((l,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(c,d){const g=Yt(c);g.onlineState=d;let v=!1;g.queries.forEach((T,w)=>{for(const A of w.wa)A.va(d)&&(v=!0)}),v&&ay(g)}(r.eventManager,t),o.length&&r.hu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fV(n,t,e){const r=Yt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Eu.get(t),l=o&&o.key;if(l){let c=new We(Dt.comparator);c=c.insert(l,$n.newNoDocument(l,Zt.min()));const d=ae().add(l),g=new Im(Zt.min(),new Map,new We(Qt),c,d);await qx(r,g),r.du=r.du.remove(l),r.Eu.delete(t),uy(r)}else await M_(r.localStore,t,!1).then(()=>D_(r,t,e)).catch(ic)}async function dV(n,t){const e=Yt(n),r=t.batch.batchId;try{const o=await w3(e.localStore,t);Zx(e,r,null),Gx(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Kh(e,o)}catch(o){await ic(o)}}async function mV(n,t,e){const r=Yt(n);try{const o=await function(c,d){const g=Yt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return g.mutationQueue.lookupMutationBatch(v,d).next(w=>(_e(w!==null,37113),T=w.keys(),g.mutationQueue.removeMutationBatch(v,w))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,T,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T)).next(()=>g.localDocuments.getDocuments(v,T))})}(r.localStore,t);Zx(r,t,e),Gx(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Kh(r,o)}catch(o){await ic(o)}}function Gx(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function Zx(n,t,e){const r=Yt(n);let o=r.Ru[r.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),r.Ru[r.currentUser.toKey()]=o}}function D_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Tu.get(t))n.Pu.delete(r),e&&n.hu.pu(r,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(r=>{n.Au.containsKey(r)||Yx(n,r)})}function Yx(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&($v(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),uy(n))}function bw(n,t,e){for(const r of e)r instanceof Bx?(n.Au.addReference(r.key,t),pV(n,r)):r instanceof Fx?(Ct(ly,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,t),n.Au.containsKey(r.key)||Yx(n,r.key)):Ft(19791,{yu:r})}function pV(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Iu.has(r)||(Ct(ly,"New document in limbo: "+e),n.Iu.add(r),uy(n))}function uy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new Dt(Ue.fromString(t)),r=n.mu.next();n.Eu.set(r,new rV(e)),n.du=n.du.insert(e,r),Nx(n.remoteStore,new vo(_s(Am(e.path)),r,"TargetPurposeLimboResolution",Tm.ue))}}async function Kh(n,t,e){const r=Yt(n),o=[],l=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach((d,g)=>{c.push(r.gu(g,t,e).then(v=>{var T;if((v||e)&&r.isPrimaryClient){const w=v?!v.fromCache:(T=e?.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;r.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(v){o.push(v);const w=Xv.Es(g.targetId,v);l.push(w)}}))}),await Promise.all(c),r.hu.J_(o),await async function(g,v){const T=Yt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>pt.forEach(v,A=>pt.forEach(A.Is,I=>T.persistence.referenceDelegate.addReference(w,A.targetId,I)).next(()=>pt.forEach(A.ds,I=>T.persistence.referenceDelegate.removeReference(w,A.targetId,I)))))}catch(w){if(!rc(w))throw w;Ct(Qv,"Failed to update sequence numbers: "+w)}for(const w of v){const A=w.targetId;if(!w.fromCache){const I=T.Fs.get(A),k=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(k);T.Fs=T.Fs.insert(A,N)}}}(r.localStore,l))}async function gV(n,t){const e=Yt(n);if(!e.currentUser.isEqual(t)){Ct(ly,"User change. New user:",t.toKey());const r=await Px(e.localStore,t);e.currentUser=t,function(l,c){l.Vu.forEach(d=>{d.forEach(g=>{g.reject(new xt(ft.CANCELLED,c))})}),l.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Kh(e,r.Bs)}}function _V(n,t){const e=Yt(n),r=e.Eu.get(t);if(r&&r.lu)return ae().add(r.key);{let o=ae();const l=e.Tu.get(t);if(!l)return o;for(const c of l){const d=e.Pu.get(c);o=o.unionWith(d.view.tu)}return o}}function Kx(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=qx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_V.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fV.bind(null,t),t.hu.J_=tV.bind(null,t.eventManager),t.hu.pu=eV.bind(null,t.eventManager),t}function vV(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mV.bind(null,t),t}class tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lm(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return E3(this.persistence,new y3,t.initialUser,this.serializer)}Du(t){return new Lx(Wv.Vi,this.serializer)}bu(t){return new I3}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tm.provider={build:()=>new tm};class yV extends tm{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){_e(this.persistence.referenceDelegate instanceof $d,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new r3(r,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new Lx(r=>$d.Vi(r,e),this.serializer)}}class V_{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gV.bind(null,this.syncEngine),await Q3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new J3}()}createDatastore(t){const e=Lm(t.databaseInfo.databaseId),r=function(l){return new k3(l)}(t.databaseInfo);return function(l,c,d,g){return new U3(l,c,d,g)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,o,l,c,d){return new j3(r,o,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>yw(this.syncEngine,e,0),function(){return dw.C()?new dw:new L3}())}createSyncEngine(t,e){return function(o,l,c,d,g,v,T){const w=new sV(o,l,c,d,g,v);return T&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const l=Yt(o);Ct(Vl,"RemoteStore shutting down."),l.Ia.add(5),await Yh(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}V_.provider={build:()=>new V_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):da("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="FirestoreClient";class bV{constructor(t,e,r,o,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Xn.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{Ct(Lo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Ct(Lo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=iy(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Qg(n,t){n.asyncQueue.verifyOperationInProgress(),Ct(Lo,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Px(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>{Ao("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ao("Terminating Firestore due to IndexedDb database deletion failed",o)})}),n._offlineComponents=t}async function Tw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await TV(n);Ct(Lo,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>pw(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>pw(t.remoteStore,o)),n._onlineComponents=t}async function TV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ct(Lo,"Using user provided OfflineComponentProvider");try{await Qg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Ao("Error using user provided cache. Falling back to memory cache: "+e),await Qg(n,new tm)}}else Ct(Lo,"Using default OfflineComponentProvider"),await Qg(n,new yV(void 0));return n._offlineComponents}async function Wx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ct(Lo,"Using user provided OnlineComponentProvider"),await Tw(n,n._uninitializedComponentsProvider._online)):(Ct(Lo,"Using default OnlineComponentProvider"),await Tw(n,new V_))),n._onlineComponents}function EV(n){return Wx(n).then(t=>t.syncEngine)}async function em(n){const t=await Wx(n),e=t.eventManager;return e.onListen=aV.bind(null,t.syncEngine),e.onUnlisten=uV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=oV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=cV.bind(null,t.syncEngine),e}function wV(n,t,e={}){const r=new la;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,v){const T=new cy({next:A=>{T.Ou(),c.enqueueAndForget(()=>sy(l,w));const I=A.docs.has(d);!I&&A.fromCache?v.reject(new xt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&g&&g.source==="server"?v.reject(new xt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),w=new oy(Am(d.path),T,{includeMetadataChanges:!0,ka:!0});return ry(l,w)}(await em(n),n.asyncQueue,t,e,r)),r.promise}function AV(n,t,e={}){const r=new la;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,v){const T=new cy({next:A=>{T.Ou(),c.enqueueAndForget(()=>sy(l,w)),A.fromCache&&g.source==="server"?v.reject(new xt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),w=new oy(d,T,{includeMetadataChanges:!0,ka:!0});return ry(l,w)}(await em(n),n.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="firestore.googleapis.com",ww=!0;class Aw{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new xt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qx,this.ssl=ww}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:ww;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Ix;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<n3)throw new xt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xx((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mm{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OD;switch(r.type){case"firstParty":return new DD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Ew.get(e);r&&(Ct("ComponentProvider","Removing Datastore"),Ew.delete(e),r.terminate())}(this),Promise.resolve()}}function SV(n,t,e,r={}){var o;n=Ei(n,Mm);const l=No(t),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),g=`${t}:${e}`;l&&(fv(`https://${g}`),dv("Firestore",!0)),c.host!==Qx&&c.host!==g&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},c),{host:g,ssl:l,emulatorOptions:r});if(!ca(v,d)&&(n._setSettings(v),r.mockUserToken)){let T,w;if(typeof r.mockUserToken=="string")T=r.mockUserToken,w=Xn.MOCK_USER;else{T=FA(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new xt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Xn(A)}n._authCredentials=new MD(new zS(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new jo(this.firestore,t,this._query)}}class tn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(qh(e,tn._jsonSchema))return new tn(t,r||null,new Dt(Ue.fromString(e.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:pn("string",tn._jsonSchemaVersion),referencePath:pn("string")};class Eo extends jo{constructor(t,e,r){super(t,e,Am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new Dt(t))}withConverter(t){return new Eo(this.firestore,t,this._path)}}function yr(n,t,...e){if(n=xe(n),BS("collection","path",t),n instanceof Mm){const r=Ue.fromString(t,...e);return VE(r),new Eo(n,null,r)}{if(!(n instanceof tn||n instanceof Eo))throw new xt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(t,...e));return VE(r),new Eo(n.firestore,null,r)}}function Jn(n,t,...e){if(n=xe(n),arguments.length===1&&(t=Vv.newId()),BS("doc","path",t),n instanceof Mm){const r=Ue.fromString(t,...e);return DE(r),new tn(n,null,new Dt(r))}{if(!(n instanceof tn||n instanceof Eo))throw new xt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(t,...e));return DE(r),new tn(n.firestore,n instanceof Eo?n.converter:null,new Dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="AsyncQueue";class xw{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Mx(this,"async_queue_retry"),this.oc=()=>{const r=Xg();r&&Ct(Sw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const e=Xg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=Xg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new la;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!rc(t))throw t;Ct(Sw,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(r=>{throw this.tc=r,this.nc=!1,da("INTERNAL UNHANDLED ERROR: ",Cw(r)),r}).then(r=>(this.nc=!1,r))));return this._c=e,e}enqueueAfterDelay(t,e,r){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const o=ny.createAndSchedule(this,t,e,r,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Ft(47125,{hc:Cw(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function Cw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n){return function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const l of r)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class pa extends Mm{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new xw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xw(t),this._firestoreClient=void 0,await t}}}function xV(n,t){const e=typeof n=="object"?n:hm(),r=typeof n=="string"?n:Yd,o=Do(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=zA("firestore");l&&SV(o,...l)}return o}function km(n){if(n._terminated)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CV(n),n._firestoreClient}function CV(n){var t,e,r;const o=n._freezeSettings(),l=function(d,g,v,T){return new $D(d,g,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Xx(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new bV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const g=d?._online.build();return{_offline:d?._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gr(zn.fromBase64String(t))}catch(e){throw new xt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new gr(zn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qh(t,gr._jsonSchema))return gr.fromBase64String(t.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:pn("string",gr._jsonSchemaVersion),bytes:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new xt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ys._jsonSchemaVersion}}static fromJSON(t){if(qh(t,ys._jsonSchema))return new ys(t.latitude,t.longitude)}}ys._jsonSchemaVersion="firestore/geoPoint/1.0",ys._jsonSchema={type:pn("string",ys._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,t._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qh(t,bs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new bs(t.vectorValues);throw new xt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:pn("string",bs._jsonSchemaVersion),vectorValues:pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=/^__.*__$/;class IV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new zo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gh(t,this.data,e,this.fieldTransforms)}}class $x{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new zo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Jx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ec:n})}}class Dm{constructor(t,e,r,o,l,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Dm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.Rc({path:r,mc:!1});return o.fc(t),o}gc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return nm(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(Jx(this.Ec)&&RV.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class LV{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Lm(t)}Dc(t,e,r,o=!1){return new Dm({Ec:t,methodName:e,bc:r,path:Un.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(n){const t=n._freezeSettings(),e=Lm(n._databaseId);return new LV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function tC(n,t,e,r,o,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,t,e,o);dy("Data must be an object, but it was:",c,r);const d=eC(r,c);let g,v;if(l.merge)g=new Yi(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const T=[];for(const w of l.mergeFields){const A=U_(t,w,e);if(!c.contains(A))throw new xt(ft.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);iC(T,A)||T.push(A)}g=new Yi(T),v=c.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,v=c.fieldTransforms;return new IV(new yi(d),g,v)}class Um extends Wh{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Um}}function PV(n,t,e){return new Dm({Ec:3,bc:t.settings.bc,methodName:n._methodName,mc:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class hy extends Wh{_toFieldTransform(t){return new gx(t.path,new Lh)}isEqual(t){return t instanceof hy}}class fy extends Wh{constructor(t,e){super(t),this.vc=e}_toFieldTransform(t){const e=PV(this,t,!0),r=this.vc.map(l=>oc(l,e)),o=new Xu(r);return new gx(t.path,o)}isEqual(t){return t instanceof fy&&ca(this.vc,t.vc)}}function OV(n,t,e,r){const o=n.Dc(1,t,e);dy("Data must be an object, but it was:",o,r);const l=[],c=yi.empty();Uo(r,(g,v)=>{const T=my(t,g,e);v=xe(v);const w=o.gc(T);if(v instanceof Um)l.push(T);else{const A=oc(v,w);A!=null&&(l.push(T),c.set(T,A))}});const d=new Yi(l);return new $x(c,d,o.fieldTransforms)}function MV(n,t,e,r,o,l){const c=n.Dc(1,t,e),d=[U_(t,r,e)],g=[o];if(l.length%2!=0)throw new xt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(U_(t,l[A])),g.push(l[A+1]);const v=[],T=yi.empty();for(let A=d.length-1;A>=0;--A)if(!iC(v,d[A])){const I=d[A];let k=g[A];k=xe(k);const N=c.gc(I);if(k instanceof Um)v.push(I);else{const V=oc(k,N);V!=null&&(v.push(I),T.set(I,V))}}const w=new Yi(v);return new $x(T,w,c.fieldTransforms)}function kV(n,t,e,r=!1){return oc(e,n.Dc(r?4:3,t))}function oc(n,t){if(nC(n=xe(n)))return dy("Unsupported field value:",t,n),eC(n,t);if(n instanceof Wh)return function(r,o){if(!Jx(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(r,o){const l=[];let c=0;for(const d of r){let g=oc(d,o.yc(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}}(n,t)}return function(r,o){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ze.fromDate(r);return{timestampValue:Qd(o.serializer,l)}}if(r instanceof ze){const l=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(o.serializer,l)}}if(r instanceof ys)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gr)return{bytesValue:Ex(o.serializer,r._byteString)};if(r instanceof tn){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yv(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof bs)return function(c,d){return{mapValue:{fields:{[XS]:{stringValue:QS},[Kd]:{arrayValue:{values:c.toArray().map(v=>{if(typeof v!="number")throw d.wc("VectorValues must only contain numeric values.");return Hv(d.serializer,v)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${bm(r)}`)}(n,t)}function eC(n,t){const e={};return qS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uo(n,(r,o)=>{const l=oc(o,t.Vc(r));l!=null&&(e[r]=l)}),{mapValue:{fields:e}}}function nC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ze||n instanceof ys||n instanceof gr||n instanceof tn||n instanceof Wh||n instanceof bs)}function dy(n,t,e){if(!nC(e)||!FS(e)){const r=bm(e);throw r==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+r)}}function U_(n,t,e){if((t=xe(t))instanceof Nm)return t._internalPath;if(typeof t=="string")return my(n,t);throw nm("Field path arguments must be of type string or ",n,!1,void 0,e)}const NV=new RegExp("[~\\*/\\[\\]]");function my(n,t,e){if(t.search(NV)>=0)throw nm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Nm(...t.split("."))._internalPath}catch{throw nm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function nm(n,t,e,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new xt(ft.INVALID_ARGUMENT,d+n+g)}function iC(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,e,r,o,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(zm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class DV extends rC{data(){return super.data()}}function zm(n,t){return typeof t=="string"?my(n,t):t instanceof Nm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class aC extends py{}function jm(n,t,...e){let r=[];t instanceof py&&r.push(t),r=r.concat(e),function(l){const c=l.filter(g=>g instanceof gy).length,d=l.filter(g=>g instanceof Bm).length;if(c>1||c>0&&d>0)throw new xt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Bm extends aC{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Bm(t,e,r)}_apply(t){const e=this._parse(t);return oC(t._query,e),new jo(t.firestore,t.converter,C_(t._query,e))}_parse(t){const e=Vm(t.firestore);return function(l,c,d,g,v,T,w){let A;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new xt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Lw(w,T);const k=[];for(const N of w)k.push(Iw(g,l,N));A={arrayValue:{values:k}}}else A=Iw(g,l,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Lw(w,T),A=kV(d,c,w,T==="in"||T==="not-in");return mn.create(v,T,A)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function VV(n,t,e){const r=t,o=zm("where",n);return Bm._create(o,r,e)}class gy extends py{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new gy(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:Hr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const g of d)oC(c,g),c=C_(c,g)}(t._query,e),new jo(t.firestore,t.converter,C_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _y extends aC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new _y(t,e)}_apply(t){const e=function(o,l,c){if(o.startAt!==null)throw new xt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new xt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ih(l,c)}(t._query,this._field,this._direction);return new jo(t.firestore,t.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new sc(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,e))}}function vy(n,t="asc"){const e=t,r=zm("orderBy",n);return _y._create(r,e)}function Iw(n,t,e){if(typeof(e=xe(e))=="string"){if(e==="")throw new xt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sx(t)&&e.indexOf("/")!==-1)throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Ue.fromString(e));if(!Dt.isDocumentKey(r))throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GE(n,new Dt(r))}if(e instanceof tn)return GE(n,e._key);throw new xt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bm(e)}.`)}function Lw(n,t){if(!Array.isArray(n)||n.length===0)throw new xt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oC(n,t){const e=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new xt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new xt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class UV{convertValue(t,e="none"){switch(Ro(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ln(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Co(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Uo(t,(o,l)=>{r[o]=this.convertValue(l,e)}),r}convertVectorValue(t){var e,r,o;const l=(o=(r=(e=t.fields)===null||e===void 0?void 0:e[Kd].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(c=>ln(c.doubleValue));return new bs(l)}convertGeoPoint(t){return new ys(ln(t.latitude),ln(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=wm(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(xh(t));default:return null}}convertTimestamp(t){const e=xo(t);return new ze(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Ue.fromString(t);_e(Rx(r),9688,{name:t});const o=new Ch(r.get(1),r.get(3)),l=new Dt(r.popFirst(5));return o.isEqual(e)||da(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class lh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ll extends rC{constructor(t,e,r,o,l,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ll._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:pn("string",Ll._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};class Ld extends Ll{data(t={}){return super.data(t)}}class Pl{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new lh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Ld(this._firestore,this._userDataWriter,r.key,r,new lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const g=new Ld(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new Ld(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return d.type!==0&&(v=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),T=c.indexOf(d.doc.key)),{type:zV(d.type),doc:g,oldIndex:v,newIndex:T}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(e.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n){n=Ei(n,tn);const t=Ei(n.firestore,pa);return wV(km(t),n._key).then(e=>hC(t,n,e))}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:pn("string",Pl._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};class yy extends UV{constructor(t){super(),this.firestore=t}convertBytes(t){return new gr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,e)}}function Xh(n){n=Ei(n,jo);const t=Ei(n.firestore,pa),e=km(t),r=new yy(t);return sC(n._query),AV(e,n._query).then(o=>new Pl(t,r,n,o))}function jV(n,t,e){n=Ei(n,tn);const r=Ei(n.firestore,pa),o=lC(n.converter,t);return Fm(r,[tC(Vm(r),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,_r.none())])}function bh(n,t,e,...r){n=Ei(n,tn);const o=Ei(n.firestore,pa),l=Vm(o);let c;return c=typeof(t=xe(t))=="string"||t instanceof Nm?MV(l,"updateDoc",n._key,t,e,r):OV(l,"updateDoc",n._key,t),Fm(o,[c.toMutation(n._key,_r.exists(!0))])}function uC(n){return Fm(Ei(n.firestore,pa),[new qv(n._key,_r.none())])}function Qh(n,t){const e=Ei(n.firestore,pa),r=Jn(n),o=lC(n.converter,t);return Fm(e,[tC(Vm(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}function cC(n,...t){var e,r,o;n=xe(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||Rw(t[c])||(l=t[c++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Rw(t[c])){const w=t[c];t[c]=(e=w.next)===null||e===void 0?void 0:e.bind(w),t[c+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),t[c+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,v,T;if(n instanceof tn)v=Ei(n.firestore,pa),T=Am(n._key.path),g={next:w=>{t[c]&&t[c](hC(v,n,w))},error:t[c+1],complete:t[c+2]};else{const w=Ei(n,jo);v=Ei(w.firestore,pa),T=w._query;const A=new yy(v);g={next:I=>{t[c]&&t[c](new Pl(v,A,w,I))},error:t[c+1],complete:t[c+2]},sC(n._query)}return function(A,I,k,N){const V=new cy(N),j=new oy(I,V,k);return A.asyncQueue.enqueueAndForget(async()=>ry(await em(A),j)),()=>{V.Ou(),A.asyncQueue.enqueueAndForget(async()=>sy(await em(A),j))}}(km(v),T,d,g)}function Fm(n,t){return function(r,o){const l=new la;return r.asyncQueue.enqueueAndForget(async()=>hV(await EV(r),o,l)),l.promise}(km(n),t)}function hC(n,t,e){const r=e.docs.get(t._key),o=new yy(n);return new Ll(n,o,t._key,r,new lh(e.hasPendingWrites,e.fromCache),t.converter)}function $h(){return new hy("serverTimestamp")}function BV(...n){return new fy("arrayUnion",n)}(function(t,e=!0){(function(o){nc=o})(Fl),Br(new vr("firestore",(r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new pa(new kD(r.getProvider("auth-internal")),new VD(c,r.getProvider("app-check-internal")),function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new xt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(v.options.projectId,T)}(c,o),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),bi(PE,OE,t),bi(PE,OE,"esm2017")})();const FV={apiKey:"AIzaSyD1W2T5HphtC6jac2AIqnKaOCp5XKFWO34",authDomain:"webturismo-9e4b1.firebaseapp.com",projectId:"webturismo-9e4b1",storageBucket:"webturismo-9e4b1.firebasestorage.app",messagingSenderId:"406238504556",appId:"1:406238504556:web:0187e7d200783d75765a49",measurementId:"G-18F1W0TXNN"},Hm=WA(FV),Pe=xV(Hm),Po=Av(Hm),Pw=uN(Hm);RD(Hm);const HV=()=>{const[n,t]=q.useState([]);return q.useEffect(()=>{(async()=>{try{const o=(await Xh(yr(Pe,"Rutas"))).docs.map(l=>({id:l.id,...l.data()}));t(o)}catch(r){console.error("❌ Error al cargar rutas desde Firebase:",r)}})()},[]),C.jsx("div",{className:"pantalla-completa",children:C.jsxs("div",{className:"vertical-layout",children:[C.jsx("h1",{children:"Explora Rutas en Tarragona"}),C.jsx("section",{className:"rutas-diagonales",children:n.slice(0,3).map(e=>C.jsxs(Le,{to:`/rutas/${e.id}`,className:"tarjeta-diagonal",style:{textDecoration:"none",color:"inherit"},children:[C.jsx("img",{src:e.imagen,alt:e.nombre,style:{cursor:"pointer"}}),C.jsxs("div",{className:"contenido",children:[C.jsx("h2",{children:e.nombre}),C.jsxs("p",{children:[C.jsx("strong",{children:"Tipo:"})," ",e.tipo]}),C.jsx("p",{children:C.jsx("strong",{children:"Incluye:"})}),C.jsx("ul",{children:e.contenido?.map((r,o)=>C.jsx("li",{children:r},o))})]})]},e.id))})]})})};var uh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var qV=uh.exports,Ow;function fC(){return Ow||(Ow=1,function(n,t){(function(e,r){r(t)})(qV,function(e){var r="1.9.4";function o(a){var h,p,b,S;for(p=1,b=arguments.length;p<b;p++){S=arguments[p];for(h in S)a[h]=S[h]}return a}var l=Object.create||function(){function a(){}return function(h){return a.prototype=h,new a}}();function c(a,h){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var b=p.call(arguments,2);return function(){return a.apply(h,b.length?b.concat(p.call(arguments)):arguments)}}var d=0;function g(a){return"_leaflet_id"in a||(a._leaflet_id=++d),a._leaflet_id}function v(a,h,p){var b,S,P,B;return B=function(){b=!1,S&&(P.apply(p,S),S=!1)},P=function(){b?S=arguments:(a.apply(p,arguments),setTimeout(B,h),b=!0)},P}function T(a,h,p){var b=h[1],S=h[0],P=b-S;return a===b&&p?a:((a-S)%P+P)%P+S}function w(){return!1}function A(a,h){if(h===!1)return a;var p=Math.pow(10,h===void 0?6:h);return Math.round(a*p)/p}function I(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return I(a).split(/\s+/)}function N(a,h){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?l(a.options):{});for(var p in h)a.options[p]=h[p];return a.options}function V(a,h,p){var b=[];for(var S in a)b.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!h||h.indexOf("?")===-1?"?":"&")+b.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function tt(a,h){return a.replace(j,function(p,b){var S=h[b];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(h)),S})}var nt=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function ct(a,h){for(var p=0;p<a.length;p++)if(a[p]===h)return p;return-1}var dt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function It(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var G=0;function D(a){var h=+new Date,p=Math.max(0,16-(h-G));return G=h+p,window.setTimeout(a,p)}var z=window.requestAnimationFrame||It("RequestAnimationFrame")||D,Z=window.cancelAnimationFrame||It("CancelAnimationFrame")||It("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Y(a,h,p){if(p&&z===D)a.call(h);else return z.call(window,c(a,h))}function W(a){a&&Z.call(window,a)}var H={__proto__:null,extend:o,create:l,bind:c,get lastId(){return d},stamp:g,throttle:v,wrapNum:T,falseFn:w,formatNum:A,trim:I,splitWords:k,setOptions:N,getParamString:V,template:tt,isArray:nt,indexOf:ct,emptyImageUrl:dt,requestFn:z,cancelFn:Z,requestAnimFrame:Y,cancelAnimFrame:W};function Ce(){}Ce.extend=function(a){var h=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=h.__super__=this.prototype,b=l(p);b.constructor=h,h.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return a.statics&&o(h,a.statics),a.includes&&(Fe(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=p.options?l(p.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,B=b._initHooks.length;P<B;P++)b._initHooks[P].call(this)}},h},Ce.include=function(a){var h=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=h,this.mergeOptions(a.options)),this},Ce.mergeOptions=function(a){return o(this.prototype.options,a),this},Ce.addInitHook=function(a){var h=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Fe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=nt(a)?a:[a];for(var h=0;h<a.length;h++)a[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ot={on:function(a,h,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],h);else{a=k(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],h,p)}return this},off:function(a,h,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],h);else{a=k(a);for(var S=arguments.length===1,P=0,B=a.length;P<B;P++)S?this._off(a[P]):this._off(a[P],h,p)}return this},_on:function(a,h,p,b){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(a,h,p)===!1){p===this&&(p=void 0);var S={fn:h,ctx:p};b&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,h,p){var b,S,P;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,P=b.length;S<P;S++)b[S].fn=w;delete this._events[a];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var B=this._listens(a,h,p);if(B!==!1){var $=b[B];this._firingCount&&($.fn=w,this._events[a]=b=b.slice()),b.splice(B,1)}}},fire:function(a,h,p){if(!this.listens(a,p))return this;var b=o({},h,{type:a,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,B=S.length;P<B;P++){var $=S[P],st=$.fn;$.once&&this.off(a,st,$.ctx),st.call($.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(a,h,p,b){typeof a!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(b=!!h,S=void 0,p=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,p)!==!1)return!0;if(b){for(var B in this._eventParents)if(this._eventParents[B].listens(a,h,p,b))return!0}return!1},_listens:function(a,h,p){if(!this._events)return!1;var b=this._events[a]||[];if(!h)return!!b.length;p===this&&(p=void 0);for(var S=0,P=b.length;S<P;S++)if(b[S].fn===h&&b[S].ctx===p)return S;return!1},once:function(a,h,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],h,!0);else{a=k(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],h,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[g(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[g(a)],this},_propagateEvent:function(a){for(var h in this._eventParents)this._eventParents[h].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};ot.addEventListener=ot.on,ot.removeEventListener=ot.clearAllEventListeners=ot.off,ot.addOneTimeEventListener=ot.once,ot.fireEvent=ot.fire,ot.hasEventListeners=ot.listens;var Et=Ce.extend(ot);function vt(a,h,p){this.x=p?Math.round(a):a,this.y=p?Math.round(h):h}var le=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};vt.prototype={clone:function(){return new vt(this.x,this.y)},add:function(a){return this.clone()._add(U(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(U(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new vt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new vt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(a){a=U(a);var h=a.x-this.x,p=a.y-this.y;return Math.sqrt(h*h+p*p)},equals:function(a){return a=U(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=U(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function U(a,h,p){return a instanceof vt?a:nt(a)?new vt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new vt(a.x,a.y):new vt(a,h,p)}function lt(a,h){if(a)for(var p=h?[a,h]:a,b=0,S=p.length;b<S;b++)this.extend(p[b])}lt.prototype={extend:function(a){var h,p;if(!a)return this;if(a instanceof vt||typeof a[0]=="number"||"x"in a)h=p=U(a);else if(a=bt(a),h=a.min,p=a.max,!h||!p)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=p.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var h,p;return typeof a[0]=="number"||a instanceof vt?a=U(a):a=bt(a),a instanceof lt?(h=a.min,p=a.max):h=p=a,h.x>=this.min.x&&p.x<=this.max.x&&h.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=bt(a);var h=this.min,p=this.max,b=a.min,S=a.max,P=S.x>=h.x&&b.x<=p.x,B=S.y>=h.y&&b.y<=p.y;return P&&B},overlaps:function(a){a=bt(a);var h=this.min,p=this.max,b=a.min,S=a.max,P=S.x>h.x&&b.x<p.x,B=S.y>h.y&&b.y<p.y;return P&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var h=this.min,p=this.max,b=Math.abs(h.x-p.x)*a,S=Math.abs(h.y-p.y)*a;return bt(U(h.x-b,h.y-S),U(p.x+b,p.y+S))},equals:function(a){return a?(a=bt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function bt(a,h){return!a||a instanceof lt?a:new lt(a,h)}function _t(a,h){if(a)for(var p=h?[a,h]:a,b=0,S=p.length;b<S;b++)this.extend(p[b])}_t.prototype={extend:function(a){var h=this._southWest,p=this._northEast,b,S;if(a instanceof Rt)b=a,S=a;else if(a instanceof _t){if(b=a._southWest,S=a._northEast,!b||!S)return this}else return a?this.extend(wt(a)||At(a)):this;return!h&&!p?(this._southWest=new Rt(b.lat,b.lng),this._northEast=new Rt(S.lat,S.lng)):(h.lat=Math.min(b.lat,h.lat),h.lng=Math.min(b.lng,h.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var h=this._southWest,p=this._northEast,b=Math.abs(h.lat-p.lat)*a,S=Math.abs(h.lng-p.lng)*a;return new _t(new Rt(h.lat-b,h.lng-S),new Rt(p.lat+b,p.lng+S))},getCenter:function(){return new Rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Rt||"lat"in a?a=wt(a):a=At(a);var h=this._southWest,p=this._northEast,b,S;return a instanceof _t?(b=a.getSouthWest(),S=a.getNorthEast()):b=S=a,b.lat>=h.lat&&S.lat<=p.lat&&b.lng>=h.lng&&S.lng<=p.lng},intersects:function(a){a=At(a);var h=this._southWest,p=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=h.lat&&b.lat<=p.lat,B=S.lng>=h.lng&&b.lng<=p.lng;return P&&B},overlaps:function(a){a=At(a);var h=this._southWest,p=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>h.lat&&b.lat<p.lat,B=S.lng>h.lng&&b.lng<p.lng;return P&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,h){return a?(a=At(a),this._southWest.equals(a.getSouthWest(),h)&&this._northEast.equals(a.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function At(a,h){return a instanceof _t?a:new _t(a,h)}function Rt(a,h,p){if(isNaN(a)||isNaN(h))throw new Error("Invalid LatLng object: ("+a+", "+h+")");this.lat=+a,this.lng=+h,p!==void 0&&(this.alt=+p)}Rt.prototype={equals:function(a,h){if(!a)return!1;a=wt(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(h===void 0?1e-9:h)},toString:function(a){return"LatLng("+A(this.lat,a)+", "+A(this.lng,a)+")"},distanceTo:function(a){return oe.distance(this,wt(a))},wrap:function(){return oe.wrapLatLng(this)},toBounds:function(a){var h=180*a/40075017,p=h/Math.cos(Math.PI/180*this.lat);return At([this.lat-h,this.lng-p],[this.lat+h,this.lng+p])},clone:function(){return new Rt(this.lat,this.lng,this.alt)}};function wt(a,h,p){return a instanceof Rt?a:nt(a)&&typeof a[0]!="object"?a.length===3?new Rt(a[0],a[1],a[2]):a.length===2?new Rt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Rt(a.lat,"lng"in a?a.lng:a.lon,a.alt):h===void 0?null:new Rt(a,h,p)}var Te={latLngToPoint:function(a,h){var p=this.projection.project(a),b=this.scale(h);return this.transformation._transform(p,b)},pointToLatLng:function(a,h){var p=this.scale(h),b=this.transformation.untransform(a,p);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var h=this.projection.bounds,p=this.scale(a),b=this.transformation.transform(h.min,p),S=this.transformation.transform(h.max,p);return new lt(b,S)},infinite:!1,wrapLatLng:function(a){var h=this.wrapLng?T(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?T(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Rt(p,h,b)},wrapLatLngBounds:function(a){var h=a.getCenter(),p=this.wrapLatLng(h),b=h.lat-p.lat,S=h.lng-p.lng;if(b===0&&S===0)return a;var P=a.getSouthWest(),B=a.getNorthEast(),$=new Rt(P.lat-b,P.lng-S),st=new Rt(B.lat-b,B.lng-S);return new _t($,st)}},oe=o({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(a,h){var p=Math.PI/180,b=a.lat*p,S=h.lat*p,P=Math.sin((h.lat-a.lat)*p/2),B=Math.sin((h.lng-a.lng)*p/2),$=P*P+Math.cos(b)*Math.cos(S)*B*B,st=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*st}}),wi=6378137,Xi={R:wi,MAX_LATITUDE:85.0511287798,project:function(a){var h=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,a.lat),-p),S=Math.sin(b*h);return new vt(this.R*a.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var h=180/Math.PI;return new Rt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*h,a.x*h/this.R)},bounds:function(){var a=wi*Math.PI;return new lt([-a,-a],[a,a])}()};function Ai(a,h,p,b){if(nt(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=h,this._c=p,this._d=b}Ai.prototype={transform:function(a,h){return this._transform(a.clone(),h)},_transform:function(a,h){return h=h||1,a.x=h*(this._a*a.x+this._b),a.y=h*(this._c*a.y+this._d),a},untransform:function(a,h){return h=h||1,new vt((a.x/h-this._b)/this._a,(a.y/h-this._d)/this._c)}};function Si(a,h,p,b){return new Ai(a,h,p,b)}var Tr=o({},oe,{code:"EPSG:3857",projection:Xi,transformation:function(){var a=.5/(Math.PI*Xi.R);return Si(a,.5,-a,.5)}()}),Cs=o({},Tr,{code:"EPSG:900913"});function ba(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Fo(a,h){var p="",b,S,P,B,$,st;for(b=0,P=a.length;b<P;b++){for($=a[b],S=0,B=$.length;S<B;S++)st=$[S],p+=(S?"L":"M")+st.x+" "+st.y;p+=h?Mt.svg?"z":"x":""}return p||"M0 0"}var jn=document.documentElement.style,Ta="ActiveXObject"in window,Ho=Ta&&!document.addEventListener,Rs="msLaunchUri"in navigator&&!("documentMode"in document),Er=Fn("webkit"),Zl=Fn("android"),Is=Fn("android 2")||Fn("android 3"),qo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Yl=Zl&&Fn("Google")&&qo<537&&!("AudioNode"in window),Oe=!!window.opera,fe=!Rs&&Fn("chrome"),Bn=Fn("gecko")&&!Er&&!Oe&&!Ta,Tn=!fe&&Fn("safari"),Go=Fn("phantom"),Kl="OTransition"in jn,Ls=navigator.platform.indexOf("Win")===0,qr=Ta&&"transition"in jn,wr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Is,ci="MozPerspective"in jn,Ea=!window.L_DISABLE_3D&&(qr||wr||ci)&&!Kl&&!Go,xi=typeof orientation<"u"||Fn("mobile"),Zo=xi&&Er,Yo=xi&&wr,wa=!window.PointerEvent&&window.MSPointerEvent,Qi=!!(window.PointerEvent||wa),$i="ontouchstart"in window||!!window.TouchEvent,Ko=!window.L_NO_TOUCH&&($i||Qi),Ji=xi&&Oe,Wo=xi&&Bn,Gr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Aa=function(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",w,h),window.removeEventListener("testPassiveEventSupport",w,h)}catch{}return a}(),Zr=function(){return!!document.createElement("canvas").getContext}(),Sa=!!(document.createElementNS&&ba("svg").createSVGRect),Me=!!Sa&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),rn=!Sa&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var h=a.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Xe=navigator.platform.indexOf("Mac")===0,hi=navigator.platform.indexOf("Linux")===0;function Fn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Mt={ie:Ta,ielt9:Ho,edge:Rs,webkit:Er,android:Zl,android23:Is,androidStock:Yl,opera:Oe,chrome:fe,gecko:Bn,safari:Tn,phantom:Go,opera12:Kl,win:Ls,ie3d:qr,webkit3d:wr,gecko3d:ci,any3d:Ea,mobile:xi,mobileWebkit:Zo,mobileWebkit3d:Yo,msPointer:wa,pointer:Qi,touch:Ko,touchNative:$i,mobileOpera:Ji,mobileGecko:Wo,retina:Gr,passiveEvents:Aa,canvas:Zr,svg:Sa,vml:rn,inlineSvg:Me,mac:Xe,linux:hi},Ar=Mt.msPointer?"MSPointerDown":"pointerdown",Xo=Mt.msPointer?"MSPointerMove":"pointermove",Yr=Mt.msPointer?"MSPointerUp":"pointerup",Sr=Mt.msPointer?"MSPointerCancel":"pointercancel",Ci={touchstart:Ar,touchmove:Xo,touchend:Yr,touchcancel:Sr},Ri={touchstart:Os,touchmove:Ps,touchend:Ps,touchcancel:Ps},Pn={},En=!1;function Ge(a,h,p){return h==="touchstart"&&Wl(),Ri[h]?(p=Ri[h].bind(this,p),a.addEventListener(Ci[h],p,!1),p):(console.warn("wrong event specified:",h),w)}function Qo(a,h,p){if(!Ci[h]){console.warn("wrong event specified:",h);return}a.removeEventListener(Ci[h],p,!1)}function xa(a){Pn[a.pointerId]=a}function Ii(a){Pn[a.pointerId]&&(Pn[a.pointerId]=a)}function tr(a){delete Pn[a.pointerId]}function Wl(){En||(document.addEventListener(Ar,xa,!0),document.addEventListener(Xo,Ii,!0),document.addEventListener(Yr,tr,!0),document.addEventListener(Sr,tr,!0),En=!0)}function Ps(a,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var p in Pn)h.touches.push(Pn[p]);h.changedTouches=[h],a(h)}}function Os(a,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ee(h),Ps(a,h)}function Xl(a){var h={},p,b;for(b in a)p=a[b],h[b]=p&&p.bind?p.bind(a):p;return a=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Kr=200;function er(a,h){a.addEventListener("dblclick",h);var p=0,b;function S(P){if(P.detail!==1){b=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var B=Ia(P);if(!(B.some(function(st){return st instanceof HTMLLabelElement&&st.attributes.for})&&!B.some(function(st){return st instanceof HTMLInputElement||st instanceof HTMLSelectElement}))){var $=Date.now();$-p<=Kr?(b++,b===2&&h(Xl(P))):b=1,p=$}}}return a.addEventListener("click",S),{dblclick:h,simDblclick:S}}function gn(a,h){a.removeEventListener("dblclick",h.dblclick),a.removeEventListener("click",h.simDblclick)}var xr=Li(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wr=Li(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nr=Wr==="webkitTransition"||Wr==="OTransition"?Wr+"End":"transitionend";function Ms(a){return typeof a=="string"?document.getElementById(a):a}function ir(a,h){var p=a.style[h]||a.currentStyle&&a.currentStyle[h];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);p=b?b[h]:null}return p==="auto"?null:p}function $t(a,h,p){var b=document.createElement(a);return b.className=h||"",p&&p.appendChild(b),b}function pe(a){var h=a.parentNode;h&&h.removeChild(a)}function un(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function rr(a){var h=a.parentNode;h&&h.lastChild!==a&&h.appendChild(a)}function Xr(a){var h=a.parentNode;h&&h.firstChild!==a&&h.insertBefore(a,h.firstChild)}function Qr(a,h){if(a.classList!==void 0)return a.classList.contains(h);var p=je(a);return p.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(p)}function Gt(a,h){if(a.classList!==void 0)for(var p=k(h),b=0,S=p.length;b<S;b++)a.classList.add(p[b]);else if(!Qr(a,h)){var P=je(a);$o(a,(P?P+" ":"")+h)}}function ve(a,h){a.classList!==void 0?a.classList.remove(h):$o(a,I((" "+je(a)+" ").replace(" "+h+" "," ")))}function $o(a,h){a.className.baseVal===void 0?a.className=h:a.className.baseVal=h}function je(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ke(a,h){"opacity"in a.style?a.style.opacity=h:"filter"in a.style&&ks(a,h)}function ks(a,h){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(b)}catch{if(h===1)return}h=Math.round(h*100),p?(p.Enabled=h!==100,p.Opacity=h):a.style.filter+=" progid:"+b+"(opacity="+h+")"}function Li(a){for(var h=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in h)return a[p];return!1}function On(a,h,p){var b=h||new vt(0,0);a.style[xr]=(Mt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function jt(a,h){a._leaflet_pos=h,Mt.any3d?On(a,h):(a.style.left=h.x+"px",a.style.top=h.y+"px")}function ni(a){return a._leaflet_pos||new vt(0,0)}var wn,Pi,Ca;if("onselectstart"in document)wn=function(){Vt(window,"selectstart",Ee)},Pi=function(){ue(window,"selectstart",Ee)};else{var Cr=Li(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wn=function(){if(Cr){var a=document.documentElement.style;Ca=a[Cr],a[Cr]="none"}},Pi=function(){Cr&&(document.documentElement.style[Cr]=Ca,Ca=void 0)}}function Ns(){Vt(window,"dragstart",Ee)}function Jo(){ue(window,"dragstart",Ee)}var Ra,$r;function Oi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Mn(),Ra=a,$r=a.style.outlineStyle,a.style.outlineStyle="none",Vt(window,"keydown",Mn))}function Mn(){Ra&&(Ra.style.outlineStyle=$r,Ra=void 0,$r=void 0,ue(window,"keydown",Mn))}function sr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Mi(a){var h=a.getBoundingClientRect();return{x:h.width/a.offsetWidth||1,y:h.height/a.offsetHeight||1,boundingClientRect:h}}var tl={__proto__:null,TRANSFORM:xr,TRANSITION:Wr,TRANSITION_END:nr,get:Ms,getStyle:ir,create:$t,remove:pe,empty:un,toFront:rr,toBack:Xr,hasClass:Qr,addClass:Gt,removeClass:ve,setClass:$o,getClass:je,setOpacity:ke,testProp:Li,setTransform:On,setPosition:jt,getPosition:ni,get disableTextSelection(){return wn},get enableTextSelection(){return Pi},disableImageDrag:Ns,enableImageDrag:Jo,preventOutline:Oi,restoreOutline:Mn,getSizedParentNode:sr,getScale:Mi};function Vt(a,h,p,b){if(h&&typeof h=="object")for(var S in h)Rr(a,S,h[S],p);else{h=k(h);for(var P=0,B=h.length;P<B;P++)Rr(a,h[P],p,b)}return this}var ii="_leaflet_events";function ue(a,h,p,b){if(arguments.length===1)fi(a),delete a[ii];else if(h&&typeof h=="object")for(var S in h)di(a,S,h[S],p);else if(h=k(h),arguments.length===2)fi(a,function($){return ct(h,$)!==-1});else for(var P=0,B=h.length;P<B;P++)di(a,h[P],p,b);return this}function fi(a,h){for(var p in a[ii]){var b=p.split(/\d/)[0];(!h||h(b))&&di(a,b,null,null,p)}}var Hn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rr(a,h,p,b){var S=h+g(p)+(b?"_"+g(b):"");if(a[ii]&&a[ii][S])return this;var P=function($){return p.call(b||a,$||window.event)},B=P;!Mt.touchNative&&Mt.pointer&&h.indexOf("touch")===0?P=Ge(a,h,P):Mt.touch&&h==="dblclick"?P=er(a,P):"addEventListener"in a?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?a.addEventListener(Hn[h]||h,P,Mt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(P=function($){$=$||window.event,Lr(a,$)&&B($)},a.addEventListener(Hn[h],P,!1)):a.addEventListener(h,B,!1):a.attachEvent("on"+h,P),a[ii]=a[ii]||{},a[ii][S]=P}function di(a,h,p,b,S){S=S||h+g(p)+(b?"_"+g(b):"");var P=a[ii]&&a[ii][S];if(!P)return this;!Mt.touchNative&&Mt.pointer&&h.indexOf("touch")===0?Qo(a,h,P):Mt.touch&&h==="dblclick"?gn(a,P):"removeEventListener"in a?a.removeEventListener(Hn[h]||h,P,!1):a.detachEvent("on"+h,P),a[ii][S]=null}function qn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ki(a){return Rr(a,"wheel",qn),this}function Ir(a){return Vt(a,"mousedown touchstart dblclick contextmenu",qn),a._leaflet_disable_click=!0,this}function Ee(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function An(a){return Ee(a),qn(a),this}function Ia(a){if(a.composedPath)return a.composedPath();for(var h=[],p=a.target;p;)h.push(p),p=p.parentNode;return h}function sn(a,h){if(!h)return new vt(a.clientX,a.clientY);var p=Mi(h),b=p.boundingClientRect;return new vt((a.clientX-b.left)/p.x-h.clientLeft,(a.clientY-b.top)/p.y-h.clientTop)}var de=Mt.linux&&Mt.chrome?window.devicePixelRatio:Mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ds(a){return Mt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/de:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Lr(a,h){var p=h.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Ql={__proto__:null,on:Vt,off:ue,stopPropagation:qn,disableScrollPropagation:ki,disableClickPropagation:Ir,preventDefault:Ee,stop:An,getPropagationPath:Ia,getMousePosition:sn,getWheelDelta:Ds,isExternalTarget:Lr,addListener:Vt,removeListener:ue},Vs=Et.extend({run:function(a,h,p,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=ni(a),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(a){var h=+new Date-this._startTime,p=this._duration*1e3;h<p?this._runFrame(this._easeOut(h/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,h){var p=this._startPos.add(this._offset.multiplyBy(a));h&&p._round(),jt(this._el,p),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Kt=Et.extend({options:{crs:Tr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,h){h=N(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(wt(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wr&&Mt.any3d&&!Mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vt(this._proxy,nr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,h,p){if(h=h===void 0?this._zoom:this._limitZoom(h),a=this._limitCenter(wt(a),h,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,h,p.zoom):this._tryAnimatedPan(a,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,h,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,h){return this._loaded?this.setView(this.getCenter(),a,{zoom:h}):(this._zoom=a,this)},zoomIn:function(a,h){return a=a||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,h)},zoomOut:function(a,h){return a=a||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,h)},setZoomAround:function(a,h,p){var b=this.getZoomScale(h),S=this.getSize().divideBy(2),P=a instanceof vt?a:this.latLngToContainerPoint(a),B=P.subtract(S).multiplyBy(1-1/b),$=this.containerPointToLatLng(S.add(B));return this.setView($,h,{zoom:p})},_getBoundsCenterZoom:function(a,h){h=h||{},a=a.getBounds?a.getBounds():At(a);var p=U(h.paddingTopLeft||h.padding||[0,0]),b=U(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(b));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=b.subtract(p).divideBy(2),B=this.project(a.getSouthWest(),S),$=this.project(a.getNorthEast(),S),st=this.unproject(B.add($).divideBy(2).add(P),S);return{center:st,zoom:S}},fitBounds:function(a,h){if(a=At(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,h);return this.setView(p.center,p.zoom,h)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,h){return this.setView(a,this._zoom,{pan:h})},panBy:function(a,h){if(a=U(a).round(),h=h||{},!a.x&&!a.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Gt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,h.duration||.25,h.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,h,p){if(p=p||{},p.animate===!1||!Mt.any3d)return this.setView(a,h,p);this._stop();var b=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),B=this._zoom;a=wt(a),h=h===void 0?B:h;var $=Math.max(P.x,P.y),st=$*this.getZoomScale(B,h),gt=S.distanceTo(b)||1,St=1.42,Lt=St*St;function Ot(He){var fr=He?-1:1,Dr=He?st:$,rs=st*st-$*$+fr*Lt*Lt*gt*gt,Vr=2*Dr*Lt*gt,pl=rs/Vr,cu=Math.sqrt(pl*pl+1)-pl,gl=cu<1e-9?-18:Math.log(cu);return gl}function qt(He){return(Math.exp(He)-Math.exp(-He))/2}function De(He){return(Math.exp(He)+Math.exp(-He))/2}function Ze(He){return qt(He)/De(He)}var xn=Ot(0);function mi(He){return $*(De(xn)/De(xn+St*He))}function hf(He){return $*(De(xn)*Ze(xn+St*He)-qt(xn))/Lt}function ff(He){return 1-Math.pow(1-He,1.5)}var ml=Date.now(),Za=(Ot(1)-xn)/St,df=p.duration?1e3*p.duration:1e3*Za*.8;function Ya(){var He=(Date.now()-ml)/df,fr=ff(He)*Za;He<=1?(this._flyToFrame=Y(Ya,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(hf(fr)/gt)),B),this.getScaleZoom($/mi(fr),B),{flyTo:!0})):this._move(a,h)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Ya.call(this),this},flyToBounds:function(a,h){var p=this._getBoundsCenterZoom(a,h);return this.flyTo(p.center,p.zoom,h)},setMaxBounds:function(a){return a=At(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var h=this.options.minZoom;return this.options.minZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var h=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,h){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,At(a));return p.equals(b)||this.panTo(b,h),this._enforcingBounds=!1,this},panInside:function(a,h){h=h||{};var p=U(h.paddingTopLeft||h.padding||[0,0]),b=U(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),B=this.getPixelBounds(),$=bt([B.min.add(p),B.max.subtract(b)]),st=$.getSize();if(!$.contains(P)){this._enforcingBounds=!0;var gt=P.subtract($.getCenter()),St=$.extend(P).getSize().subtract(st);S.x+=gt.x<0?-St.x:St.x,S.y+=gt.y<0?-St.y:St.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=h.divideBy(2).round(),S=p.divideBy(2).round(),P=b.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),p=c(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,p,a):navigator.geolocation.getCurrentPosition(h,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var h=a.code,p=a.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var h=a.coords.latitude,p=a.coords.longitude,b=new Rt(h,p),S=b.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var B=this.getBoundsZoom(S);this.setView(b,P.maxZoom?Math.min(B,P.maxZoom):B)}var $={latlng:b,bounds:S,timestamp:a.timestamp};for(var st in a.coords)typeof a.coords[st]=="number"&&($[st]=a.coords[st]);this.fire("locationfound",$)}},addHandler:function(a,h){if(!h)return this;var p=this[a]=new h(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)pe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,h){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=$t("div",p,h||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),h=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new _t(h,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,h,p){a=At(a),p=U(p||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),B=a.getNorthWest(),$=a.getSouthEast(),st=this.getSize().subtract(p),gt=bt(this.project($,b),this.project(B,b)).getSize(),St=Mt.any3d?this.options.zoomSnap:1,Lt=st.x/gt.x,Ot=st.y/gt.y,qt=h?Math.max(Lt,Ot):Math.min(Lt,Ot);return b=this.getScaleZoom(qt,b),St&&(b=Math.round(b/(St/100))*(St/100),b=h?Math.ceil(b/St)*St:Math.floor(b/St)*St),Math.max(S,Math.min(P,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new vt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,h){var p=this._getTopLeftPoint(a,h);return new lt(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,h){var p=this.options.crs;return h=h===void 0?this._zoom:h,p.scale(a)/p.scale(h)},getScaleZoom:function(a,h){var p=this.options.crs;h=h===void 0?this._zoom:h;var b=p.zoom(a*p.scale(h));return isNaN(b)?1/0:b},project:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(wt(a),h)},unproject:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(U(a),h)},layerPointToLatLng:function(a){var h=U(a).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(a){var h=this.project(wt(a))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(wt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(At(a))},distance:function(a,h){return this.options.crs.distance(wt(a),wt(h))},containerPointToLayerPoint:function(a){return U(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return U(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var h=this.containerPointToLayerPoint(U(a));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(a)))},mouseEventToContainerPoint:function(a){return sn(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var h=this._container=Ms(a);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Vt(h,"scroll",this._onScroll,this),this._containerId=g(h)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Mt.any3d,Gt(a,"leaflet-container"+(Mt.touch?" leaflet-touch":"")+(Mt.retina?" leaflet-retina":"")+(Mt.ielt9?" leaflet-oldie":"")+(Mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=ir(a,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new vt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Gt(a.markerPane,"leaflet-zoom-hide"),Gt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,h,p){jt(this._mapPane,new vt(0,0));var b=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,p)._move(a,h)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,h){return a&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(a,h,p,b){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){jt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[g(this._container)]=this;var h=a?ue:Vt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Mt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,h){for(var p=[],b,S=h==="mouseout"||h==="mouseover",P=a.target||a.srcElement,B=!1;P;){if(b=this._targets[g(P)],b&&(h==="click"||h==="preclick")&&this._draggableMoved(b)){B=!0;break}if(b&&b.listens(h,!0)&&(S&&!Lr(P,a)||(p.push(b),S))||P===this._container)break;P=P.parentNode}return!p.length&&!B&&!S&&this.listens(h,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var h=a.target||a.srcElement;if(!(!this._loaded||h._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(h))){var p=a.type;p==="mousedown"&&Oi(h),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,h,p){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var S=this._findEventTargets(a,h);if(p){for(var P=[],B=0;B<p.length;B++)p[B].listens(h,!0)&&P.push(p[B]);S=P.concat(S)}if(S.length){h==="contextmenu"&&Ee(a);var $=S[0],st={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var gt=$.getLatLng&&(!$._radius||$._radius<=10);st.containerPoint=gt?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(a),st.layerPoint=this.containerPointToLayerPoint(st.containerPoint),st.latlng=gt?$.getLatLng():this.layerPointToLatLng(st.layerPoint)}for(B=0;B<S.length;B++)if(S[B].fire(h,st,!0),st.originalEvent._stopped||S[B].options.bubblingMouseEvents===!1&&ct(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,h=this._handlers.length;a<h;a++)this._handlers[a].disable()},whenReady:function(a,h){return this._loaded?a.call(h||this,{target:this}):this.on("load",a,h),this},_getMapPanePos:function(){return ni(this._mapPane)||new vt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,h){var p=a&&h!==void 0?this._getNewPixelOrigin(a,h):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,h){var p=this.getSize()._divideBy(2);return this.project(a,h)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,h,p){var b=this._getNewPixelOrigin(p,h);return this.project(a,h)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,h,p){var b=this._getNewPixelOrigin(p,h);return bt([this.project(a.getSouthWest(),h)._subtract(b),this.project(a.getNorthWest(),h)._subtract(b),this.project(a.getSouthEast(),h)._subtract(b),this.project(a.getNorthEast(),h)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,h,p){if(!p)return a;var b=this.project(a,h),S=this.getSize().divideBy(2),P=new lt(b.subtract(S),b.add(S)),B=this._getBoundsOffset(P,p,h);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?a:this.unproject(b.add(B),h)},_limitOffset:function(a,h){if(!h)return a;var p=this.getPixelBounds(),b=new lt(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(b,h))},_getBoundsOffset:function(a,h,p){var b=bt(this.project(h.getNorthEast(),p),this.project(h.getSouthWest(),p)),S=b.min.subtract(a.min),P=b.max.subtract(a.max),B=this._rebound(S.x,-P.x),$=this._rebound(S.y,-P.y);return new vt(B,$)},_rebound:function(a,h){return a+h>0?Math.round(a-h)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(h))},_limitZoom:function(a){var h=this.getMinZoom(),p=this.getMaxZoom(),b=Mt.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(h,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,h){var p=this._getCenterOffset(a)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,h),!0)},_createAnimProxy:function(){var a=this._proxy=$t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(h){var p=xr,b=this._proxy.style[p];On(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),h=this.getZoom();On(this._proxy,this.project(a,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,h,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(h),S=this._getCenterOffset(a)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(S)?!1:(Y(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,h,!0)},this),!0)},_animateZoom:function(a,h,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=h,Gt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:h,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ar(a,h){return new Kt(a,h)}var _n=Ce.extend({options:{position:"topright"},initialize:function(a){N(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var h=this._map;return h&&h.removeControl(this),this.options.position=a,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var h=this._container=this.onAdd(a),p=this.getPosition(),b=a._controlCorners[p];return Gt(h,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(h,b.firstChild):b.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Sn=function(a){return new _n(a)};Kt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},h="leaflet-",p=this._controlContainer=$t("div",h+"control-container",this._container);function b(S,P){var B=h+S+" "+h+P;a[S+P]=$t("div",B,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)pe(this._controlCorners[a]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var el=_n.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,h,p,b){return p<b?-1:b<p?1:0}},initialize:function(a,h,p){N(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in h)this._addLayer(h[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return _n.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,h){return this._addLayer(a,h),this._map?this._update():this},addOverlay:function(a,h){return this._addLayer(a,h,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var h=this._getLayer(g(a));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Gt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Gt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",h=this._container=$t("div",a),p=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Ir(h),ki(h);var b=this._section=$t("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Vt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=$t("a",a+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),Vt(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Ee(P),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=$t("div",a+"-base",b),this._separator=$t("div",a+"-separator",b),this._overlaysList=$t("div",a+"-overlays",b),h.appendChild(b)},_getLayer:function(a){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&g(this._layers[h].layer)===a)return this._layers[h]},_addLayer:function(a,h,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:h,overlay:p}),this.options.sortLayers&&this._layers.sort(c(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;un(this._baseLayersList),un(this._overlaysList),this._layerControlInputs=[];var a,h,p,b,S=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),h=h||b.overlay,a=a||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=h&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var h=this._getLayer(g(a.target)),p=h.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,h)},_createRadioElement:function(a,h){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(h?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(a){var h=document.createElement("label"),p=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+g(this),p),this._layerControlInputs.push(b),b.layerId=g(a.layer),Vt(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");h.appendChild(P),P.appendChild(b),P.appendChild(S);var B=a.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,h,p,b=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)h=a[P],p=this._getLayer(h.layerId).layer,h.checked?b.push(p):h.checked||S.push(p);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<b.length;P++)this._map.hasLayer(b[P])||this._map.addLayer(b[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,h,p,b=this._map.getZoom(),S=a.length-1;S>=0;S--)h=a[S],p=this._getLayer(h.layerId).layer,h.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Vt(a,"click",Ee),this.expand();var h=this;setTimeout(function(){ue(a,"click",Ee),h._preventClick=!1})}}),cc=function(a,h,p){return new el(a,h,p)},Pr=_n.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var h="leaflet-control-zoom",p=$t("div",h+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,h+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,h+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,h,p,b,S){var P=$t("a",p,b);return P.innerHTML=a,P.href="#",P.title=h,P.setAttribute("role","button"),P.setAttribute("aria-label",h),Ir(P),Vt(P,"click",An),Vt(P,"click",S,this),Vt(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,h="leaflet-disabled";ve(this._zoomInButton,h),ve(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Gt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Gt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kt.mergeOptions({zoomControl:!0}),Kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pr,this.addControl(this.zoomControl))});var La=function(a){return new Pr(a)},Pa=_n.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var h="leaflet-control-scale",p=$t("div",h),b=this.options;return this._addScales(b,h+"-line",p),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,h,p){a.metric&&(this._mScale=$t("div",h,p)),a.imperial&&(this._iScale=$t("div",h,p))},_update:function(){var a=this._map,h=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,h]),a.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var h=this._getRoundNum(a),p=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,p,h/a)},_updateImperial:function(a){var h=a*3.2808399,p,b,S;h>5280?(p=h/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(a,h,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=h},_getRoundNum:function(a){var h=Math.pow(10,(Math.floor(a)+"").length-1),p=a/h;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,h*p}}),Oa=function(a){return new Pa(a)},$l='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jr=_n.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Mt.inlineSvg?$l+" ":"")+"Leaflet</a>"},initialize:function(a){N(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=$t("div","leaflet-control-attribution"),Ir(this._container);for(var h in a._layers)a._layers[h].getAttribution&&this.addAttribution(a._layers[h].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var h in this._attributions)this._attributions[h]&&a.push(h);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Kt.mergeOptions({attributionControl:!0}),Kt.addInitHook(function(){this.options.attributionControl&&new Jr().addTo(this)});var hc=function(a){return new Jr(a)};_n.Layers=el,_n.Zoom=Pr,_n.Scale=Pa,_n.Attribution=Jr,Sn.layers=cc,Sn.zoom=La,Sn.scale=Oa,Sn.attribution=hc;var Gn=Ce.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gn.addTo=function(a,h){return a.addHandler(h,this),this};var Us={Events:ot},nl=Mt.touch?"touchstart mousedown":"mousedown",Ni=Et.extend({options:{clickTolerance:3},initialize:function(a,h,p,b){N(this,b),this._element=a,this._dragStartTarget=h||a,this._preventOutline=p},enable:function(){this._enabled||(Vt(this._dragStartTarget,nl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ni._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,nl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Qr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ni._dragging===this&&this.finishDrag();return}if(!(Ni._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ni._dragging=this,this._preventOutline&&Oi(this._element),Ns(),wn(),!this._moving)){this.fire("down");var h=a.touches?a.touches[0]:a,p=sr(this._element);this._startPoint=new vt(h.clientX,h.clientY),this._startPos=ni(this._element),this._parentScale=Mi(p);var b=a.type==="mousedown";Vt(document,b?"mousemove":"touchmove",this._onMove,this),Vt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var h=a.touches&&a.touches.length===1?a.touches[0]:a,p=new vt(h.clientX,h.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Ee(a),this._moved||(this.fire("dragstart"),this._moved=!0,Gt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Gt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),jt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ve(document.body,"leaflet-dragging"),this._lastTarget&&(ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),Jo(),Pi();var h=this._moved&&this._moving;this._moving=!1,Ni._dragging=!1,h&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ma(a,h,p){var b,S=[1,4,2,8],P,B,$,st,gt,St,Lt,Ot;for(P=0,St=a.length;P<St;P++)a[P]._code=or(a[P],h);for($=0;$<4;$++){for(Lt=S[$],b=[],P=0,St=a.length,B=St-1;P<St;B=P++)st=a[P],gt=a[B],st._code&Lt?gt._code&Lt||(Ot=cn(gt,st,Lt,h,p),Ot._code=or(Ot,h),b.push(Ot)):(gt._code&Lt&&(Ot=cn(gt,st,Lt,h,p),Ot._code=or(Ot,h),b.push(Ot)),b.push(st));a=b}return a}function ts(a,h){var p,b,S,P,B,$,st,gt,St;if(!a||a.length===0)throw new Error("latlngs not passed");m(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Lt=wt([0,0]),Ot=At(a),qt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());qt<1700&&(Lt=ka(a));var De=a.length,Ze=[];for(p=0;p<De;p++){var xn=wt(a[p]);Ze.push(h.project(wt([xn.lat-Lt.lat,xn.lng-Lt.lng])))}for($=st=gt=0,p=0,b=De-1;p<De;b=p++)S=Ze[p],P=Ze[b],B=S.y*P.x-P.y*S.x,st+=(S.x+P.x)*B,gt+=(S.y+P.y)*B,$+=B*3;$===0?St=Ze[0]:St=[st/$,gt/$];var mi=h.unproject(U(St));return wt([mi.lat+Lt.lat,mi.lng+Lt.lng])}function ka(a){for(var h=0,p=0,b=0,S=0;S<a.length;S++){var P=wt(a[S]);h+=P.lat,p+=P.lng,b++}return wt([h/b,p/b])}var Na={__proto__:null,clipPolygon:Ma,polygonCenter:ts,centroid:ka};function il(a,h){if(!h||!a.length)return a.slice();var p=h*h;return a=tu(a,p),a=Jl(a,p),a}function Da(a,h,p){return Math.sqrt(Zn(a,h,p,!0))}function Or(a,h,p){return Zn(a,h,p)}function Jl(a,h){var p=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(p);S[0]=S[p-1]=1,Va(a,S,h,0,p-1);var P,B=[];for(P=0;P<p;P++)S[P]&&B.push(a[P]);return B}function Va(a,h,p,b,S){var P=0,B,$,st;for($=b+1;$<=S-1;$++)st=Zn(a[$],a[b],a[S],!0),st>P&&(B=$,P=st);P>p&&(h[B]=1,Va(a,h,p,b,B),Va(a,h,p,B,S))}function tu(a,h){for(var p=[a[0]],b=1,S=0,P=a.length;b<P;b++)eu(a[b],a[S])>h&&(p.push(a[b]),S=b);return S<P-1&&p.push(a[P-1]),p}var rl;function zs(a,h,p,b,S){var P=b?rl:or(a,p),B=or(h,p),$,st,gt;for(rl=B;;){if(!(P|B))return[a,h];if(P&B)return!1;$=P||B,st=cn(a,h,$,p,S),gt=or(st,p),$===P?(a=st,P=gt):(h=st,B=gt)}}function cn(a,h,p,b,S){var P=h.x-a.x,B=h.y-a.y,$=b.min,st=b.max,gt,St;return p&8?(gt=a.x+P*(st.y-a.y)/B,St=st.y):p&4?(gt=a.x+P*($.y-a.y)/B,St=$.y):p&2?(gt=st.x,St=a.y+B*(st.x-a.x)/P):p&1&&(gt=$.x,St=a.y+B*($.x-a.x)/P),new vt(gt,St,S)}function or(a,h){var p=0;return a.x<h.min.x?p|=1:a.x>h.max.x&&(p|=2),a.y<h.min.y?p|=4:a.y>h.max.y&&(p|=8),p}function eu(a,h){var p=h.x-a.x,b=h.y-a.y;return p*p+b*b}function Zn(a,h,p,b){var S=h.x,P=h.y,B=p.x-S,$=p.y-P,st=B*B+$*$,gt;return st>0&&(gt=((a.x-S)*B+(a.y-P)*$)/st,gt>1?(S=p.x,P=p.y):gt>0&&(S+=B*gt,P+=$*gt)),B=a.x-S,$=a.y-P,b?B*B+$*$:new vt(S,P)}function m(a){return!nt(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function E(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),m(a)}function x(a,h){var p,b,S,P,B,$,st,gt;if(!a||a.length===0)throw new Error("latlngs not passed");m(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var St=wt([0,0]),Lt=At(a),Ot=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Ot<1700&&(St=ka(a));var qt=a.length,De=[];for(p=0;p<qt;p++){var Ze=wt(a[p]);De.push(h.project(wt([Ze.lat-St.lat,Ze.lng-St.lng])))}for(p=0,b=0;p<qt-1;p++)b+=De[p].distanceTo(De[p+1])/2;if(b===0)gt=De[0];else for(p=0,P=0;p<qt-1;p++)if(B=De[p],$=De[p+1],S=B.distanceTo($),P+=S,P>b){st=(P-b)/S,gt=[$.x-st*($.x-B.x),$.y-st*($.y-B.y)];break}var xn=h.unproject(U(gt));return wt([xn.lat+St.lat,xn.lng+St.lng])}var M={__proto__:null,simplify:il,pointToSegmentDistance:Da,closestPointOnSegment:Or,clipSegment:zs,_getEdgeIntersection:cn,_getBitCode:or,_sqClosestPointOnSegment:Zn,isFlat:m,_flat:E,polylineCenter:x},Q={project:function(a){return new vt(a.lng,a.lat)},unproject:function(a){return new Rt(a.y,a.x)},bounds:new lt([-180,-90],[180,90])},at={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var h=Math.PI/180,p=this.R,b=a.lat*h,S=this.R_MINOR/p,P=Math.sqrt(1-S*S),B=P*Math.sin(b),$=Math.tan(Math.PI/4-b/2)/Math.pow((1-B)/(1+B),P/2);return b=-p*Math.log(Math.max($,1e-10)),new vt(a.lng*h*p,b)},unproject:function(a){for(var h=180/Math.PI,p=this.R,b=this.R_MINOR/p,S=Math.sqrt(1-b*b),P=Math.exp(-a.y/p),B=Math.PI/2-2*Math.atan(P),$=0,st=.1,gt;$<15&&Math.abs(st)>1e-7;$++)gt=S*Math.sin(B),gt=Math.pow((1-gt)/(1+gt),S/2),st=Math.PI/2-2*Math.atan(P*gt)-B,B+=st;return new Rt(B*h,a.x*h/p)}},Tt={__proto__:null,LonLat:Q,Mercator:at,SphericalMercator:Xi},ie=o({},oe,{code:"EPSG:3395",projection:at,transformation:function(){var a=.5/(Math.PI*at.R);return Si(a,.5,-a,.5)}()}),Qe=o({},oe,{code:"EPSG:4326",projection:Q,transformation:Si(1/180,1,-1/180,.5)}),re=o({},Te,{projection:Q,transformation:Si(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,h){var p=h.lng-a.lng,b=h.lat-a.lat;return Math.sqrt(p*p+b*b)},infinite:!0});Te.Earth=oe,Te.EPSG3395=ie,Te.EPSG3857=Tr,Te.EPSG900913=Cs,Te.EPSG4326=Qe,Te.Simple=re;var ge=Et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[g(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[g(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var h=a.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var p=this.getEvents();h.on(p,this),this.once("remove",function(){h.off(p,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Kt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var h=g(a);return this._layers[h]?this:(this._layers[h]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var h=g(a);return this._layers[h]?(this._loaded&&a.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return g(a)in this._layers},eachLayer:function(a,h){for(var p in this._layers)a.call(h,this._layers[p]);return this},_addLayers:function(a){a=a?nt(a)?a:[a]:[];for(var h=0,p=a.length;h<p;h++)this.addLayer(a[h])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[g(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var h=g(a);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,h=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ne=ge.extend({initialize:function(a,h){N(this,h),this._layers={};var p,b;if(a)for(p=0,b=a.length;p<b;p++)this.addLayer(a[p])},addLayer:function(a){var h=this.getLayerId(a);return this._layers[h]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var h=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(a){var h=typeof a=="number"?a:this.getLayerId(a);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[a]&&b[a].apply(b,h);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,h){for(var p in this._layers)a.call(h,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return g(a)}}),Mr=function(a,h){return new Ne(a,h)},Re=Ne.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ne.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ne.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new _t;for(var h in this._layers){var p=this._layers[h];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),lr=function(a,h){return new Re(a,h)},ur=Ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){N(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,h){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,h){var p=this.options,b=p[h+"Size"];typeof b=="number"&&(b=[b,b]);var S=U(b),P=U(h==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+h+" "+(p.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,h){return h=h||document.createElement("img"),h.src=a,h},_getIconUrl:function(a){return Mt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function nu(a){return new ur(a)}var Ua=ur.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ua.imagePath!="string"&&(Ua.imagePath=this._detectIconPath()),(this.options.imagePath||Ua.imagePath)+ur.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var h=function(p,b,S){var P=b.exec(p);return P&&P[S]};return a=h(a,/^url\((['"])?(.+)\1\)$/,2),a&&h(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=$t("div","leaflet-default-icon-path",document.body),h=ir(a,"background-image")||ir(a,"backgroundImage");if(document.body.removeChild(a),h=this._stripUrl(h),h)return h;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),fc=Gn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ni(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Gt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var h=this._marker,p=h._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=ni(h._icon),B=p.getPixelBounds(),$=p.getPixelOrigin(),st=bt(B.min._subtract($).add(S),B.max._subtract($).subtract(S));if(!st.contains(P)){var gt=U((Math.max(st.max.x,P.x)-st.max.x)/(B.max.x-st.max.x)-(Math.min(st.min.x,P.x)-st.min.x)/(B.min.x-st.min.x),(Math.max(st.max.y,P.y)-st.max.y)/(B.max.y-st.max.y)-(Math.min(st.min.y,P.y)-st.min.y)/(B.min.y-st.min.y)).multiplyBy(b);p.panBy(gt,{animate:!1}),this._draggable._newPos._add(gt),this._draggable._startPos._add(gt),jt(h._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Y(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,a)))},_onDrag:function(a){var h=this._marker,p=h._shadow,b=ni(h._icon),S=h._map.layerPointToLatLng(b);p&&jt(p,b),h._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,h.fire("move",a).fire("drag",a)},_onDragEnd:function(a){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),za=ge.extend({options:{icon:new Ua,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,h){N(this,h),this._latlng=wt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var h=this._latlng;return this._latlng=wt(a),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Gt(p,h),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(Gt(S,h),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Gt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ke(this._icon,a),this._shadow&&ke(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var h=this.options.icon.options,p=h.iconSize?U(h.iconSize):U(0,0),b=h.iconAnchor?U(h.iconAnchor):U(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dc(a,h){return new za(a,h)}var kr=ge.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return N(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sl=kr.extend({options:{fill:!0,radius:10},initialize:function(a,h){N(this,h),this._latlng=wt(a),this._radius=this.options.radius},setLatLng:function(a){var h=this._latlng;return this._latlng=wt(a),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var h=a&&a.radius||this._radius;return kr.prototype.setStyle.call(this,a),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,h=this._radiusY||a,p=this._clickTolerance(),b=[a+p,h+p];this._pxBounds=new lt(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sf(a,h){return new sl(a,h)}var mc=sl.extend({initialize:function(a,h,p){if(typeof h=="number"&&(h=o({},p,{radius:h})),N(this,h),this._latlng=wt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new _t(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:kr.prototype.setStyle,_project:function(){var a=this._latlng.lng,h=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===oe.distance){var S=Math.PI/180,P=this._mRadius/oe.R/S,B=p.project([h+P,a]),$=p.project([h-P,a]),st=B.add($).divideBy(2),gt=p.unproject(st).lat,St=Math.acos((Math.cos(P*S)-Math.sin(h*S)*Math.sin(gt*S))/(Math.cos(h*S)*Math.cos(gt*S)))/S;(isNaN(St)||St===0)&&(St=P/Math.cos(Math.PI/180*h)),this._point=st.subtract(p.getPixelOrigin()),this._radius=isNaN(St)?0:st.x-p.project([gt,a-St]).x,this._radiusY=st.y-B.y}else{var Lt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Lt).x}this._updateBounds()}});function $m(a,h,p){return new mc(a,h,p)}var Nr=kr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,h){N(this,h),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var h=1/0,p=null,b=Zn,S,P,B=0,$=this._parts.length;B<$;B++)for(var st=this._parts[B],gt=1,St=st.length;gt<St;gt++){S=st[gt-1],P=st[gt];var Lt=b(a,S,P,!0);Lt<h&&(h=Lt,p=b(a,S,P))}return p&&(p.distance=Math.sqrt(h)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return x(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,h){return h=h||this._defaultShape(),a=wt(a),h.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new _t,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return m(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var h=[],p=m(a),b=0,S=a.length;b<S;b++)p?(h[b]=wt(a[b]),this._bounds.extend(h[b])):h[b]=this._convertLatLngs(a[b]);return h},_project:function(){var a=new lt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),h=new vt(a,a);this._rawPxBounds&&(this._pxBounds=new lt([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(a,h,p){var b=a[0]instanceof Rt,S=a.length,P,B;if(b){for(B=[],P=0;P<S;P++)B[P]=this._map.latLngToLayerPoint(a[P]),p.extend(B[P]);h.push(B)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],h,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,p,b,S,P,B,$,st;for(p=0,S=0,P=this._rings.length;p<P;p++)for(st=this._rings[p],b=0,B=st.length;b<B-1;b++)$=zs(st[b],st[b+1],a,b,!0),$&&(h[S]=h[S]||[],h[S].push($[0]),($[1]!==st[b+1]||b===B-2)&&(h[S].push($[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,h=this.options.smoothFactor,p=0,b=a.length;p<b;p++)a[p]=il(a[p],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,h){var p,b,S,P,B,$,st=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,P=this._parts.length;p<P;p++)for($=this._parts[p],b=0,B=$.length,S=B-1;b<B;S=b++)if(!(!h&&b===0)&&Da(a,$[S],$[b])<=st)return!0;return!1}});function Jm(a,h){return new Nr(a,h)}Nr._flat=E;var ja=Nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ts(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var h=Nr.prototype._convertLatLngs.call(this,a),p=h.length;return p>=2&&h[0]instanceof Rt&&h[0].equals(h[p-1])&&h.pop(),h},_setLatLngs:function(a){Nr.prototype._setLatLngs.call(this,a),m(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return m(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,h=this.options.weight,p=new vt(h,h);if(a=new lt(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,P;b<S;b++)P=Ma(this._rings[b],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var h=!1,p,b,S,P,B,$,st,gt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,st=this._parts.length;P<st;P++)for(p=this._parts[P],B=0,gt=p.length,$=gt-1;B<gt;$=B++)b=p[B],S=p[$],b.y>a.y!=S.y>a.y&&a.x<(S.x-b.x)*(a.y-b.y)/(S.y-b.y)+b.x&&(h=!h);return h||Nr.prototype._containsPoint.call(this,a,!0)}});function ri(a,h){return new ja(a,h)}var si=Re.extend({initialize:function(a,h){N(this,h),this._layers={},a&&this.addData(a)},addData:function(a){var h=nt(a)?a:a.features,p,b,S;if(h){for(p=0,b=h.length;p<b;p++)S=h[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var B=al(a,P);return B?(B.feature=Ba(a),B.defaultOptions=B.options,this.resetStyle(B),P.onEachFeature&&P.onEachFeature(a,B),this.addLayer(B)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(h){this._setLayerStyle(h,a)},this)},_setLayerStyle:function(a,h){a.setStyle&&(typeof h=="function"&&(h=h(a.feature)),a.setStyle(h))}});function al(a,h){var p=a.type==="Feature"?a.geometry:a,b=p?p.coordinates:null,S=[],P=h&&h.pointToLayer,B=h&&h.coordsToLatLng||iu,$,st,gt,St;if(!b&&!p)return null;switch(p.type){case"Point":return $=B(b),pc(P,a,$,h);case"MultiPoint":for(gt=0,St=b.length;gt<St;gt++)$=B(b[gt]),S.push(pc(P,a,$,h));return new Re(S);case"LineString":case"MultiLineString":return st=ol(b,p.type==="LineString"?0:1,B),new Nr(st,h);case"Polygon":case"MultiPolygon":return st=ol(b,p.type==="Polygon"?1:2,B),new ja(st,h);case"GeometryCollection":for(gt=0,St=p.geometries.length;gt<St;gt++){var Lt=al({geometry:p.geometries[gt],type:"Feature",properties:a.properties},h);Lt&&S.push(Lt)}return new Re(S);case"FeatureCollection":for(gt=0,St=p.features.length;gt<St;gt++){var Ot=al(p.features[gt],h);Ot&&S.push(Ot)}return new Re(S);default:throw new Error("Invalid GeoJSON object.")}}function pc(a,h,p,b){return a?a(h,p):new za(p,b&&b.markersInheritOptions&&b)}function iu(a){return new Rt(a[1],a[0],a[2])}function ol(a,h,p){for(var b=[],S=0,P=a.length,B;S<P;S++)B=h?ol(a[S],h-1,p):(p||iu)(a[S]),b.push(B);return b}function ll(a,h){return a=wt(a),a.alt!==void 0?[A(a.lng,h),A(a.lat,h),A(a.alt,h)]:[A(a.lng,h),A(a.lat,h)]}function ru(a,h,p,b){for(var S=[],P=0,B=a.length;P<B;P++)S.push(h?ru(a[P],m(a[P])?0:h-1,p,b):ll(a[P],b));return!h&&p&&S.length>0&&S.push(S[0].slice()),S}function Di(a,h){return a.feature?o({},a.feature,{geometry:h}):Ba(h)}function Ba(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var js={toGeoJSON:function(a){return Di(this,{type:"Point",coordinates:ll(this.getLatLng(),a)})}};za.include(js),mc.include(js),sl.include(js),Nr.include({toGeoJSON:function(a){var h=!m(this._latlngs),p=ru(this._latlngs,h?1:0,!1,a);return Di(this,{type:(h?"Multi":"")+"LineString",coordinates:p})}}),ja.include({toGeoJSON:function(a){var h=!m(this._latlngs),p=h&&!m(this._latlngs[0]),b=ru(this._latlngs,p?2:h?1:0,!0,a);return h||(b=[b]),Di(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Ne.include({toMultiPoint:function(a){var h=[];return this.eachLayer(function(p){h.push(p.toGeoJSON(a).geometry.coordinates)}),Di(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(a){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(a);var p=h==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(p)b.push(P.geometry);else{var B=Ba(P);B.type==="FeatureCollection"?b.push.apply(b,B.features):b.push(B)}}}),p?Di(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function su(a,h){return new si(a,h)}var af=su,cr=ge.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,h,p){this._url=a,this._bounds=At(h),N(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Gt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&rr(this._image),this},bringToBack:function(){return this._map&&Xr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=At(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",h=this._image=a?this._url:$t("img");if(Gt(h,"leaflet-image-layer"),this._zoomAnimated&&Gt(h,"leaflet-zoom-animated"),this.options.className&&Gt(h,this.options.className),h.onselectstart=w,h.onmousemove=w,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(a){var h=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;On(this._image,p,h)},_reset:function(){var a=this._image,h=new lt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=h.getSize();jt(a,h.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Fa=function(a,h,p){return new cr(a,h,p)},au=cr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",h=this._image=a?this._url:$t("video");if(Gt(h,"leaflet-image-layer"),this._zoomAnimated&&Gt(h,"leaflet-zoom-animated"),this.options.className&&Gt(h,this.options.className),h.onselectstart=w,h.onmousemove=w,h.onloadeddata=c(this.fire,this,"load"),a){for(var p=h.getElementsByTagName("source"),b=[],S=0;S<p.length;S++)b.push(p[S].src);this._url=p.length>0?b:[h.src];return}nt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var B=$t("source");B.src=this._url[P],h.appendChild(B)}}});function of(a,h,p){return new au(a,h,p)}var es=cr.extend({_initImage:function(){var a=this._image=this._url;Gt(a,"leaflet-image-layer"),this._zoomAnimated&&Gt(a,"leaflet-zoom-animated"),this.options.className&&Gt(a,this.options.className),a.onselectstart=w,a.onmousemove=w}});function lf(a,h,p){return new es(a,h,p)}var Vi=ge.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,h){a&&(a instanceof Rt||nt(a))?(this._latlng=wt(a),N(this,h)):(N(this,a),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ke(this._container,1),this.bringToFront(),this.options.interactive&&(Gt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ke(this._container,0),this._removeTimeout=setTimeout(c(pe,void 0,this._container),200)):pe(this._container),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=wt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rr(this._container),this},bringToBack:function(){return this._map&&Xr(this._container),this},_prepareOpen:function(a){var h=this._source;if(!h._map)return!1;if(h instanceof Re){h=null;var p=this._source._layers;for(var b in p)if(p[b]._map){h=p[b];break}if(!h)return!1;this._source=h}if(!a)if(h.getCenter)a=h.getCenter();else if(h.getLatLng)a=h.getLatLng();else if(h.getBounds)a=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")a.innerHTML=h;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),h=U(this.options.offset),p=this._getAnchor();this._zoomAnimated?jt(this._container,a.add(p)):h=h.add(a).add(p);var b=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Kt.include({_initOverlay:function(a,h,p,b){var S=h;return S instanceof a||(S=new a(b).setContent(h)),p&&S.setLatLng(p),S}}),ge.include({_initOverlay:function(a,h,p,b){var S=p;return S instanceof a?(N(S,b),S._source=this):(S=h&&!b?h:new a(b,this),S.setContent(p)),S}});var ul=Vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Vi.prototype.openOn.call(this,a)},onAdd:function(a){Vi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof kr||this._source.on("preclick",qn))},onRemove:function(a){Vi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof kr||this._source.off("preclick",qn))},getEvents:function(){var a=Vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",h=this._container=$t("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=$t("div",a+"-content-wrapper",h);if(this._contentNode=$t("div",a+"-content",p),Ir(h),ki(this._contentNode),Vt(h,"contextmenu",qn),this._tipContainer=$t("div",a+"-tip-container",h),this._tip=$t("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=$t("a",a+"-close-button",h);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Vt(b,"click",function(S){Ee(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,h=a.style;h.width="",h.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),h.width=p+1+"px",h.whiteSpace="",h.height="";var b=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&b>S?(h.height=S+"px",Gt(a,P)):ve(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();jt(this._container,h.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,h=parseInt(ir(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+h,b=this._containerWidth,S=new vt(this._containerLeft,-p-this._containerBottom);S._add(ni(this._container));var P=a.layerPointToContainerPoint(S),B=U(this.options.autoPanPadding),$=U(this.options.autoPanPaddingTopLeft||B),st=U(this.options.autoPanPaddingBottomRight||B),gt=a.getSize(),St=0,Lt=0;P.x+b+st.x>gt.x&&(St=P.x+b-gt.x+st.x),P.x-St-$.x<0&&(St=P.x-$.x),P.y+p+st.y>gt.y&&(Lt=P.y+p-gt.y+st.y),P.y-Lt-$.y<0&&(Lt=P.y-$.y),(St||Lt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([St,Lt]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),tp=function(a,h){return new ul(a,h)};Kt.mergeOptions({closePopupOnClick:!0}),Kt.include({openPopup:function(a,h,p){return this._initOverlay(ul,a,h,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ge.include({bindPopup:function(a,h){return this._popup=this._initOverlay(ul,this._popup,a,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Re||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){An(a);var h=a.layer||a.target;if(this._popup._source===h&&!(h instanceof kr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=h,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ou=Vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Vi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Vi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Vi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",h=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$t("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var h,p,b=this._map,S=this._container,P=b.latLngToContainerPoint(b.getCenter()),B=b.layerPointToContainerPoint(a),$=this.options.direction,st=S.offsetWidth,gt=S.offsetHeight,St=U(this.options.offset),Lt=this._getAnchor();$==="top"?(h=st/2,p=gt):$==="bottom"?(h=st/2,p=0):$==="center"?(h=st/2,p=gt/2):$==="right"?(h=0,p=gt/2):$==="left"?(h=st,p=gt/2):B.x<P.x?($="right",h=0,p=gt/2):($="left",h=st+(St.x+Lt.x)*2,p=gt/2),a=a.subtract(U(h,p,!0)).add(St).add(Lt),ve(S,"leaflet-tooltip-right"),ve(S,"leaflet-tooltip-left"),ve(S,"leaflet-tooltip-top"),ve(S,"leaflet-tooltip-bottom"),Gt(S,"leaflet-tooltip-"+$),jt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ke(this._container,a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(h)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ep=function(a,h){return new ou(a,h)};Kt.include({openTooltip:function(a,h,p){return this._initOverlay(ou,a,h,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ge.include({bindTooltip:function(a,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ou,this._tooltip,a,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var h=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[h](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Re||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&(Vt(h,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Vt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var h=a.latlng,p,b;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(p),h=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(h)}});var gc=ur.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var h=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(un(h),h.appendChild(p.html)):h.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=U(p.bgPos);h.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function uf(a){return new gc(a)}ur.Default=Ua;var Bs=ge.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){N(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),pe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof vt?a:new vt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var h=this.getPane().children,p=-a(-1/0,1/0),b=0,S=h.length,P;b<S;b++)P=h[b].style.zIndex,h[b]!==this._container&&P&&(p=a(p,+P));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Mt.ielt9){ke(this._container,this.options.opacity);var a=+new Date,h=!1,p=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);ke(S.el,P),P<1?h=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),h&&(W(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=$t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,h=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=h-Math.abs(a-p),this._onUpdateLevel(p)):(pe(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[a],S=this._map;return b||(b=this._levels[a]={},b.el=$t("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=h,b.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,S.getCenter(),S.getZoom()),w(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var a,h,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)h=this._tiles[a],h.retain=h.current;for(a in this._tiles)if(h=this._tiles[a],h.current&&!h.active){var b=h.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var h in this._tiles)this._tiles[h].coords.z===a&&this._removeTile(h)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)pe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,h,p,b){var S=Math.floor(a/2),P=Math.floor(h/2),B=p-1,$=new vt(+S,+P);$.z=+B;var st=this._tileCoordsToKey($),gt=this._tiles[st];return gt&&gt.active?(gt.retain=!0,!0):(gt&&gt.loaded&&(gt.retain=!0),B>b?this._retainParent(S,P,B,b):!1)},_retainChildren:function(a,h,p,b){for(var S=2*a;S<2*a+2;S++)for(var P=2*h;P<2*h+2;P++){var B=new vt(S,P);B.z=p+1;var $=this._tileCoordsToKey(B),st=this._tiles[$];if(st&&st.active){st.retain=!0;continue}else st&&st.loaded&&(st.retain=!0);p+1<b&&this._retainChildren(S,P,p+1,b)}},_resetView:function(a){var h=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var h=this.options;return h.minNativeZoom!==void 0&&a<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<a?h.maxNativeZoom:a},_setView:function(a,h,p,b){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,h)},_setZoomTransforms:function(a,h){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,h)},_setZoomTransform:function(a,h,p){var b=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(h,p)).round();Mt.any3d?On(a.el,S,b):jt(a.el,S)},_resetGrid:function(){var a=this._map,h=a.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,h.wrapLng[0]],b).x/p.x),Math.ceil(a.project([0,h.wrapLng[1]],b).x/p.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([h.wrapLat[0],0],b).y/p.x),Math.ceil(a.project([h.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var h=this._map,p=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),b=h.getZoomScale(p,this._tileZoom),S=h.project(a,this._tileZoom).floor(),P=h.getSize().divideBy(b*2);return new lt(S.subtract(P),S.add(P))},_update:function(a){var h=this._map;if(h){var p=this._clampZoom(h.getZoom());if(a===void 0&&(a=h.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(b),P=S.getCenter(),B=[],$=this.options.keepBuffer,st=new lt(S.getBottomLeft().subtract([$,-$]),S.getTopRight().add([$,-$]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var gt in this._tiles){var St=this._tiles[gt].coords;(St.z!==this._tileZoom||!st.contains(new vt(St.x,St.y)))&&(this._tiles[gt].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Lt=S.min.y;Lt<=S.max.y;Lt++)for(var Ot=S.min.x;Ot<=S.max.x;Ot++){var qt=new vt(Ot,Lt);if(qt.z=this._tileZoom,!!this._isValidTile(qt)){var De=this._tiles[this._tileCoordsToKey(qt)];De?De.current=!0:B.push(qt)}}if(B.sort(function(xn,mi){return xn.distanceTo(P)-mi.distanceTo(P)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ze=document.createDocumentFragment();for(Ot=0;Ot<B.length;Ot++)this._addTile(B[Ot],Ze);this._level.el.appendChild(Ze)}}}},_isValidTile:function(a){var h=this._map.options.crs;if(!h.infinite){var p=this._globalTileRange;if(!h.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!h.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return At(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var h=this._map,p=this.getTileSize(),b=a.scaleBy(p),S=b.add(p),P=h.unproject(b,a.z),B=h.unproject(S,a.z);return[P,B]},_tileCoordsToBounds:function(a){var h=this._tileCoordsToNwSe(a),p=new _t(h[0],h[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var h=a.split(":"),p=new vt(+h[0],+h[1]);return p.z=+h[2],p},_removeTile:function(a){var h=this._tiles[a];h&&(pe(h.el),delete this._tiles[a],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Gt(a,"leaflet-tile");var h=this.getTileSize();a.style.width=h.x+"px",a.style.height=h.y+"px",a.onselectstart=w,a.onmousemove=w,Mt.ielt9&&this.options.opacity<1&&ke(a,this.options.opacity)},_addTile:function(a,h){var p=this._getTilePos(a),b=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),c(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&Y(c(this._tileReady,this,a,null,S)),jt(S,p),this._tiles[b]={el:S,coords:a,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,h,p){h&&this.fire("tileerror",{error:h,tile:p,coords:a});var b=this._tileCoordsToKey(a);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(ke(p.el,0),W(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),h||(Gt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Mt.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var h=new vt(this._wrapX?T(a.x,this._wrapX):a.x,this._wrapY?T(a.y,this._wrapY):a.y);return h.z=a.z,h},_pxBoundsToTileRange:function(a){var h=this.getTileSize();return new lt(a.min.unscaleBy(h).floor(),a.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Ui(a){return new Bs(a)}var Fs=Bs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,h){this._url=a,h=N(this,h),h.detectRetina&&Mt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,h){return this._url===a&&h===void 0&&(h=!0),this._url=a,h||this.redraw(),this},createTile:function(a,h){var p=document.createElement("img");return Vt(p,"load",c(this._tileOnLoad,this,h,p)),Vt(p,"error",c(this._tileOnError,this,h,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var h={r:Mt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(h.y=p),h["-y"]=p}return tt(this._url,o(h,this.options))},_tileOnLoad:function(a,h){Mt.ielt9?setTimeout(c(a,this,null,h),0):a(null,h)},_tileOnError:function(a,h,p){var b=this.options.errorTileUrl;b&&h.getAttribute("src")!==b&&(h.src=b),a(p,h)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,h=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(a=h-a),a+b},_getSubdomain:function(a){var h=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var a,h;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(h=this._tiles[a].el,h.onload=w,h.onerror=w,!h.complete)){h.src=dt;var p=this._tiles[a].coords;pe(h),delete this._tiles[a],this.fire("tileabort",{tile:h,coords:p})}},_removeTile:function(a){var h=this._tiles[a];if(h)return h.el.setAttribute("src",dt),Bs.prototype._removeTile.call(this,a)},_tileReady:function(a,h,p){if(!(!this._map||p&&p.getAttribute("src")===dt))return Bs.prototype._tileReady.call(this,a,h,p)}});function ai(a,h){return new Fs(a,h)}var oi=Fs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,h){this._url=a;var p=o({},this.defaultWmsParams);for(var b in h)b in this.options||(p[b]=h[b]);h=N(this,h);var S=h.detectRetina&&Mt.retina?2:1,P=this.getTileSize();p.width=P.x*S,p.height=P.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Fs.prototype.onAdd.call(this,a)},getTileUrl:function(a){var h=this._tileCoordsToNwSe(a),p=this._crs,b=bt(p.project(h[0]),p.project(h[1])),S=b.min,P=b.max,B=(this._wmsVersion>=1.3&&this._crs===Qe?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),$=Fs.prototype.getTileUrl.call(this,a);return $+V(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(a,h){return o(this.wmsParams,a),h||this.redraw(),this}});function Ha(a,h){return new oi(a,h)}Fs.WMS=oi,ai.wms=Ha;var zi=ge.extend({options:{padding:.1},initialize:function(a){N(this,a),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Gt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,h){var p=this._map.getZoomScale(h,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),P=b.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,h));Mt.any3d?On(this._container,P,p):jt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,h=this._map.getSize(),p=this._map.containerPointToLayerPoint(h.multiplyBy(-a)).round();this._bounds=new lt(p,p.add(h.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cl=zi.extend({options:{tolerance:0},getEvents:function(){var a=zi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Vt(a,"mousemove",this._onMouseMove,this),Vt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,pe(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var h in this._layers)a=this._layers[h],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zi.prototype._update.call(this);var a=this._bounds,h=this._container,p=a.getSize(),b=Mt.retina?2:1;jt(h,a.min),h.width=b*p.x,h.height=b*p.y,h.style.width=p.x+"px",h.style.height=p.y+"px",Mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[g(a)]=a;var h=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var h=a._order,p=h.next,b=h.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete a._order,delete this._layers[g(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var h=a.options.dashArray.split(/[, ]+/),p=[],b,S;for(S=0;S<h.length;S++){if(b=Number(h[S]),isNaN(b))return;p.push(b)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var h=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lt,this._redrawBounds.extend(a._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(a._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var h=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,h=this._redrawBounds;if(this._ctx.save(),h){var p=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!h||a._pxBounds&&a._pxBounds.intersects(h))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,h){if(this._drawing){var p,b,S,P,B=a._parts,$=B.length,st=this._ctx;if($){for(st.beginPath(),p=0;p<$;p++){for(b=0,S=B[p].length;b<S;b++)P=B[p][b],st[b?"lineTo":"moveTo"](P.x,P.y);h&&st.closePath()}this._fillStroke(st,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var h=a._point,p=this._ctx,b=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||b)/b;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(h.x,h.y/S,b,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,h){var p=h.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(h.options&&h.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var h=this._map.mouseEventToLayerPoint(a),p,b,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(h)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,h)}},_handleMouseOut:function(a){var h=this._hoveredLayer;h&&(ve(this._container,"leaflet-interactive"),this._fireEvent([h],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,h){if(!this._mouseHoverThrottled){for(var p,b,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(h)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Gt(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,h,p){this._map._fireDOMEvent(h,p||h.type,a)},_bringToFront:function(a){var h=a._order;if(h){var p=h.next,b=h.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(a)}},_bringToBack:function(a){var h=a._order;if(h){var p=h.next,b=h.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(a)}}});function hl(a){return Mt.canvas?new cl(a):null}var Hs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),qa={_initContainer:function(){this._container=$t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var h=a._container=Hs("shape");Gt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",a._path=Hs("path"),h.appendChild(a._path),this._updateStyle(a),this._layers[g(a)]=a},_addPath:function(a){var h=a._container;this._container.appendChild(h),a.options.interactive&&a.addInteractiveTarget(h)},_removePath:function(a){var h=a._container;pe(h),a.removeInteractiveTarget(h),delete this._layers[g(a)]},_updateStyle:function(a){var h=a._stroke,p=a._fill,b=a.options,S=a._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(h||(h=a._stroke=Hs("stroke")),S.appendChild(h),h.weight=b.weight+"px",h.color=b.color,h.opacity=b.opacity,b.dashArray?h.dashStyle=nt(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=b.lineCap.replace("butt","flat"),h.joinstyle=b.lineJoin):h&&(S.removeChild(h),a._stroke=null),b.fill?(p||(p=a._fill=Hs("fill")),S.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var h=a._point.round(),p=Math.round(a._radius),b=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+h.x+","+h.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(a,h){a._path.v=h},_bringToFront:function(a){rr(a._container)},_bringToBack:function(a){Xr(a._container)}},fl=Mt.vml?Hs:ba,ns=zi.extend({_initContainer:function(){this._container=fl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zi.prototype._update.call(this);var a=this._bounds,h=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,p.setAttribute("width",h.x),p.setAttribute("height",h.y)),jt(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(a){var h=a._path=fl("path");a.options.className&&Gt(h,a.options.className),a.options.interactive&&Gt(h,"leaflet-interactive"),this._updateStyle(a),this._layers[g(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){pe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[g(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var h=a._path,p=a.options;h&&(p.stroke?(h.setAttribute("stroke",p.color),h.setAttribute("stroke-opacity",p.opacity),h.setAttribute("stroke-width",p.weight),h.setAttribute("stroke-linecap",p.lineCap),h.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?h.setAttribute("stroke-dasharray",p.dashArray):h.removeAttribute("stroke-dasharray"),p.dashOffset?h.setAttribute("stroke-dashoffset",p.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),p.fill?(h.setAttribute("fill",p.fillColor||p.color),h.setAttribute("fill-opacity",p.fillOpacity),h.setAttribute("fill-rule",p.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(a,h){this._setPath(a,Fo(a._parts,h))},_updateCircle:function(a){var h=a._point,p=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+b+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(h.x-p)+","+h.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,P)},_setPath:function(a,h){a._path.setAttribute("d",h)},_bringToFront:function(a){rr(a._path)},_bringToBack:function(a){Xr(a._path)}});Mt.vml&&ns.include(qa);function qs(a){return Mt.svg||Mt.vml?new ns(a):null}Kt.include({getRenderer:function(a){var h=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var h=this._paneRenderers[a];return h===void 0&&(h=this._createRenderer({pane:a}),this._paneRenderers[a]=h),h},_createRenderer:function(a){return this.options.preferCanvas&&hl(a)||qs(a)}});var cf=ja.extend({initialize:function(a,h){ja.prototype.initialize.call(this,this._boundsToLatLngs(a),h)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=At(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function li(a,h){return new cf(a,h)}ns.create=fl,ns.pointsToPath=Fo,si.geometryToLayer=al,si.coordsToLatLng=iu,si.coordsToLatLngs=ol,si.latLngToCoords=ll,si.latLngsToCoords=ru,si.getFeature=Di,si.asFeature=Ba,Kt.mergeOptions({boxZoom:!0});var lu=Gn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wn(),Ns(),this._startPoint=this._map.mouseEventToContainerPoint(a),Vt(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=$t("div","leaflet-zoom-box",this._container),Gt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var h=new lt(this._point,this._startPoint),p=h.getSize();jt(this._box,h.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(pe(this._box),ve(this._container,"leaflet-crosshair")),Pi(),Jo(),ue(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new _t(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kt.addInitHook("addHandler","boxZoom",lu),Kt.mergeOptions({doubleClickZoom:!0});var hr=Gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var h=this._map,p=h.getZoom(),b=h.options.zoomDelta,S=a.originalEvent.shiftKey?p-b:p+b;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(a.containerPoint,S)}});Kt.addInitHook("addHandler","doubleClickZoom",hr),Kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _c=Gn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ni(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Gt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ve(this._map._container,"leaflet-grab"),ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=At(this._map.options.maxBounds);this._offsetLimit=bt(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var h=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(h),this._prunePositions(h)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,h){return a-(a-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;a.x<h.min.x&&(a.x=this._viscousLimit(a.x,h.min.x)),a.y<h.min.y&&(a.y=this._viscousLimit(a.y,h.min.y)),a.x>h.max.x&&(a.x=this._viscousLimit(a.x,h.max.x)),a.y>h.max.y&&(a.y=this._viscousLimit(a.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,h=Math.round(a/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-h+p)%a+h-p,P=(b+h+p)%a-h-p,B=Math.abs(S+p)<Math.abs(P+p)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(a){var h=this._map,p=h.options,b=!p.inertia||a.noInertia||this._times.length<2;if(h.fire("dragend",a),b)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,B=p.easeLinearity,$=S.multiplyBy(B/P),st=$.distanceTo([0,0]),gt=Math.min(p.inertiaMaxSpeed,st),St=$.multiplyBy(gt/st),Lt=gt/(p.inertiaDeceleration*B),Ot=St.multiplyBy(-Lt/2).round();!Ot.x&&!Ot.y?h.fire("moveend"):(Ot=h._limitOffset(Ot,h.options.maxBounds),Y(function(){h.panBy(Ot,{duration:Lt,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});Kt.addInitHook("addHandler","dragging",_c),Kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var dl=Gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Vt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,h=document.documentElement,p=a.scrollTop||h.scrollTop,b=a.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var h=this._panKeys={},p=this.keyCodes,b,S;for(b=0,S=p.left.length;b<S;b++)h[p.left[b]]=[-1*a,0];for(b=0,S=p.right.length;b<S;b++)h[p.right[b]]=[a,0];for(b=0,S=p.down.length;b<S;b++)h[p.down[b]]=[0,a];for(b=0,S=p.up.length;b<S;b++)h[p.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var h=this._zoomKeys={},p=this.keyCodes,b,S;for(b=0,S=p.zoomIn.length;b<S;b++)h[p.zoomIn[b]]=a;for(b=0,S=p.zoomOut.length;b<S;b++)h[p.zoomOut[b]]=-a},_addHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var h=a.keyCode,p=this._map,b;if(h in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[h],a.shiftKey&&(b=U(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(U(b),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(S)}else p.panBy(b)}else if(h in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;An(a)}}});Kt.addInitHook("addHandler","keyboard",dl),Kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var is=Gn.extend({addHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var h=Ds(a),p=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),b),An(a)},_performZoom:function(){var a=this._map,h=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,P=p?Math.ceil(S/p)*p:S,B=a._limitZoom(h+(this._delta>0?P:-P))-h;this._delta=0,this._startTime=null,B&&(a.options.scrollWheelZoom==="center"?a.setZoom(h+B):a.setZoomAround(this._lastMousePos,h+B))}});Kt.addInitHook("addHandler","scrollWheelZoom",is);var vc=600;Kt.mergeOptions({tapHold:Mt.touchNative&&Mt.safari&&Mt.mobile,tapTolerance:15});var uu=Gn.extend({addHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var h=a.touches[0];this._startPos=this._newPos=new vt(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Vt(document,"touchend",Ee),Vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),vc),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ue(document,"touchend",Ee),ue(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(a){var h=a.touches[0];this._newPos=new vt(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,h){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});p._simulated=!0,h.target.dispatchEvent(p)}});Kt.addInitHook("addHandler","tapHold",uu),Kt.mergeOptions({touchZoom:Mt.touch,bounceAtZoomLimits:!0});var Gs=Gn.extend({addHooks:function(){Gt(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var h=this._map;if(!(!a.touches||a.touches.length!==2||h._animatingZoom||this._zooming)){var p=h.mouseEventToContainerPoint(a.touches[0]),b=h.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),Ee(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var h=this._map,p=h.mouseEventToContainerPoint(a.touches[0]),b=h.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(b)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var B=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(B,this,!0),Ee(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kt.addInitHook("addHandler","touchZoom",Gs),Kt.BoxZoom=lu,Kt.DoubleClickZoom=hr,Kt.Drag=_c,Kt.Keyboard=dl,Kt.ScrollWheelZoom=is,Kt.TapHold=uu,Kt.TouchZoom=Gs,e.Bounds=lt,e.Browser=Mt,e.CRS=Te,e.Canvas=cl,e.Circle=mc,e.CircleMarker=sl,e.Class=Ce,e.Control=_n,e.DivIcon=gc,e.DivOverlay=Vi,e.DomEvent=Ql,e.DomUtil=tl,e.Draggable=Ni,e.Evented=Et,e.FeatureGroup=Re,e.GeoJSON=si,e.GridLayer=Bs,e.Handler=Gn,e.Icon=ur,e.ImageOverlay=cr,e.LatLng=Rt,e.LatLngBounds=_t,e.Layer=ge,e.LayerGroup=Ne,e.LineUtil=M,e.Map=Kt,e.Marker=za,e.Mixin=Us,e.Path=kr,e.Point=vt,e.PolyUtil=Na,e.Polygon=ja,e.Polyline=Nr,e.Popup=ul,e.PosAnimation=Vs,e.Projection=Tt,e.Rectangle=cf,e.Renderer=zi,e.SVG=ns,e.SVGOverlay=es,e.TileLayer=Fs,e.Tooltip=ou,e.Transformation=Ai,e.Util=H,e.VideoOverlay=au,e.bind=c,e.bounds=bt,e.canvas=hl,e.circle=$m,e.circleMarker=sf,e.control=Sn,e.divIcon=uf,e.extend=o,e.featureGroup=lr,e.geoJSON=su,e.geoJson=af,e.gridLayer=Ui,e.icon=nu,e.imageOverlay=Fa,e.latLng=wt,e.latLngBounds=At,e.layerGroup=Mr,e.map=ar,e.marker=dc,e.point=U,e.polygon=ri,e.polyline=Jm,e.popup=tp,e.rectangle=li,e.setOptions=N,e.stamp=g,e.svg=qs,e.svgOverlay=lf,e.tileLayer=ai,e.tooltip=ep,e.transformation=Si,e.version=r,e.videoOverlay=of;var Ga=window.L;e.noConflict=function(){return window.L=Ga,this},window.L=e})}(uh,uh.exports)),uh.exports}var Bo=fC();const Qn=kh(Bo);function GV(){const[n,t]=q.useState(null);return q.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{t([e.coords.latitude,e.coords.longitude])},e=>{console.error("Error obteniendo ubicación del usuario:",e),t(null)},{enableHighAccuracy:!0})},[]),n}const dC=q.createContext(null),qm=()=>q.useContext(dC),ZV=({children:n})=>{const[t,e]=q.useState(null),[r,o]=q.useState(null),[l,c]=q.useState(!0);return q.useEffect(()=>{const d=Po.onAuthStateChanged(async g=>{if(g){const v=Jn(Pe,"usuarios",g.uid),T=await ws(v);if(T.exists()){const w=T.data();e({...g,...w}),o(w.rol)}else e(g),o(null)}else e(null),o(null);c(!1)});return()=>d()},[]),C.jsx(dC.Provider,{value:{usuario:t,rol:r,cargando:l},children:n})},mC=()=>{const{id:n}=xA(),t=q.useRef(null),[e,r]=q.useState(null),[o,l]=q.useState([]),[c,d]=q.useState(""),g=GV(),{usuario:v,rol:T,cargando:w}=qm();q.useEffect(()=>{!document.getElementById("map")||t.current||(t.current=Qn.map("map").setView([41.117,1.25],14),Qn.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors & CartoDB'}).addTo(t.current),g&&Qn.marker(g).addTo(t.current).bindPopup("📍 Tu ubicación").openPopup(),console.log("📍 Ubicación detectada:",g))},[g]),q.useEffect(()=>{n&&(async()=>{try{console.log("🆔 ID recibido:",n);const V=Jn(Pe,"Rutas",n),j=await ws(V);j.exists()?(console.log("✅ Documento encontrado:",j.data()),r(j.data())):console.warn("⚠️ No se encontró la ruta con el ID:",n)}catch(V){console.error("❌ Error al cargar la ruta:",V)}})()},[n]),q.useEffect(()=>{if(!n)return;const N=jm(yr(Pe,"rutas",n,"comments"),vy("createdAt","asc")),V=cC(N,j=>{const tt=j.docs.map(nt=>({id:nt.id,...nt.data()}));l(tt)});return()=>V()},[n]);const A=async()=>{try{const V=e.coordenadas;if(!Array.isArray(V)||V.length===0){console.warn("⚠️ No hay coordenadas válidas");return}t.current.eachLayer(dt=>{(dt instanceof Qn.Marker||dt instanceof Qn.GeoJSON)&&t.current.removeLayer(dt)}),V.forEach((dt,It)=>{const G=[dt.latitude,dt.longitude];let D;It===0&&g?D="📍 Tu ubicación":e&&Array.isArray(e.contenido)&&e.contenido[It]?D=e.contenido[It]:D=`Punto ${It+1}`,Qn.marker(G).addTo(t.current).bindPopup(D)});const j=V.map(dt=>[dt.longitude,dt.latitude]),tt=await fetch("https://api.openrouteservice.org/v2/directions/foot-walking/geojson",{method:"POST",headers:{Accept:"application/json, application/geo+json","Content-Type":"application/json",Authorization:"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6IjcwNGMxOTg0NGQ1MjQ5YjliOWJhMjE0NjE0MzUyNjlmIiwiaCI6Im11cm11cjY0In0="},body:JSON.stringify({coordinates:j})});if(!tt.ok)throw new Error("Error al obtener ruta ORS");const nt=await tt.json();Qn.geoJSON(nt,{style:{color:"blue",weight:3}}).addTo(t.current);const ct=Qn.geoJSON(nt).getBounds();t.current.fitBounds(ct)}catch(N){console.error("❌ Error:",N)}};q.useEffect(()=>{e&&A()},[e,g]);const I=async()=>{if(!c.trim()||!v?.uid||!n)return;const N=v.fotoURL?v.fotoURL:null;await Qh(yr(Pe,"rutas",n,"comments"),{content:c.trim(),authorId:v.uid,authorName:v.displayName||v.email,fotoURL:N,createdAt:$h()}),d("")},k=async N=>{try{const V=Jn(Pe,"rutas",n,"comments",N);await uC(V)}catch(V){console.error("Error al eliminar el comentario:",V)}};return C.jsxs("div",{className:"ruta-detalle-container",style:{padding:"1rem"},children:[e&&C.jsxs(C.Fragment,{children:[C.jsx("h2",{children:e.nombre}),C.jsx("span",{className:`badge ${e.tipo}`,children:e.tipo}),C.jsxs("p",{children:[C.jsx("strong",{children:"Duración:"})," ",e.duracion]}),C.jsx("p",{children:e.descripcion}),C.jsx("h3",{children:"Puntos de interés:"}),C.jsx("ul",{children:e.contenido.map((N,V)=>C.jsx("li",{children:N},V))})]}),C.jsx("h3",{children:"Mapa de la ruta"}),C.jsx("div",{id:"map",style:{height:"70vh",marginBottom:"2rem"}}),C.jsx("h3",{children:"Foro de la ruta"}),v&&v.uid?C.jsxs(C.Fragment,{children:[C.jsx("textarea",{value:c,onChange:N=>d(N.target.value),placeholder:"Escribe tu comentario...",rows:3,style:{width:"100%",padding:"0.5rem",marginBottom:"0.5rem"}}),C.jsx("button",{onClick:I,children:"💬 Comentar"})]}):C.jsx("p",{children:"Debes iniciar sesión para comentar."}),C.jsx("ul",{style:{marginTop:"1rem"},children:o.map(N=>{const V=N.authorName?N.authorName[0].toUpperCase()+N.authorName.slice(-1).toUpperCase():"U",j=N.fotoURL?N.fotoURL:`https://ui-avatars.com/api/?name=${V}&background=random&color=fff&size=128`;return C.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",marginBottom:"1rem"},children:[C.jsx("img",{src:j,alt:"Avatar",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover"}}),C.jsxs("div",{children:[C.jsx("strong",{children:N.authorName}),C.jsx("p",{children:N.content}),v?.uid===N.authorId&&C.jsx("button",{onClick:()=>k(N.id),style:{background:"transparent",border:"none",color:"#cc0000",cursor:"pointer",fontSize:"0.9rem",marginTop:"0.25rem"},children:"🗑️ Eliminar"})]})]},N.id)})})]})};function YV(){return C.jsxs(IA,{children:[C.jsx(Je,{path:"/",element:C.jsx(HV,{})}),C.jsx(Je,{path:":id",element:C.jsx(mC,{})})," "]})}const pC="/assets/Logo2-BBJTr0lG.png",KV="/assets/webname-BGKEbTvx.png";function WV({usuario:n,nombreUsuario:t,cerrarSesion:e}){const[r,o]=q.useState(!1),[l,c]=q.useState(null),d=Vh(),g=q.useRef(),v=q.useRef(),[T,w]=q.useState({top:0,left:0}),[A,I]=q.useState(0);return q.useEffect(()=>{const k=N=>{v.current&&!v.current.contains(N.target)&&o(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),q.useEffect(()=>{if(r&&g.current){const k=g.current.getBoundingClientRect();w({top:k.top+window.scrollY,left:k.left}),I(k.height)}},[r]),q.useEffect(()=>{(async()=>{if(n?.uid){const N=Jn(Pe,"usuarios",n.uid),V=await ws(N);if(V.exists()){const j=V.data();c(j.fotoURL||null)}}})()},[n]),C.jsxs("header",{className:"site.header",children:[C.jsx("div",{className:"brand",children:C.jsxs(Le,{to:"/",className:"logo-container",children:[C.jsx("img",{src:pC,alt:"Logo TgoTours",className:"logo-img"}),C.jsx("div",{className:"name-web",children:C.jsx("img",{src:KV,alt:"Nombre Web"})})]})}),C.jsxs("nav",{className:"nav-links",children:[C.jsx(Le,{to:"/",children:"HOME"}),C.jsx(Le,{to:"/about",children:"ABOUT"}),C.jsx(Le,{to:"/eventos",children:"EVENTOS"}),C.jsx(Le,{to:"/mapa",children:"MAP"}),C.jsx(Le,{to:"/rutas",children:"RUTAS"}),C.jsx(Le,{to:"/comunidad",children:"COMUNIDAD"}),C.jsx(Le,{to:"/tours",children:"FREE TOURS"})]}),C.jsx("div",{className:"auth-section",ref:v,style:{position:"relative"},children:n?C.jsxs("div",{className:"usuario-menu",children:[C.jsxs("button",{className:"usuario-trigger",onClick:()=>o(!r),ref:g,children:[C.jsx("img",{src:l||`https://ui-avatars.com/api/?name=${t}&background=random&color=fff&size=128`,alt:"Avatar",className:"avatar-header"}),t," ▼"]}),r&&C.jsxs("div",{className:"usuario-dropdown",children:[C.jsx(Le,{to:"/perfil",children:"👤 Mi perfil"}),C.jsx(Le,{to:"/rutas-guardadas",children:"🗺️ Rutas guardadas"}),C.jsx(Le,{to:"/restaurantes-guardados",children:"🍽️ Restaurantes guardados"}),C.jsx("button",{onClick:()=>{e(),d("/login")},children:"🚪 Cerrar sesión"})]})]}):C.jsx(Le,{to:"/login",children:C.jsx("button",{children:"Iniciar sesión"})})})]})}function XV(){const[n,t]=q.useState(""),[e,r]=q.useState(""),[o,l]=q.useState(null),[c,d]=q.useState(null),g=Vh(),v=async T=>{T.preventDefault(),d(null),l(null);try{const w=await P1(Po,n,e);d(`🎉 Sesión iniciada como: ${w.user.email}`),t(""),r(""),g("/")}catch{l("❌ Credenciales inválidas o usuario no registrado.")}};return C.jsx("div",{className:"full-page",children:C.jsxs("div",{className:"form-page",children:[C.jsx("h2",{children:"Iniciar sesión"}),C.jsxs("form",{onSubmit:v,children:[C.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:T=>t(T.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),C.jsx("br",{}),C.jsx("input",{type:"password",placeholder:"Contraseña",value:e,onChange:T=>r(T.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),C.jsx("br",{}),C.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem",marginTop:"1rem"},children:"Entrar"})]}),c&&C.jsx("p",{style:{color:"green",marginTop:"1rem"},children:c}),o&&C.jsx("p",{style:{color:"red",marginTop:"1rem"},children:o}),C.jsxs("p",{style:{marginTop:"2rem"},children:["¿No tienes cuenta? ",C.jsx(Le,{to:"/registro",children:"Regístrate aquí"})]})]})})}function QV(){const[n,t]=q.useState(""),[e,r]=q.useState(""),[o,l]=q.useState(""),[c,d]=q.useState(null),[g,v]=q.useState(null),[T,w]=q.useState("turista"),[A,I]=q.useState(!1),k=Vh(),[N,V]=q.useState(""),[j,tt]=q.useState(""),nt=async ct=>{if(ct.preventDefault(),v(null),d(null),!A){d("⚠️ Debes aceptar los términos y condiciones para registrarte.");return}if(!n.includes("@")){d("❌ El correo electrónico no es válido.");return}if(o.length<6){d("❌ La contraseña debe tener al menos 6 caracteres.");return}if(n!==N){d("❌ Los correos electrónicos no coinciden.");return}if(o!==j){d("❌ Las contraseñas no coinciden.");return}try{const dt=jm(yr(Pe,"usuarios"),VV("nombreUsuario","==",e));if(!(await Xh(dt)).empty){d("❌ El nombre de usuario ya está en uso.");return}}catch(dt){console.error("❌ Error al verificar nombre de usuario:",dt),d("❌ No se pudo verificar el nombre de usuario.");return}try{const dt=await L1(Po,n,o),It=dt.user.uid,G=dt.user;console.log("✅ Usuario creado:",It);try{await jV(Jn(Pe,"usuarios",It),{nombreUsuario:e,email:n,fechaRegistro:$h(),rol:T,fotoPerfil:G.photoURL||"",nombreCompleto:G.displayName||""}),console.log("✅ Documento creado en Firestore")}catch(D){console.error("❌ Error en setDoc:",D),d(`❌ Error en Firestore: ${D.message}`);return}await O1(G),v(`✅ Usuario creado: ${G.email}. Revisa tu correo.`),t(""),l(""),r(""),I(!1),setTimeout(()=>{k("/login")},4e3)}catch(dt){switch(console.error("❌ Error en createUserWithEmailAndPassword:",dt),dt.code){case"auth/email-already-in-use":d("❌ Este correo ya está registrado.");break;case"auth/invalid-email":d("❌ El correo no es válido.");break;case"auth/weak-password":d("❌ La contraseña es demasiado débil.");break;default:d("❌ Error al crear la cuenta.")}}};return C.jsx("div",{className:"full-page",children:C.jsxs("div",{className:"form-page",children:[C.jsx("h2",{children:"Crear cuenta"}),C.jsxs("form",{onSubmit:nt,children:[C.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:ct=>t(ct.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),C.jsx("input",{type:"email",placeholder:"Repite tu correo electrónico",value:N,onChange:ct=>V(ct.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),C.jsx("br",{}),C.jsx("br",{}),C.jsx("input",{type:"text",placeholder:"Nombre de usuario",value:e,onChange:ct=>r(ct.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),C.jsx("br",{}),C.jsx("input",{type:"password",placeholder:"Contraseña (mínimo 6 caracteres)",value:o,onChange:ct=>l(ct.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),C.jsx("br",{}),C.jsx("input",{type:"password",placeholder:"Repite tu contraseña",value:j,onChange:ct=>tt(ct.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),C.jsx("br",{}),C.jsx("label",{style:{display:"block",margin:"0.5rem 0 0.2rem 0"},children:"Selecciona tu rol:"}),C.jsxs("select",{value:T,onChange:ct=>w(ct.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"260px"},children:[C.jsx("option",{value:"turista",children:"Turista"}),C.jsx("option",{value:"guia",children:"Guía"})]}),C.jsx("div",{style:{marginTop:"1rem",fontSize:"0.95rem",color:"#ccc"},children:C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",checked:A,onChange:ct=>I(ct.target.checked),style:{marginRight:"0.5rem"}}),"Acepto los"," ",C.jsx(Le,{to:"/terminos",target:"_blank",style:{color:"#00CFEA",textDecoration:"underline"},children:"términos y condiciones"})]})}),C.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:C.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem"},children:"Registrarse"})})]}),g&&C.jsx("p",{style:{color:"green",marginTop:"1rem"},children:g}),c&&C.jsx("p",{style:{color:"red",marginTop:"1rem"},children:c}),C.jsxs("p",{style:{marginTop:"2rem"},children:["¿Ya tienes cuenta? ",C.jsx(Le,{to:"/login",children:"Inicia sesión"})]})]})})}const $V="/assets/anfiteatro-DCT6H1iw.jpg",JV="/assets/catedral-B47ZHRBw.jpg",t6="/assets/murallas-DDs6YkZI.jpg",e6="/assets/plaza-rei-ChD4jxTW.jpg",n6="/assets/balcon-CRrngfcJ.jpg";var i6=15e3,z_=1e3,j_=60*z_,Pd=60*j_,$g=24*Pd,r6="http://www.topografix.com/GPX/gpx_style/0/2",gd=new L.Icon.Default,s6={startIcon:gd,endIcon:gd,wptIcons:{"":gd},wptTypeIcons:{"":gd},pointMatchers:[]},a6={iconSize:[33,45],iconAnchor:[16,45],clickable:!1},o6={color:"blue"},l6={parseElements:["track","route","waypoint"],joinTrackSegments:!0};L.GPX=L.FeatureGroup.extend({initialize:function(n,t){t.max_point_interval=t.max_point_interval||i6,t.markers=this._merge_objs(s6,t.markers||{}),t.marker_options=this._merge_objs(a6,t.marker_options||{}),t.polyline_options=t.polyline_options||[],t.gpx_options=this._merge_objs(l6,t.gpx_options||{}),L.Util.setOptions(this,t),L.GPXTrackIcon=L.Icon.extend({options:t.marker_options}),this._gpx=n,this._layers={},this._prepare_markers(t.markers),this._init_info(),n&&this._parse(n,t,this.options.async)},get_duration_string:function(n,t){var e="";n>=$g&&(e+=Math.floor(n/$g)+"d ",n=n%$g),n>=Pd&&(e+=Math.floor(n/Pd)+":",n=n%Pd);var r=Math.floor(n/j_);n=n%j_,r<10&&(e+="0"),e+=r+"'";var o=Math.floor(n/z_);return n=n%z_,o<10&&(e+="0"),e+=o,!t&&n>0?e+="."+Math.round(Math.floor(n)*1e3)/1e3:e+='"',e},get_duration_string_iso:function(n,t){var e=this.get_duration_string(n,t);return e.replace("'",":").replace('"',"")},_toFixed_helper:function(n,t=0){return typeof n=="number"?n.toFixed(t):"?"},to_miles:function(n){return n/1.60934},to_ft:function(n){return n*3.28084},m_to_km:function(n){return n/1e3},m_to_mi:function(n){return n/1609.34},ms_to_kmh:function(n){return n*3.6},ms_to_mih:function(n){return n/1609.34*3600},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/(3600*1e3))},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/(3600*1e3))},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/(3600*1e3))},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/(3600*1e3))},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var n=this;return this._info.elevation._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,null,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,0)+" m"})})},get_elevation_data_imp:function(){var n=this;return this._info.elevation._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,n.to_ft,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,0)+" ft"})})},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_speed_data:function(){var n=this;return this._info.speed._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,n.ms_to_kmh,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,2)+" km/h"})})},get_speed_data_imp:function(){var n=this;return this._info.speed._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,n.ms_to_mih,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,2)+" mi/h"})})},get_speed_max:function(){return this.m_to_km(this._info.speed.max)*3600},get_speed_max_imp:function(){return this.to_miles(this.get_speed_max())},get_average_hr:function(){return this._info.hr.avg},get_average_temp:function(){return this._info.atemp.avg},get_average_cadence:function(){return this._info.cad.avg},get_heartrate_data:function(){var n=this;return this._info.hr._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,null,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,0)+" bpm"})})},get_heartrate_data_imp:function(){var n=this;return this._info.hr._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,null,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,0)+" bpm"})})},get_cadence_data:function(){var n=this;return this._info.cad._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,null,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,0)+" rpm"})})},get_temp_data:function(){var n=this;return this._info.atemp._points.map(function(t){return n._prepare_data_point(t,n.m_to_km,null,function(e,r){return n._toFixed_helper(e,2)+" km, "+n._toFixed_helper(r,0)+" degrees"})})},get_cadence_data_imp:function(){var n=this;return this._info.cad._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,null,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,0)+" rpm"})})},get_temp_data_imp:function(){var n=this;return this._info.atemp._points.map(function(t){return n._prepare_data_point(t,n.m_to_mi,null,function(e,r){return n._toFixed_helper(e,2)+" mi, "+n._toFixed_helper(r,0)+" degrees"})})},reload:function(){this._init_info(),this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},_merge_objs:function(n,t){var e={};for(var r in n)e[r]=n[r];for(var r in t)e[r]=t[r];return e},_prepare_data_point:function(n,t,e,r){var o=[t&&t(n[0])||n[0],e&&e(n[1])||n[1]];return o.push(r&&r(o[0],o[1])||o[0]+": "+o[1]),o},_prepare_markers:function(n){function t(e){return new L.GPXTrackIcon({iconUrl:e})}return Object.entries(n).forEach(([e,r])=>{e==="wptIcons"||e==="wptTypeIcons"?n[e]=this._prepare_markers(r):e==="pointMatchers"?n[e]=r.map(o=>(typeof o.icon=="string"&&(o.icon=t(o.icon)),o)):typeof r=="string"?n[e]=t(r):typeof r=="object"&&r!==null&&(n[e]=r)}),n},_init_info:function(){this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},speed:{max:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0},atemp:{avg:0,_total:0,_points:[]},cad:{avg:0,_total:0,_points:[]}}},_load_xml:function(n,t,e,r){r==null&&(r=this.options.async),e==null&&(e=this.options);var o=this,l=new window.XMLHttpRequest;l.open("GET",n,r);try{l.overrideMimeType("text/xml")}catch{}l.onloadend=function(){l.status==200?t(l.responseXML,e):o.fire("error",{err:"Error fetching resource: "+n})},l.send(null)},_parse:function(n,t,e){var r=this,o=function(c,d){var g=r._parse_gpx_data(c,d);if(!g){r.fire("error",{err:"No parseable layers of type(s) "+JSON.stringify(d.gpx_options.parseElements)});return}r.addLayer(g),r.fire("loaded",{layers:g,element:c})};if(n.substr(0,1)==="<"){var l=new DOMParser;e?setTimeout(function(){o(l.parseFromString(n,"text/xml"),t)}):o(l.parseFromString(n,"text/xml"),t)}else this._load_xml(n,o,t,e)},_parse_gpx_data:function(n,t){var e,r,o=[],l=n.getElementsByTagName("name");l.length>0&&(this._info.name=l[0].textContent);var c=n.getElementsByTagName("desc");c.length>0&&(this._info.desc=c[0].textContent);var d=n.getElementsByTagName("author");d.length>0&&(this._info.author=d[0].textContent);var g=n.getElementsByTagName("copyright");g.length>0&&(this._info.copyright=g[0].textContent);var v=t.gpx_options.parseElements;if(v.indexOf("route")>-1){var T=n.getElementsByTagName("rte");for(e=0;e<T.length;e++){var w=T[e],A=this._extract_styling(w),I=this._get_polyline_options(t.polyline_options,e);o=o.concat(this._parse_segment(T[e],t,A,I,"rtept"))}}if(v.indexOf("track")>-1){var k=n.getElementsByTagName("trk");for(e=0;e<k.length;e++){var N=k[e],A=this._extract_styling(N),I=this._get_polyline_options(t.polyline_options,e);if(t.gpx_options.joinTrackSegments)o=o.concat(this._parse_segment(N,t,A,I,"trkpt"));else{var V=N.getElementsByTagName("trkseg");for(W=0;W<V.length;W++)o=o.concat(this._parse_segment(V[W],t,A,I,"trkpt"))}}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),this._info.cad.avg=Math.round(this._info.cad._total/this._info.cad._points.length),this._info.atemp.avg=Math.round(this._info.atemp._total/this._info.atemp._points.length),v.indexOf("waypoint")>-1)for(r=n.getElementsByTagName("wpt"),e=0;e<r.length;e++){var j=new L.LatLng(r[e].getAttribute("lat"),r[e].getAttribute("lon")),tt=r[e].getElementsByTagName("name"),l=tt.length>0?tt[0].textContent:"",nt=r[e].getElementsByTagName("desc"),c=nt.length>0?nt[0].textContent:"",ct=r[e].getElementsByTagName("sym"),dt=ct.length>0?ct[0].textContent:null,It=r[e].getElementsByTagName("type"),G=It.length>0?It[0].textContent:null,D=t.markers.wptIcons,z=t.markers.wptTypeIcons,Z=t.markers.pointMatchers||[],Y;if(D&&dt&&D[dt])Y=D[dt];else if(z&&G&&z[G])Y=z[G];else if(Z.length>0){for(var W=0;W<Z.length;W++)if(Z[W].regex.test(l)){Y=Z[W].icon;break}}else D&&D[""]&&(Y=D[""]);if(!Y){console.log("No waypoint icon could be matched for symKey=%s,typeKey=%s,name=%s on waypoint %o",dt,G,l,r[e]);continue}var H=new L.Marker(j,{clickable:t.marker_options.clickable,title:l,icon:Y,type:"waypoint"});H.bindPopup("<b>"+l+"</b>"+(c.length>0?"<br>"+c:"")).openPopup(),this.fire("addpoint",{point:H,point_type:"waypoint",element:r[e]}),o.push(H)}if(o.length>1)return new L.FeatureGroup(o);if(o.length==1)return o[0]},_parse_segment:function(n,t,e,r,o){var l=n.getElementsByTagName(o);if(!l.length)return[];for(var c=[],d=[],g=[],v=null,T=0;T<l.length;T++){var w,A=new L.LatLng(l[T].getAttribute("lat"),l[T].getAttribute("lon"));A.meta={time:null,ele:null,hr:null,cad:null,atemp:null,speed:null},w=l[T].getElementsByTagName("time"),w.length>0?A.meta.time=new Date(Date.parse(w[0].textContent)):A.meta.time=new Date("1970-01-01T00:00:00");var I=v!=null?Math.abs(A.meta.time-v.meta.time):0;w=l[T].getElementsByTagName("ele"),w.length>0?A.meta.ele=parseFloat(w[0].textContent):A.meta.ele=v!=null?v.meta.ele:null;var k=v!=null?A.meta.ele-v.meta.ele:0,N=v!=null?this._dist3d(v,A):0;if(w=l[T].getElementsByTagName("speed"),w.length>0?A.meta.speed=parseFloat(w[0].textContent):A.meta.speed=I>0?1e3*N/I:0,w=l[T].getElementsByTagName("name"),w.length>0){for(var V=w[0].textContent,j=t.markers.pointMatchers||[],tt=0;tt<j.length;tt++)if(j[tt].regex.test(V)){d.push({label:V,coords:A,icon:j[tt].icon,element:l[T]});break}}this._info.length+=N,w=l[T].getElementsByTagNameNS("*","hr"),w.length>0&&(A.meta.hr=parseInt(w[0].textContent),this._info.hr._points.push([this._info.length,A.meta.hr]),this._info.hr._total+=A.meta.hr),w=l[T].getElementsByTagNameNS("*","cad"),w.length>0&&(A.meta.cad=parseInt(w[0].textContent),this._info.cad._points.push([this._info.length,A.meta.cad]),this._info.cad._total+=A.meta.cad),w=l[T].getElementsByTagNameNS("*","atemp"),w.length>0&&(A.meta.atemp=parseInt(w[0].textContent),this._info.atemp._points.push([this._info.length,A.meta.atemp]),this._info.atemp._total+=A.meta.atemp),A.meta.ele>this._info.elevation.max&&(this._info.elevation.max=A.meta.ele),A.meta.ele<this._info.elevation.min&&(this._info.elevation.min=A.meta.ele),this._info.elevation._points.push([this._info.length,A.meta.ele]),A.meta.speed>this._info.speed.max&&(this._info.speed.max=A.meta.speed),this._info.speed._points.push([this._info.length,A.meta.speed]),v==null&&this._info.duration.start==null&&(this._info.duration.start=A.meta.time),this._info.duration.end=A.meta.time,this._info.duration.total+=I,I<t.max_point_interval&&(this._info.duration.moving+=I),k>0?this._info.elevation.gain+=k:this._info.elevation.loss+=Math.abs(k),v=A,c.push(A)}var nt=new L.Polyline(c,this._extract_styling(n,e,r));if(this.fire("addline",{line:nt,element:n}),g.push(nt),t.markers.startIcon){var ct=new L.Marker(c[0],{clickable:t.marker_options.clickable,icon:t.markers.startIcon});this.fire("addpoint",{point:ct,point_type:"start",element:l[0],line:n}),g.push(ct)}if(t.markers.endIcon){var ct=new L.Marker(c[c.length-1],{clickable:t.marker_options.clickable,icon:t.markers.endIcon});this.fire("addpoint",{point:ct,point_type:"end",element:l[l.length-1],line:n}),g.push(ct)}for(var T=0;T<d.length;T++){var ct=new L.Marker(d[T].coords,{clickable:t.marker_options.clickable,title:d[T].label,icon:d[T].icon});this.fire("addpoint",{point:ct,point_type:"label",element:d[T].element}),g.push(ct)}return g},_get_polyline_options:function(n,t){return Array.isArray(n)?n[t]||{}:n},_extract_styling:function(n,t,e){var r=this._merge_objs(o6,t),o=n.getElementsByTagNameNS(r6,"line");if(o.length>0){var l=o[0].getElementsByTagName("color");l.length>0&&(r.color="#"+l[0].textContent);var l=o[0].getElementsByTagName("opacity");l.length>0&&(r.opacity=l[0].textContent);var l=o[0].getElementsByTagName("weight");l.length>0&&(r.weight=l[0].textContent);var l=o[0].getElementsByTagName("linecap");l.length>0&&(r.lineCap=l[0].textContent);var l=o[0].getElementsByTagName("linejoin");l.length>0&&(r.lineJoin=l[0].textContent);var l=o[0].getElementsByTagName("dasharray");l.length>0&&(r.dashArray=l[0].textContent);var l=o[0].getElementsByTagName("dashoffset");l.length>0&&(r.dashOffset=l[0].textContent)}return this._merge_objs(r,e)},_dist2d:function(n,t){var e=6371e3,r=this._deg2rad(t.lat-n.lat),o=this._deg2rad(t.lng-n.lng),l=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this._deg2rad(n.lat))*Math.cos(this._deg2rad(t.lat))*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),d=e*c;return d},_dist3d:function(n,t){var e=this._dist2d(n,t),r=Math.abs(t.meta.ele-n.meta.ele);return Math.sqrt(Math.pow(e,2)+Math.pow(r,2))},_deg2rad:function(n){return n*Math.PI/180}});const u6=()=>{const n=q.useRef(null);return q.useEffect(()=>{n.current===null&&(n.current=Qn.map("map").setView([41.12,1.26],13),Qn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(n.current),new Qn.GPX("/gpx/murallas_romanas.gpx",{async:!0,polyline_options:{color:"blue",weight:4,opacity:.8},marker_options:{startIconUrl:"https://cdn-icons-png.flaticon.com/128/149/149059.png",endIconUrl:"https://cdn-icons-png.flaticon.com/128/149/149983.png",shadowUrl:""}}).on("loaded",function(t){n.current.fitBounds(t.target.getBounds())}).addTo(n.current))},[]),C.jsx("div",{id:"map",style:{width:"100%",height:"80vh"}})};function c6(){const n=[{id:1,nombre:"Anfiteatro",img:$V,descripcion:"Antiguo anfiteatro romano frente al mar."},{id:2,nombre:"Catedral",img:JV,descripcion:"Impresionante catedral gótica en el corazón de Tarragona."},{id:3,nombre:"Murallas",img:t6,descripcion:"Murallas romanas que protegían la antigua ciudad."},{id:4,nombre:"Plaça del Rei",img:e6,descripcion:"Plaza central con gran valor histórico."},{id:5,nombre:"Balcón Mediterráneo",img:n6,descripcion:"Mirador con vistas al mar Mediterráneo."}],[t,e]=q.useState(null),[r,o]=q.useState(null);return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"mapa-info-container",children:C.jsxs("div",{className:"info",children:[C.jsx("h1",{children:"Turismo en Tarragona"}),C.jsx("p",{children:"Bienvenido a nuestra plataforma de turismo inteligente en Tarragona. Aquí descubrirás las rutas culturales más importantes, información histórica y servicios útiles como restaurantes, zonas wifi, transporte y más."}),C.jsx("p",{children:"Nuestra misión es ayudarte a explorar los lugares emblemáticos de la ciudad con mapas interactivos, curiosidades culturales y recomendaciones personalizadas."}),C.jsxs("p",{children:[C.jsx("strong",{children:"Descripción:"})," Esta aplicación interactiva permite a los usuarios explorar el patrimonio histórico y cultural de Tarragona a través de una ruta guiada con imágenes, descripciones detalladas, mapas y horarios."]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Servicios:"})," Ofrecemos un tour turístico personalizado que se adapta al ritmo de cada persona. Disfruta de la historia, los secretos y rincones emblemáticos de Tarragona a tu manera."]})]})}),C.jsxs("div",{className:"mapa",children:[C.jsx("h2",{children:"RUTA HISTÓRICA ANTIGUO TARRACO"}),C.jsx(u6,{})]}),C.jsx("div",{className:"slider-wrapper",children:n.map((l,c)=>C.jsx("img",{src:l.img,alt:l.nombre,className:`slider-item ${t===c?"active":""}`,onMouseEnter:()=>e(c),onMouseLeave:()=>e(null),onClick:()=>o(l)},c))}),r&&C.jsxs("div",{className:"card-detalle",children:[C.jsx("div",{className:"card-imagen",children:C.jsx("img",{src:r.img,alt:r.nombre})}),C.jsxs("div",{className:"card-info",children:[C.jsx("h2",{children:r.nombre}),C.jsx("p",{children:r.descripcion}),C.jsxs("p",{children:[C.jsx("strong",{children:"Detalles:"})," Este sitio es uno de los puntos más destacados de la ruta turística por Tarragona. Ideal para visitas culturales, actividades al aire libre y vistas panorámicas."]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Horario:"})," 10:00 - 18:00 (todos los días)"]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Ubicación:"})," Tarragona centro histórico"]})]})]})]})}function by(n,t){const e=q.useRef(t);q.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}function h6(n,t,e){t.center!==e.center&&n.setLatLng(t.center),t.radius!=null&&t.radius!==e.radius&&n.setRadius(t.radius)}const gC=1;function _C(n){return Object.freeze({__version:gC,map:n})}function vC(n,t){return Object.freeze({...n,...t})}const Gm=q.createContext(null);function Jh(){const n=q.use(Gm);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Ty(n){function t(e,r){const{instance:o,context:l}=n(e).current;q.useImperativeHandle(r,()=>o);const{children:c}=e;return c==null?null:qu.createElement(Gm,{value:l},c)}return q.forwardRef(t)}function yC(n){function t(e,r){const[o,l]=q.useState(!1),{instance:c}=n(e,l).current;q.useImperativeHandle(r,()=>c),q.useEffect(function(){o&&c.update()},[c,o,e.children]);const d=c._contentNode;return d?uP.createPortal(e.children,d):null}return q.forwardRef(t)}function Ey(n){function t(e,r){const{instance:o}=n(e).current;return q.useImperativeHandle(r,()=>o),null}return q.forwardRef(t)}function bC(n){return function(e){const r=Jh(),o=n(e,r),{instance:l}=o.current,c=q.useRef(e.position),{position:d}=e;return q.useEffect(function(){return l.addTo(r.map),function(){l.remove()}},[r.map,l]),q.useEffect(function(){d!=null&&d!==c.current&&(l.setPosition(d),c.current=d)},[l,d]),o}}function Zm(n,t){const e=q.useRef(void 0);q.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function tf(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function TC(n,t){return function(r,o){const l=Jh(),c=n(tf(r,l),l);return by(l.map,r.attribution),Zm(c.current,r.eventHandlers),t(c.current,l,r,o),c}}function EC(n){return n.split(" ").filter(Boolean)}function wC(n,t){for(const e of EC(t))Bo.DomUtil.addClass(n,e)}function AC(n,t){for(const e of EC(t))Bo.DomUtil.removeClass(n,e)}function f6(n,t,e){n!=null&&e!==t&&(t!=null&&t.length>0&&AC(n,t),e!=null&&e.length>0&&wC(n,e))}function ef(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function lc(n,t){return t==null?function(r,o){const l=q.useRef(void 0);return l.current||(l.current=n(r,o)),l}:function(r,o){const l=q.useRef(void 0);l.current||(l.current=n(r,o));const c=q.useRef(r),{instance:d}=l.current;return q.useEffect(function(){c.current!==r&&(t(d,r,c.current),c.current=r)},[d,r,t]),l}}function wy(n,t){q.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function Ay(n){return function(e){const r=Jh(),o=n(tf(e,r),r);return by(r.map,e.attribution),Zm(o.current,e.eventHandlers),wy(o.current,r),o}}function SC(n,t){const e=q.useRef(void 0);q.useEffect(function(){if(t.pathOptions!==e.current){const o=t.pathOptions??{};n.instance.setStyle(o),e.current=o}},[n,t])}function xC(n){return function(e){const r=Jh(),o=n(tf(e,r),r);return Zm(o.current,e.eventHandlers),wy(o.current,r),SC(o.current,e),o}}function d6(n){function t(o,l){return ef(n(o),l)}const e=lc(t),r=bC(e);return Ey(r)}function CC(n,t){const e=lc(n,t),r=Ay(e);return Ty(r)}function RC(n,t){const e=lc(n),r=TC(e,t);return yC(r)}function m6(n,t){const e=lc(n,t),r=xC(e);return Ty(r)}function IC(n,t){const e=lc(n,t),r=Ay(e);return Ey(r)}function LC(n,t,e){const{opacity:r,zIndex:o}=t;r!=null&&r!==e.opacity&&n.setOpacity(r),o!=null&&o!==e.zIndex&&n.setZIndex(o)}function p6(n,t,e){t.bounds instanceof Bo.LatLngBounds&&t.bounds!==e.bounds&&n.setBounds(t.bounds),t.opacity!=null&&t.opacity!==e.opacity&&n.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==e.zIndex&&n.setZIndex(t.zIndex)}const g6=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:gC,LeafletContext:Gm,addClassName:wC,createContainerComponent:Ty,createControlComponent:d6,createControlHook:bC,createDivOverlayComponent:yC,createDivOverlayHook:TC,createElementHook:lc,createElementObject:ef,createLayerComponent:CC,createLayerHook:Ay,createLeafComponent:Ey,createLeafletContext:_C,createOverlayComponent:RC,createPathComponent:m6,createPathHook:xC,createTileLayerComponent:IC,extendContext:vC,removeClassName:AC,updateCircle:h6,updateClassName:f6,updateGridLayer:LC,updateMediaOverlay:p6,useAttribution:by,useEventHandlers:Zm,useLayerLifecycle:wy,useLeafletContext:Jh,usePathOptions:SC,withPane:tf},Symbol.toStringTag,{value:"Module"}));function _6({bounds:n,boundsOptions:t,center:e,children:r,className:o,id:l,placeholder:c,style:d,whenReady:g,zoom:v,...T},w){const[A]=q.useState({className:o,id:l,style:d}),[I,k]=q.useState(null),N=q.useRef(void 0);q.useImperativeHandle(w,()=>I?.map??null,[I]);const V=q.useCallback(tt=>{if(tt!==null&&!N.current){const nt=new Bo.Map(tt,T);N.current=nt,e!=null&&v!=null?nt.setView(e,v):n!=null&&nt.fitBounds(n,t),g!=null&&nt.whenReady(g),k(_C(nt))}},[]);q.useEffect(()=>()=>{I?.map.remove()},[I]);const j=I?qu.createElement(Gm,{value:I},r):c??null;return qu.createElement("div",{...A,ref:V},j)}const v6=q.forwardRef(_6),y6=CC(function({position:t,...e},r){const o=new Bo.Marker(t,e);return ef(o,vC(r,{overlayContainer:o}))},function(t,e,r){e.position!==r.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),b6=RC(function(t,e){const r=new Bo.Popup(t,e.overlayContainer);return ef(r,e)},function(t,e,{position:r},o){q.useEffect(function(){const{instance:c}=t;function d(v){v.popup===c&&(c.update(),o(!0))}function g(v){v.popup===c&&o(!1)}return e.map.on({popupopen:d,popupclose:g}),e.overlayContainer==null?(r!=null&&c.setLatLng(r),c.openOn(e.map)):e.overlayContainer.bindPopup(c),function(){e.map.off({popupopen:d,popupclose:g}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(c)}},[t,e,o,r])}),T6=IC(function({url:t,...e},r){const o=new Bo.TileLayer(t,tf(e,r));return ef(o,r)},function(t,e,r){LC(t,e,r);const{url:o}=e;o!=null&&o!==r.url&&t.setUrl(o)});var us={};const E6=am(g6);var ch={exports:{}},w6=ch.exports,Mw;function A6(){return Mw||(Mw=1,function(n,t){(function(e,r){r(t)})(w6,function(e){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(l){L.Util.setOptions(this,l),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var c=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,c?this._withAnimation:this._noAnimation),this._markerCluster=c?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(l){if(l instanceof L.LayerGroup)return this.addLayers([l]);if(!l.getLatLng)return this._nonPointGroup.addLayer(l),this.fire("layeradd",{layer:l}),this;if(!this._map)return this._needsClustering.push(l),this.fire("layeradd",{layer:l}),this;if(this.hasLayer(l))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(l,this._maxZoom),this.fire("layeradd",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var c=l,d=this._zoom;if(l.__parent)for(;c.__parent._zoom>=d;)c=c.__parent;return this._currentShownBounds.contains(c.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(l,c):this._animationAddLayerNonAnimated(l,c)),this},removeLayer:function(l){return l instanceof L.LayerGroup?this.removeLayers([l]):l.getLatLng?this._map?l.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(l)),this._removeLayer(l,!0),this.fire("layerremove",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),l.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(l)&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,l)&&this.hasLayer(l)&&this._needsRemoving.push({layer:l,latlng:l._latlng}),this.fire("layerremove",{layer:l}),this):(this._nonPointGroup.removeLayer(l),this.fire("layerremove",{layer:l}),this)},addLayers:function(l,c){if(!L.Util.isArray(l))return this.addLayer(l);var d=this._featureGroup,g=this._nonPointGroup,v=this.options.chunkedLoading,T=this.options.chunkInterval,w=this.options.chunkProgress,A=l.length,I=0,k=!0,N;if(this._map){var V=new Date().getTime(),j=L.bind(function(){var nt=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();I<A;I++){if(v&&I%200===0){var ct=new Date().getTime()-nt;if(ct>T)break}if(N=l[I],N instanceof L.LayerGroup){k&&(l=l.slice(),k=!1),this._extractNonGroupLayers(N,l),A=l.length;continue}if(!N.getLatLng){g.addLayer(N),c||this.fire("layeradd",{layer:N});continue}if(!this.hasLayer(N)&&(this._addLayer(N,this._maxZoom),c||this.fire("layeradd",{layer:N}),N.__parent&&N.__parent.getChildCount()===2)){var dt=N.__parent.getAllChildMarkers(),It=dt[0]===N?dt[1]:dt[0];d.removeLayer(It)}}w&&w(I,A,new Date().getTime()-V),I===A?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(j,this.options.chunkDelay)},this);j()}else for(var tt=this._needsClustering;I<A;I++){if(N=l[I],N instanceof L.LayerGroup){k&&(l=l.slice(),k=!1),this._extractNonGroupLayers(N,l),A=l.length;continue}if(!N.getLatLng){g.addLayer(N);continue}this.hasLayer(N)||tt.push(N)}return this},removeLayers:function(l){var c,d,g=l.length,v=this._featureGroup,T=this._nonPointGroup,w=!0;if(!this._map){for(c=0;c<g;c++){if(d=l[c],d instanceof L.LayerGroup){w&&(l=l.slice(),w=!1),this._extractNonGroupLayers(d,l),g=l.length;continue}this._arraySplice(this._needsClustering,d),T.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var A=l.slice(),I=g;for(c=0;c<I;c++){if(d=A[c],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,A),I=A.length;continue}this._unspiderfyLayer(d)}}for(c=0;c<g;c++){if(d=l[c],d instanceof L.LayerGroup){w&&(l=l.slice(),w=!1),this._extractNonGroupLayers(d,l),g=l.length;continue}if(!d.__parent){T.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),v.hasLayer(d)&&(v.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(l){l.off(this._childMarkerEventHandlers,this),delete l.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var l=new L.LatLngBounds;this._topClusterLevel&&l.extend(this._topClusterLevel._bounds);for(var c=this._needsClustering.length-1;c>=0;c--)l.extend(this._needsClustering[c].getLatLng());return l.extend(this._nonPointGroup.getBounds()),l},eachLayer:function(l,c){var d=this._needsClustering.slice(),g=this._needsRemoving,v,T,w;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),T=d.length-1;T>=0;T--){for(v=!0,w=g.length-1;w>=0;w--)if(g[w].layer===d[T]){v=!1;break}v&&l.call(c,d[T])}this._nonPointGroup.eachLayer(l,c)},getLayers:function(){var l=[];return this.eachLayer(function(c){l.push(c)}),l},getLayer:function(l){var c=null;return l=parseInt(l,10),this.eachLayer(function(d){L.stamp(d)===l&&(c=d)}),c},hasLayer:function(l){if(!l)return!1;var c,d=this._needsClustering;for(c=d.length-1;c>=0;c--)if(d[c]===l)return!0;for(d=this._needsRemoving,c=d.length-1;c>=0;c--)if(d[c].layer===l)return!1;return!!(l.__parent&&l.__parent._group===this)||this._nonPointGroup.hasLayer(l)},zoomToShowLayer:function(l,c){var d=this._map;typeof c!="function"&&(c=function(){});var g=function(){(d.hasLayer(l)||d.hasLayer(l.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",g,this),this.off("animationend",g,this),d.hasLayer(l)?c():l.__parent._icon&&(this.once("spiderfied",c,this),l.__parent.spiderfy()))};l._icon&&this._map.getBounds().contains(l.getLatLng())?c():l.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",g,this),this._map.panTo(l.getLatLng())):(this._map.on("moveend",g,this),this.on("animationend",g,this),l.__parent.zoomToBounds())},onAdd:function(l){this._map=l;var c,d,g;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(l),this._nonPointGroup.addTo(l),this._gridClusters||this._generateInitialClusters(),this._maxLat=l.options.crs.projection.MAX_LATITUDE,c=0,d=this._needsRemoving.length;c<d;c++)g=this._needsRemoving[c],g.newlatlng=g.layer._latlng,g.layer._latlng=g.latlng;for(c=0,d=this._needsRemoving.length;c<d;c++)g=this._needsRemoving[c],this._removeLayer(g.layer,!0),g.layer._latlng=g.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(l){l.off("zoomend",this._zoomEnd,this),l.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(l){for(var c=l;c&&!c._icon;)c=c.__parent;return c||null},_arraySplice:function(l,c){for(var d=l.length-1;d>=0;d--)if(l[d]===c)return l.splice(d,1),!0},_removeFromGridUnclustered:function(l,c){for(var d=this._map,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());c>=v&&g[c].removeObject(l,d.project(l.getLatLng(),c));c--);},_childMarkerDragStart:function(l){l.target.__dragStart=l.target._latlng},_childMarkerMoved:function(l){if(!this._ignoreMove&&!l.target.__dragStart){var c=l.target._popup&&l.target._popup.isOpen();this._moveChild(l.target,l.oldLatLng,l.latlng),c&&l.target.openPopup()}},_moveChild:function(l,c,d){l._latlng=c,this.removeLayer(l),l._latlng=d,this.addLayer(l)},_childMarkerDragEnd:function(l){var c=l.target.__dragStart;delete l.target.__dragStart,c&&this._moveChild(l.target,c,l.target._latlng)},_removeLayer:function(l,c,d){var g=this._gridClusters,v=this._gridUnclustered,T=this._featureGroup,w=this._map,A=Math.floor(this._map.getMinZoom());c&&this._removeFromGridUnclustered(l,this._maxZoom);var I=l.__parent,k=I._markers,N;for(this._arraySplice(k,l);I&&(I._childCount--,I._boundsNeedUpdate=!0,!(I._zoom<A));)c&&I._childCount<=1?(N=I._markers[0]===l?I._markers[1]:I._markers[0],g[I._zoom].removeObject(I,w.project(I._cLatLng,I._zoom)),v[I._zoom].addObject(N,w.project(N.getLatLng(),I._zoom)),this._arraySplice(I.__parent._childClusters,I),I.__parent._markers.push(N),N.__parent=I.__parent,I._icon&&(T.removeLayer(I),d||T.addLayer(N))):I._iconNeedsUpdate=!0,I=I.__parent;delete l.__parent},_isOrIsParent:function(l,c){for(;c;){if(l===c)return!0;c=c.parentNode}return!1},fire:function(l,c,d){if(c&&c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget))return;l="cluster"+l}L.FeatureGroup.prototype.fire.call(this,l,c,d)},listens:function(l,c){return L.FeatureGroup.prototype.listens.call(this,l,c)||L.FeatureGroup.prototype.listens.call(this,"cluster"+l,c)},_defaultIconCreateFunction:function(l){var c=l.getChildCount(),d=" marker-cluster-";return c<10?d+="small":c<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+c+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var l=this._map,c=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,g=this.options.zoomToBoundsOnClick,v=this.options.spiderfyOnEveryZoom;(c||g||v)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),l.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(l){var c=l.layer,d=c;if(!(l.type==="clusterkeypress"&&l.originalEvent&&l.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===c._childCount&&this.options.spiderfyOnMaxZoom?c.spiderfy():this.options.zoomToBoundsOnClick&&c.zoomToBounds(),this.options.spiderfyOnEveryZoom&&c.spiderfy(),l.originalEvent&&l.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(l){var c=this._map;this._inZoomAnimation||(this._shownPolygon&&c.removeLayer(this._shownPolygon),l.layer.getChildCount()>2&&l.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(l.layer.getConvexHull(),this.options.polygonOptions),c.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var l=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom,v=this._map;(l||d||g)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),v.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var l=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),l),this._currentShownBounds=l}},_generateInitialClusters:function(){var l=Math.ceil(this._map.getMaxZoom()),c=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,g=d;typeof d!="function"&&(g=function(){return d}),this.options.disableClusteringAtZoom!==null&&(l=this.options.disableClusteringAtZoom-1),this._maxZoom=l,this._gridClusters={},this._gridUnclustered={};for(var v=l;v>=c;v--)this._gridClusters[v]=new L.DistanceGrid(g(v)),this._gridUnclustered[v]=new L.DistanceGrid(g(v));this._topClusterLevel=new this._markerCluster(this,c-1)},_addLayer:function(l,c){var d=this._gridClusters,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom()),T,w;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(l),l.on(this._childMarkerEventHandlers,this);c>=v;c--){T=this._map.project(l.getLatLng(),c);var A=d[c].getNearObject(T);if(A){A._addChild(l),l.__parent=A;return}if(A=g[c].getNearObject(T),A){var I=A.__parent;I&&this._removeLayer(A,!1);var k=new this._markerCluster(this,c,A,l);d[c].addObject(k,this._map.project(k._cLatLng,c)),A.__parent=k,l.__parent=k;var N=k;for(w=c-1;w>I._zoom;w--)N=new this._markerCluster(this,w,N),d[w].addObject(N,this._map.project(A.getLatLng(),w));I._addChild(N),this._removeFromGridUnclustered(A,c);return}g[c].addObject(l,T)}this._topClusterLevel._addChild(l),l.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(l){l instanceof L.MarkerCluster&&l._iconNeedsUpdate&&l._updateIcon()})},_enqueue:function(l){this._queue.push(l),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var l=0;l<this._queue.length;l++)this._queue[l].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var l=Math.round(this._map._zoom);this._processQueue(),this._zoom<l&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,l)):this._zoom>l?(this._animationStart(),this._animationZoomOut(this._zoom,l)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(l){var c=this._maxLat;return c!==void 0&&(l.getNorth()>=c&&(l._northEast.lat=1/0),l.getSouth()<=-c&&(l._southWest.lat=-1/0)),l},_animationAddLayerNonAnimated:function(l,c){if(c===l)this._featureGroup.addLayer(l);else if(c._childCount===2){c._addToMap();var d=c.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else c._updateIcon()},_extractNonGroupLayers:function(l,c){var d=l.getLayers(),g=0,v;for(c=c||[];g<d.length;g++){if(v=d[g],v instanceof L.LayerGroup){this._extractNonGroupLayers(v,c);continue}c.push(v)}return c},_overrideMarkerIcon:function(l){var c=l.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[l]}});return c}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(l,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(l,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(l,c){this._animationAddLayerNonAnimated(l,c)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(l,c){var d=this._getExpandedVisibleBounds(),g=this._featureGroup,v=Math.floor(this._map.getMinZoom()),T;this._ignoreMove=!0,this._topClusterLevel._recursively(d,l,v,function(w){var A=w._latlng,I=w._markers,k;for(d.contains(A)||(A=null),w._isSingleParent()&&l+1===c?(g.removeLayer(w),w._recursivelyAddChildrenToMap(null,c,d)):(w.clusterHide(),w._recursivelyAddChildrenToMap(A,c,d)),T=I.length-1;T>=0;T--)k=I[T],d.contains(k._latlng)||g.removeLayer(k)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,c),g.eachLayer(function(w){!(w instanceof L.MarkerCluster)&&w._icon&&w.clusterShow()}),this._topClusterLevel._recursively(d,l,c,function(w){w._recursivelyRestoreChildPositions(c)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,l,v,function(w){g.removeLayer(w),w.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(l,c){this._animationZoomOutSingle(this._topClusterLevel,l-1,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l,this._getExpandedVisibleBounds())},_animationAddLayer:function(l,c){var d=this,g=this._featureGroup;g.addLayer(l),c!==l&&(c._childCount>2?(c._updateIcon(),this._forceLayout(),this._animationStart(),l._setPos(this._map.latLngToLayerPoint(c.getLatLng())),l.clusterHide(),this._enqueue(function(){g.removeLayer(l),l.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(c,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(l,c,d){var g=this._getExpandedVisibleBounds(),v=Math.floor(this._map.getMinZoom());l._recursivelyAnimateChildrenInAndAddSelfToMap(g,v,c+1,d);var T=this;this._forceLayout(),l._recursivelyBecomeVisible(g,d),this._enqueue(function(){if(l._childCount===1){var w=l._markers[0];this._ignoreMove=!0,w.setLatLng(w.getLatLng()),this._ignoreMove=!1,w.clusterShow&&w.clusterShow()}else l._recursively(g,d,v,function(A){A._recursivelyRemoveChildrenFromMap(g,v,c+1)});T._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(l){return new L.MarkerClusterGroup(l)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(l,c,d,g){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:l.options.clusterPane}),this._group=l,this._zoom=c,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),g&&this._addChild(g)},getAllChildMarkers:function(l,c){l=l||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(l,c);for(var g=this._markers.length-1;g>=0;g--)c&&this._markers[g].__dragStart||l.push(this._markers[g]);return l},getChildCount:function(){return this._childCount},zoomToBounds:function(l){for(var c=this._childClusters.slice(),d=this._group._map,g=d.getBoundsZoom(this._bounds),v=this._zoom+1,T=d.getZoom(),w;c.length>0&&g>v;){v++;var A=[];for(w=0;w<c.length;w++)A=A.concat(c[w]._childClusters);c=A}g>v?this._group._map.setView(this._latlng,v):g<=T?this._group._map.setView(this._latlng,T+1):this._group._map.fitBounds(this._bounds,l)},getBounds:function(){var l=new L.LatLngBounds;return l.extend(this._bounds),l},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(l,c){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(l),l instanceof L.MarkerCluster?(c||(this._childClusters.push(l),l.__parent=this),this._childCount+=l._childCount):(c||this._markers.push(l),this._childCount++),this.__parent&&this.__parent._addChild(l,!0)},_setClusterCenter:function(l){this._cLatLng||(this._cLatLng=l._cLatLng||l._latlng)},_resetBounds:function(){var l=this._bounds;l._southWest&&(l._southWest.lat=1/0,l._southWest.lng=1/0),l._northEast&&(l._northEast.lat=-1/0,l._northEast.lng=-1/0)},_recalculateBounds:function(){var l=this._markers,c=this._childClusters,d=0,g=0,v=this._childCount,T,w,A,I;if(v!==0){for(this._resetBounds(),T=0;T<l.length;T++)A=l[T]._latlng,this._bounds.extend(A),d+=A.lat,g+=A.lng;for(T=0;T<c.length;T++)w=c[T],w._boundsNeedUpdate&&w._recalculateBounds(),this._bounds.extend(w._bounds),A=w._wLatLng,I=w._childCount,d+=A.lat*I,g+=A.lng*I;this._latlng=this._wLatLng=new L.LatLng(d/v,g/v),this._boundsNeedUpdate=!1}},_addToMap:function(l){l&&(this._backupLatlng=this._latlng,this.setLatLng(l)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(l,c,d){this._recursively(l,this._group._map.getMinZoom(),d-1,function(g){var v=g._markers,T,w;for(T=v.length-1;T>=0;T--)w=v[T],w._icon&&(w._setPos(c),w.clusterHide())},function(g){var v=g._childClusters,T,w;for(T=v.length-1;T>=0;T--)w=v[T],w._icon&&(w._setPos(c),w.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(l,c,d,g){this._recursively(l,g,c,function(v){v._recursivelyAnimateChildrenIn(l,v._group._map.latLngToLayerPoint(v.getLatLng()).round(),d),v._isSingleParent()&&d-1===g?(v.clusterShow(),v._recursivelyRemoveChildrenFromMap(l,c,d)):v.clusterHide(),v._addToMap()})},_recursivelyBecomeVisible:function(l,c){this._recursively(l,this._group._map.getMinZoom(),c,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(l,c,d){this._recursively(d,this._group._map.getMinZoom()-1,c,function(g){if(c!==g._zoom)for(var v=g._markers.length-1;v>=0;v--){var T=g._markers[v];d.contains(T._latlng)&&(l&&(T._backupLatlng=T.getLatLng(),T.setLatLng(l),T.clusterHide&&T.clusterHide()),g._group._featureGroup.addLayer(T))}},function(g){g._addToMap(l)})},_recursivelyRestoreChildPositions:function(l){for(var c=this._markers.length-1;c>=0;c--){var d=this._markers[c];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(l-1===this._zoom)for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._restorePosition();else for(var v=this._childClusters.length-1;v>=0;v--)this._childClusters[v]._recursivelyRestoreChildPositions(l)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(l,c,d,g){var v,T;this._recursively(l,c-1,d-1,function(w){for(T=w._markers.length-1;T>=0;T--)v=w._markers[T],(!g||!g.contains(v._latlng))&&(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())},function(w){for(T=w._childClusters.length-1;T>=0;T--)v=w._childClusters[T],(!g||!g.contains(v._latlng))&&(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())})},_recursively:function(l,c,d,g,v){var T=this._childClusters,w=this._zoom,A,I;if(c<=w&&(g&&g(this),v&&w===d&&v(this)),w<c||w<d)for(A=T.length-1;A>=0;A--)I=T[A],I._boundsNeedUpdate&&I._recalculateBounds(),l.intersects(I._bounds)&&I._recursively(l,c,d,g,v)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var l=this.options.opacity;return this.setOpacity(0),this.options.opacity=l,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(l){this._cellSize=l,this._sqCellSize=l*l,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(l,c){var d=this._getCoord(c.x),g=this._getCoord(c.y),v=this._grid,T=v[g]=v[g]||{},w=T[d]=T[d]||[],A=L.Util.stamp(l);this._objectPoint[A]=c,w.push(l)},updateObject:function(l,c){this.removeObject(l),this.addObject(l,c)},removeObject:function(l,c){var d=this._getCoord(c.x),g=this._getCoord(c.y),v=this._grid,T=v[g]=v[g]||{},w=T[d]=T[d]||[],A,I;for(delete this._objectPoint[L.Util.stamp(l)],A=0,I=w.length;A<I;A++)if(w[A]===l)return w.splice(A,1),I===1&&delete T[d],!0},eachObject:function(l,c){var d,g,v,T,w,A,I,k=this._grid;for(d in k){w=k[d];for(g in w)for(A=w[g],v=0,T=A.length;v<T;v++)I=l.call(c,A[v]),I&&(v--,T--)}},getNearObject:function(l){var c=this._getCoord(l.x),d=this._getCoord(l.y),g,v,T,w,A,I,k,N,V=this._objectPoint,j=this._sqCellSize,tt=null;for(g=d-1;g<=d+1;g++)if(w=this._grid[g],w){for(v=c-1;v<=c+1;v++)if(A=w[v],A)for(T=0,I=A.length;T<I;T++)k=A[T],N=this._sqDist(V[L.Util.stamp(k)],l),(N<j||N<=j&&tt===null)&&(j=N,tt=k)}return tt},_getCoord:function(l){var c=Math.floor(l/this._cellSize);return isFinite(c)?c:l},_sqDist:function(l,c){var d=c.x-l.x,g=c.y-l.y;return d*d+g*g}},function(){L.QuickHull={getDistant:function(l,c){var d=c[1].lat-c[0].lat,g=c[0].lng-c[1].lng;return g*(l.lat-c[0].lat)+d*(l.lng-c[0].lng)},findMostDistantPointFromBaseLine:function(l,c){var d=0,g=null,v=[],T,w,A;for(T=c.length-1;T>=0;T--){if(w=c[T],A=this.getDistant(w,l),A>0)v.push(w);else continue;A>d&&(d=A,g=w)}return{maxPoint:g,newPoints:v}},buildConvexHull:function(l,c){var d=[],g=this.findMostDistantPointFromBaseLine(l,c);return g.maxPoint?(d=d.concat(this.buildConvexHull([l[0],g.maxPoint],g.newPoints)),d=d.concat(this.buildConvexHull([g.maxPoint,l[1]],g.newPoints)),d):[l[0]]},getConvexHull:function(l){var c=!1,d=!1,g=!1,v=!1,T=null,w=null,A=null,I=null,k=null,N=null,V;for(V=l.length-1;V>=0;V--){var j=l[V];(c===!1||j.lat>c)&&(T=j,c=j.lat),(d===!1||j.lat<d)&&(w=j,d=j.lat),(g===!1||j.lng>g)&&(A=j,g=j.lng),(v===!1||j.lng<v)&&(I=j,v=j.lng)}d!==c?(N=w,k=T):(N=I,k=A);var tt=[].concat(this.buildConvexHull([N,k],l),this.buildConvexHull([k,N],l));return tt}}}(),L.MarkerCluster.include({getConvexHull:function(){var l=this.getAllChildMarkers(),c=[],d,g;for(g=l.length-1;g>=0;g--)d=l[g].getLatLng(),c.push(d);return L.QuickHull.getConvexHull(c)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var l=this.getAllChildMarkers(null,!0),c=this._group,d=c._map,g=d.latLngToLayerPoint(this._latlng),v;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?v=this._group.options.spiderfyShapePositions(l.length,g):l.length>=this._circleSpiralSwitchover?v=this._generatePointsSpiral(l.length,g):(g.y+=10,v=this._generatePointsCircle(l.length,g)),this._animationSpiderfy(l,v)}},unspiderfy:function(l){this._group._inZoomAnimation||(this._animationUnspiderfy(l),this._group._spiderfied=null)},_generatePointsCircle:function(l,c){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+l),g=d/this._2PI,v=this._2PI/l,T=[],w,A;for(g=Math.max(g,35),T.length=l,w=0;w<l;w++)A=this._circleStartAngle+w*v,T[w]=new L.Point(c.x+g*Math.cos(A),c.y+g*Math.sin(A))._round();return T},_generatePointsSpiral:function(l,c){var d=this._group.options.spiderfyDistanceMultiplier,g=d*this._spiralLengthStart,v=d*this._spiralFootSeparation,T=d*this._spiralLengthFactor*this._2PI,w=0,A=[],I;for(A.length=l,I=l;I>=0;I--)I<l&&(A[I]=new L.Point(c.x+g*Math.cos(w),c.y+g*Math.sin(w))._round()),w+=v/g+I*5e-4,g+=T/w;return A},_noanimationUnspiderfy:function(){var l=this._group,c=l._map,d=l._featureGroup,g=this.getAllChildMarkers(null,!0),v,T;for(l._ignoreMove=!0,this.setOpacity(1),T=g.length-1;T>=0;T--)v=g[T],d.removeLayer(v),v._preSpiderfyLatlng&&(v.setLatLng(v._preSpiderfyLatlng),delete v._preSpiderfyLatlng),v.setZIndexOffset&&v.setZIndexOffset(0),v._spiderLeg&&(c.removeLayer(v._spiderLeg),delete v._spiderLeg);l.fire("unspiderfied",{cluster:this,markers:g}),l._ignoreMove=!1,l._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(l,c){var d=this._group,g=d._map,v=d._featureGroup,T=this._group.options.spiderLegPolylineOptions,w,A,I,k;for(d._ignoreMove=!0,w=0;w<l.length;w++)k=g.layerPointToLatLng(c[w]),A=l[w],I=new L.Polyline([this._latlng,k],T),g.addLayer(I),A._spiderLeg=I,A._preSpiderfyLatlng=A._latlng,A.setLatLng(k),A.setZIndexOffset&&A.setZIndexOffset(1e6),v.addLayer(A);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:l})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(l,c){var d=this,g=this._group,v=g._map,T=g._featureGroup,w=this._latlng,A=v.latLngToLayerPoint(w),I=L.Path.SVG,k=L.extend({},this._group.options.spiderLegPolylineOptions),N=k.opacity,V,j,tt,nt,ct,dt;for(N===void 0&&(N=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),I?(k.opacity=0,k.className=(k.className||"")+" leaflet-cluster-spider-leg"):k.opacity=N,g._ignoreMove=!0,V=0;V<l.length;V++)j=l[V],dt=v.layerPointToLatLng(c[V]),tt=new L.Polyline([w,dt],k),v.addLayer(tt),j._spiderLeg=tt,I&&(nt=tt._path,ct=nt.getTotalLength()+.1,nt.style.strokeDasharray=ct,nt.style.strokeDashoffset=ct),j.setZIndexOffset&&j.setZIndexOffset(1e6),j.clusterHide&&j.clusterHide(),T.addLayer(j),j._setPos&&j._setPos(A);for(g._forceLayout(),g._animationStart(),V=l.length-1;V>=0;V--)dt=v.layerPointToLatLng(c[V]),j=l[V],j._preSpiderfyLatlng=j._latlng,j.setLatLng(dt),j.clusterShow&&j.clusterShow(),I&&(tt=j._spiderLeg,nt=tt._path,nt.style.strokeDashoffset=0,tt.setStyle({opacity:N}));this.setOpacity(.3),g._ignoreMove=!1,setTimeout(function(){g._animationEnd(),g.fire("spiderfied",{cluster:d,markers:l})},200)},_animationUnspiderfy:function(l){var c=this,d=this._group,g=d._map,v=d._featureGroup,T=l?g._latLngToNewLayerPoint(this._latlng,l.zoom,l.center):g.latLngToLayerPoint(this._latlng),w=this.getAllChildMarkers(null,!0),A=L.Path.SVG,I,k,N,V,j,tt;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),k=w.length-1;k>=0;k--)I=w[k],I._preSpiderfyLatlng&&(I.closePopup(),I.setLatLng(I._preSpiderfyLatlng),delete I._preSpiderfyLatlng,tt=!0,I._setPos&&(I._setPos(T),tt=!1),I.clusterHide&&(I.clusterHide(),tt=!1),tt&&v.removeLayer(I),A&&(N=I._spiderLeg,V=N._path,j=V.getTotalLength()+.1,V.style.strokeDashoffset=j,N.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var nt=0;for(k=w.length-1;k>=0;k--)I=w[k],I._spiderLeg&&nt++;for(k=w.length-1;k>=0;k--)I=w[k],I._spiderLeg&&(I.clusterShow&&I.clusterShow(),I.setZIndexOffset&&I.setZIndexOffset(0),nt>1&&v.removeLayer(I),g.removeLayer(I._spiderLeg),delete I._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:c,markers:w})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(l){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(l))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(l){this._spiderfied&&this._spiderfied.unspiderfy(l)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(l){l._spiderLeg&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow(),l.setZIndexOffset&&l.setZIndexOffset(0),this._map.removeLayer(l._spiderLeg),delete l._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(l){return l?l instanceof L.MarkerClusterGroup?l=l._topClusterLevel.getAllChildMarkers():l instanceof L.LayerGroup?l=l._layers:l instanceof L.MarkerCluster?l=l.getAllChildMarkers():l instanceof L.Marker&&(l=[l]):l=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(l),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(l),this},_flagParentsIconsNeedUpdate:function(l){var c,d;for(c in l)for(d=l[c].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(l){var c,d;for(c in l)d=l[c],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(l,c){var d=this.options.icon;return L.setOptions(d,l),this.setIcon(d),c&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=r,e.MarkerCluster=o,Object.defineProperty(e,"__esModule",{value:!0})})}(ch,ch.exports)),ch.exports}const S6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",x6=Object.freeze(Object.defineProperty({__proto__:null,default:S6},Symbol.toStringTag,{value:"Module"})),C6=am(x6),R6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",I6=Object.freeze(Object.defineProperty({__proto__:null,default:R6},Symbol.toStringTag,{value:"Module"})),L6=am(I6),P6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",O6=Object.freeze(Object.defineProperty({__proto__:null,default:P6},Symbol.toStringTag,{value:"Module"})),M6=am(O6);var kw;function k6(){if(kw)return us;kw=1;var n=us&&us.__assign||function(){return n=Object.assign||function(v){for(var T,w=1,A=arguments.length;w<A;w++){T=arguments[w];for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(v[I]=T[I])}return v},n.apply(this,arguments)},t=us&&us.__rest||function(v,T){var w={};for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&T.indexOf(A)<0&&(w[A]=v[A]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,A=Object.getOwnPropertySymbols(v);I<A.length;I++)T.indexOf(A[I])<0&&Object.prototype.propertyIsEnumerable.call(v,A[I])&&(w[A[I]]=v[A[I]]);return w},e=us&&us.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(us,"__esModule",{value:!0});var r=E6,o=e(fC());A6(),delete o.default.Icon.Default.prototype._getIconUrl,o.default.Icon.Default.mergeOptions({iconRetinaUrl:C6.default,iconUrl:L6.default,shadowUrl:M6.default});function l(v){var T={},w={};v.children;var A=t(v,["children"]);return Object.entries(A).forEach(function(I){var k,N,V=I[0],j=I[1];V.startsWith("on")?w=n(n({},w),(k={},k[V]=j,k)):T=n(n({},T),(N={},N[V]=j,N))}),{clusterProps:T,clusterEvents:w}}function c(v,T){var w=l(v),A=w.clusterProps,I=w.clusterEvents,k=new o.default.MarkerClusterGroup(A);return Object.entries(I).forEach(function(N){var V=N[0],j=N[1],tt="cluster".concat(V.substring(2).toLowerCase());k.on(tt,j)}),(0,r.createElementObject)(k,(0,r.extendContext)(T,{layerContainer:k}))}var d=function(v,T,w){},g=(0,r.createPathComponent)(c,d);return us.default=g,us}var N6=k6();const D6=kh(N6),V6={cafeterias:new Qn.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/922/922699.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),hoteles:new Qn.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/139/139899.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),bares:new Qn.Icon({iconUrl:"https://images.icon-icons.com/3015/PNG/512/beer_drink_glass_jar_icon_188550.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),puntosDeInteres:new Qn.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/2651/2651172.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Casino:new Qn.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/5971/5971903.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},U6=()=>{const[n,t]=q.useState([]),[e,r]=q.useState({cafeterias:!0,hoteles:!0,bares:!0,puntosDeInteres:!0,Casino:!0});return q.useEffect(()=>{(async()=>{const l=["cafeterias","hoteles","bares","puntosDeInteres","Casino"],c=[];for(const d of l)(await Xh(yr(Pe,d))).forEach(v=>{const T=v.data();c.push({tipo:d,nombre:T.nombre,descripcion:T.descripcion,coordenadas:[T.coordenadas.latitude,T.coordenadas.longitude]})});t(c)})()},[]),C.jsxs("div",{children:[C.jsxs("div",{style:{padding:"10px"},children:[C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",checked:e.cafeterias,onChange:()=>r(o=>({...o,cafeterias:!o.cafeterias}))}),"Cafeterías"]})," ",C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",checked:e.hoteles,onChange:()=>r(o=>({...o,hoteles:!o.hoteles}))}),"Hoteles"]})," ",C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",checked:e.bares,onChange:()=>r(o=>({...o,bares:!o.bares}))}),"Bares"]})," ",C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",checked:e.puntosDeInteres,onChange:()=>r(o=>({...o,puntosDeInteres:!o.puntosDeInteres}))}),"Puntos de Interés"]})," ",C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",checked:e.Casino,onChange:()=>r(o=>({...o,Casino:!o.Casino}))}),"Casino"]})]}),C.jsx("div",{style:{height:"90vh",width:"100%"},children:C.jsxs(v6,{center:[41.1167,1.2554],zoom:15,style:{height:"100%",width:"100%"},children:[C.jsx(T6,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors & CartoDB'}),C.jsx(D6,{maxClusterRadius:20,disableClusteringAtZoom:20,children:n.filter(o=>e[o.tipo]).map((o,l)=>C.jsx(y6,{position:o.coordenadas,icon:V6[o.tipo],children:C.jsxs(b6,{children:[C.jsx("strong",{children:o.nombre}),C.jsx("br",{}),o.descripcion]})},l))})]})})]})},z6="/assets/hoguera-C4cSztnH.jpg",j6="/assets/fuegos-BRmC_ynj.jpg",B6="/assets/tarraco-viva-CE0-9Kaa.jpg",F6="/assets/castells-7kkV_S9q.jpg",H6="/assets/Campdemart-DbQIABnj.jpg",q6="/assets/santmagi-YIPtOVx8.jpg",G6="/assets/dixieland-CKeBttQk.jpg",Z6="/assets/TarraTangueando-RITrakZK.jpg",Y6="/assets/SantaTecla-CPY7UEH0.jpg",K6="/assets/URSI-Dzv889S0.jpg",W6=[{mes:"Junio",eventos:[{titulo:"Castells semanales",descripcion:"Exhibiciones tradicionales de torres humanas.",imagen:F6},{titulo:"Nit de Sant Joan",descripcion:"Celebración con hogueras, música y fuegos artificiales.",imagen:z6}]},{mes:"Julio",eventos:[{titulo:"Concurso de Fuegos Artificiales",descripcion:"Competencia pirotécnica en la playa.",imagen:j6},{titulo:"Festival Camp de Mart",descripcion:"Festival cultural con música y teatro al aire libre.",imagen:H6}]},{mes:"Agosto",eventos:[{titulo:"Sant Magí",descripcion:"Fiestas patronales con procesiones y conciertos.",imagen:q6},{titulo:"Dixieland",descripcion:"Festival de jazz tradicional.",imagen:G6},{titulo:"TarraTangueando",descripcion:"Encuentro de tango con talleres y espectáculos.",imagen:Z6}]},{mes:"Septiembre",eventos:[{titulo:"Santa Tecla",descripcion:"Gran fiesta mayor con actos tradicionales y fuegos.",imagen:Y6},{titulo:"URSI",descripcion:"Encuentro artístico urbano con intervenciones creativas.",imagen:K6},{titulo:"Espectáculos en el Palau & cultura científica",descripcion:"Eventos culturales y divulgación científica.",imagen:B6}]}];function X6(){return C.jsxs("div",{className:"eventos-container",children:[C.jsx("h1",{children:"Eventos mensuales en Tarragona"}),W6.map((n,t)=>C.jsxs("div",{children:[C.jsx("h2",{children:n.mes}),C.jsx("div",{className:"evento-grid",children:n.eventos.map((e,r)=>e.imagen?C.jsxs(Le,{to:`/eventos/${encodeURIComponent(e.titulo)}`,className:"evento-card",style:{textDecoration:"none",color:"inherit"},children:[C.jsx("img",{src:e.imagen,alt:e.titulo}),C.jsxs("div",{className:"evento-info",children:[C.jsx("h3",{children:e.titulo}),C.jsx("p",{children:e.descripcion})]})]},r):C.jsx("div",{className:"evento-card evento-sin-imagen",children:C.jsxs("div",{className:"evento-info no-img",children:[C.jsx("h3",{children:e.titulo}),C.jsx("p",{children:e.descripcion})]})},r))})]},t))]})}/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function Q6(n,t,e){return(t=J6(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Nw(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,r)}return e}function yt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(e),!0).forEach(function(r){Q6(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Nw(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function $6(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function J6(n){var t=$6(n,"string");return typeof t=="symbol"?t:t+""}const Dw=()=>{};let Sy={},PC={},OC=null,MC={mark:Dw,measure:Dw};try{typeof window<"u"&&(Sy=window),typeof document<"u"&&(PC=document),typeof MutationObserver<"u"&&(OC=MutationObserver),typeof performance<"u"&&(MC=performance)}catch{}const{userAgent:Vw=""}=Sy.navigator||{},Oo=Sy,Be=PC,Uw=OC,_d=MC;Oo.document;const ya=!!Be.documentElement&&!!Be.head&&typeof Be.addEventListener=="function"&&typeof Be.createElement=="function",kC=~Vw.indexOf("MSIE")||~Vw.indexOf("Trident/");var tU=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,eU=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,NC={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},nU={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},DC=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ei="classic",Ym="duotone",iU="sharp",rU="sharp-duotone",VC=[ei,Ym,iU,rU],sU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},aU={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},oU=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),lU={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},uU=["fak","fa-kit","fakd","fa-kit-duotone"],zw={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},cU=["kit"],hU={kit:{"fa-kit":"fak"}},fU=["fak","fakd"],dU={kit:{fak:"fa-kit"}},jw={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},vd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mU=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],pU=["fak","fa-kit","fakd","fa-kit-duotone"],gU={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},_U={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},vU={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},B_={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},yU=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],F_=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...mU,...yU],bU=["solid","regular","light","thin","duotone","brands"],UC=[1,2,3,4,5,6,7,8,9,10],TU=UC.concat([11,12,13,14,15,16,17,18,19,20]),EU=[...Object.keys(vU),...bU,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",vd.GROUP,vd.SWAP_OPACITY,vd.PRIMARY,vd.SECONDARY].concat(UC.map(n=>"".concat(n,"x"))).concat(TU.map(n=>"w-".concat(n))),wU={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ga="___FONT_AWESOME___",H_=16,zC="fa",jC="svg-inline--fa",Ul="data-fa-i2svg",q_="data-fa-pseudo-element",AU="data-fa-pseudo-element-pending",xy="data-prefix",Cy="data-icon",Bw="fontawesome-i2svg",SU="async",xU=["HTML","HEAD","STYLE","SCRIPT"],BC=(()=>{try{return!0}catch{return!1}})();function nf(n){return new Proxy(n,{get(t,e){return e in t?t[e]:t[ei]}})}const FC=yt({},NC);FC[ei]=yt(yt(yt(yt({},{"fa-duotone":"duotone"}),NC[ei]),zw.kit),zw["kit-duotone"]);const CU=nf(FC),G_=yt({},lU);G_[ei]=yt(yt(yt(yt({},{duotone:"fad"}),G_[ei]),jw.kit),jw["kit-duotone"]);const Fw=nf(G_),Z_=yt({},B_);Z_[ei]=yt(yt({},Z_[ei]),dU.kit);const Ry=nf(Z_),Y_=yt({},_U);Y_[ei]=yt(yt({},Y_[ei]),hU.kit);nf(Y_);const RU=tU,HC="fa-layers-text",IU=eU,LU=yt({},sU);nf(LU);const PU=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Jg=nU,OU=[...cU,...EU],Th=Oo.FontAwesomeConfig||{};function MU(n){var t=Be.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}function kU(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Be&&typeof Be.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,r]=t;const o=kU(MU(e));o!=null&&(Th[r]=o)});const qC={styleDefault:"solid",familyDefault:ei,cssPrefix:zC,replacementClass:jC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Th.familyPrefix&&(Th.cssPrefix=Th.familyPrefix);const Ju=yt(yt({},qC),Th);Ju.autoReplaceSvg||(Ju.observeMutations=!1);const kt={};Object.keys(qC).forEach(n=>{Object.defineProperty(kt,n,{enumerable:!0,set:function(t){Ju[n]=t,Eh.forEach(e=>e(kt))},get:function(){return Ju[n]}})});Object.defineProperty(kt,"familyPrefix",{enumerable:!0,set:function(n){Ju.cssPrefix=n,Eh.forEach(t=>t(kt))},get:function(){return Ju.cssPrefix}});Oo.FontAwesomeConfig=kt;const Eh=[];function NU(n){return Eh.push(n),()=>{Eh.splice(Eh.indexOf(n),1)}}const go=H_,ds={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function DU(n){if(!n||!ya)return;const t=Be.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;const e=Be.head.childNodes;let r=null;for(let o=e.length-1;o>-1;o--){const l=e[o],c=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(r=l)}return Be.head.insertBefore(t,r),n}const VU="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Oh(){let n=12,t="";for(;n-- >0;)t+=VU[Math.random()*62|0];return t}function uc(n){const t=[];for(let e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function Iy(n){return n.classList?uc(n.classList):(n.getAttribute("class")||"").split(" ").filter(t=>t)}function GC(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function UU(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,'="').concat(GC(n[e]),'" '),"").trim()}function Km(n){return Object.keys(n||{}).reduce((t,e)=>t+"".concat(e,": ").concat(n[e].trim(),";"),"")}function Ly(n){return n.size!==ds.size||n.x!==ds.x||n.y!==ds.y||n.rotate!==ds.rotate||n.flipX||n.flipY}function zU(n){let{transform:t,containerWidth:e,iconWidth:r}=n;const o={transform:"translate(".concat(e/2," 256)")},l="translate(".concat(t.x*32,", ").concat(t.y*32,") "),c="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)"),g={transform:"".concat(l," ").concat(c," ").concat(d)},v={transform:"translate(".concat(r/2*-1," -256)")};return{outer:o,inner:g,path:v}}function jU(n){let{transform:t,width:e=H_,height:r=H_,startCentered:o=!1}=n,l="";return o&&kC?l+="translate(".concat(t.x/go-e/2,"em, ").concat(t.y/go-r/2,"em) "):o?l+="translate(calc(-50% + ".concat(t.x/go,"em), calc(-50% + ").concat(t.y/go,"em)) "):l+="translate(".concat(t.x/go,"em, ").concat(t.y/go,"em) "),l+="scale(".concat(t.size/go*(t.flipX?-1:1),", ").concat(t.size/go*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var BU=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function ZC(){const n=zC,t=jC,e=kt.cssPrefix,r=kt.replacementClass;let o=BU;if(e!==n||r!==t){const l=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");o=o.replace(l,".".concat(e,"-")).replace(c,"--".concat(e,"-")).replace(d,".".concat(r))}return o}let Hw=!1;function t_(){kt.autoAddCss&&!Hw&&(DU(ZC()),Hw=!0)}var FU={mixout(){return{dom:{css:ZC,insertCss:t_}}},hooks(){return{beforeDOMElementCreation(){t_()},beforeI2svg(){t_()}}}};const _a=Oo||{};_a[ga]||(_a[ga]={});_a[ga].styles||(_a[ga].styles={});_a[ga].hooks||(_a[ga].hooks={});_a[ga].shims||(_a[ga].shims=[]);var ms=_a[ga];const YC=[],KC=function(){Be.removeEventListener("DOMContentLoaded",KC),im=1,YC.map(n=>n())};let im=!1;ya&&(im=(Be.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Be.readyState),im||Be.addEventListener("DOMContentLoaded",KC));function HU(n){ya&&(im?setTimeout(n,0):YC.push(n))}function rf(n){const{tag:t,attributes:e={},children:r=[]}=n;return typeof n=="string"?GC(n):"<".concat(t," ").concat(UU(e),">").concat(r.map(rf).join(""),"</").concat(t,">")}function qw(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}var e_=function(t,e,r,o){var l=Object.keys(t),c=l.length,d=e,g,v,T;for(r===void 0?(g=1,T=t[l[0]]):(g=0,T=r);g<c;g++)v=l[g],T=d(T,t[v],v,t);return T};function qU(n){const t=[];let e=0;const r=n.length;for(;e<r;){const o=n.charCodeAt(e++);if(o>=55296&&o<=56319&&e<r){const l=n.charCodeAt(e++);(l&64512)==56320?t.push(((o&1023)<<10)+(l&1023)+65536):(t.push(o),e--)}else t.push(o)}return t}function K_(n){const t=qU(n);return t.length===1?t[0].toString(16):null}function GU(n,t){const e=n.length;let r=n.charCodeAt(t),o;return r>=55296&&r<=56319&&e>t+1&&(o=n.charCodeAt(t+1),o>=56320&&o<=57343)?(r-55296)*1024+o-56320+65536:r}function Gw(n){return Object.keys(n).reduce((t,e)=>{const r=n[e];return!!r.icon?t[r.iconName]=r.icon:t[e]=r,t},{})}function W_(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=e,o=Gw(t);typeof ms.hooks.addPack=="function"&&!r?ms.hooks.addPack(n,Gw(t)):ms.styles[n]=yt(yt({},ms.styles[n]||{}),o),n==="fas"&&W_("fa",t)}const{styles:Mh,shims:ZU}=ms,WC=Object.keys(Ry),YU=WC.reduce((n,t)=>(n[t]=Object.keys(Ry[t]),n),{});let Py=null,XC={},QC={},$C={},JC={},tR={};function KU(n){return~OU.indexOf(n)}function WU(n,t){const e=t.split("-"),r=e[0],o=e.slice(1).join("-");return r===n&&o!==""&&!KU(o)?o:null}const eR=()=>{const n=r=>e_(Mh,(o,l,c)=>(o[c]=e_(l,r,{}),o),{});XC=n((r,o,l)=>(o[3]&&(r[o[3]]=l),o[2]&&o[2].filter(d=>typeof d=="number").forEach(d=>{r[d.toString(16)]=l}),r)),QC=n((r,o,l)=>(r[l]=l,o[2]&&o[2].filter(d=>typeof d=="string").forEach(d=>{r[d]=l}),r)),tR=n((r,o,l)=>{const c=o[2];return r[l]=l,c.forEach(d=>{r[d]=l}),r});const t="far"in Mh||kt.autoFetchSvg,e=e_(ZU,(r,o)=>{const l=o[0];let c=o[1];const d=o[2];return c==="far"&&!t&&(c="fas"),typeof l=="string"&&(r.names[l]={prefix:c,iconName:d}),typeof l=="number"&&(r.unicodes[l.toString(16)]={prefix:c,iconName:d}),r},{names:{},unicodes:{}});$C=e.names,JC=e.unicodes,Py=Wm(kt.styleDefault,{family:kt.familyDefault})};NU(n=>{Py=Wm(n.styleDefault,{family:kt.familyDefault})});eR();function Oy(n,t){return(XC[n]||{})[t]}function XU(n,t){return(QC[n]||{})[t]}function Rl(n,t){return(tR[n]||{})[t]}function nR(n){return $C[n]||{prefix:null,iconName:null}}function QU(n){const t=JC[n],e=Oy("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function Mo(){return Py}const iR=()=>({prefix:null,iconName:null,rest:[]});function $U(n){let t=ei;const e=WC.reduce((r,o)=>(r[o]="".concat(kt.cssPrefix,"-").concat(o),r),{});return VC.forEach(r=>{(n.includes(e[r])||n.some(o=>YU[r].includes(o)))&&(t=r)}),t}function Wm(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=ei}=t,r=CU[e][n];if(e===Ym&&!n)return"fad";const o=Fw[e][n]||Fw[e][r],l=n in ms.styles?n:null;return o||l||null}function JU(n){let t=[],e=null;return n.forEach(r=>{const o=WU(kt.cssPrefix,r);o?e=o:r&&t.push(r)}),{iconName:e,rest:t}}function Zw(n){return n.sort().filter((t,e,r)=>r.indexOf(t)===e)}function Xm(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t;let r=null;const o=F_.concat(pU),l=Zw(n.filter(w=>o.includes(w))),c=Zw(n.filter(w=>!F_.includes(w))),d=l.filter(w=>(r=w,!DC.includes(w))),[g=null]=d,v=$U(l),T=yt(yt({},JU(c)),{},{prefix:Wm(g,{family:v})});return yt(yt(yt({},T),iz({values:n,family:v,styles:Mh,config:kt,canonical:T,givenPrefix:r})),tz(e,r,T))}function tz(n,t,e){let{prefix:r,iconName:o}=e;if(n||!r||!o)return{prefix:r,iconName:o};const l=t==="fa"?nR(o):{},c=Rl(r,o);return o=l.iconName||c||o,r=l.prefix||r,r==="far"&&!Mh.far&&Mh.fas&&!kt.autoFetchSvg&&(r="fas"),{prefix:r,iconName:o}}const ez=VC.filter(n=>n!==ei||n!==Ym),nz=Object.keys(B_).filter(n=>n!==ei).map(n=>Object.keys(B_[n])).flat();function iz(n){const{values:t,family:e,canonical:r,givenPrefix:o="",styles:l={},config:c={}}=n,d=e===Ym,g=t.includes("fa-duotone")||t.includes("fad"),v=c.familyDefault==="duotone",T=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(g||v||T)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&ez.includes(e)&&(Object.keys(l).find(A=>nz.includes(A))||c.autoFetchSvg)){const A=oU.get(e).defaultShortPrefixId;r.prefix=A,r.iconName=Rl(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||o==="fa")&&(r.prefix=Mo()||"fas"),r}class rz{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const o=e.reduce(this._pullDefinitions,{});Object.keys(o).forEach(l=>{this.definitions[l]=yt(yt({},this.definitions[l]||{}),o[l]),W_(l,o[l]);const c=Ry[ei][l];c&&W_(c,o[l]),eR()})}reset(){this.definitions={}}_pullDefinitions(t,e){const r=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(r).map(o=>{const{prefix:l,iconName:c,icon:d}=r[o],g=d[2];t[l]||(t[l]={}),g.length>0&&g.forEach(v=>{typeof v=="string"&&(t[l][v]=d)}),t[l][c]=d}),t}}let Yw=[],Vu={};const Hu={},sz=Object.keys(Hu);function az(n,t){let{mixoutsTo:e}=t;return Yw=n,Vu={},Object.keys(Hu).forEach(r=>{sz.indexOf(r)===-1&&delete Hu[r]}),Yw.forEach(r=>{const o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(l=>{typeof o[l]=="function"&&(e[l]=o[l]),typeof o[l]=="object"&&Object.keys(o[l]).forEach(c=>{e[l]||(e[l]={}),e[l][c]=o[l][c]})}),r.hooks){const l=r.hooks();Object.keys(l).forEach(c=>{Vu[c]||(Vu[c]=[]),Vu[c].push(l[c])})}r.provides&&r.provides(Hu)}),e}function X_(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];return(Vu[n]||[]).forEach(c=>{t=c.apply(null,[t,...r])}),t}function zl(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];(Vu[n]||[]).forEach(l=>{l.apply(null,e)})}function ko(){const n=arguments[0],t=Array.prototype.slice.call(arguments,1);return Hu[n]?Hu[n].apply(null,t):void 0}function Q_(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:t}=n;const e=n.prefix||Mo();if(t)return t=Rl(e,t)||t,qw(rR.definitions,e,t)||qw(ms.styles,e,t)}const rR=new rz,oz=()=>{kt.autoReplaceSvg=!1,kt.observeMutations=!1,zl("noAuto")},lz={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ya?(zl("beforeI2svg",n),ko("pseudoElements2svg",n),ko("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=n;kt.autoReplaceSvg===!1&&(kt.autoReplaceSvg=!0),kt.observeMutations=!0,HU(()=>{cz({autoReplaceSvgRoot:t}),zl("watch",n)})}},uz={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Rl(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const t=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],e=Wm(n[0]);return{prefix:e,iconName:Rl(e,t)||t}}if(typeof n=="string"&&(n.indexOf("".concat(kt.cssPrefix,"-"))>-1||n.match(RU))){const t=Xm(n.split(" "),{skipLookups:!0});return{prefix:t.prefix||Mo(),iconName:Rl(t.prefix,t.iconName)||t.iconName}}if(typeof n=="string"){const t=Mo();return{prefix:t,iconName:Rl(t,n)||n}}}},Wi={noAuto:oz,config:kt,dom:lz,parse:uz,library:rR,findIconDefinition:Q_,toHtml:rf},cz=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=Be}=n;(Object.keys(ms.styles).length>0||kt.autoFetchSvg)&&ya&&kt.autoReplaceSvg&&Wi.dom.i2svg({node:t})};function Qm(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(e=>rf(e))}}),Object.defineProperty(n,"node",{get:function(){if(!ya)return;const e=Be.createElement("div");return e.innerHTML=n.html,e.children}}),n}function hz(n){let{children:t,main:e,mask:r,attributes:o,styles:l,transform:c}=n;if(Ly(c)&&e.found&&!r.found){const{width:d,height:g}=e,v={x:d/g/2,y:.5};o.style=Km(yt(yt({},l),{},{"transform-origin":"".concat(v.x+c.x/16,"em ").concat(v.y+c.y/16,"em")}))}return[{tag:"svg",attributes:o,children:t}]}function fz(n){let{prefix:t,iconName:e,children:r,attributes:o,symbol:l}=n;const c=l===!0?"".concat(t,"-").concat(kt.cssPrefix,"-").concat(e):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:yt(yt({},o),{},{id:c}),children:r}]}]}function My(n){const{icons:{main:t,mask:e},prefix:r,iconName:o,transform:l,symbol:c,title:d,maskId:g,titleId:v,extra:T,watchable:w=!1}=n,{width:A,height:I}=e.found?e:t,k=fU.includes(r),N=[kt.replacementClass,o?"".concat(kt.cssPrefix,"-").concat(o):""].filter(dt=>T.classes.indexOf(dt)===-1).filter(dt=>dt!==""||!!dt).concat(T.classes).join(" ");let V={children:[],attributes:yt(yt({},T.attributes),{},{"data-prefix":r,"data-icon":o,class:N,role:T.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(I)})};const j=k&&!~T.classes.indexOf("fa-fw")?{width:"".concat(A/I*16*.0625,"em")}:{};w&&(V.attributes[Ul]=""),d&&(V.children.push({tag:"title",attributes:{id:V.attributes["aria-labelledby"]||"title-".concat(v||Oh())},children:[d]}),delete V.attributes.title);const tt=yt(yt({},V),{},{prefix:r,iconName:o,main:t,mask:e,maskId:g,transform:l,symbol:c,styles:yt(yt({},j),T.styles)}),{children:nt,attributes:ct}=e.found&&t.found?ko("generateAbstractMask",tt)||{children:[],attributes:{}}:ko("generateAbstractIcon",tt)||{children:[],attributes:{}};return tt.children=nt,tt.attributes=ct,c?fz(tt):hz(tt)}function Kw(n){const{content:t,width:e,height:r,transform:o,title:l,extra:c,watchable:d=!1}=n,g=yt(yt(yt({},c.attributes),l?{title:l}:{}),{},{class:c.classes.join(" ")});d&&(g[Ul]="");const v=yt({},c.styles);Ly(o)&&(v.transform=jU({transform:o,startCentered:!0,width:e,height:r}),v["-webkit-transform"]=v.transform);const T=Km(v);T.length>0&&(g.style=T);const w=[];return w.push({tag:"span",attributes:g,children:[t]}),l&&w.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),w}function dz(n){const{content:t,title:e,extra:r}=n,o=yt(yt(yt({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),l=Km(r.styles);l.length>0&&(o.style=l);const c=[];return c.push({tag:"span",attributes:o,children:[t]}),e&&c.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),c}const{styles:n_}=ms;function $_(n){const t=n[0],e=n[1],[r]=n.slice(4);let o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(kt.cssPrefix,"-").concat(Jg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(kt.cssPrefix,"-").concat(Jg.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(kt.cssPrefix,"-").concat(Jg.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:e,icon:o}}const mz={found:!1,width:512,height:512};function pz(n,t){!BC&&!kt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))}function J_(n,t){let e=t;return t==="fa"&&kt.styleDefault!==null&&(t=Mo()),new Promise((r,o)=>{if(e==="fa"){const l=nR(n)||{};n=l.iconName||n,t=l.prefix||t}if(n&&t&&n_[t]&&n_[t][n]){const l=n_[t][n];return r($_(l))}pz(n,t),r(yt(yt({},mz),{},{icon:kt.showMissingIcons&&n?ko("missingIconAbstract")||{}:{}}))})}const Ww=()=>{},tv=kt.measurePerformance&&_d&&_d.mark&&_d.measure?_d:{mark:Ww,measure:Ww},hh='FA "6.7.2"',gz=n=>(tv.mark("".concat(hh," ").concat(n," begins")),()=>sR(n)),sR=n=>{tv.mark("".concat(hh," ").concat(n," ends")),tv.measure("".concat(hh," ").concat(n),"".concat(hh," ").concat(n," begins"),"".concat(hh," ").concat(n," ends"))};var ky={begin:gz,end:sR};const Od=()=>{};function Xw(n){return typeof(n.getAttribute?n.getAttribute(Ul):null)=="string"}function _z(n){const t=n.getAttribute?n.getAttribute(xy):null,e=n.getAttribute?n.getAttribute(Cy):null;return t&&e}function vz(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(kt.replacementClass)}function yz(){return kt.autoReplaceSvg===!0?Md.replace:Md[kt.autoReplaceSvg]||Md.replace}function bz(n){return Be.createElementNS("http://www.w3.org/2000/svg",n)}function Tz(n){return Be.createElement(n)}function aR(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=n.tag==="svg"?bz:Tz}=t;if(typeof n=="string")return Be.createTextNode(n);const r=e(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){r.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){r.appendChild(aR(l,{ceFn:e}))}),r}function Ez(n){let t=" ".concat(n.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Md={replace:function(n){const t=n[0];if(t.parentNode)if(n[1].forEach(e=>{t.parentNode.insertBefore(aR(e),t)}),t.getAttribute(Ul)===null&&kt.keepOriginalSource){let e=Be.createComment(Ez(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(n){const t=n[0],e=n[1];if(~Iy(t).indexOf(kt.replacementClass))return Md.replace(n);const r=new RegExp("".concat(kt.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const l=e[0].attributes.class.split(" ").reduce((c,d)=>(d===kt.replacementClass||d.match(r)?c.toSvg.push(d):c.toNode.push(d),c),{toNode:[],toSvg:[]});e[0].attributes.class=l.toSvg.join(" "),l.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",l.toNode.join(" "))}const o=e.map(l=>rf(l)).join(`
`);t.setAttribute(Ul,""),t.innerHTML=o}};function Qw(n){n()}function oR(n,t){const e=typeof t=="function"?t:Od;if(n.length===0)e();else{let r=Qw;kt.mutateApproach===SU&&(r=Oo.requestAnimationFrame||Qw),r(()=>{const o=yz(),l=ky.begin("mutate");n.map(o),l(),e()})}}let Ny=!1;function lR(){Ny=!0}function ev(){Ny=!1}let rm=null;function $w(n){if(!Uw||!kt.observeMutations)return;const{treeCallback:t=Od,nodeCallback:e=Od,pseudoElementsCallback:r=Od,observeMutationsRoot:o=Be}=n;rm=new Uw(l=>{if(Ny)return;const c=Mo();uc(l).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!Xw(d.addedNodes[0])&&(kt.searchPseudoElements&&r(d.target),t(d.target)),d.type==="attributes"&&d.target.parentNode&&kt.searchPseudoElements&&r(d.target.parentNode),d.type==="attributes"&&Xw(d.target)&&~PU.indexOf(d.attributeName))if(d.attributeName==="class"&&_z(d.target)){const{prefix:g,iconName:v}=Xm(Iy(d.target));d.target.setAttribute(xy,g||c),v&&d.target.setAttribute(Cy,v)}else vz(d.target)&&e(d.target)})}),ya&&rm.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function wz(){rm&&rm.disconnect()}function Az(n){const t=n.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((r,o)=>{const l=o.split(":"),c=l[0],d=l.slice(1);return c&&d.length>0&&(r[c]=d.join(":").trim()),r},{})),e}function Sz(n){const t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"";let o=Xm(Iy(n));return o.prefix||(o.prefix=Mo()),t&&e&&(o.prefix=t,o.iconName=e),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=XU(o.prefix,n.innerText)||Oy(o.prefix,K_(n.innerText))),!o.iconName&&kt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=n.firstChild.data)),o}function xz(n){const t=uc(n.attributes).reduce((o,l)=>(o.name!=="class"&&o.name!=="style"&&(o[l.name]=l.value),o),{}),e=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return kt.autoA11y&&(e?t["aria-labelledby"]="".concat(kt.replacementClass,"-title-").concat(r||Oh()):(t["aria-hidden"]="true",t.focusable="false")),t}function Cz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ds,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Jw(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:r,rest:o}=Sz(n),l=xz(n),c=X_("parseNodeAttributes",{},n);let d=t.styleParser?Az(n):[];return yt({iconName:e,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:ds,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:d,attributes:l}},c)}const{styles:Rz}=ms;function uR(n){const t=kt.autoReplaceSvg==="nest"?Jw(n,{styleParser:!1}):Jw(n);return~t.extra.classes.indexOf(HC)?ko("generateLayersText",n,t):ko("generateSvgReplacementMutation",n,t)}function Iz(){return[...uU,...F_]}function tA(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ya)return Promise.resolve();const e=Be.documentElement.classList,r=T=>e.add("".concat(Bw,"-").concat(T)),o=T=>e.remove("".concat(Bw,"-").concat(T)),l=kt.autoFetchSvg?Iz():DC.concat(Object.keys(Rz));l.includes("fa")||l.push("fa");const c=[".".concat(HC,":not([").concat(Ul,"])")].concat(l.map(T=>".".concat(T,":not([").concat(Ul,"])"))).join(", ");if(c.length===0)return Promise.resolve();let d=[];try{d=uc(n.querySelectorAll(c))}catch{}if(d.length>0)r("pending"),o("complete");else return Promise.resolve();const g=ky.begin("onTree"),v=d.reduce((T,w)=>{try{const A=uR(w);A&&T.push(A)}catch(A){BC||A.name==="MissingIcon"&&console.error(A)}return T},[]);return new Promise((T,w)=>{Promise.all(v).then(A=>{oR(A,()=>{r("active"),r("complete"),o("pending"),typeof t=="function"&&t(),g(),T()})}).catch(A=>{g(),w(A)})})}function Lz(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;uR(n).then(e=>{e&&oR([e],t)})}function Pz(n){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:Q_(t||{});let{mask:o}=e;return o&&(o=(o||{}).icon?o:Q_(o||{})),n(r,yt(yt({},e),{},{mask:o}))}}const Oz=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=ds,symbol:r=!1,mask:o=null,maskId:l=null,title:c=null,titleId:d=null,classes:g=[],attributes:v={},styles:T={}}=t;if(!n)return;const{prefix:w,iconName:A,icon:I}=n;return Qm(yt({type:"icon"},n),()=>(zl("beforeDOMElementCreation",{iconDefinition:n,params:t}),kt.autoA11y&&(c?v["aria-labelledby"]="".concat(kt.replacementClass,"-title-").concat(d||Oh()):(v["aria-hidden"]="true",v.focusable="false")),My({icons:{main:$_(I),mask:o?$_(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:A,transform:yt(yt({},ds),e),symbol:r,title:c,maskId:l,titleId:d,extra:{attributes:v,styles:T,classes:g}})))};var Mz={mixout(){return{icon:Pz(Oz)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=tA,n.nodeCallback=Lz,n}}},provides(n){n.i2svg=function(t){const{node:e=Be,callback:r=()=>{}}=t;return tA(e,r)},n.generateSvgReplacementMutation=function(t,e){const{iconName:r,title:o,titleId:l,prefix:c,transform:d,symbol:g,mask:v,maskId:T,extra:w}=e;return new Promise((A,I)=>{Promise.all([J_(r,c),v.iconName?J_(v.iconName,v.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(k=>{let[N,V]=k;A([t,My({icons:{main:N,mask:V},prefix:c,iconName:r,transform:d,symbol:g,maskId:T,title:o,titleId:l,extra:w,watchable:!0})])}).catch(I)})},n.generateAbstractIcon=function(t){let{children:e,attributes:r,main:o,transform:l,styles:c}=t;const d=Km(c);d.length>0&&(r.style=d);let g;return Ly(l)&&(g=ko("generateAbstractTransformGrouping",{main:o,transform:l,containerWidth:o.width,iconWidth:o.width})),e.push(g||o.icon),{children:e,attributes:r}}}},kz={mixout(){return{layer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return Qm({type:"layer"},()=>{zl("beforeDOMElementCreation",{assembler:n,params:t});let r=[];return n(o=>{Array.isArray(o)?o.map(l=>{r=r.concat(l.abstract)}):r=r.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(kt.cssPrefix,"-layers"),...e].join(" ")},children:r}]})}}}},Nz={mixout(){return{counter(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:r=[],attributes:o={},styles:l={}}=t;return Qm({type:"counter",content:n},()=>(zl("beforeDOMElementCreation",{content:n,params:t}),dz({content:n.toString(),title:e,extra:{attributes:o,styles:l,classes:["".concat(kt.cssPrefix,"-layers-counter"),...r]}})))}}}},Dz={mixout(){return{text(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=ds,title:r=null,classes:o=[],attributes:l={},styles:c={}}=t;return Qm({type:"text",content:n},()=>(zl("beforeDOMElementCreation",{content:n,params:t}),Kw({content:n,transform:yt(yt({},ds),e),title:r,extra:{attributes:l,styles:c,classes:["".concat(kt.cssPrefix,"-layers-text"),...o]}})))}}},provides(n){n.generateLayersText=function(t,e){const{title:r,transform:o,extra:l}=e;let c=null,d=null;if(kC){const g=parseInt(getComputedStyle(t).fontSize,10),v=t.getBoundingClientRect();c=v.width/g,d=v.height/g}return kt.autoA11y&&!r&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,Kw({content:t.innerHTML,width:c,height:d,transform:o,title:r,extra:l,watchable:!0})])}}};const Vz=new RegExp('"',"ug"),eA=[1105920,1112319],nA=yt(yt(yt(yt({},{FontAwesome:{normal:"fas",400:"fas"}}),aU),wU),gU),nv=Object.keys(nA).reduce((n,t)=>(n[t.toLowerCase()]=nA[t],n),{}),Uz=Object.keys(nv).reduce((n,t)=>{const e=nv[t];return n[t]=e[900]||[...Object.entries(e)][0][1],n},{});function zz(n){const t=n.replace(Vz,""),e=GU(t,0),r=e>=eA[0]&&e<=eA[1],o=t.length===2?t[0]===t[1]:!1;return{value:K_(o?t[0]:t),isSecondary:r||o}}function jz(n,t){const e=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),o=isNaN(r)?"normal":r;return(nv[e]||{})[o]||Uz[e]}function iA(n,t){const e="".concat(AU).concat(t.replace(":","-"));return new Promise((r,o)=>{if(n.getAttribute(e)!==null)return r();const c=uc(n.children).filter(A=>A.getAttribute(q_)===t)[0],d=Oo.getComputedStyle(n,t),g=d.getPropertyValue("font-family"),v=g.match(IU),T=d.getPropertyValue("font-weight"),w=d.getPropertyValue("content");if(c&&!v)return n.removeChild(c),r();if(v&&w!=="none"&&w!==""){const A=d.getPropertyValue("content");let I=jz(g,T);const{value:k,isSecondary:N}=zz(A),V=v[0].startsWith("FontAwesome");let j=Oy(I,k),tt=j;if(V){const nt=QU(k);nt.iconName&&nt.prefix&&(j=nt.iconName,I=nt.prefix)}if(j&&!N&&(!c||c.getAttribute(xy)!==I||c.getAttribute(Cy)!==tt)){n.setAttribute(e,tt),c&&n.removeChild(c);const nt=Cz(),{extra:ct}=nt;ct.attributes[q_]=t,J_(j,I).then(dt=>{const It=My(yt(yt({},nt),{},{icons:{main:dt,mask:iR()},prefix:I,iconName:tt,extra:ct,watchable:!0})),G=Be.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?n.insertBefore(G,n.firstChild):n.appendChild(G),G.outerHTML=It.map(D=>rf(D)).join(`
`),n.removeAttribute(e),r()}).catch(o)}else r()}else r()})}function Bz(n){return Promise.all([iA(n,"::before"),iA(n,"::after")])}function Fz(n){return n.parentNode!==document.head&&!~xU.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(q_)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function rA(n){if(ya)return new Promise((t,e)=>{const r=uc(n.querySelectorAll("*")).filter(Fz).map(Bz),o=ky.begin("searchPseudoElements");lR(),Promise.all(r).then(()=>{o(),ev(),t()}).catch(()=>{o(),ev(),e()})})}var Hz={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=rA,n}}},provides(n){n.pseudoElements2svg=function(t){const{node:e=Be}=t;kt.searchPseudoElements&&rA(e)}}};let sA=!1;var qz={mixout(){return{dom:{unwatch(){lR(),sA=!0}}}},hooks(){return{bootstrap(){$w(X_("mutationObserverCallbacks",{}))},noAuto(){wz()},watch(n){const{observeMutationsRoot:t}=n;sA?ev():$w(X_("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const aA=n=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((e,r)=>{const o=r.toLowerCase().split("-"),l=o[0];let c=o.slice(1).join("-");if(l&&c==="h")return e.flipX=!0,e;if(l&&c==="v")return e.flipY=!0,e;if(c=parseFloat(c),isNaN(c))return e;switch(l){case"grow":e.size=e.size+c;break;case"shrink":e.size=e.size-c;break;case"left":e.x=e.x-c;break;case"right":e.x=e.x+c;break;case"up":e.y=e.y-c;break;case"down":e.y=e.y+c;break;case"rotate":e.rotate=e.rotate+c;break}return e},t)};var Gz={mixout(){return{parse:{transform:n=>aA(n)}}},hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-transform");return e&&(n.transform=aA(e)),n}}},provides(n){n.generateAbstractTransformGrouping=function(t){let{main:e,transform:r,containerWidth:o,iconWidth:l}=t;const c={transform:"translate(".concat(o/2," 256)")},d="translate(".concat(r.x*32,", ").concat(r.y*32,") "),g="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),v="rotate(".concat(r.rotate," 0 0)"),T={transform:"".concat(d," ").concat(g," ").concat(v)},w={transform:"translate(".concat(l/2*-1," -256)")},A={outer:c,inner:T,path:w};return{tag:"g",attributes:yt({},A.outer),children:[{tag:"g",attributes:yt({},A.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:yt(yt({},e.icon.attributes),A.path)}]}]}}}};const i_={x:0,y:0,width:"100%",height:"100%"};function oA(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function Zz(n){return n.tag==="g"?n.children:[n]}var Yz={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-mask"),r=e?Xm(e.split(" ").map(o=>o.trim())):iR();return r.prefix||(r.prefix=Mo()),n.mask=r,n.maskId=t.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(t){let{children:e,attributes:r,main:o,mask:l,maskId:c,transform:d}=t;const{width:g,icon:v}=o,{width:T,icon:w}=l,A=zU({transform:d,containerWidth:T,iconWidth:g}),I={tag:"rect",attributes:yt(yt({},i_),{},{fill:"white"})},k=v.children?{children:v.children.map(oA)}:{},N={tag:"g",attributes:yt({},A.inner),children:[oA(yt({tag:v.tag,attributes:yt(yt({},v.attributes),A.path)},k))]},V={tag:"g",attributes:yt({},A.outer),children:[N]},j="mask-".concat(c||Oh()),tt="clip-".concat(c||Oh()),nt={tag:"mask",attributes:yt(yt({},i_),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[I,V]},ct={tag:"defs",children:[{tag:"clipPath",attributes:{id:tt},children:Zz(w)},nt]};return e.push(ct,{tag:"rect",attributes:yt({fill:"currentColor","clip-path":"url(#".concat(tt,")"),mask:"url(#".concat(j,")")},i_)}),{children:e,attributes:r}}}},Kz={provides(n){let t=!1;Oo.matchMedia&&(t=Oo.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const e=[],r={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:yt(yt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const l=yt(yt({},o),{},{attributeName:"opacity"}),c={tag:"circle",attributes:yt(yt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||c.children.push({tag:"animate",attributes:yt(yt({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:yt(yt({},l),{},{values:"1;0;1;1;0;1;"})}),e.push(c),e.push({tag:"path",attributes:yt(yt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:yt(yt({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:yt(yt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:yt(yt({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},Wz={hooks(){return{parseNodeAttributes(n,t){const e=t.getAttribute("data-fa-symbol"),r=e===null?!1:e===""?!0:e;return n.symbol=r,n}}}},Xz=[FU,Mz,kz,Nz,Dz,Hz,qz,Gz,Yz,Kz,Wz];az(Xz,{mixoutsTo:Wi});Wi.noAuto;Wi.config;Wi.library;Wi.dom;const iv=Wi.parse;Wi.findIconDefinition;Wi.toHtml;const Qz=Wi.icon;Wi.layer;Wi.text;Wi.counter;var r_={exports:{}},s_,lA;function $z(){if(lA)return s_;lA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return s_=n,s_}var a_,uA;function Jz(){if(uA)return a_;uA=1;var n=$z();function t(){}function e(){}return e.resetWarningCache=t,a_=function(){function r(c,d,g,v,T,w){if(w!==n){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},a_}var cA;function tj(){return cA||(cA=1,r_.exports=Jz()()),r_.exports}var ej=tj();const ne=kh(ej);function hA(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,r)}return e}function hs(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(e),!0).forEach(function(r){Uu(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hA(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function sm(n){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(n)}function Uu(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function nj(n,t){if(n==null)return{};var e={},r=Object.keys(n),o,l;for(l=0;l<r.length;l++)o=r[l],!(t.indexOf(o)>=0)&&(e[o]=n[o]);return e}function ij(n,t){if(n==null)return{};var e=nj(n,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function rv(n){return rj(n)||sj(n)||aj(n)||oj()}function rj(n){if(Array.isArray(n))return sv(n)}function sj(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function aj(n,t){if(n){if(typeof n=="string")return sv(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return sv(n,t)}}function sv(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function oj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lj(n){var t,e=n.beat,r=n.fade,o=n.beatFade,l=n.bounce,c=n.shake,d=n.flash,g=n.spin,v=n.spinPulse,T=n.spinReverse,w=n.pulse,A=n.fixedWidth,I=n.inverse,k=n.border,N=n.listItem,V=n.flip,j=n.size,tt=n.rotation,nt=n.pull,ct=(t={"fa-beat":e,"fa-fade":r,"fa-beat-fade":o,"fa-bounce":l,"fa-shake":c,"fa-flash":d,"fa-spin":g,"fa-spin-reverse":T,"fa-spin-pulse":v,"fa-pulse":w,"fa-fw":A,"fa-inverse":I,"fa-border":k,"fa-li":N,"fa-flip":V===!0,"fa-flip-horizontal":V==="horizontal"||V==="both","fa-flip-vertical":V==="vertical"||V==="both"},Uu(t,"fa-".concat(j),typeof j<"u"&&j!==null),Uu(t,"fa-rotate-".concat(tt),typeof tt<"u"&&tt!==null&&tt!==0),Uu(t,"fa-pull-".concat(nt),typeof nt<"u"&&nt!==null),Uu(t,"fa-swap-opacity",n.swapOpacity),t);return Object.keys(ct).map(function(dt){return ct[dt]?dt:null}).filter(function(dt){return dt})}function uj(n){return n=n-0,n===n}function cR(n){return uj(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var cj=["style"];function hj(n){return n.charAt(0).toUpperCase()+n.slice(1)}function fj(n){return n.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var r=e.indexOf(":"),o=cR(e.slice(0,r)),l=e.slice(r+1).trim();return o.startsWith("webkit")?t[hj(o)]=l:t[o]=l,t},{})}function hR(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(g){return hR(n,g)}),o=Object.keys(t.attributes||{}).reduce(function(g,v){var T=t.attributes[v];switch(v){case"class":g.attrs.className=T,delete t.attributes.class;break;case"style":g.attrs.style=fj(T);break;default:v.indexOf("aria-")===0||v.indexOf("data-")===0?g.attrs[v.toLowerCase()]=T:g.attrs[cR(v)]=T}return g},{attrs:{}}),l=e.style,c=l===void 0?{}:l,d=ij(e,cj);return o.attrs.style=hs(hs({},o.attrs.style),c),n.apply(void 0,[t.tag,hs(hs({},o.attrs),d)].concat(rv(r)))}var fR=!1;try{fR=!0}catch{}function dj(){if(!fR&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function fA(n){if(n&&sm(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(iv.icon)return iv.icon(n);if(n===null)return null;if(n&&sm(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function o_(n,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Uu({},n,t):{}}var dA={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Sl=qu.forwardRef(function(n,t){var e=hs(hs({},dA),n),r=e.icon,o=e.mask,l=e.symbol,c=e.className,d=e.title,g=e.titleId,v=e.maskId,T=fA(r),w=o_("classes",[].concat(rv(lj(e)),rv((c||"").split(" ")))),A=o_("transform",typeof e.transform=="string"?iv.transform(e.transform):e.transform),I=o_("mask",fA(o)),k=Qz(T,hs(hs(hs(hs({},w),A),I),{},{symbol:l,title:d,titleId:g,maskId:v}));if(!k)return dj("Could not find icon",T),null;var N=k.abstract,V={ref:t};return Object.keys(e).forEach(function(j){dA.hasOwnProperty(j)||(V[j]=e[j])}),mj(N[0],V)});Sl.displayName="FontAwesomeIcon";Sl.propTypes={beat:ne.bool,border:ne.bool,beatFade:ne.bool,bounce:ne.bool,className:ne.string,fade:ne.bool,flash:ne.bool,mask:ne.oneOfType([ne.object,ne.array,ne.string]),maskId:ne.string,fixedWidth:ne.bool,inverse:ne.bool,flip:ne.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ne.oneOfType([ne.object,ne.array,ne.string]),listItem:ne.bool,pull:ne.oneOf(["right","left"]),pulse:ne.bool,rotation:ne.oneOf([0,90,180,270]),shake:ne.bool,size:ne.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ne.bool,spinPulse:ne.bool,spinReverse:ne.bool,symbol:ne.oneOfType([ne.bool,ne.string]),title:ne.string,titleId:ne.string,transform:ne.oneOfType([ne.string,ne.object]),swapOpacity:ne.bool};var mj=hR.bind(null,qu.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const pj={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"]},gj={prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]},_j={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const mA={prefix:"fas",iconName:"universal-access",icon:[512,512,[],"f29a","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm161.5-86.1c-12.2-5.2-26.3 .4-31.5 12.6s.4 26.3 12.6 31.5l11.9 5.1c17.3 7.4 35.2 12.9 53.6 16.3l0 50.1c0 4.3-.7 8.6-2.1 12.6l-28.7 86.1c-4.2 12.6 2.6 26.2 15.2 30.4s26.2-2.6 30.4-15.2l24.4-73.2c1.3-3.8 4.8-6.4 8.8-6.4s7.6 2.6 8.8 6.4l24.4 73.2c4.2 12.6 17.8 19.4 30.4 15.2s19.4-17.8 15.2-30.4l-28.7-86.1c-1.4-4.1-2.1-8.3-2.1-12.6l0-50.1c18.4-3.5 36.3-8.9 53.6-16.3l11.9-5.1c12.2-5.2 17.8-19.3 12.6-31.5s-19.3-17.8-31.5-12.6L338.7 175c-26.1 11.2-54.2 17-82.7 17s-56.5-5.8-82.7-17l-11.9-5.1zM256 160a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},vj=({activarAccesibilidad:n,modoAccesible:t,leerTexto:e})=>C.jsxs("footer",{className:"footer",children:[C.jsxs("div",{className:"footer-contenedor",children:[C.jsxs("div",{className:"footer-col",children:[C.jsx("h4",{children:"Accesibilidad"}),C.jsxs("button",{className:"btn-accesibilidad",onClick:n,children:[C.jsx(Sl,{icon:mA})," ",t?"Desactivar modo accesible":"Modo Accesible"]}),C.jsxs("button",{className:"btn-accesibilidad",onClick:()=>e("Bienvenido a Turismo Tarragona. Explora la historia, cultura y belleza de nuestra ciudad."),children:[C.jsx(Sl,{icon:mA})," Escuchar descripción"]})]}),C.jsxs("div",{className:"footer-col",children:[C.jsx("h4",{children:"Turismo Tarragona"}),C.jsx("p",{children:"Explora la historia, cultura y belleza de nuestra ciudad."})]}),C.jsxs("div",{className:"footer-col",children:[C.jsx("h4",{children:"Enlaces útiles"}),C.jsx("ul",{children:C.jsxs("ul",{children:[C.jsx("li",{children:C.jsx(Le,{to:"/",children:"Inicio"})}),C.jsx("li",{children:C.jsx(Le,{to:"/rutas",children:"Rutas"})}),C.jsx("li",{children:C.jsx(Le,{to:"/terminos",children:"Terminos y condiciones"})}),C.jsx("li",{children:C.jsx(Le,{to:"/faq",children:"Preguntas Frecuentes"})})]})})]}),C.jsxs("div",{className:"footer-col",children:[C.jsx("h4",{children:"Contacto"}),C.jsx("p",{children:"Email: contacto@tgotours.com"}),C.jsx("p",{children:"Teléfono: +34 656 280 412"}),C.jsx("ul",{children:C.jsx("li",{children:C.jsx(Le,{to:"/contacto",children:"Formulario de contacto"})})}),C.jsxs("div",{className:"footer-redes",children:[C.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",children:C.jsx(Sl,{icon:pj})}),C.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",children:C.jsx(Sl,{icon:_j})}),C.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noreferrer",children:C.jsx(Sl,{icon:gj})})]})]})]}),C.jsx("div",{className:"footer-copy",children:C.jsxs("p",{children:["© ",new Date().getFullYear()," Turismo Tarragona. Todos los derechos reservados."]})})]}),yj=[{mes:"Junio",eventos:[{titulo:"Castells semanales",descripcion:"Exhibiciones tradicionales de torres humanas."},{titulo:"Nit de Sant Joan",descripcion:"Celebración con hogueras, música y fuegos artificiales."}]},{mes:"Julio",eventos:[{titulo:"Concurso de Fuegos Artificiales",descripcion:"Competencia pirotécnica en la playa."},{titulo:"Festival Camp de Mart",descripcion:"Festival cultural con música y teatro al aire libre."}]},{mes:"Agosto",eventos:[{titulo:"Sant Magí",descripcion:"Fiestas patronales con procesiones y conciertos."},{titulo:"Dixieland",descripcion:"Festival de jazz tradicional."},{titulo:"TarraTangueando",descripcion:"Encuentro de tango con talleres y espectáculos."}]},{mes:"Septiembre",eventos:[{titulo:"Santa Tecla",descripcion:"Gran fiesta mayor con actos tradicionales y fuegos."},{titulo:"URSI",descripcion:"Encuentro artístico urbano con intervenciones creativas."},{titulo:"Espectáculos en el Palau & cultura científica",descripcion:"Eventos culturales y divulgación científica."}]}];function bj(){return C.jsxs("div",{className:"eventos-container",children:[C.jsx("h1",{children:"Eventos mensuales en Tarragona"}),yj.map((n,t)=>C.jsxs("div",{children:[C.jsx("h2",{children:n.mes}),C.jsx("ul",{className:"evento-lista",children:n.eventos.map((e,r)=>C.jsxs("li",{children:[C.jsx("h3",{children:e.titulo}),C.jsx("p",{children:e.descripcion})]},r))})]},t))]})}const Tj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADT0lEQVR4nO2XXUhTYRjHd+l9SNitkZAKc5aDNHSKgpp0kyQDLdCkC/Gi0N3U2oWxGOJHn3P4STsqM/NjYqTZakdFzbSUPOqZrmUbpNCGKfQBPvG+eubZ2fHsbLYuogf+HA7b+/x/53l3Xv6TSP7XH6h1ReK4O0cOnlw5oOuX1ERwyOKRfnxMiLstCXe5s5N2kDkjd04SAwCOhPjNsAOspyeO+U5Atj8BWVyV5G+Vg3nqPYleSFht1QRp6yVIWkOQy3nto9QxsWspx8Yx6vPXPMrp1jBbwAAQJF1PkHRRO0nHCjYxWukdgrSBr2gXQdJmNhTbjHK6zZTT7aJcHmDkD8Dfz2hdOddisUfsT2DvS4/1j6C1rQNaB6c4i3fFNmM0s2qDRe01vPdcgDmFAu7f64Zay6p/P6vtpR+ApyTaq7WrUlAbskGrL4SaZg009Jhhgp6GZ9O18HS0GD70F8IGIYWfrVH4V+99A7JZb4AsHt6kpkO0yQXSJ07I6VsD1ZAde6GpCwIgXTJl+ah+IgWr7bUcGzNaOxPnY8rWfHIyBmAU0+XyTiFkgPmeEz4AphfVoKQAKyslF4ttytWhAMYGYg80R7pwsSx8AOMDJwXNkfKV5eEB6NCeDmiOAQrKICMj/0BzhemheIDizkxs3qk9he+FzDNGtyHN+g3OF10HuVIFkY2LcLR52c8c9RMNMHJTCsNqqfde6MnTyS04a9nEOmJYwIpsWvIzDwrAw5FpmN+cK76xs7czJACdtkqUOReAax4SgE5bhZsFC8BnHjSAbs+cDaCabYC6CQU+F9AV3XMBDjIPCkDHMmcD1Exmek9FpNrJLB8AIXPRADqOudAEKt8ZvJ9VzjYJmgsCuK8ch/flaVBe18x7iATae2SOoEIGiBY4PgMBMOaHAojpCg2AbR4SgHEvkqGwgEIDCg9iAVRzvVA9UwEP5g3QuTwCY45V0Fvm4MbzISjtbwRltxoKui4HmIDVZuFGJv2rFVAP26Fk0OGFKl3agVu2X6C3f4e+T9sw5dzkjWl8ce7uyFuoGOyDMrPRH6DFYo9AQXE3gOLg6BKbCXEw3Q2oGhRYF9a3olCARUFWqJ9PJOMrviZcM5SSeRcH7If/AtwRu/bfrt/wwdHXaQEHmAAAAABJRU5ErkJggg==",Ej="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR4nO2Wv2sUQRzFPygqiJLCwlIUBEEbETR/gWChpLHUIoUgudLqGgsNVhb5wc5MFAQLhUshVsZGOFCENInYCEEwYiEKiZEoB0d8MnN7d5O9HKeXuz3QDHxgebMz77Ez35mFndZlk2NIlmLAMZSfcYndMtyRZU0WpawF7R6H+x9gmgORcZaKLA9lOD6oAErZkKGkGU5uz+w+B5VwLMOpPwgQB3kiw9nuAiSM/oVZJ17KcnGQARQwLMhw1W/mppHjuizvWzB86XmAZpAbzQC1elbOFONPfVqWa5XbPP95ixf9xHt4L+/ZsuYrY3xeHWO9S36ktNNDn/foqiLaNU1zJD2A6mtbVcKZ9Lz4vqkkHRfodZNjjyxPowBlOfaHvoQHkf5GUxzqlel5JVzachMbJtuU8ez2jROGZXiV3cX5BTBMbFVG/14A1a7U9UDClUEEmG0MTBjdCUCeS6DaCTYfLUGYUBPsk2WuoTse6Sa7AobHkdGcSuxNA0xG+ryfu3MAx0jm2qymf0bDmdvsl2Y4Gv6S/HPc5zgXxvixm/WRTptvUZYlWT7K8ilg+JBqSzIsN3QX6TY8199fjt5v6rU5vb7YYvy1wIlvBS5XxilXxnndZ8rey3s2AqwUKK4WUJ54z/rOXtiY4m31Lu/yxHt6bx/g2SDhv2+/AezL91uHM/dIAAAAAElFTkSuQmCC",wj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD0UlEQVR4nO1W7U9bZRRv4h/gJ/dN/xA/r9olw2RovzhnZtLY2fWCFtLbl4zutujYSmmhDNYChZKCAycgBhQ3nCzZsizRyICCRHmZwZhsfbn39nW0/ZnntBpIIUjL/CIn+eU+ec7b79znnOdeheJYjuUQolaPvsTx9mHOJOQ4kx27IeSYjtkoqhJ+8TWFMRxSGMOjJYQUhoVXmYrj7VfLE++G3iS0VJT3QoPthN5sr32dH7G8bHz0YCfYHmcS2jiTUDiIALPR83aX3iSo94TZXstylRHQm4SVg4MfEXj7chkB7hAB9LwAXWMTtAYrga3Z3mFiVETgotEGTR2Pyy1u3PpqGnP3HxJuTUzh8pU20jGbnT71FgcmvpnF+PQdWldMQGuwwiy0YGllFfvJYvgXmGxXyPZvP48viKgkE9i6IgJagxWOa+1IJJOUKJsq4NefnuPhTAZztzP4eSGLZLpAOmZjv+b5h4TZ0YrV9U2srm3CZHcensBFow31vA1xUaIEf67kMNuewqQrgVG3jECHDO91Cc6AhPm152QTF0XU8bay46ioBzR1PG5/f48CP1vP4Y4ziRlnEpOtRQL9JQLNN0QY++JY2iqSmJmdI9+qCOh5ARrOiFQqRUHv9aXxrTOJqdYkxl0JfO6W0dshw9MlQfCJMPTFYZkQwQ4jlU6T737T8a8I6BqbqLvptT7NU9IJVwJjbQmMuGUE22V0d0pwdku45I+D64vhvcEoNuI58rF95qIYFRPQGqxwef0U7PfftjHskanqIY+MgXYZPq9E1Tt8Ioy9cWj7Y1CHoniwlSUfl9e3ayIqItDs7KBgf2zl4PdK6PFK9LzeKcHdJeHTGyIsPXFwgRjODUZxejiC+afb5OPYMQ0VH4GuwYp8Po/tbaCzR6akbV0SrnaLsPtEmHviqOuL4YNgFLVDEZweiyCbK5CPzmCp7gj0vIDzHxnweDFMFf3wYwY2n4gmf7Hqxt449IEYzgejeCcUwRs3I+hfLt4V8wtL5FtVE3KlMWTNVCgUkC8AwbtJqlgXiEEzEMPZwSjODEWgvPkMtkcScgWQ7aVmZ/VjyJUuIlbJ8OgYVcZG7P5aFsJ3Et4dieLtL6L45K6ImScZ0jEJjXxJPkdyEXGlZnz/wsfoDQ4hkyl2+F7CdP6BENnu13wVEeBKJKiqBivGv57G+sYTpNNpwtrGJsYmp6jpmM1BySsiwO34HLMk5z6sx1kNR2BrtrfX5/hICXAv8ofk5KmaZeWpGvwnUNWEywgolWdOnHyzplapekv9IsFyqFSqV8oIHMv/Vv4C615yvhW/JToAAAAASUVORK5CYII=",Aj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADKUlEQVR4nO2X30tTYRjHdxF0YUIXBdVNXXRT9A+UgRfuKNVmRph5Isxt9otC3chSK/tBRQpuIuhQ1Gpqbbjj8seZus5gc+amGNbKLkQi0qV0YRaVlvMb7/SstTnbL7upB74wzt7n+X7e9zkHnlcgiDCUGqZY1ci4iJSNTKHgb4aqSX9UqWHmCYSykblMfldomCMxNUlMLFlD0dIEipamE+XfVpbzulPb5Cxr0I7wa0vvaV+TZ75r+DxSg9QKyzxVIomnaNkgRcvAS9XI+EmPKxXqk0Xl6tNKjf9/jDePSEjLHKRmyADCTGkxSaTPF+BmhdqjQICVxeeRGh6ITFlRGACyRySJ67ODjyptW8jmZC0fnM2+dArShyEDULRMR5Is9kFvobF3LrC9A+i0OlYUWUPW8kFqLLVCFxVApPEfwBKrFnAcF5b8WyA6lqMfVyhax+Vy65vc3PVhA0xNTYUlX4B9x0+h7r7WNXa1BBMKBcbl8oEVIagYApj6B5Ff2wSDuQ8dRs7NQ0zI5eWr1oLnphpguBSzz+4i+bEOcS1mlPXYFiG6zd9Hr10fdykUO8MCCDne9wJdaZg1pkFkqIegxeJRnN7igTCaTXB1K26F/Q44nc4/6q2jGQvGg/jGHkJK6z2vOa/tTDumu7IBVrwAVpwXUwDenOz8gCHQfGMLC2dnNmAU+0h0ITYtmHzqc+yB5ht0HTCrhfhhSPEDECPql3DYVAe3d+cNQcyT4KrcgRnN7sgBpoJ8bnO2i0s7b8AmPQtxaz0SmGZs1bdjc0ubx3yyehfmGCrAPCYA06McRB1axOmf4KOtABi68ZuBm13UcuYxacEAVw0Htxdb9O2Y778E9OUHNYsKIFh8HlUClrXo4pKw31AHjs2Du+dw7AGcQT6/c7lZ6KnaBljjYB0qxMuZL8D8HPBhCBipwdfurNUFqKytg8NuAuY/LXtCpIbkzAkYVBkvwIofwCh6BaO4DUaRjijqFqzKPCDkh1Lbr6E00ohoKBVmyor8x/JIxY/lFC0N/fqWKpHEk8uE7+UiGglpqT0x/ew6QTRXMypCJWfk7An7aib4l+InyIMFeS9H2GAAAAAASUVORK5CYII=",Sj=()=>C.jsxs("div",{className:"about-wrapper",children:[C.jsx("div",{className:"about-logo-section",children:C.jsx("img",{src:pC,alt:"Logo TGO Tours",className:"about-logo"})}),C.jsxs("div",{className:"about-content",children:[C.jsxs("p",{children:["Bienvenido a ",C.jsx("strong",{children:"TGoTours"}),", una plataforma pensada para ayudarte a descubrir y disfrutar lo mejor de Tarragona."]}),C.jsx("h2",{children:"¿Qué encontrarás aquí?"}),C.jsxs("ul",{children:[C.jsxs("li",{children:[C.jsx("img",{src:Tj,alt:"icono de mapa"})," Mapas interactivos con rutas peatonales optimizadas"]}),C.jsxs("li",{children:[C.jsx("img",{src:Ej,alt:"icono de lugar"})," Puntos de interés destacados con información histórica"]}),C.jsxs("li",{children:[C.jsx("img",{src:wj,alt:"icono de camara"})," Imágenes y recomendaciones de cada lugar"]}),C.jsxs("li",{children:[C.jsx("img",{src:Aj,alt:"icono de foro"})," Foro donde puedes dejar tus comentarios o experiencias"]})]})]}),C.jsxs("div",{className:"content-who",children:[C.jsx("h2",{children:"¿Quiénes somos?"}),C.jsx("p",{children:"Este proyecto nace con el objetivo de facilitar el turismo local, especialmente para quienes visitan Tarragona por primera vez o desean conocerla a fondo sin usar múltiples apps."}),C.jsx("p",{children:"Nuestro equipo está formado por amantes de la historia, la cultura de Tarragona y desarroladores entusiastas. Juntos hemos creado esta plataforma con la intención de conectar tecnología y patrimonio, permitiendo a cualquier persona descubrir la ciudad a pie, a su ritmo y con información útil."}),C.jsx("p",{children:"Tarragona no solo es un museo al aire libre del pasado romano, también es mar, gastronomía, arte y vida local. Queremos ayudarte a vivir esa riqueza con rutas pensadas para que cada paso cuente una historia."}),C.jsx("h2",{children:"¿Cómo funciona?"}),C.jsx("p",{children:"Elige una ruta dependiendo de lo que desees hacer desde nuestro menú de rutas donde tendras divertidas y entretenidas opciones. Podrás ver los puntos destacados, un mapa en tiempo real y comentarios de otros visitantes."}),C.jsx("h2",{children:"¿Tienes sugerencias?"}),C.jsxs("p",{children:["Estamos en constante mejora. Si tienes ideas, correcciones o quieres colaborar, puedes escribirnos a:"," ",C.jsx("a",{href:"mailto:contacto@tarracoexplorer.com",style:{color:"#81c7ff",textDecoration:"underline"},children:"contacto@tarracoexplorer.com"})]}),C.jsx("p",{style:{marginTop:"1.5rem",fontStyle:"italic"},children:"¡Esperamos que disfrutes tu viaje por Tarragona tanto como nosotros disfrutamos construir esta plataforma!"})]}),C.jsxs("div",{className:"about-section",children:[C.jsx("h2",{children:"Sobre los creadores"}),C.jsxs("div",{className:"creator-container",children:[C.jsxs("div",{className:"creator-card",children:[C.jsx("img",{src:"/assets/adria.jpg",alt:"Foto Adrià",className:"creator.image"}),C.jsx("div",{className:"creator-name",children:"Adrià Gonzales "}),C.jsx("div",{className:"creator-role",children:"Desarrolador Backend"}),C.jsx("p",{className:"creator-bio",children:"Responsable de la base de datos y la interaccion del usuario"})]}),C.jsxs("div",{className:"creator-card",children:[C.jsx("img",{src:"/assets/dani.jpg",alt:"Foto Adrià",className:"creator.image"}),C.jsx("div",{className:"creator-name",children:"Daniel Garcia"}),C.jsx("div",{className:"creator-role",children:"Desarrolador Frontend"}),C.jsx("p",{className:"creator-bio",children:"Responsable del contenido y la interaccion del usuario"})]}),C.jsxs("div",{className:"creator-card",children:[C.jsx("img",{src:"/assets/dani.jpg",alt:"Foto Adrià",className:"creator.image"}),C.jsx("div",{className:"creator-name",children:"Nighjhurey Bueno"}),C.jsx("div",{className:"creator-role",children:"Desarroladora FullStack"}),C.jsx("p",{className:"creator-bio",children:"Responsable de la interaccion del usuario"})]})]})]})]});function pA(){const[n,t]=q.useState(null),[e,r]=q.useState({nombreUsuario:"",email:"",fechaRegistro:"",rol:"",fotoURL:""}),[o,l]=q.useState(null),[c,d]=q.useState(null),[g,v]=q.useState(!0),[T,w]=q.useState(!1);q.useEffect(()=>{const N=bv(Po,async V=>{if(V){await V.reload(),t(V),w(V.emailVerified);const j=Jn(Pe,"usuarios",V.uid),tt=await ws(j);if(tt.exists()){const nt=tt.data();r({nombreUsuario:nt.nombreUsuario||"",email:nt.email||V.email,fechaRegistro:nt.fechaRegistro?.toDate().toLocaleDateString()||"",rol:nt.rol||"turista",fotoURL:nt.fotoURL||""})}}else t(null);v(!1)});return()=>N()},[]);const A=async()=>{try{if(!n?.uid||!e.fotoURL)return;const N=e.fotoURL.split("%2F")[1].split("?")[0],V=TE(Pw,`fotosPerfil/${N}`);await lN(V);const j=Jn(Pe,"usuarios",n.uid);await bh(j,{fotoURL:""}),r(tt=>({...tt,fotoURL:""})),console.log("Foto de perfil eliminada")}catch(N){console.error("Error al eliminar la foto:",N)}},I=async()=>{const N=Jn(Pe,"usuarios",n.uid);if(await bh(N,{nombreUsuario:e.nombreUsuario}),await M1(n,{displayName:e.nombreUsuario}),o){const V=TE(Pw,`fotosPerfil/${n.uid}`),j=await aN(V,o),tt=await oN(j.ref);await bh(N,{fotoURL:tt}),r({...e,fotoURL:tt}),d(null)}alert("Perfil actualizado correctamente")},k=async()=>{try{await I1(Po,n.email),alert("📩 Se ha enviado un correo para cambiar tu contraseña.")}catch(N){console.error(N),alert("Error al enviar el correo: "+N.message)}};return g?C.jsx("p",{children:"Cargando perfil..."}):n?C.jsxs("div",{className:"perfil-page",children:[C.jsx("h2",{children:"👤 Perfil de usuario"}),e.fotoURL&&C.jsx("div",{className:"foto-perfil",children:C.jsx("img",{src:e.fotoURL,alt:"Foto de perfil"})}),c&&C.jsxs("div",{style:{marginBottom:"1rem"},children:[C.jsx("p",{children:"📷 Vista previa de la nueva foto:"}),C.jsx("img",{src:c,alt:"Vista previa",width:100})]}),C.jsxs("div",{className:"perfil-info",children:[C.jsx("label",{children:"Nombre de usuario"}),C.jsx("input",{type:"text",value:e.nombreUsuario,disabled:!0,style:{backgroundColor:"#eee",cursor:"not-allowed"}}),C.jsx("label",{children:"Correo electrónico"}),C.jsx("input",{type:"email",value:e.email,disabled:!0}),C.jsxs("p",{style:{marginBottom:"1rem"},children:["Estado del correo:"," ",T?"✅ Verificado":"⛔ No verificado"]}),C.jsx("label",{children:"Fecha de registro"}),C.jsx("input",{type:"text",value:e.fechaRegistro,disabled:!0}),C.jsx("label",{children:"Rol"}),C.jsx("input",{type:"text",value:e.rol,disabled:!0}),C.jsx("label",{children:"Foto de perfil"}),C.jsx("input",{type:"file",accept:"image/*",onChange:N=>{const V=N.target.files[0];V&&(l(V),d(URL.createObjectURL(V)))}}),C.jsx("button",{onClick:A,children:"🧼 Eliminar foto de perfil"}),C.jsx("button",{onClick:I,children:"💾 Guardar cambios"}),C.jsx("button",{onClick:k,children:"📩 Enviar correo para cambiar contraseña"})]})]}):C.jsx("p",{children:"No se ha iniciado sesión."})}function xj(){const[n,t]=q.useState([]),{usuario:e}=qm();return q.useEffect(()=>{(async()=>{const o=jm(yr(Pe,"threads"),vy("createdAt","desc")),c=(await Xh(o)).docs.map(d=>({id:d.id,...d.data()}));t(c)})()},[]),C.jsxs("div",{className:"comunidad",children:[C.jsx("h1",{children:"Comunidad"}),e&&C.jsx(Le,{to:"/nuevo-hilo",children:C.jsx("button",{children:"🧵 Crear nuevo hilo"})}),C.jsx("ul",{children:n.map(r=>C.jsx("li",{children:C.jsxs(Le,{to:`/hilo/${r.id}`,children:[C.jsx("strong",{children:r.title})," — por ",r.authorName]})},r.id))})]})}function Cj({usuario:n}){const[t,e]=q.useState(""),[r,o]=q.useState(""),l=Vh(),c=async d=>{d.preventDefault(),!(!t||!r)&&(await Qh(yr(Pe,"threads"),{title:t,content:r,authorId:n.uid,authorName:n.displayName||n.email,createdAt:$h()}),l("/comunidad"))};return C.jsxs("div",{className:"nuevo-hilo",children:[C.jsx("h2",{children:"Crear nuevo hilo"}),C.jsxs("form",{onSubmit:c,children:[C.jsx("input",{type:"text",placeholder:"Título",value:t,onChange:d=>e(d.target.value)}),C.jsx("textarea",{placeholder:"Contenido",value:r,onChange:d=>o(d.target.value)}),C.jsx("button",{type:"submit",children:"Publicar hilo"})]})]})}function Rj({usuario:n}){const{threadId:t}=xA(),[e,r]=q.useState(null),[o,l]=q.useState([]),[c,d]=q.useState("");q.useEffect(()=>{const T=Jn(Pe,"threads",t);ws(T).then(I=>{I.exists()&&r(I.data())});const w=jm(yr(Pe,"threads",t,"comments"),vy("createdAt","asc")),A=cC(w,I=>{const k=I.docs.map(N=>({id:N.id,...N.data()}));l(k)});return()=>A()},[t]);const g=async T=>{try{const w=Jn(Pe,"threads",t,"comments",T);await uC(w),console.log("Comentario eliminado")}catch(w){console.error("Error al eliminar el comentario:",w)}},v=async T=>{if(T.preventDefault(),!c.trim()||!n?.uid)return;const w=n.fotoURL?n.fotoURL:null;await Qh(yr(Pe,"threads",t,"comments"),{content:c,authorId:n.uid,authorName:n.displayName||n.email,fotoURL:w,createdAt:$h()}),d("")};return e?C.jsxs("div",{className:"thread-detail",children:[C.jsx("h2",{children:e.title}),C.jsx("p",{children:e.content}),C.jsx("p",{children:C.jsxs("em",{children:["Publicado por ",e.authorName]})}),C.jsx("hr",{}),C.jsx("h3",{children:"Comentarios"}),C.jsx("ul",{children:o.map(T=>{const w=T.authorName?T.authorName[0].toUpperCase()+T.authorName.slice(-1).toUpperCase():"U",A=T.fotoURL?T.fotoURL:`https://ui-avatars.com/api/?name=${w}&background=random&color=fff&size=128`;return C.jsxs("li",{className:"comentario",children:[C.jsx("img",{src:A,alt:"Avatar",className:"avatar-comentario"}),C.jsxs("div",{children:[C.jsx("strong",{children:T.authorName}),C.jsx("p",{children:T.content}),n?.uid===T.authorId&&C.jsx("button",{onClick:()=>g(T.id),children:"🗑️ Eliminar"})]})]},T.id)})}),n?C.jsxs("form",{onSubmit:v,children:[C.jsx("textarea",{placeholder:"Escribe tu comentario...",value:c,onChange:T=>d(T.target.value)}),C.jsx("button",{type:"submit",children:"💬 Comentar"})]}):C.jsx("p",{children:"Debes iniciar sesión para comentar."})]}):C.jsx("p",{children:"Cargando hilo..."})}const Ij=[{pregunta:"¿Cuál es la mejor época para visitar Tarragona?",respuesta:"La primavera y el otoño ofrecen temperaturas agradables y menos aglomeraciones. El verano es ideal para disfrutar de las playas."},{pregunta:"¿Necesito reservar para visitar los monumentos?",respuesta:"Algunos monumentos requieren reserva previa, especialmente en temporada alta. Recomendamos consultar la web oficial de turismo."},{pregunta:"¿Hay opciones de turismo accesible?",respuesta:"Sí, muchos espacios están adaptados para personas con movilidad reducida. Puedes activar el modo accesible en nuestra web para más información."},{pregunta:"¿Dónde puedo encontrar rutas guiadas?",respuesta:"Ofrecemos rutas guiadas temáticas que puedes consultar en el apartado 'Rutas'. También hay opciones privadas con guías locales."}],Lj=()=>{const[n,t]=q.useState(null),e=r=>{t(n===r?null:r)};return C.jsxs("div",{className:"faq-page",children:[C.jsx("h2",{children:"❓ Preguntas Frecuentes"}),C.jsx("p",{children:"Resolvemos tus dudas más comunes sobre turismo en Tarragona."}),C.jsx("div",{className:"faq-list",children:Ij.map((r,o)=>C.jsxs("div",{className:`faq-item ${n===o?"activo":""}`,onClick:()=>e(o),children:[C.jsx("div",{className:"faq-pregunta",children:r.pregunta}),n===o&&C.jsx("div",{className:"faq-respuesta",children:r.respuesta})]},o))})]})},Pj=()=>{const[n,t]=q.useState({nombre:"",email:"",asunto:"",mensaje:""}),[e,r]=q.useState(!1),o=c=>{t({...n,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault();try{await Qh(yr(Pe,"mensajesContacto"),{...n,fecha:ze.now()}),r(!0),t({nombre:"",email:"",asunto:"",mensaje:""})}catch(d){console.error("Error al enviar mensaje:",d),alert("Hubo un error al enviar tu mensaje. Intenta de nuevo.")}};return C.jsxs("div",{className:"contacto-page",children:[C.jsx("h2",{children:"📩 Contáctanos"}),C.jsx("p",{children:"¿Tienes dudas, sugerencias o comentarios? ¡Estamos aquí para ayudarte!"}),e&&C.jsx("p",{className:"mensaje-exito",children:"✅ Tu mensaje ha sido enviado correctamente."}),C.jsxs("form",{className:"contacto-form",onSubmit:l,children:[C.jsx("label",{children:"Nombre"}),C.jsx("input",{type:"text",name:"nombre",value:n.nombre,onChange:o,required:!0}),C.jsx("label",{children:"Correo electrónico"}),C.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,required:!0}),C.jsx("label",{children:"Asunto"}),C.jsx("input",{type:"text",name:"asunto",value:n.asunto,onChange:o,required:!0}),C.jsx("label",{children:"Mensaje"}),C.jsx("textarea",{name:"mensaje",rows:"5",value:n.mensaje,onChange:o,required:!0}),C.jsx("button",{type:"submit",children:"Enviar mensaje"})]})]})},Oj=()=>C.jsxs("div",{style:{maxWidth:"800px",margin:"3rem auto",padding:"2rem",backgroundColor:"#1d203e",borderRadius:"12px",color:"#b0b3c2"},children:[C.jsx("h2",{style:{color:"#00CFEA",marginBottom:"1rem"},children:"📜 Términos y Condiciones"}),C.jsx("p",{children:"Última actualización: Julio 2025"}),C.jsxs("section",{style:{marginBottom:"2rem"},children:[C.jsx("h3",{style:{color:"#FDD835"},children:"1. Uso de la plataforma"}),C.jsx("p",{children:"Al registrarte en Turismo Tarragona, aceptas utilizar la plataforma de forma responsable y respetuosa. No se permite el uso indebido, ofensivo o fraudulento."})]}),C.jsxs("section",{style:{marginBottom:"2rem"},children:[C.jsx("h3",{style:{color:"#FDD835"},children:"2. Privacidad de datos"}),C.jsx("p",{children:"Tu información personal será tratada conforme a nuestra política de privacidad. No compartimos tus datos con terceros sin tu consentimiento."})]}),C.jsxs("section",{style:{marginBottom:"2rem"},children:[C.jsx("h3",{style:{color:"#FDD835"},children:"3. Contenido generado por usuarios"}),C.jsx("p",{children:"Los comentarios, reseñas y aportaciones deben respetar las normas de convivencia. Nos reservamos el derecho de moderar o eliminar contenido inapropiado."})]}),C.jsxs("section",{style:{marginBottom:"2rem"},children:[C.jsx("h3",{style:{color:"#FDD835"},children:"4. Propiedad intelectual"}),C.jsx("p",{children:"Todo el contenido de la web (textos, imágenes, rutas, etc.) está protegido por derechos de autor. No está permitido su uso comercial sin autorización."})]}),C.jsxs("section",{children:[C.jsx("h3",{style:{color:"#FDD835"},children:"5. Modificaciones"}),C.jsx("p",{children:"Podemos actualizar estos términos en cualquier momento. Te notificaremos los cambios relevantes a través de la plataforma."})]})]}),Mj=()=>{const{usuario:n,rol:t,cargando:e}=qm(),[r,o]=q.useState({titulo:"",descripcion:"",duracion:"",fecha:"",horaInicio:"",cupos:"",ubicacion:""}),[l,c]=q.useState("");if(e)return null;if(!n||t!=="guia")return C.jsxs("div",{className:"crear-tour",children:[C.jsx("h2",{children:"📍 Crear un Free Tour"}),C.jsx("p",{style:{color:"red"},children:"Solo los guías pueden acceder a esta sección."})]});const d=v=>{o({...r,[v.target.name]:v.target.value})},g=async v=>{if(v.preventDefault(),!n||t!=="guia"){c("Acceso denegado. Solo los guías pueden crear tours.");return}try{await Qh(yr(Pe,"freeTours"),{...r,guiaID:n.uid,guiaNombre:n.displayName||"Guía",guiaFoto:n.photoURL||"",creadoEn:$h(),inscritos:[],reseñas:[]}),c("¡Tour creado con éxito!"),o({titulo:"",descripcion:"",duracion:"",fecha:"",horaInicio:"",cupos:"",ubicacion:""})}catch(T){console.error("Error al crear el tour:",T),c("Hubo un error al crear el tour.")}};return C.jsxs("div",{className:"crear-tour",children:[C.jsx("h2",{children:"📍 Crear un Free Tour"}),l&&C.jsx("p",{children:l}),C.jsxs("form",{onSubmit:g,children:[C.jsx("input",{type:"text",name:"titulo",placeholder:"Título del tour",value:r.titulo,onChange:d,required:!0}),C.jsx("textarea",{name:"descripcion",placeholder:"Descripción",value:r.descripcion,onChange:d,required:!0}),C.jsx("input",{type:"text",name:"duracion",placeholder:"Duración (ej. 2h)",value:r.duracion,onChange:d,required:!0}),C.jsx("input",{type:"date",name:"fecha",value:r.fecha,onChange:d,required:!0}),C.jsx("input",{type:"time",name:"horaInicio",value:r.horaInicio,onChange:d,required:!0}),C.jsx("input",{type:"number",name:"cupos",placeholder:"Cupos disponibles",value:r.cupos,onChange:d,required:!0}),C.jsx("input",{type:"text",name:"ubicacion",placeholder:"Ubicación",value:r.ubicacion,onChange:d,required:!0}),C.jsx("button",{type:"submit",children:"Publicar Tour"})]})]})};async function kj(n){const t=Jn(Pe,"freeTours",n),e=await ws(t);if(!e.exists()){alert("El tour no existe");return}const r=e.data(),o=Po.currentUser.uid;if(r.inscritos.includes(o)){alert("Ya estás inscrito en este tour");return}if(r.cupos<=0){alert("No hay cupos disponibles");return}return await bh(t,{inscritos:BV(o),cupos:r.cupos-1}),alert("¡Reserva realizada con éxito!"),"ok"}async function Nj(n){try{const e=Av().currentUser,r=Jn(Pe,"freeTours",n),l=(await ws(r)).data(),c=l.inscritos.filter(d=>d!==e.uid);return await bh(r,{inscritos:c,cupos:l.cupos+1}),"ok"}catch(t){return console.error("Error al cancelar reserva:",t),"error"}}const Dj=()=>{const{usuario:n,rol:t,cargando:e}=qm(),[r,o]=q.useState([]);return q.useEffect(()=>{(async()=>{const c=await Xh(yr(Pe,"freeTours")),d=await Promise.all(c.docs.map(async g=>{const v={id:g.id,...g.data()};let T="";if(v.guiaID){const w=Jn(Pe,"usuarios",v.guiaID),A=await ws(w);A.exists()&&(T=A.data().fotoURL||"")}return{...v,guiaFoto:T}}));o(d)})()},[]),e?null:C.jsxs("div",{className:"free-tours",children:[C.jsx("h2",{children:"🌍 Free Tours disponibles"}),n&&t==="guia"&&C.jsx(Le,{to:"/crear-tour",children:C.jsx("button",{className:"crear-tour-btn",children:"+ Crear nuevo tour"})}),C.jsx("ul",{children:r.map(l=>C.jsxs("li",{className:"tour-card",children:[C.jsx("h3",{children:l.titulo}),C.jsx("p",{children:l.descripcion}),C.jsxs("p",{children:[C.jsx("strong",{children:"Duración:"})," ",l.duracion]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Fecha:"})," ",l.fecha]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Hora de inicio:"})," ",l.horaInicio]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Ubicación:"})," ",l.ubicacion]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Cupos disponibles:"})," ",l.cupos]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Inscritos:"})," ",l.inscritos?.length||0]}),C.jsxs("div",{className:"guia-info",style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.guiaFoto&&C.jsx("img",{src:l.guiaFoto,alt:`Foto de ${l.guiaNombre}`,className:"guia-foto",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}),C.jsx("span",{className:"guia-nombre",children:l.guiaNombre})," "]}),n&&t==="turista"&&C.jsx(C.Fragment,{children:l.inscritos?.includes(n.uid)?C.jsx("button",{className:"cancelar-btn",onClick:async()=>{if(!window.confirm("¿Seguro que quieres cancelar tu inscripción?"))return;await Nj(l.id)==="ok"&&o(g=>g.map(v=>v.id===l.id?{...v,cupos:v.cupos+1,inscritos:v.inscritos.filter(T=>T!==n.uid)}:v))},children:"Cancelar inscripción"}):C.jsx("button",{className:"reservar-btn",onClick:async()=>{await kj(l.id)==="ok"&&o(d=>d.map(g=>g.id===l.id?{...g,cupos:g.cupos-1,inscritos:[...g.inscritos||[],n.uid]}:g))},disabled:l.cupos<=0,children:l.cupos<=0?"Sin cupos":"Reservar plaza"})})]},l.id))})]})};function Vj(){const[n,t]=q.useState(null),[e,r]=q.useState(""),[o,l]=q.useState(!1),[c,d]=q.useState(!1),g=()=>{d(T=>{const w=!T;return w?document.body.classList.add("modo-accesible"):document.body.classList.remove("modo-accesible"),w})},v=(T=null)=>{const w=new SpeechSynthesisUtterance;if(w.lang="es-ES",T)w.text=T;else{const A=document.getElementById("main-content")?.innerText;w.text=A||"No se encontró contenido para leer."}window.speechSynthesis.cancel(),window.speechSynthesis.speak(w)};return q.useEffect(()=>{localStorage.getItem("modoAccesible")==="true"&&(document.body.classList.add("modo-accesible"),d(!0))},[]),q.useEffect(()=>{localStorage.setItem("modoAccesible",c)},[c]),q.useEffect(()=>{const T=bv(Po,w=>{w?(t(w),console.log("Sesión activa:",w.email)):(t(null),console.log("No hay sesión iniciada"))});return()=>T()},[]),q.useEffect(()=>{(async()=>{if(n){const w=Jn(Pe,"usuarios",n.uid),A=await ws(w);A.exists()&&r(A.data().nombreUsuario)}})()},[n]),q.useEffect(()=>{(async()=>{if(n?.uid){const w=Jn(Pe,"usuarios",n.uid),A=await ws(w);if(A.exists()){const I=A.data();t(k=>({...k,...I}))}}})()},[n]),C.jsxs(C.Fragment,{children:[C.jsx(WV,{usuario:n,nombreUsuario:e,cerrarSesion:async()=>{const{signOut:T}=await zI(async()=>{const{signOut:w}=await Promise.resolve().then(()=>WM);return{signOut:w}},[]);try{await T(Po),t(null),r(""),l(w=>!w),window.location.href="/"}catch(w){console.error("Error al cerrar sesión:",w)}}}),C.jsx(ZV,{children:C.jsxs(IA,{children:[C.jsx(Je,{path:"/",element:C.jsx(c6,{})}),C.jsx(Je,{path:"/login",element:C.jsx(XV,{})}),C.jsx(Je,{path:"/registro",element:C.jsx(QV,{})}),C.jsx(Je,{path:"/rutas/*",element:C.jsx(YV,{})}),C.jsx(Je,{path:"/mapa",element:C.jsx(U6,{})}),C.jsx(Je,{path:"/eventos",element:C.jsx(X6,{})}),C.jsx(Je,{path:"/eventos/:mes",element:C.jsx(bj,{})}),C.jsx(Je,{path:"/about",element:C.jsx(Sj,{})}),C.jsx(Je,{path:"/perfil",element:C.jsx(pA,{})}),C.jsx(Je,{path:"/perfil",element:C.jsx(pA,{})}),C.jsx(Je,{path:"/comunidad",element:C.jsx(xj,{})}),C.jsx(Je,{path:"/nuevo-hilo",element:C.jsx(Cj,{usuario:n})}),C.jsx(Je,{path:"/hilo/:threadId",element:C.jsx(Rj,{usuario:n})}),C.jsx(Je,{path:"/ruta/:id",element:C.jsx(mC,{usuario:n})}),C.jsx(Je,{path:"/faq",element:C.jsx(Lj,{})}),C.jsx(Je,{path:"/contacto",element:C.jsx(Pj,{})}),C.jsx(Je,{path:"/terminos",element:C.jsx(Oj,{})}),C.jsx(Je,{path:"/crear-tour",element:C.jsx(Mj,{user:n})}),C.jsx(Je,{path:"/tours",element:C.jsx(Dj,{user:n})})]})}),C.jsx(vj,{activarAccesibilidad:g,modoAccesible:c,leerTexto:v})]})}DI.createRoot(document.getElementById("root")).render(C.jsx(qu.StrictMode,{children:C.jsx(JL,{children:C.jsx(Vj,{})})}));
