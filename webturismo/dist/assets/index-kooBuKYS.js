(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function oh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function If(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var Tm={exports:{}},Ic={},xm={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function FC(){if(dw)return et;dw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=T&&G[T]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function j(G,oe,Ee){this.props=G,this.context=oe,this.refs=O,this.updater=Ee||b}j.prototype.isReactComponent={},j.prototype.setState=function(G,oe){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,oe,"setState")},j.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=j.prototype;function K(G,oe,Ee){this.props=G,this.context=oe,this.refs=O,this.updater=Ee||b}var ee=K.prototype=new D;ee.constructor=K,N(ee,j.prototype),ee.isPureReactComponent=!0;var se=Array.isArray,me=Object.prototype.hasOwnProperty,Se={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function M(G,oe,Ee){var Re,Ce={},xe=null,Ke=null;if(oe!=null)for(Re in oe.ref!==void 0&&(Ke=oe.ref),oe.key!==void 0&&(xe=""+oe.key),oe)me.call(oe,Re)&&!B.hasOwnProperty(Re)&&(Ce[Re]=oe[Re]);var Ye=arguments.length-2;if(Ye===1)Ce.children=Ee;else if(1<Ye){for(var _t=Array(Ye),Bt=0;Bt<Ye;Bt++)_t[Bt]=arguments[Bt+2];Ce.children=_t}if(G&&G.defaultProps)for(Re in Ye=G.defaultProps,Ye)Ce[Re]===void 0&&(Ce[Re]=Ye[Re]);return{$$typeof:n,type:G,key:xe,ref:Ke,props:Ce,_owner:Se.current}}function F(G,oe){return{$$typeof:n,type:G.type,key:oe,ref:G.ref,props:G.props,_owner:G._owner}}function q(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function $(G){var oe={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ee){return oe[Ee]})}var Q=/\/+/g;function z(G,oe){return typeof G=="object"&&G!==null&&G.key!=null?$(""+G.key):oe.toString(36)}function ct(G,oe,Ee,Re,Ce){var xe=typeof G;(xe==="undefined"||xe==="boolean")&&(G=null);var Ke=!1;if(G===null)Ke=!0;else switch(xe){case"string":case"number":Ke=!0;break;case"object":switch(G.$$typeof){case n:case e:Ke=!0}}if(Ke)return Ke=G,Ce=Ce(Ke),G=Re===""?"."+z(Ke,0):Re,se(Ce)?(Ee="",G!=null&&(Ee=G.replace(Q,"$&/")+"/"),ct(Ce,oe,Ee,"",function(Bt){return Bt})):Ce!=null&&(q(Ce)&&(Ce=F(Ce,Ee+(!Ce.key||Ke&&Ke.key===Ce.key?"":(""+Ce.key).replace(Q,"$&/")+"/")+G)),oe.push(Ce)),1;if(Ke=0,Re=Re===""?".":Re+":",se(G))for(var Ye=0;Ye<G.length;Ye++){xe=G[Ye];var _t=Re+z(xe,Ye);Ke+=ct(xe,oe,Ee,_t,Ce)}else if(_t=S(G),typeof _t=="function")for(G=_t.call(G),Ye=0;!(xe=G.next()).done;)xe=xe.value,_t=Re+z(xe,Ye++),Ke+=ct(xe,oe,Ee,_t,Ce);else if(xe==="object")throw oe=String(G),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Ke}function pn(G,oe,Ee){if(G==null)return G;var Re=[],Ce=0;return ct(G,Re,"","",function(xe){return oe.call(Ee,xe,Ce++)}),Re}function dt(G){if(G._status===-1){var oe=G._result;oe=oe(),oe.then(function(Ee){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ee)},function(Ee){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ee)}),G._status===-1&&(G._status=0,G._result=oe)}if(G._status===1)return G._result.default;throw G._result}var ot={current:null},ae={transition:null},Oe={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:ae,ReactCurrentOwner:Se};function ue(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:pn,forEach:function(G,oe,Ee){pn(G,function(){oe.apply(this,arguments)},Ee)},count:function(G){var oe=0;return pn(G,function(){oe++}),oe},toArray:function(G){return pn(G,function(oe){return oe})||[]},only:function(G){if(!q(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},et.Component=j,et.Fragment=t,et.Profiler=o,et.PureComponent=K,et.StrictMode=r,et.Suspense=m,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,et.act=ue,et.cloneElement=function(G,oe,Ee){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Re=N({},G.props),Ce=G.key,xe=G.ref,Ke=G._owner;if(oe!=null){if(oe.ref!==void 0&&(xe=oe.ref,Ke=Se.current),oe.key!==void 0&&(Ce=""+oe.key),G.type&&G.type.defaultProps)var Ye=G.type.defaultProps;for(_t in oe)me.call(oe,_t)&&!B.hasOwnProperty(_t)&&(Re[_t]=oe[_t]===void 0&&Ye!==void 0?Ye[_t]:oe[_t])}var _t=arguments.length-2;if(_t===1)Re.children=Ee;else if(1<_t){Ye=Array(_t);for(var Bt=0;Bt<_t;Bt++)Ye[Bt]=arguments[Bt+2];Re.children=Ye}return{$$typeof:n,type:G.type,key:Ce,ref:xe,props:Re,_owner:Ke}},et.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:a,_context:G},G.Consumer=G},et.createElement=M,et.createFactory=function(G){var oe=M.bind(null,G);return oe.type=G,oe},et.createRef=function(){return{current:null}},et.forwardRef=function(G){return{$$typeof:d,render:G}},et.isValidElement=q,et.lazy=function(G){return{$$typeof:w,_payload:{_status:-1,_result:G},_init:dt}},et.memo=function(G,oe){return{$$typeof:_,type:G,compare:oe===void 0?null:oe}},et.startTransition=function(G){var oe=ae.transition;ae.transition={};try{G()}finally{ae.transition=oe}},et.unstable_act=ue,et.useCallback=function(G,oe){return ot.current.useCallback(G,oe)},et.useContext=function(G){return ot.current.useContext(G)},et.useDebugValue=function(){},et.useDeferredValue=function(G){return ot.current.useDeferredValue(G)},et.useEffect=function(G,oe){return ot.current.useEffect(G,oe)},et.useId=function(){return ot.current.useId()},et.useImperativeHandle=function(G,oe,Ee){return ot.current.useImperativeHandle(G,oe,Ee)},et.useInsertionEffect=function(G,oe){return ot.current.useInsertionEffect(G,oe)},et.useLayoutEffect=function(G,oe){return ot.current.useLayoutEffect(G,oe)},et.useMemo=function(G,oe){return ot.current.useMemo(G,oe)},et.useReducer=function(G,oe,Ee){return ot.current.useReducer(G,oe,Ee)},et.useRef=function(G){return ot.current.useRef(G)},et.useState=function(G){return ot.current.useState(G)},et.useSyncExternalStore=function(G,oe,Ee){return ot.current.useSyncExternalStore(G,oe,Ee)},et.useTransition=function(){return ot.current.useTransition()},et.version="18.3.1",et}var fw;function t_(){return fw||(fw=1,xm.exports=FC()),xm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function UC(){if(pw)return Ic;pw=1;var n=t_(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,m,_){var w,T={},S=null,b=null;_!==void 0&&(S=""+_),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(b=m.ref);for(w in m)r.call(m,w)&&!a.hasOwnProperty(w)&&(T[w]=m[w]);if(d&&d.defaultProps)for(w in m=d.defaultProps,m)T[w]===void 0&&(T[w]=m[w]);return{$$typeof:e,type:d,key:S,ref:b,props:T,_owner:o.current}}return Ic.Fragment=t,Ic.jsx=u,Ic.jsxs=u,Ic}var mw;function zC(){return mw||(mw=1,Tm.exports=UC()),Tm.exports}var E=zC(),U=t_();const bu=oh(U);var xd={},Im={exports:{}},gr={},Sm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function BC(){return gw||(gw=1,function(n){function e(ae,Oe){var ue=ae.length;ae.push(Oe);e:for(;0<ue;){var G=ue-1>>>1,oe=ae[G];if(0<o(oe,Oe))ae[G]=Oe,ae[ue]=oe,ue=G;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var Oe=ae[0],ue=ae.pop();if(ue!==Oe){ae[0]=ue;e:for(var G=0,oe=ae.length,Ee=oe>>>1;G<Ee;){var Re=2*(G+1)-1,Ce=ae[Re],xe=Re+1,Ke=ae[xe];if(0>o(Ce,ue))xe<oe&&0>o(Ke,Ce)?(ae[G]=Ke,ae[xe]=ue,G=xe):(ae[G]=Ce,ae[Re]=ue,G=Re);else if(xe<oe&&0>o(Ke,ue))ae[G]=Ke,ae[xe]=ue,G=xe;else break e}}return Oe}function o(ae,Oe){var ue=ae.sortIndex-Oe.sortIndex;return ue!==0?ue:ae.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],_=[],w=1,T=null,S=3,b=!1,N=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ae){for(var Oe=t(_);Oe!==null;){if(Oe.callback===null)r(_);else if(Oe.startTime<=ae)r(_),Oe.sortIndex=Oe.expirationTime,e(m,Oe);else break;Oe=t(_)}}function se(ae){if(O=!1,ee(ae),!N)if(t(m)!==null)N=!0,dt(me);else{var Oe=t(_);Oe!==null&&ot(se,Oe.startTime-ae)}}function me(ae,Oe){N=!1,O&&(O=!1,D(M),M=-1),b=!0;var ue=S;try{for(ee(Oe),T=t(m);T!==null&&(!(T.expirationTime>Oe)||ae&&!$());){var G=T.callback;if(typeof G=="function"){T.callback=null,S=T.priorityLevel;var oe=G(T.expirationTime<=Oe);Oe=n.unstable_now(),typeof oe=="function"?T.callback=oe:T===t(m)&&r(m),ee(Oe)}else r(m);T=t(m)}if(T!==null)var Ee=!0;else{var Re=t(_);Re!==null&&ot(se,Re.startTime-Oe),Ee=!1}return Ee}finally{T=null,S=ue,b=!1}}var Se=!1,B=null,M=-1,F=5,q=-1;function $(){return!(n.unstable_now()-q<F)}function Q(){if(B!==null){var ae=n.unstable_now();q=ae;var Oe=!0;try{Oe=B(!0,ae)}finally{Oe?z():(Se=!1,B=null)}}else Se=!1}var z;if(typeof K=="function")z=function(){K(Q)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,pn=ct.port2;ct.port1.onmessage=Q,z=function(){pn.postMessage(null)}}else z=function(){j(Q,0)};function dt(ae){B=ae,Se||(Se=!0,z())}function ot(ae,Oe){M=j(function(){ae(n.unstable_now())},Oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){N||b||(N=!0,dt(me))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(ae){switch(S){case 1:case 2:case 3:var Oe=3;break;default:Oe=S}var ue=S;S=Oe;try{return ae()}finally{S=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,Oe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ue=S;S=ae;try{return Oe()}finally{S=ue}},n.unstable_scheduleCallback=function(ae,Oe,ue){var G=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?G+ue:G):ue=G,ae){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ue+oe,ae={id:w++,callback:Oe,priorityLevel:ae,startTime:ue,expirationTime:oe,sortIndex:-1},ue>G?(ae.sortIndex=ue,e(_,ae),t(m)===null&&ae===t(_)&&(O?(D(M),M=-1):O=!0,ot(se,ue-G))):(ae.sortIndex=oe,e(m,ae),N||b||(N=!0,dt(me))),ae},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(ae){var Oe=S;return function(){var ue=S;S=Oe;try{return ae.apply(this,arguments)}finally{S=ue}}}}(Cm)),Cm}var _w;function HC(){return _w||(_w=1,Sm.exports=BC()),Sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function qC(){if(vw)return gr;vw=1;var n=t_(),e=HC();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,l){u(i,l),u(i+"Capture",l)}function u(i,l){for(o[i]=l,i=0;i<l.length;i++)r.add(l[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(i){return m.call(T,i)?!0:m.call(w,i)?!1:_.test(i)?T[i]=!0:(w[i]=!0,!1)}function b(i,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,l,h,g){if(l===null||typeof l>"u"||b(i,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function O(i,l,h,g,y,I,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=i,this.type=l,this.sanitizeURL=I,this.removeEmptyString=A}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){j[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];j[l]=new O(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){j[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){j[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){j[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){j[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){j[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){j[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){j[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function K(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(D,K);j[l]=new O(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(D,K);j[l]=new O(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(D,K);j[l]=new O(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){j[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),j.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){j[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function ee(i,l,h,g){var y=j.hasOwnProperty(l)?j[l]:null;(y!==null?y.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,h,y,g)&&(h=null),g||y===null?S(l)&&(h===null?i.removeAttribute(l):i.setAttribute(l,""+h)):y.mustUseProperty?i[y.propertyName]=h===null?y.type===3?!1:"":h:(l=y.attributeName,g=y.attributeNamespace,h===null?i.removeAttribute(l):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,g?i.setAttributeNS(g,l,h):i.setAttribute(l,h))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,me=Symbol.for("react.element"),Se=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),$=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),pn=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),ot=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Oe(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,G;function oe(i){if(G===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+i}var Ee=!1;function Re(i,l){if(!i||Ee)return"";Ee=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(re){var g=re}Reflect.construct(i,[],l)}else{try{l.call()}catch(re){g=re}i.call(l.prototype)}else{try{throw Error()}catch(re){g=re}i()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var y=re.stack.split(`
`),I=g.stack.split(`
`),A=y.length-1,V=I.length-1;1<=A&&0<=V&&y[A]!==I[V];)V--;for(;1<=A&&0<=V;A--,V--)if(y[A]!==I[V]){if(A!==1||V!==1)do if(A--,V--,0>V||y[A]!==I[V]){var W=`
`+y[A].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=A&&0<=V);break}}}finally{Ee=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?oe(i):""}function Ce(i){switch(i.tag){case 5:return oe(i.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function xe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case Se:return"Portal";case F:return"Profiler";case M:return"StrictMode";case z:return"Suspense";case ct:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case $:return(i.displayName||"Context")+".Consumer";case q:return(i._context.displayName||"Context")+".Provider";case Q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case pn:return l=i.displayName||null,l!==null?l:xe(i.type)||"Memo";case dt:l=i._payload,i=i._init;try{return xe(i(l))}catch{}}return null}function Ke(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ye(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _t(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Bt(i){var l=_t(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,I=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return y.call(this)},set:function(A){g=""+A,I.call(this,A)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(A){g=""+A},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function xr(i){i._valueTracker||(i._valueTracker=Bt(i))}function Br(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return i&&(g=_t(i)?i.checked?"true":"false":i.value),i=g,i!==h?(l.setValue(i),!0):!1}function Hr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function cs(i,l){var h=l.checked;return ue({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function hs(i,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Ye(l.value!=null?l.value:h),i._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function go(i,l){l=l.checked,l!=null&&ee(i,"checked",l,!1)}function ds(i,l){go(i,l);var h=Ye(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?_o(i,l.type,h):l.hasOwnProperty("defaultValue")&&_o(i,l.type,Ye(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function fs(i,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,h||l===i.value||(i.value=l),i.defaultValue=l}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function _o(i,l,h){(l!=="number"||Hr(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var qr=Array.isArray;function Ir(i,l,h,g){if(i=i.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<i.length;h++)y=l.hasOwnProperty("$"+i[h].value),i[h].selected!==y&&(i[h].selected=y),y&&g&&(i[h].defaultSelected=!0)}else{for(h=""+Ye(h),l=null,y=0;y<i.length;y++){if(i[y].value===h){i[y].selected=!0,g&&(i[y].defaultSelected=!0);return}l!==null||i[y].disabled||(l=i[y])}l!==null&&(l.selected=!0)}}function vo(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ps(i,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(qr(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}i._wrapperState={initialValue:Ye(h)}}function yo(i,l){var h=Ye(l.value),g=Ye(l.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),l.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),g!=null&&(i.defaultValue=""+g)}function Ua(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Mt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Mt(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Wr,za=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,g,y){MSApp.execUnsafeLocalFunction(function(){return i(l,h,g,y)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Wr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function ci(i,l){if(l){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=l;return}}i.textContent=l}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ms=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(i){ms.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),ki[l]=ki[i]})});function wo(i,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||ki.hasOwnProperty(i)&&ki[i]?(""+l).trim():l+"px"}function gs(i,l){i=i.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,y=wo(h,l[h],g);h==="float"&&(h="cssFloat"),g?i.setProperty(h,y):i[h]=y}}var Eo=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ba(i,l){if(l){if(Eo[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function hi(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function To(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vs=null,Wn=null,Sr=null;function xo(i){if(i=Fs(i)){if(typeof vs!="function")throw Error(t(280));var l=i.stateNode;l&&(l=eu(l),vs(i.stateNode,i.type,l))}}function $r(i){Wn?Sr?Sr.push(i):Sr=[i]:Wn=i}function Ha(){if(Wn){var i=Wn,l=Sr;if(Sr=Wn=null,xo(i),l)for(i=0;i<l.length;i++)xo(l[i])}}function ys(i,l){return i(l)}function qa(){}var di=!1;function ws(i,l,h){if(di)return i(l,h);di=!0;try{return ys(i,l,h)}finally{di=!1,(Wn!==null||Sr!==null)&&(qa(),Ha())}}function Dt(i,l){var h=i.stateNode;if(h===null)return null;var g=eu(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var Io=!1;if(d)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Io=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Io=!1}function Es(i,l,h,g,y,I,A,V,W){var re=Array.prototype.slice.call(arguments,3);try{l.apply(h,re)}catch(fe){this.onError(fe)}}var mn=!1,Ae=null,Jn=!1,So=null,Dl={onError:function(i){mn=!0,Ae=i}};function Ts(i,l,h,g,y,I,A,V,W){mn=!1,Ae=null,Es.apply(Dl,arguments)}function Co(i,l,h,g,y,I,A,V,W){if(Ts.apply(this,arguments),mn){if(mn){var re=Ae;mn=!1,Ae=null}else throw Error(t(198));Jn||(Jn=!0,So=re)}}function er(i){var l=i,h=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(h=l.return),i=l.return;while(i)}return l.tag===3?h:null}function tr(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function nr(i){if(er(i)!==i)throw Error(t(188))}function jl(i){var l=i.alternate;if(!l){if(l=er(i),l===null)throw Error(t(188));return l!==i?null:i}for(var h=i,g=l;;){var y=h.return;if(y===null)break;var I=y.alternate;if(I===null){if(g=y.return,g!==null){h=g;continue}break}if(y.child===I.child){for(I=y.child;I;){if(I===h)return nr(y),i;if(I===g)return nr(y),l;I=I.sibling}throw Error(t(188))}if(h.return!==g.return)h=y,g=I;else{for(var A=!1,V=y.child;V;){if(V===h){A=!0,h=y,g=I;break}if(V===g){A=!0,g=y,h=I;break}V=V.sibling}if(!A){for(V=I.child;V;){if(V===h){A=!0,h=I,g=y;break}if(V===g){A=!0,g=I,h=y;break}V=V.sibling}if(!A)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:l}function Wa(i){return i=jl(i),i!==null?Po(i):null}function Po(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Po(i);if(l!==null)return l;i=i.sibling}return null}var bo=e.unstable_scheduleCallback,Ao=e.unstable_cancelCallback,Vl=e.unstable_shouldYield,ko=e.unstable_requestPaint,Et=e.unstable_now,Fl=e.unstable_getCurrentPriorityLevel,xs=e.unstable_ImmediatePriority,Ri=e.unstable_UserBlockingPriority,rr=e.unstable_NormalPriority,Is=e.unstable_LowPriority,Li=e.unstable_IdlePriority,Ni=null,kn=null;function Oi(i){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Ni,i,void 0,(i.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:fi,vt=Math.log,Ss=Math.LN2;function fi(i){return i>>>=0,i===0?32:31-(vt(i)/Ss|0)|0}var Pr=64,Mi=4194304;function Ue(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function yt(i,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,I=i.pingedLanes,A=h&268435455;if(A!==0){var V=A&~y;V!==0?g=Ue(V):(I&=A,I!==0&&(g=Ue(I)))}else A=h&~y,A!==0?g=Ue(A):I!==0&&(g=Ue(I));if(g===0)return 0;if(l!==0&&l!==g&&(l&y)===0&&(y=g&-g,I=l&-l,y>=I||y===16&&(I&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)h=31-He(l),y=1<<h,g|=i[h],l&=~y;return g}function $a(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(i,l){for(var h=i.suspendedLanes,g=i.pingedLanes,y=i.expirationTimes,I=i.pendingLanes;0<I;){var A=31-He(I),V=1<<A,W=y[A];W===-1?((V&h)===0||(V&g)!==0)&&(y[A]=$a(V,l)):W<=l&&(i.expiredLanes|=V),I&=~V}}function St(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cs(){var i=Pr;return Pr<<=1,(Pr&4194240)===0&&(Pr=64),i}function br(i){for(var l=[],h=0;31>h;h++)l.push(i);return l}function Rn(i,l,h){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-He(l),i[l]=h}function qe(i,l){var h=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<h;){var y=31-He(h),I=1<<y;l[y]=0,g[y]=-1,i[y]=-1,h&=~I}}function Ln(i,l){var h=i.entangledLanes|=l;for(i=i.entanglements;h;){var g=31-He(h),y=1<<g;y&l|i[g]&l&&(i[g]|=l),h&=~y}}var Qe=0;function sr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ro,Gr,Lo,No,Ps,bs=!1,or=[],qt=null,ar=null,$n=null,Di=new Map,Me=new Map,Qt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ga(i,l){switch(i){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Di.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(l.pointerId)}}function gn(i,l,h,g,y,I){return i===null||i.nativeEvent!==I?(i={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:I,targetContainers:[y]},l!==null&&(l=Fs(l),l!==null&&Gr(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),i)}function Za(i,l,h,g,y){switch(l){case"focusin":return qt=gn(qt,i,l,h,g,y),!0;case"dragenter":return ar=gn(ar,i,l,h,g,y),!0;case"mouseover":return $n=gn($n,i,l,h,g,y),!0;case"pointerover":var I=y.pointerId;return Di.set(I,gn(Di.get(I)||null,i,l,h,g,y)),!0;case"gotpointercapture":return I=y.pointerId,Me.set(I,gn(Me.get(I)||null,i,l,h,g,y)),!0}return!1}function Oo(i){var l=Vs(i.target);if(l!==null){var h=er(l);if(h!==null){if(l=h.tag,l===13){if(l=tr(h),l!==null){i.blockedOn=l,Ps(i.priority,function(){Lo(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xn(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var h=Rs(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);_s=g,h.target.dispatchEvent(g),_s=null}else return l=Fs(h),l!==null&&Gr(l),i.blockedOn=h,!1;l.shift()}return!0}function pi(i,l,h){xn(i)&&h.delete(l)}function ji(){bs=!1,qt!==null&&xn(qt)&&(qt=null),ar!==null&&xn(ar)&&(ar=null),$n!==null&&xn($n)&&($n=null),Di.forEach(pi),Me.forEach(pi)}function wt(i,l){i.blockedOn===l&&(i.blockedOn=null,bs||(bs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ji)))}function un(i){function l(y){return wt(y,i)}if(0<or.length){wt(or[0],i);for(var h=1;h<or.length;h++){var g=or[h];g.blockedOn===i&&(g.blockedOn=null)}}for(qt!==null&&wt(qt,i),ar!==null&&wt(ar,i),$n!==null&&wt($n,i),Di.forEach(l),Me.forEach(l),h=0;h<Qt.length;h++)g=Qt[h],g.blockedOn===i&&(g.blockedOn=null);for(;0<Qt.length&&(h=Qt[0],h.blockedOn===null);)Oo(h),h.blockedOn===null&&Qt.shift()}var Zr=se.ReactCurrentBatchConfig,mi=!0;function Ct(i,l,h,g){var y=Qe,I=Zr.transition;Zr.transition=null;try{Qe=1,As(i,l,h,g)}finally{Qe=y,Zr.transition=I}}function Ul(i,l,h,g){var y=Qe,I=Zr.transition;Zr.transition=null;try{Qe=4,As(i,l,h,g)}finally{Qe=y,Zr.transition=I}}function As(i,l,h,g){if(mi){var y=Rs(i,l,h,g);if(y===null)s(i,l,g,ks,h),Ga(i,g);else if(Za(y,i,l,h,g))g.stopPropagation();else if(Ga(i,g),l&4&&-1<ft.indexOf(i)){for(;y!==null;){var I=Fs(y);if(I!==null&&Ro(I),I=Rs(i,l,h,g),I===null&&s(i,l,g,ks,h),I===y)break;y=I}y!==null&&g.stopPropagation()}else s(i,l,g,null,h)}}var ks=null;function Rs(i,l,h,g){if(ks=null,i=To(g),i=Vs(i),i!==null)if(l=er(i),l===null)i=null;else if(h=l.tag,h===13){if(i=tr(l),i!==null)return i;i=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return ks=i,null}function Xe(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fl()){case xs:return 1;case Ri:return 4;case rr:case Is:return 16;case Li:return 536870912;default:return 16}default:return 16}}var Gn=null,_n=null,Jt=null;function Mo(){if(Jt)return Jt;var i,l=_n,h=l.length,g,y="value"in Gn?Gn.value:Gn.textContent,I=y.length;for(i=0;i<h&&l[i]===y[i];i++);var A=h-i;for(g=1;g<=A&&l[h-g]===y[I-g];g++);return Jt=y.slice(i,1<g?1-g:void 0)}function Do(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Ka(){return!1}function en(i){function l(h,g,y,I,A){this._reactName=h,this._targetInst=y,this.type=g,this.nativeEvent=I,this.target=A,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(h=i[V],this[V]=h?h(I):I[V]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?lr:Ka,this.isPropagationStopped=Ka,this}return ue(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),l}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=en(Ar),ur=ue({},Ar,{view:0,detail:0}),Yu=en(ur),In,gi,_i,Nn=ue({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_i&&(_i&&i.type==="mousemove"?(In=i.screenX-_i.screenX,gi=i.screenY-_i.screenY):gi=In=0,_i=i),In)},movementY:function(i){return"movementY"in i?i.movementY:gi}}),Ls=en(Nn),Vo=ue({},Nn,{dataTransfer:0}),Fo=en(Vo),Uo=ue({},ur,{relatedTarget:0}),Ns=en(Uo),Qa=ue({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=en(Qa),zl=ue({},Ar,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zo=en(zl),Bl=ue({},Ar,{data:0}),Bo=en(Bl),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Kr[i])?!!l[i]:!1}function On(){return Hl}var f=ue({},ur,{key:function(i){if(i.key){var l=Os[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Do(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(i){return i.type==="keypress"?Do(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Do(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),x=en(f),P=ue({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=en(P),Y=ue({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On}),ie=en(Y),ve=ue({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=en(ve),Wt=ue({},Nn,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=en(Wt),pt=[9,13,27,32],It=d&&"CompositionEvent"in window,cr=null;d&&"documentMode"in document&&(cr=document.documentMode);var jt=d&&"TextEvent"in window&&!cr,Ms=d&&(!It||cr&&8<cr&&11>=cr),kr=" ",Ph=!1;function Ho(i,l){switch(i){case"keyup":return pt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yi=!1;function fp(i,l){switch(i){case"compositionend":return Xu(l);case"keypress":return l.which!==32?null:(Ph=!0,kr);case"textInput":return i=l.data,i===kr&&Ph?null:i;default:return null}}function Vi(i,l){if(yi)return i==="compositionend"||!It&&Ho(i,l)?(i=Mo(),Jt=_n=Gn=null,yi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ms&&l.locale!=="ko"?null:l.data;default:return null}}var ql={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bh(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!ql[i.type]:l==="textarea"}function Wl(i,l,h,g){$r(g),l=p(l,"onChange"),0<l.length&&(h=new jo("onChange","change",null,h,g),i.push({event:h,listeners:l}))}var Ya=null,Zn=null;function pp(i){ac(i,0)}function wi(i){var l=Us(i);if(Br(l))return i}function mp(i,l){if(i==="change")return l}var Qr=!1;if(d){var qo;if(d){var $l="oninput"in document;if(!$l){var Gl=document.createElement("div");Gl.setAttribute("oninput","return;"),$l=typeof Gl.oninput=="function"}qo=$l}else qo=!1;Qr=qo&&(!document.documentMode||9<document.documentMode)}function Xa(){Ya&&(Ya.detachEvent("onpropertychange",Zl),Zn=Ya=null)}function Zl(i){if(i.propertyName==="value"&&wi(Zn)){var l=[];Wl(l,Zn,i,To(i)),ws(pp,l)}}function Kl(i,l,h){i==="focusin"?(Xa(),Ya=l,Zn=h,Ya.attachEvent("onpropertychange",Zl)):i==="focusout"&&Xa()}function Wo(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wi(Zn)}function Ql(i,l){if(i==="click")return wi(l)}function Ju(i,l){if(i==="input"||i==="change")return wi(l)}function Ah(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Rr=typeof Object.is=="function"?Object.is:Ah;function Fi(i,l){if(Rr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var h=Object.keys(i),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var y=h[g];if(!m.call(l,y)||!Rr(i[y],l[y]))return!1}return!0}function kh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ec(i,l){var h=kh(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=l&&g>=l)return{node:h,offset:l-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=kh(h)}}function Rh(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Rh(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function tc(){for(var i=window,l=Hr();l instanceof i.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)i=l.contentWindow;else break;l=Hr(i.document)}return l}function nc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Yr(i){var l=tc(),h=i.focusedElem,g=i.selectionRange;if(l!==h&&h&&h.ownerDocument&&Rh(h.ownerDocument.documentElement,h)){if(g!==null&&nc(h)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(i,h.value.length);else if(i=(l=h.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var y=h.textContent.length,I=Math.min(g.start,y);g=g.end===void 0?I:Math.min(g.end,y),!i.extend&&I>g&&(y=g,g=I,I=y),y=ec(h,I);var A=ec(h,g);y&&A&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),i.removeAllRanges(),I>g?(i.addRange(l),i.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),i.addRange(l)))}}for(l=[],i=h;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)i=l[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Yl=d&&"documentMode"in document&&11>=document.documentMode,$o=null,Go=null,Ja=null,Xl=!1;function Lh(i,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Xl||$o==null||$o!==Hr(g)||(g=$o,"selectionStart"in g&&nc(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ja&&Fi(Ja,g)||(Ja=g,g=p(Go,"onSelect"),0<g.length&&(l=new jo("onSelect","select",null,l,h),i.push({event:l,listeners:g}),l.target=$o)))}function Ui(i,l){var h={};return h[i.toLowerCase()]=l.toLowerCase(),h["Webkit"+i]="webkit"+l,h["Moz"+i]="moz"+l,h}var Zo={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},zi={},rc={};d&&(rc=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function el(i){if(zi[i])return zi[i];if(!Zo[i])return i;var l=Zo[i],h;for(h in l)if(l.hasOwnProperty(h)&&h in rc)return zi[i]=l[h];return i}var Nh=el("animationend"),Xr=el("animationiteration"),ic=el("animationstart"),sc=el("transitionend"),Ko=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(i,l){Ko.set(i,l),a(l,[i])}for(var Ds=0;Ds<Oh.length;Ds++){var Jl=Oh[Ds],Mh=Jl.toLowerCase(),gp=Jl[0].toUpperCase()+Jl.slice(1);Lr(Mh,"on"+gp)}Lr(Nh,"onAnimationEnd"),Lr(Xr,"onAnimationIteration"),Lr(ic,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(sc,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function oc(i,l,h){var g=i.type||"unknown-event";i.currentTarget=h,Co(g,l,void 0,i),i.currentTarget=null}function ac(i,l){l=(l&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],y=g.event;g=g.listeners;e:{var I=void 0;if(l)for(var A=g.length-1;0<=A;A--){var V=g[A],W=V.instance,re=V.currentTarget;if(V=V.listener,W!==I&&y.isPropagationStopped())break e;oc(y,V,re),I=W}else for(A=0;A<g.length;A++){if(V=g[A],W=V.instance,re=V.currentTarget,V=V.listener,W!==I&&y.isPropagationStopped())break e;oc(y,V,re),I=W}}}if(Jn)throw i=So,Jn=!1,So=null,i}function Tt(i,l){var h=l[ea];h===void 0&&(h=l[ea]=new Set);var g=i+"__bubble";h.has(g)||(jh(l,i,2,!1),h.add(g))}function lc(i,l,h){var g=0;l&&(g|=4),jh(h,i,g,l)}var tl="_reactListening"+Math.random().toString(36).slice(2);function Yo(i){if(!i[tl]){i[tl]=!0,r.forEach(function(h){h!=="selectionchange"&&(Dh.has(h)||lc(h,!1,i),lc(h,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[tl]||(l[tl]=!0,lc("selectionchange",!1,l))}}function jh(i,l,h,g){switch(Xe(l)){case 1:var y=Ct;break;case 4:y=Ul;break;default:y=As}h=y.bind(null,l,h,i),y=void 0,!Io||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),g?y!==void 0?i.addEventListener(l,h,{capture:!0,passive:y}):i.addEventListener(l,h,!0):y!==void 0?i.addEventListener(l,h,{passive:y}):i.addEventListener(l,h,!1)}function s(i,l,h,g,y){var I=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var V=g.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(A===4)for(A=g.return;A!==null;){var W=A.tag;if((W===3||W===4)&&(W=A.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;A=A.return}for(;V!==null;){if(A=Vs(V),A===null)return;if(W=A.tag,W===5||W===6){g=I=A;continue e}V=V.parentNode}}g=g.return}ws(function(){var re=I,fe=To(h),pe=[];e:{var de=Ko.get(i);if(de!==void 0){var Te=jo,be=i;switch(i){case"keypress":if(Do(h)===0)break e;case"keydown":case"keyup":Te=x;break;case"focusin":be="focus",Te=Ns;break;case"focusout":be="blur",Te=Ns;break;case"beforeblur":case"afterblur":Te=Ns;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ie;break;case Nh:case Xr:case ic:Te=vi;break;case sc:Te=ht;break;case"scroll":Te=Yu;break;case"wheel":Te=rt;break;case"copy":case"cut":case"paste":Te=zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=R}var ke=(l&4)!==0,Yt=!ke&&i==="scroll",J=ke?de!==null?de+"Capture":null:de;ke=[];for(var Z=re,te;Z!==null;){te=Z;var _e=te.stateNode;if(te.tag===5&&_e!==null&&(te=_e,J!==null&&(_e=Dt(Z,J),_e!=null&&ke.push(c(Z,_e,te)))),Yt)break;Z=Z.return}0<ke.length&&(de=new Te(de,be,null,h,fe),pe.push({event:de,listeners:ke}))}}if((l&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",Te=i==="mouseout"||i==="pointerout",de&&h!==_s&&(be=h.relatedTarget||h.fromElement)&&(Vs(be)||be[mt]))break e;if((Te||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,Te?(be=h.relatedTarget||h.toElement,Te=re,be=be?Vs(be):null,be!==null&&(Yt=er(be),be!==Yt||be.tag!==5&&be.tag!==6)&&(be=null)):(Te=null,be=re),Te!==be)){if(ke=Ls,_e="onMouseLeave",J="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(ke=R,_e="onPointerLeave",J="onPointerEnter",Z="pointer"),Yt=Te==null?de:Us(Te),te=be==null?de:Us(be),de=new ke(_e,Z+"leave",Te,h,fe),de.target=Yt,de.relatedTarget=te,_e=null,Vs(fe)===re&&(ke=new ke(J,Z+"enter",be,h,fe),ke.target=te,ke.relatedTarget=Yt,_e=ke),Yt=_e,Te&&be)t:{for(ke=Te,J=be,Z=0,te=ke;te;te=v(te))Z++;for(te=0,_e=J;_e;_e=v(_e))te++;for(;0<Z-te;)ke=v(ke),Z--;for(;0<te-Z;)J=v(J),te--;for(;Z--;){if(ke===J||J!==null&&ke===J.alternate)break t;ke=v(ke),J=v(J)}ke=null}else ke=null;Te!==null&&C(pe,de,Te,ke,!1),be!==null&&Yt!==null&&C(pe,Yt,be,ke,!0)}}e:{if(de=re?Us(re):window,Te=de.nodeName&&de.nodeName.toLowerCase(),Te==="select"||Te==="input"&&de.type==="file")var Le=mp;else if(bh(de))if(Qr)Le=Ju;else{Le=Wo;var Ve=Kl}else(Te=de.nodeName)&&Te.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Le=Ql);if(Le&&(Le=Le(i,re))){Wl(pe,Le,h,fe);break e}Ve&&Ve(i,de,re),i==="focusout"&&(Ve=de._wrapperState)&&Ve.controlled&&de.type==="number"&&_o(de,"number",de.value)}switch(Ve=re?Us(re):window,i){case"focusin":(bh(Ve)||Ve.contentEditable==="true")&&($o=Ve,Go=re,Ja=null);break;case"focusout":Ja=Go=$o=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,Lh(pe,h,fe);break;case"selectionchange":if(Yl)break;case"keydown":case"keyup":Lh(pe,h,fe)}var Fe;if(It)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else yi?Ho(i,h)&&(We="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(We="onCompositionStart");We&&(Ms&&h.locale!=="ko"&&(yi||We!=="onCompositionStart"?We==="onCompositionEnd"&&yi&&(Fe=Mo()):(Gn=fe,_n="value"in Gn?Gn.value:Gn.textContent,yi=!0)),Ve=p(re,We),0<Ve.length&&(We=new Bo(We,i,null,h,fe),pe.push({event:We,listeners:Ve}),Fe?We.data=Fe:(Fe=Xu(h),Fe!==null&&(We.data=Fe)))),(Fe=jt?fp(i,h):Vi(i,h))&&(re=p(re,"onBeforeInput"),0<re.length&&(fe=new Bo("onBeforeInput","beforeinput",null,h,fe),pe.push({event:fe,listeners:re}),fe.data=Fe))}ac(pe,l)})}function c(i,l,h){return{instance:i,listener:l,currentTarget:h}}function p(i,l){for(var h=l+"Capture",g=[];i!==null;){var y=i,I=y.stateNode;y.tag===5&&I!==null&&(y=I,I=Dt(i,h),I!=null&&g.unshift(c(i,I,y)),I=Dt(i,l),I!=null&&g.push(c(i,I,y))),i=i.return}return g}function v(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function C(i,l,h,g,y){for(var I=l._reactName,A=[];h!==null&&h!==g;){var V=h,W=V.alternate,re=V.stateNode;if(W!==null&&W===g)break;V.tag===5&&re!==null&&(V=re,y?(W=Dt(h,I),W!=null&&A.unshift(c(h,W,V))):y||(W=Dt(h,I),W!=null&&A.push(c(h,W,V)))),h=h.return}A.length!==0&&i.push({event:l,listeners:A})}var k=/\r\n?/g,H=/\u0000|\uFFFD/g;function X(i){return(typeof i=="string"?i:""+i).replace(k,`
`).replace(H,"")}function ne(i,l,h){if(l=X(l),X(i)!==l&&h)throw Error(t(425))}function he(){}var ye=null,je=null;function Ze(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var cn=typeof setTimeout=="function"?setTimeout:void 0,nn=typeof clearTimeout=="function"?clearTimeout:void 0,Kn=typeof Promise=="function"?Promise:void 0,Mn=typeof queueMicrotask=="function"?queueMicrotask:typeof Kn<"u"?function(i){return Kn.resolve(null).then(i).catch(Xo)}:cn;function Xo(i){setTimeout(function(){throw i})}function uc(i,l){var h=l,g=0;do{var y=h.nextSibling;if(i.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(g===0){i.removeChild(y),un(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=y}while(h);un(l)}function Bi(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Vh(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return i;l--}else h==="/$"&&l++}i=i.previousSibling}return null}var js=Math.random().toString(36).slice(2),Jr="__reactFiber$"+js,Jo="__reactProps$"+js,mt="__reactContainer$"+js,ea="__reactEvents$"+js,_p="__reactListeners$"+js,vp="__reactHandles$"+js;function Vs(i){var l=i[Jr];if(l)return l;for(var h=i.parentNode;h;){if(l=h[mt]||h[Jr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(i=Vh(i);i!==null;){if(h=i[Jr])return h;i=Vh(i)}return l}i=h,h=i.parentNode}return null}function Fs(i){return i=i[Jr]||i[mt],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Us(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function eu(i){return i[Jo]||null}var yp=[],tu=-1;function ta(i){return{current:i}}function Rt(i){0>tu||(i.current=yp[tu],yp[tu]=null,tu--)}function Pt(i,l){tu++,yp[tu]=i.current,i.current=l}var na={},Dn=ta(na),hr=ta(!1),nl=na;function nu(i,l){var h=i.type.contextTypes;if(!h)return na;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var y={},I;for(I in h)y[I]=l[I];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=y),y}function dr(i){return i=i.childContextTypes,i!=null}function Fh(){Rt(hr),Rt(Dn)}function Ov(i,l,h){if(Dn.current!==na)throw Error(t(168));Pt(Dn,l),Pt(hr,h)}function Mv(i,l,h){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var y in g)if(!(y in l))throw Error(t(108,Ke(i)||"Unknown",y));return ue({},h,g)}function Uh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||na,nl=Dn.current,Pt(Dn,i),Pt(hr,hr.current),!0}function Dv(i,l,h){var g=i.stateNode;if(!g)throw Error(t(169));h?(i=Mv(i,l,nl),g.__reactInternalMemoizedMergedChildContext=i,Rt(hr),Rt(Dn),Pt(Dn,i)):Rt(hr),Pt(hr,h)}var zs=null,zh=!1,wp=!1;function jv(i){zs===null?zs=[i]:zs.push(i)}function iC(i){zh=!0,jv(i)}function ra(){if(!wp&&zs!==null){wp=!0;var i=0,l=Qe;try{var h=zs;for(Qe=1;i<h.length;i++){var g=h[i];do g=g(!0);while(g!==null)}zs=null,zh=!1}catch(y){throw zs!==null&&(zs=zs.slice(i+1)),bo(xs,ra),y}finally{Qe=l,wp=!1}}return null}var ru=[],iu=0,Bh=null,Hh=0,ei=[],ti=0,rl=null,Bs=1,Hs="";function il(i,l){ru[iu++]=Hh,ru[iu++]=Bh,Bh=i,Hh=l}function Vv(i,l,h){ei[ti++]=Bs,ei[ti++]=Hs,ei[ti++]=rl,rl=i;var g=Bs;i=Hs;var y=32-He(g)-1;g&=~(1<<y),h+=1;var I=32-He(l)+y;if(30<I){var A=y-y%5;I=(g&(1<<A)-1).toString(32),g>>=A,y-=A,Bs=1<<32-He(l)+y|h<<y|g,Hs=I+i}else Bs=1<<I|h<<y|g,Hs=i}function Ep(i){i.return!==null&&(il(i,1),Vv(i,1,0))}function Tp(i){for(;i===Bh;)Bh=ru[--iu],ru[iu]=null,Hh=ru[--iu],ru[iu]=null;for(;i===rl;)rl=ei[--ti],ei[ti]=null,Hs=ei[--ti],ei[ti]=null,Bs=ei[--ti],ei[ti]=null}var Nr=null,Or=null,Nt=!1,Ei=null;function Fv(i,l){var h=si(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=i,l=i.deletions,l===null?(i.deletions=[h],i.flags|=16):l.push(h)}function Uv(i,l){switch(i.tag){case 5:var h=i.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Nr=i,Or=Bi(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Nr=i,Or=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=rl!==null?{id:Bs,overflow:Hs}:null,i.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=si(18,null,null,0),h.stateNode=l,h.return=i,i.child=h,Nr=i,Or=null,!0):!1;default:return!1}}function xp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ip(i){if(Nt){var l=Or;if(l){var h=l;if(!Uv(i,l)){if(xp(i))throw Error(t(418));l=Bi(h.nextSibling);var g=Nr;l&&Uv(i,l)?Fv(g,h):(i.flags=i.flags&-4097|2,Nt=!1,Nr=i)}}else{if(xp(i))throw Error(t(418));i.flags=i.flags&-4097|2,Nt=!1,Nr=i}}}function zv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Nr=i}function qh(i){if(i!==Nr)return!1;if(!Nt)return zv(i),Nt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Ze(i.type,i.memoizedProps)),l&&(l=Or)){if(xp(i))throw Bv(),Error(t(418));for(;l;)Fv(i,l),l=Bi(l.nextSibling)}if(zv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(l===0){Or=Bi(i.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}i=i.nextSibling}Or=null}}else Or=Nr?Bi(i.stateNode.nextSibling):null;return!0}function Bv(){for(var i=Or;i;)i=Bi(i.nextSibling)}function su(){Or=Nr=null,Nt=!1}function Sp(i){Ei===null?Ei=[i]:Ei.push(i)}var sC=se.ReactCurrentBatchConfig;function cc(i,l,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,i));var y=g,I=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===I?l.ref:(l=function(A){var V=y.refs;A===null?delete V[I]:V[I]=A},l._stringRef=I,l)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function Wh(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Hv(i){var l=i._init;return l(i._payload)}function qv(i){function l(J,Z){if(i){var te=J.deletions;te===null?(J.deletions=[Z],J.flags|=16):te.push(Z)}}function h(J,Z){if(!i)return null;for(;Z!==null;)l(J,Z),Z=Z.sibling;return null}function g(J,Z){for(J=new Map;Z!==null;)Z.key!==null?J.set(Z.key,Z):J.set(Z.index,Z),Z=Z.sibling;return J}function y(J,Z){return J=ha(J,Z),J.index=0,J.sibling=null,J}function I(J,Z,te){return J.index=te,i?(te=J.alternate,te!==null?(te=te.index,te<Z?(J.flags|=2,Z):te):(J.flags|=2,Z)):(J.flags|=1048576,Z)}function A(J){return i&&J.alternate===null&&(J.flags|=2),J}function V(J,Z,te,_e){return Z===null||Z.tag!==6?(Z=gm(te,J.mode,_e),Z.return=J,Z):(Z=y(Z,te),Z.return=J,Z)}function W(J,Z,te,_e){var Le=te.type;return Le===B?fe(J,Z,te.props.children,_e,te.key):Z!==null&&(Z.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===dt&&Hv(Le)===Z.type)?(_e=y(Z,te.props),_e.ref=cc(J,Z,te),_e.return=J,_e):(_e=md(te.type,te.key,te.props,null,J.mode,_e),_e.ref=cc(J,Z,te),_e.return=J,_e)}function re(J,Z,te,_e){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==te.containerInfo||Z.stateNode.implementation!==te.implementation?(Z=_m(te,J.mode,_e),Z.return=J,Z):(Z=y(Z,te.children||[]),Z.return=J,Z)}function fe(J,Z,te,_e,Le){return Z===null||Z.tag!==7?(Z=dl(te,J.mode,_e,Le),Z.return=J,Z):(Z=y(Z,te),Z.return=J,Z)}function pe(J,Z,te){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=gm(""+Z,J.mode,te),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case me:return te=md(Z.type,Z.key,Z.props,null,J.mode,te),te.ref=cc(J,null,Z),te.return=J,te;case Se:return Z=_m(Z,J.mode,te),Z.return=J,Z;case dt:var _e=Z._init;return pe(J,_e(Z._payload),te)}if(qr(Z)||Oe(Z))return Z=dl(Z,J.mode,te,null),Z.return=J,Z;Wh(J,Z)}return null}function de(J,Z,te,_e){var Le=Z!==null?Z.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Le!==null?null:V(J,Z,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case me:return te.key===Le?W(J,Z,te,_e):null;case Se:return te.key===Le?re(J,Z,te,_e):null;case dt:return Le=te._init,de(J,Z,Le(te._payload),_e)}if(qr(te)||Oe(te))return Le!==null?null:fe(J,Z,te,_e,null);Wh(J,te)}return null}function Te(J,Z,te,_e,Le){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return J=J.get(te)||null,V(Z,J,""+_e,Le);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case me:return J=J.get(_e.key===null?te:_e.key)||null,W(Z,J,_e,Le);case Se:return J=J.get(_e.key===null?te:_e.key)||null,re(Z,J,_e,Le);case dt:var Ve=_e._init;return Te(J,Z,te,Ve(_e._payload),Le)}if(qr(_e)||Oe(_e))return J=J.get(te)||null,fe(Z,J,_e,Le,null);Wh(Z,_e)}return null}function be(J,Z,te,_e){for(var Le=null,Ve=null,Fe=Z,We=Z=0,wn=null;Fe!==null&&We<te.length;We++){Fe.index>We?(wn=Fe,Fe=null):wn=Fe.sibling;var ut=de(J,Fe,te[We],_e);if(ut===null){Fe===null&&(Fe=wn);break}i&&Fe&&ut.alternate===null&&l(J,Fe),Z=I(ut,Z,We),Ve===null?Le=ut:Ve.sibling=ut,Ve=ut,Fe=wn}if(We===te.length)return h(J,Fe),Nt&&il(J,We),Le;if(Fe===null){for(;We<te.length;We++)Fe=pe(J,te[We],_e),Fe!==null&&(Z=I(Fe,Z,We),Ve===null?Le=Fe:Ve.sibling=Fe,Ve=Fe);return Nt&&il(J,We),Le}for(Fe=g(J,Fe);We<te.length;We++)wn=Te(Fe,J,We,te[We],_e),wn!==null&&(i&&wn.alternate!==null&&Fe.delete(wn.key===null?We:wn.key),Z=I(wn,Z,We),Ve===null?Le=wn:Ve.sibling=wn,Ve=wn);return i&&Fe.forEach(function(da){return l(J,da)}),Nt&&il(J,We),Le}function ke(J,Z,te,_e){var Le=Oe(te);if(typeof Le!="function")throw Error(t(150));if(te=Le.call(te),te==null)throw Error(t(151));for(var Ve=Le=null,Fe=Z,We=Z=0,wn=null,ut=te.next();Fe!==null&&!ut.done;We++,ut=te.next()){Fe.index>We?(wn=Fe,Fe=null):wn=Fe.sibling;var da=de(J,Fe,ut.value,_e);if(da===null){Fe===null&&(Fe=wn);break}i&&Fe&&da.alternate===null&&l(J,Fe),Z=I(da,Z,We),Ve===null?Le=da:Ve.sibling=da,Ve=da,Fe=wn}if(ut.done)return h(J,Fe),Nt&&il(J,We),Le;if(Fe===null){for(;!ut.done;We++,ut=te.next())ut=pe(J,ut.value,_e),ut!==null&&(Z=I(ut,Z,We),Ve===null?Le=ut:Ve.sibling=ut,Ve=ut);return Nt&&il(J,We),Le}for(Fe=g(J,Fe);!ut.done;We++,ut=te.next())ut=Te(Fe,J,We,ut.value,_e),ut!==null&&(i&&ut.alternate!==null&&Fe.delete(ut.key===null?We:ut.key),Z=I(ut,Z,We),Ve===null?Le=ut:Ve.sibling=ut,Ve=ut);return i&&Fe.forEach(function(VC){return l(J,VC)}),Nt&&il(J,We),Le}function Yt(J,Z,te,_e){if(typeof te=="object"&&te!==null&&te.type===B&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case me:e:{for(var Le=te.key,Ve=Z;Ve!==null;){if(Ve.key===Le){if(Le=te.type,Le===B){if(Ve.tag===7){h(J,Ve.sibling),Z=y(Ve,te.props.children),Z.return=J,J=Z;break e}}else if(Ve.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===dt&&Hv(Le)===Ve.type){h(J,Ve.sibling),Z=y(Ve,te.props),Z.ref=cc(J,Ve,te),Z.return=J,J=Z;break e}h(J,Ve);break}else l(J,Ve);Ve=Ve.sibling}te.type===B?(Z=dl(te.props.children,J.mode,_e,te.key),Z.return=J,J=Z):(_e=md(te.type,te.key,te.props,null,J.mode,_e),_e.ref=cc(J,Z,te),_e.return=J,J=_e)}return A(J);case Se:e:{for(Ve=te.key;Z!==null;){if(Z.key===Ve)if(Z.tag===4&&Z.stateNode.containerInfo===te.containerInfo&&Z.stateNode.implementation===te.implementation){h(J,Z.sibling),Z=y(Z,te.children||[]),Z.return=J,J=Z;break e}else{h(J,Z);break}else l(J,Z);Z=Z.sibling}Z=_m(te,J.mode,_e),Z.return=J,J=Z}return A(J);case dt:return Ve=te._init,Yt(J,Z,Ve(te._payload),_e)}if(qr(te))return be(J,Z,te,_e);if(Oe(te))return ke(J,Z,te,_e);Wh(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,Z!==null&&Z.tag===6?(h(J,Z.sibling),Z=y(Z,te),Z.return=J,J=Z):(h(J,Z),Z=gm(te,J.mode,_e),Z.return=J,J=Z),A(J)):h(J,Z)}return Yt}var ou=qv(!0),Wv=qv(!1),$h=ta(null),Gh=null,au=null,Cp=null;function Pp(){Cp=au=Gh=null}function bp(i){var l=$h.current;Rt($h),i._currentValue=l}function Ap(i,l,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===h)break;i=i.return}}function lu(i,l){Gh=i,Cp=au=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(fr=!0),i.firstContext=null)}function ni(i){var l=i._currentValue;if(Cp!==i)if(i={context:i,memoizedValue:l,next:null},au===null){if(Gh===null)throw Error(t(308));au=i,Gh.dependencies={lanes:0,firstContext:i}}else au=au.next=i;return l}var sl=null;function kp(i){sl===null?sl=[i]:sl.push(i)}function $v(i,l,h,g){var y=l.interleaved;return y===null?(h.next=h,kp(l)):(h.next=y.next,y.next=h),l.interleaved=h,qs(i,g)}function qs(i,l){i.lanes|=l;var h=i.alternate;for(h!==null&&(h.lanes|=l),h=i,i=i.return;i!==null;)i.childLanes|=l,h=i.alternate,h!==null&&(h.childLanes|=l),h=i,i=i.return;return h.tag===3?h.stateNode:null}var ia=!1;function Rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gv(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ws(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function sa(i,l,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(lt&2)!==0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,qs(i,h)}return y=g.interleaved,y===null?(l.next=l,kp(g)):(l.next=y.next,y.next=l),g.interleaved=l,qs(i,h)}function Zh(i,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,h|=g,l.lanes=h,Ln(i,h)}}function Zv(i,l){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var y=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var A={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};I===null?y=I=A:I=I.next=A,h=h.next}while(h!==null);I===null?y=I=l:I=I.next=l}else y=I=l;h={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:I,shared:g.shared,effects:g.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=l:i.next=l,h.lastBaseUpdate=l}function Kh(i,l,h,g){var y=i.updateQueue;ia=!1;var I=y.firstBaseUpdate,A=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var W=V,re=W.next;W.next=null,A===null?I=re:A.next=re,A=W;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,V=fe.lastBaseUpdate,V!==A&&(V===null?fe.firstBaseUpdate=re:V.next=re,fe.lastBaseUpdate=W))}if(I!==null){var pe=y.baseState;A=0,fe=re=W=null,V=I;do{var de=V.lane,Te=V.eventTime;if((g&de)===de){fe!==null&&(fe=fe.next={eventTime:Te,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var be=i,ke=V;switch(de=l,Te=h,ke.tag){case 1:if(be=ke.payload,typeof be=="function"){pe=be.call(Te,pe,de);break e}pe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ke.payload,de=typeof be=="function"?be.call(Te,pe,de):be,de==null)break e;pe=ue({},pe,de);break e;case 2:ia=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,de=y.effects,de===null?y.effects=[V]:de.push(V))}else Te={eventTime:Te,lane:de,tag:V.tag,payload:V.payload,callback:V.callback,next:null},fe===null?(re=fe=Te,W=pe):fe=fe.next=Te,A|=de;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;de=V,V=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);if(fe===null&&(W=pe),y.baseState=W,y.firstBaseUpdate=re,y.lastBaseUpdate=fe,l=y.shared.interleaved,l!==null){y=l;do A|=y.lane,y=y.next;while(y!==l)}else I===null&&(y.shared.lanes=0);ll|=A,i.lanes=A,i.memoizedState=pe}}function Kv(i,l,h){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],y=g.callback;if(y!==null){if(g.callback=null,g=h,typeof y!="function")throw Error(t(191,y));y.call(g)}}}var hc={},Hi=ta(hc),dc=ta(hc),fc=ta(hc);function ol(i){if(i===hc)throw Error(t(174));return i}function Lp(i,l){switch(Pt(fc,l),Pt(dc,i),Pt(Hi,hc),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ht(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Ht(l,i)}Rt(Hi),Pt(Hi,l)}function uu(){Rt(Hi),Rt(dc),Rt(fc)}function Qv(i){ol(fc.current);var l=ol(Hi.current),h=Ht(l,i.type);l!==h&&(Pt(dc,i),Pt(Hi,h))}function Np(i){dc.current===i&&(Rt(Hi),Rt(dc))}var Vt=ta(0);function Qh(i){for(var l=i;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Op=[];function Mp(){for(var i=0;i<Op.length;i++)Op[i]._workInProgressVersionPrimary=null;Op.length=0}var Yh=se.ReactCurrentDispatcher,Dp=se.ReactCurrentBatchConfig,al=0,Ft=null,hn=null,vn=null,Xh=!1,pc=!1,mc=0,oC=0;function jn(){throw Error(t(321))}function jp(i,l){if(l===null)return!1;for(var h=0;h<l.length&&h<i.length;h++)if(!Rr(i[h],l[h]))return!1;return!0}function Vp(i,l,h,g,y,I){if(al=I,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Yh.current=i===null||i.memoizedState===null?cC:hC,i=h(g,y),pc){I=0;do{if(pc=!1,mc=0,25<=I)throw Error(t(301));I+=1,vn=hn=null,l.updateQueue=null,Yh.current=dC,i=h(g,y)}while(pc)}if(Yh.current=td,l=hn!==null&&hn.next!==null,al=0,vn=hn=Ft=null,Xh=!1,l)throw Error(t(300));return i}function Fp(){var i=mc!==0;return mc=0,i}function qi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Ft.memoizedState=vn=i:vn=vn.next=i,vn}function ri(){if(hn===null){var i=Ft.alternate;i=i!==null?i.memoizedState:null}else i=hn.next;var l=vn===null?Ft.memoizedState:vn.next;if(l!==null)vn=l,hn=i;else{if(i===null)throw Error(t(310));hn=i,i={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},vn===null?Ft.memoizedState=vn=i:vn=vn.next=i}return vn}function gc(i,l){return typeof l=="function"?l(i):l}function Up(i){var l=ri(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=hn,y=g.baseQueue,I=h.pending;if(I!==null){if(y!==null){var A=y.next;y.next=I.next,I.next=A}g.baseQueue=y=I,h.pending=null}if(y!==null){I=y.next,g=g.baseState;var V=A=null,W=null,re=I;do{var fe=re.lane;if((al&fe)===fe)W!==null&&(W=W.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:i(g,re.action);else{var pe={lane:fe,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};W===null?(V=W=pe,A=g):W=W.next=pe,Ft.lanes|=fe,ll|=fe}re=re.next}while(re!==null&&re!==I);W===null?A=g:W.next=V,Rr(g,l.memoizedState)||(fr=!0),l.memoizedState=g,l.baseState=A,l.baseQueue=W,h.lastRenderedState=g}if(i=h.interleaved,i!==null){y=i;do I=y.lane,Ft.lanes|=I,ll|=I,y=y.next;while(y!==i)}else y===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function zp(i){var l=ri(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var g=h.dispatch,y=h.pending,I=l.memoizedState;if(y!==null){h.pending=null;var A=y=y.next;do I=i(I,A.action),A=A.next;while(A!==y);Rr(I,l.memoizedState)||(fr=!0),l.memoizedState=I,l.baseQueue===null&&(l.baseState=I),h.lastRenderedState=I}return[I,g]}function Yv(){}function Xv(i,l){var h=Ft,g=ri(),y=l(),I=!Rr(g.memoizedState,y);if(I&&(g.memoizedState=y,fr=!0),g=g.queue,Bp(ty.bind(null,h,g,i),[i]),g.getSnapshot!==l||I||vn!==null&&vn.memoizedState.tag&1){if(h.flags|=2048,_c(9,ey.bind(null,h,g,y,l),void 0,null),yn===null)throw Error(t(349));(al&30)!==0||Jv(h,l,y)}return y}function Jv(i,l,h){i.flags|=16384,i={getSnapshot:l,value:h},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.stores=[i]):(h=l.stores,h===null?l.stores=[i]:h.push(i))}function ey(i,l,h,g){l.value=h,l.getSnapshot=g,ny(l)&&ry(i)}function ty(i,l,h){return h(function(){ny(l)&&ry(i)})}function ny(i){var l=i.getSnapshot;i=i.value;try{var h=l();return!Rr(i,h)}catch{return!0}}function ry(i){var l=qs(i,1);l!==null&&Si(l,i,1,-1)}function iy(i){var l=qi();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:i},l.queue=i,i=i.dispatch=uC.bind(null,Ft,i),[l.memoizedState,i]}function _c(i,l,h,g){return i={tag:i,create:l,destroy:h,deps:g,next:null},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.lastEffect=i.next=i):(h=l.lastEffect,h===null?l.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,l.lastEffect=i)),i}function sy(){return ri().memoizedState}function Jh(i,l,h,g){var y=qi();Ft.flags|=i,y.memoizedState=_c(1|l,h,void 0,g===void 0?null:g)}function ed(i,l,h,g){var y=ri();g=g===void 0?null:g;var I=void 0;if(hn!==null){var A=hn.memoizedState;if(I=A.destroy,g!==null&&jp(g,A.deps)){y.memoizedState=_c(l,h,I,g);return}}Ft.flags|=i,y.memoizedState=_c(1|l,h,I,g)}function oy(i,l){return Jh(8390656,8,i,l)}function Bp(i,l){return ed(2048,8,i,l)}function ay(i,l){return ed(4,2,i,l)}function ly(i,l){return ed(4,4,i,l)}function uy(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function cy(i,l,h){return h=h!=null?h.concat([i]):null,ed(4,4,uy.bind(null,l,i),h)}function Hp(){}function hy(i,l){var h=ri();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&jp(l,g[1])?g[0]:(h.memoizedState=[i,l],i)}function dy(i,l){var h=ri();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&jp(l,g[1])?g[0]:(i=i(),h.memoizedState=[i,l],i)}function fy(i,l,h){return(al&21)===0?(i.baseState&&(i.baseState=!1,fr=!0),i.memoizedState=h):(Rr(h,l)||(h=Cs(),Ft.lanes|=h,ll|=h,i.baseState=!0),l)}function aC(i,l){var h=Qe;Qe=h!==0&&4>h?h:4,i(!0);var g=Dp.transition;Dp.transition={};try{i(!1),l()}finally{Qe=h,Dp.transition=g}}function py(){return ri().memoizedState}function lC(i,l,h){var g=ua(i);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},my(i))gy(l,h);else if(h=$v(i,l,h,g),h!==null){var y=Yn();Si(h,i,g,y),_y(h,l,g)}}function uC(i,l,h){var g=ua(i),y={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(my(i))gy(l,y);else{var I=i.alternate;if(i.lanes===0&&(I===null||I.lanes===0)&&(I=l.lastRenderedReducer,I!==null))try{var A=l.lastRenderedState,V=I(A,h);if(y.hasEagerState=!0,y.eagerState=V,Rr(V,A)){var W=l.interleaved;W===null?(y.next=y,kp(l)):(y.next=W.next,W.next=y),l.interleaved=y;return}}catch{}finally{}h=$v(i,l,y,g),h!==null&&(y=Yn(),Si(h,i,g,y),_y(h,l,g))}}function my(i){var l=i.alternate;return i===Ft||l!==null&&l===Ft}function gy(i,l){pc=Xh=!0;var h=i.pending;h===null?l.next=l:(l.next=h.next,h.next=l),i.pending=l}function _y(i,l,h){if((h&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,h|=g,l.lanes=h,Ln(i,h)}}var td={readContext:ni,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},cC={readContext:ni,useCallback:function(i,l){return qi().memoizedState=[i,l===void 0?null:l],i},useContext:ni,useEffect:oy,useImperativeHandle:function(i,l,h){return h=h!=null?h.concat([i]):null,Jh(4194308,4,uy.bind(null,l,i),h)},useLayoutEffect:function(i,l){return Jh(4194308,4,i,l)},useInsertionEffect:function(i,l){return Jh(4,2,i,l)},useMemo:function(i,l){var h=qi();return l=l===void 0?null:l,i=i(),h.memoizedState=[i,l],i},useReducer:function(i,l,h){var g=qi();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=lC.bind(null,Ft,i),[g.memoizedState,i]},useRef:function(i){var l=qi();return i={current:i},l.memoizedState=i},useState:iy,useDebugValue:Hp,useDeferredValue:function(i){return qi().memoizedState=i},useTransition:function(){var i=iy(!1),l=i[0];return i=aC.bind(null,i[1]),qi().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,h){var g=Ft,y=qi();if(Nt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),yn===null)throw Error(t(349));(al&30)!==0||Jv(g,l,h)}y.memoizedState=h;var I={value:h,getSnapshot:l};return y.queue=I,oy(ty.bind(null,g,I,i),[i]),g.flags|=2048,_c(9,ey.bind(null,g,I,h,l),void 0,null),h},useId:function(){var i=qi(),l=yn.identifierPrefix;if(Nt){var h=Hs,g=Bs;h=(g&~(1<<32-He(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=mc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=oC++,l=":"+l+"r"+h.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},hC={readContext:ni,useCallback:hy,useContext:ni,useEffect:Bp,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:dy,useReducer:Up,useRef:sy,useState:function(){return Up(gc)},useDebugValue:Hp,useDeferredValue:function(i){var l=ri();return fy(l,hn.memoizedState,i)},useTransition:function(){var i=Up(gc)[0],l=ri().memoizedState;return[i,l]},useMutableSource:Yv,useSyncExternalStore:Xv,useId:py,unstable_isNewReconciler:!1},dC={readContext:ni,useCallback:hy,useContext:ni,useEffect:Bp,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:dy,useReducer:zp,useRef:sy,useState:function(){return zp(gc)},useDebugValue:Hp,useDeferredValue:function(i){var l=ri();return hn===null?l.memoizedState=i:fy(l,hn.memoizedState,i)},useTransition:function(){var i=zp(gc)[0],l=ri().memoizedState;return[i,l]},useMutableSource:Yv,useSyncExternalStore:Xv,useId:py,unstable_isNewReconciler:!1};function Ti(i,l){if(i&&i.defaultProps){l=ue({},l),i=i.defaultProps;for(var h in i)l[h]===void 0&&(l[h]=i[h]);return l}return l}function qp(i,l,h,g){l=i.memoizedState,h=h(g,l),h=h==null?l:ue({},l,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var nd={isMounted:function(i){return(i=i._reactInternals)?er(i)===i:!1},enqueueSetState:function(i,l,h){i=i._reactInternals;var g=Yn(),y=ua(i),I=Ws(g,y);I.payload=l,h!=null&&(I.callback=h),l=sa(i,I,y),l!==null&&(Si(l,i,y,g),Zh(l,i,y))},enqueueReplaceState:function(i,l,h){i=i._reactInternals;var g=Yn(),y=ua(i),I=Ws(g,y);I.tag=1,I.payload=l,h!=null&&(I.callback=h),l=sa(i,I,y),l!==null&&(Si(l,i,y,g),Zh(l,i,y))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var h=Yn(),g=ua(i),y=Ws(h,g);y.tag=2,l!=null&&(y.callback=l),l=sa(i,y,g),l!==null&&(Si(l,i,g,h),Zh(l,i,g))}};function vy(i,l,h,g,y,I,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,I,A):l.prototype&&l.prototype.isPureReactComponent?!Fi(h,g)||!Fi(y,I):!0}function yy(i,l,h){var g=!1,y=na,I=l.contextType;return typeof I=="object"&&I!==null?I=ni(I):(y=dr(l)?nl:Dn.current,g=l.contextTypes,I=(g=g!=null)?nu(i,y):na),l=new l(h,I),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=nd,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=I),l}function wy(i,l,h,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==i&&nd.enqueueReplaceState(l,l.state,null)}function Wp(i,l,h,g){var y=i.stateNode;y.props=h,y.state=i.memoizedState,y.refs={},Rp(i);var I=l.contextType;typeof I=="object"&&I!==null?y.context=ni(I):(I=dr(l)?nl:Dn.current,y.context=nu(i,I)),y.state=i.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(qp(i,l,I,h),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&nd.enqueueReplaceState(y,y.state,null),Kh(i,h,y,g),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function cu(i,l){try{var h="",g=l;do h+=Ce(g),g=g.return;while(g);var y=h}catch(I){y=`
Error generating stack: `+I.message+`
`+I.stack}return{value:i,source:l,stack:y,digest:null}}function $p(i,l,h){return{value:i,source:null,stack:h??null,digest:l??null}}function Gp(i,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var fC=typeof WeakMap=="function"?WeakMap:Map;function Ey(i,l,h){h=Ws(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){ud||(ud=!0,lm=g),Gp(i,l)},h}function Ty(i,l,h){h=Ws(-1,h),h.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var y=l.value;h.payload=function(){return g(y)},h.callback=function(){Gp(i,l)}}var I=i.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(h.callback=function(){Gp(i,l),typeof g!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),h}function xy(i,l,h){var g=i.pingCache;if(g===null){g=i.pingCache=new fC;var y=new Set;g.set(l,y)}else y=g.get(l),y===void 0&&(y=new Set,g.set(l,y));y.has(h)||(y.add(h),i=PC.bind(null,i,l,h),l.then(i,i))}function Iy(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Sy(i,l,h,g,y){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Ws(-1,1),l.tag=2,sa(h,l,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var pC=se.ReactCurrentOwner,fr=!1;function Qn(i,l,h,g){l.child=i===null?Wv(l,null,h,g):ou(l,i.child,h,g)}function Cy(i,l,h,g,y){h=h.render;var I=l.ref;return lu(l,y),g=Vp(i,l,h,g,I,y),h=Fp(),i!==null&&!fr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,$s(i,l,y)):(Nt&&h&&Ep(l),l.flags|=1,Qn(i,l,g,y),l.child)}function Py(i,l,h,g,y){if(i===null){var I=h.type;return typeof I=="function"&&!mm(I)&&I.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=I,by(i,l,I,g,y)):(i=md(h.type,null,g,l,l.mode,y),i.ref=l.ref,i.return=l,l.child=i)}if(I=i.child,(i.lanes&y)===0){var A=I.memoizedProps;if(h=h.compare,h=h!==null?h:Fi,h(A,g)&&i.ref===l.ref)return $s(i,l,y)}return l.flags|=1,i=ha(I,g),i.ref=l.ref,i.return=l,l.child=i}function by(i,l,h,g,y){if(i!==null){var I=i.memoizedProps;if(Fi(I,g)&&i.ref===l.ref)if(fr=!1,l.pendingProps=g=I,(i.lanes&y)!==0)(i.flags&131072)!==0&&(fr=!0);else return l.lanes=i.lanes,$s(i,l,y)}return Zp(i,l,h,g,y)}function Ay(i,l,h){var g=l.pendingProps,y=g.children,I=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(du,Mr),Mr|=h;else{if((h&1073741824)===0)return i=I!==null?I.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Pt(du,Mr),Mr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=I!==null?I.baseLanes:h,Pt(du,Mr),Mr|=g}else I!==null?(g=I.baseLanes|h,l.memoizedState=null):g=h,Pt(du,Mr),Mr|=g;return Qn(i,l,y,h),l.child}function ky(i,l){var h=l.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Zp(i,l,h,g,y){var I=dr(h)?nl:Dn.current;return I=nu(l,I),lu(l,y),h=Vp(i,l,h,g,I,y),g=Fp(),i!==null&&!fr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,$s(i,l,y)):(Nt&&g&&Ep(l),l.flags|=1,Qn(i,l,h,y),l.child)}function Ry(i,l,h,g,y){if(dr(h)){var I=!0;Uh(l)}else I=!1;if(lu(l,y),l.stateNode===null)id(i,l),yy(l,h,g),Wp(l,h,g,y),g=!0;else if(i===null){var A=l.stateNode,V=l.memoizedProps;A.props=V;var W=A.context,re=h.contextType;typeof re=="object"&&re!==null?re=ni(re):(re=dr(h)?nl:Dn.current,re=nu(l,re));var fe=h.getDerivedStateFromProps,pe=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function";pe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==g||W!==re)&&wy(l,A,g,re),ia=!1;var de=l.memoizedState;A.state=de,Kh(l,g,A,y),W=l.memoizedState,V!==g||de!==W||hr.current||ia?(typeof fe=="function"&&(qp(l,h,fe,g),W=l.memoizedState),(V=ia||vy(l,h,V,g,de,W,re))?(pe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=W),A.props=g,A.state=W,A.context=re,g=V):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{A=l.stateNode,Gv(i,l),V=l.memoizedProps,re=l.type===l.elementType?V:Ti(l.type,V),A.props=re,pe=l.pendingProps,de=A.context,W=h.contextType,typeof W=="object"&&W!==null?W=ni(W):(W=dr(h)?nl:Dn.current,W=nu(l,W));var Te=h.getDerivedStateFromProps;(fe=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==pe||de!==W)&&wy(l,A,g,W),ia=!1,de=l.memoizedState,A.state=de,Kh(l,g,A,y);var be=l.memoizedState;V!==pe||de!==be||hr.current||ia?(typeof Te=="function"&&(qp(l,h,Te,g),be=l.memoizedState),(re=ia||vy(l,h,re,g,de,be,W)||!1)?(fe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,be,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,be,W)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||V===i.memoizedProps&&de===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&de===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=be),A.props=g,A.state=be,A.context=W,g=re):(typeof A.componentDidUpdate!="function"||V===i.memoizedProps&&de===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&de===i.memoizedState||(l.flags|=1024),g=!1)}return Kp(i,l,h,g,I,y)}function Kp(i,l,h,g,y,I){ky(i,l);var A=(l.flags&128)!==0;if(!g&&!A)return y&&Dv(l,h,!1),$s(i,l,I);g=l.stateNode,pC.current=l;var V=A&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&A?(l.child=ou(l,i.child,null,I),l.child=ou(l,null,V,I)):Qn(i,l,V,I),l.memoizedState=g.state,y&&Dv(l,h,!0),l.child}function Ly(i){var l=i.stateNode;l.pendingContext?Ov(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Ov(i,l.context,!1),Lp(i,l.containerInfo)}function Ny(i,l,h,g,y){return su(),Sp(y),l.flags|=256,Qn(i,l,h,g),l.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Yp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Oy(i,l,h){var g=l.pendingProps,y=Vt.current,I=!1,A=(l.flags&128)!==0,V;if((V=A)||(V=i!==null&&i.memoizedState===null?!1:(y&2)!==0),V?(I=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Pt(Vt,y&1),i===null)return Ip(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=g.children,i=g.fallback,I?(g=l.mode,I=l.child,A={mode:"hidden",children:A},(g&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=A):I=gd(A,g,0,null),i=dl(i,g,h,null),I.return=l,i.return=l,I.sibling=i,l.child=I,l.child.memoizedState=Yp(h),l.memoizedState=Qp,i):Xp(l,A));if(y=i.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return mC(i,l,A,g,V,y,h);if(I){I=g.fallback,A=l.mode,y=i.child,V=y.sibling;var W={mode:"hidden",children:g.children};return(A&1)===0&&l.child!==y?(g=l.child,g.childLanes=0,g.pendingProps=W,l.deletions=null):(g=ha(y,W),g.subtreeFlags=y.subtreeFlags&14680064),V!==null?I=ha(V,I):(I=dl(I,A,h,null),I.flags|=2),I.return=l,g.return=l,g.sibling=I,l.child=g,g=I,I=l.child,A=i.child.memoizedState,A=A===null?Yp(h):{baseLanes:A.baseLanes|h,cachePool:null,transitions:A.transitions},I.memoizedState=A,I.childLanes=i.childLanes&~h,l.memoizedState=Qp,g}return I=i.child,i=I.sibling,g=ha(I,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,i!==null&&(h=l.deletions,h===null?(l.deletions=[i],l.flags|=16):h.push(i)),l.child=g,l.memoizedState=null,g}function Xp(i,l){return l=gd({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function rd(i,l,h,g){return g!==null&&Sp(g),ou(l,i.child,null,h),i=Xp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function mC(i,l,h,g,y,I,A){if(h)return l.flags&256?(l.flags&=-257,g=$p(Error(t(422))),rd(i,l,A,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(I=g.fallback,y=l.mode,g=gd({mode:"visible",children:g.children},y,0,null),I=dl(I,y,A,null),I.flags|=2,g.return=l,I.return=l,g.sibling=I,l.child=g,(l.mode&1)!==0&&ou(l,i.child,null,A),l.child.memoizedState=Yp(A),l.memoizedState=Qp,I);if((l.mode&1)===0)return rd(i,l,A,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var V=g.dgst;return g=V,I=Error(t(419)),g=$p(I,g,void 0),rd(i,l,A,g)}if(V=(A&i.childLanes)!==0,fr||V){if(g=yn,g!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|A))!==0?0:y,y!==0&&y!==I.retryLane&&(I.retryLane=y,qs(i,y),Si(g,i,y,-1))}return pm(),g=$p(Error(t(421))),rd(i,l,A,g)}return y.data==="$?"?(l.flags|=128,l.child=i.child,l=bC.bind(null,i),y._reactRetry=l,null):(i=I.treeContext,Or=Bi(y.nextSibling),Nr=l,Nt=!0,Ei=null,i!==null&&(ei[ti++]=Bs,ei[ti++]=Hs,ei[ti++]=rl,Bs=i.id,Hs=i.overflow,rl=l),l=Xp(l,g.children),l.flags|=4096,l)}function My(i,l,h){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),Ap(i.return,l,h)}function Jp(i,l,h,g,y){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:y}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=g,I.tail=h,I.tailMode=y)}function Dy(i,l,h){var g=l.pendingProps,y=g.revealOrder,I=g.tail;if(Qn(i,l,g.children,h),g=Vt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&My(i,h,l);else if(i.tag===19)My(i,h,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Pt(Vt,g),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(h=l.child,y=null;h!==null;)i=h.alternate,i!==null&&Qh(i)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),Jp(l,!1,y,h,I);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(i=y.alternate,i!==null&&Qh(i)===null){l.child=y;break}i=y.sibling,y.sibling=h,h=y,y=i}Jp(l,!0,h,null,I);break;case"together":Jp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function id(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function $s(i,l,h){if(i!==null&&(l.dependencies=i.dependencies),ll|=l.lanes,(h&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,h=ha(i,i.pendingProps),l.child=h,h.return=l;i.sibling!==null;)i=i.sibling,h=h.sibling=ha(i,i.pendingProps),h.return=l;h.sibling=null}return l.child}function gC(i,l,h){switch(l.tag){case 3:Ly(l),su();break;case 5:Qv(l);break;case 1:dr(l.type)&&Uh(l);break;case 4:Lp(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,y=l.memoizedProps.value;Pt($h,g._currentValue),g._currentValue=y;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Pt(Vt,Vt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?Oy(i,l,h):(Pt(Vt,Vt.current&1),i=$s(i,l,h),i!==null?i.sibling:null);Pt(Vt,Vt.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(i.flags&128)!==0){if(g)return Dy(i,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Pt(Vt,Vt.current),g)break;return null;case 22:case 23:return l.lanes=0,Ay(i,l,h)}return $s(i,l,h)}var jy,em,Vy,Fy;jy=function(i,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},em=function(){},Vy=function(i,l,h,g){var y=i.memoizedProps;if(y!==g){i=l.stateNode,ol(Hi.current);var I=null;switch(h){case"input":y=cs(i,y),g=cs(i,g),I=[];break;case"select":y=ue({},y,{value:void 0}),g=ue({},g,{value:void 0}),I=[];break;case"textarea":y=vo(i,y),g=vo(i,g),I=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=he)}Ba(h,g);var A;h=null;for(re in y)if(!g.hasOwnProperty(re)&&y.hasOwnProperty(re)&&y[re]!=null)if(re==="style"){var V=y[re];for(A in V)V.hasOwnProperty(A)&&(h||(h={}),h[A]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(o.hasOwnProperty(re)?I||(I=[]):(I=I||[]).push(re,null));for(re in g){var W=g[re];if(V=y?.[re],g.hasOwnProperty(re)&&W!==V&&(W!=null||V!=null))if(re==="style")if(V){for(A in V)!V.hasOwnProperty(A)||W&&W.hasOwnProperty(A)||(h||(h={}),h[A]="");for(A in W)W.hasOwnProperty(A)&&V[A]!==W[A]&&(h||(h={}),h[A]=W[A])}else h||(I||(I=[]),I.push(re,h)),h=W;else re==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,V=V?V.__html:void 0,W!=null&&V!==W&&(I=I||[]).push(re,W)):re==="children"?typeof W!="string"&&typeof W!="number"||(I=I||[]).push(re,""+W):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(o.hasOwnProperty(re)?(W!=null&&re==="onScroll"&&Tt("scroll",i),I||V===W||(I=[])):(I=I||[]).push(re,W))}h&&(I=I||[]).push("style",h);var re=I;(l.updateQueue=re)&&(l.flags|=4)}},Fy=function(i,l,h,g){h!==g&&(l.flags|=4)};function vc(i,l){if(!Nt)switch(i.tailMode){case"hidden":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Vn(i){var l=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(l)for(var y=i.child;y!==null;)h|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)h|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=g,i.childLanes=h,l}function _C(i,l,h){var g=l.pendingProps;switch(Tp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(l),null;case 1:return dr(l.type)&&Fh(),Vn(l),null;case 3:return g=l.stateNode,uu(),Rt(hr),Rt(Dn),Mp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(qh(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ei!==null&&(hm(Ei),Ei=null))),em(i,l),Vn(l),null;case 5:Np(l);var y=ol(fc.current);if(h=l.type,i!==null&&l.stateNode!=null)Vy(i,l,h,g,y),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(t(166));return Vn(l),null}if(i=ol(Hi.current),qh(l)){g=l.stateNode,h=l.type;var I=l.memoizedProps;switch(g[Jr]=l,g[Jo]=I,i=(l.mode&1)!==0,h){case"dialog":Tt("cancel",g),Tt("close",g);break;case"iframe":case"object":case"embed":Tt("load",g);break;case"video":case"audio":for(y=0;y<Qo.length;y++)Tt(Qo[y],g);break;case"source":Tt("error",g);break;case"img":case"image":case"link":Tt("error",g),Tt("load",g);break;case"details":Tt("toggle",g);break;case"input":hs(g,I),Tt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!I.multiple},Tt("invalid",g);break;case"textarea":ps(g,I),Tt("invalid",g)}Ba(h,I),y=null;for(var A in I)if(I.hasOwnProperty(A)){var V=I[A];A==="children"?typeof V=="string"?g.textContent!==V&&(I.suppressHydrationWarning!==!0&&ne(g.textContent,V,i),y=["children",V]):typeof V=="number"&&g.textContent!==""+V&&(I.suppressHydrationWarning!==!0&&ne(g.textContent,V,i),y=["children",""+V]):o.hasOwnProperty(A)&&V!=null&&A==="onScroll"&&Tt("scroll",g)}switch(h){case"input":xr(g),fs(g,I,!0);break;case"textarea":xr(g),Ua(g);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(g.onclick=he)}g=y,l.updateQueue=g,g!==null&&(l.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Mt(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=A.createElement(h,{is:g.is}):(i=A.createElement(h),h==="select"&&(A=i,g.multiple?A.multiple=!0:g.size&&(A.size=g.size))):i=A.createElementNS(i,h),i[Jr]=l,i[Jo]=g,jy(i,l,!1,!1),l.stateNode=i;e:{switch(A=hi(h,g),h){case"dialog":Tt("cancel",i),Tt("close",i),y=g;break;case"iframe":case"object":case"embed":Tt("load",i),y=g;break;case"video":case"audio":for(y=0;y<Qo.length;y++)Tt(Qo[y],i);y=g;break;case"source":Tt("error",i),y=g;break;case"img":case"image":case"link":Tt("error",i),Tt("load",i),y=g;break;case"details":Tt("toggle",i),y=g;break;case"input":hs(i,g),y=cs(i,g),Tt("invalid",i);break;case"option":y=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},y=ue({},g,{value:void 0}),Tt("invalid",i);break;case"textarea":ps(i,g),y=vo(i,g),Tt("invalid",i);break;default:y=g}Ba(h,y),V=y;for(I in V)if(V.hasOwnProperty(I)){var W=V[I];I==="style"?gs(i,W):I==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&za(i,W)):I==="children"?typeof W=="string"?(h!=="textarea"||W!=="")&&ci(i,W):typeof W=="number"&&ci(i,""+W):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?W!=null&&I==="onScroll"&&Tt("scroll",i):W!=null&&ee(i,I,W,A))}switch(h){case"input":xr(i),fs(i,g,!1);break;case"textarea":xr(i),Ua(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ye(g.value));break;case"select":i.multiple=!!g.multiple,I=g.value,I!=null?Ir(i,!!g.multiple,I,!1):g.defaultValue!=null&&Ir(i,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=he)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Vn(l),null;case 6:if(i&&l.stateNode!=null)Fy(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(t(166));if(h=ol(fc.current),ol(Hi.current),qh(l)){if(g=l.stateNode,h=l.memoizedProps,g[Jr]=l,(I=g.nodeValue!==h)&&(i=Nr,i!==null))switch(i.tag){case 3:ne(g.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ne(g.nodeValue,h,(i.mode&1)!==0)}I&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Jr]=l,l.stateNode=g}return Vn(l),null;case 13:if(Rt(Vt),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Nt&&Or!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Bv(),su(),l.flags|=98560,I=!1;else if(I=qh(l),g!==null&&g.dehydrated!==null){if(i===null){if(!I)throw Error(t(318));if(I=l.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(t(317));I[Jr]=l}else su(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vn(l),I=!1}else Ei!==null&&(hm(Ei),Ei=null),I=!0;if(!I)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Vt.current&1)!==0?dn===0&&(dn=3):pm())),l.updateQueue!==null&&(l.flags|=4),Vn(l),null);case 4:return uu(),em(i,l),i===null&&Yo(l.stateNode.containerInfo),Vn(l),null;case 10:return bp(l.type._context),Vn(l),null;case 17:return dr(l.type)&&Fh(),Vn(l),null;case 19:if(Rt(Vt),I=l.memoizedState,I===null)return Vn(l),null;if(g=(l.flags&128)!==0,A=I.rendering,A===null)if(g)vc(I,!1);else{if(dn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(A=Qh(i),A!==null){for(l.flags|=128,vc(I,!1),g=A.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)I=h,i=g,I.flags&=14680066,A=I.alternate,A===null?(I.childLanes=0,I.lanes=i,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=A.childLanes,I.lanes=A.lanes,I.child=A.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=A.memoizedProps,I.memoizedState=A.memoizedState,I.updateQueue=A.updateQueue,I.type=A.type,i=A.dependencies,I.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return Pt(Vt,Vt.current&1|2),l.child}i=i.sibling}I.tail!==null&&Et()>fu&&(l.flags|=128,g=!0,vc(I,!1),l.lanes=4194304)}else{if(!g)if(i=Qh(A),i!==null){if(l.flags|=128,g=!0,h=i.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),vc(I,!0),I.tail===null&&I.tailMode==="hidden"&&!A.alternate&&!Nt)return Vn(l),null}else 2*Et()-I.renderingStartTime>fu&&h!==1073741824&&(l.flags|=128,g=!0,vc(I,!1),l.lanes=4194304);I.isBackwards?(A.sibling=l.child,l.child=A):(h=I.last,h!==null?h.sibling=A:l.child=A,I.last=A)}return I.tail!==null?(l=I.tail,I.rendering=l,I.tail=l.sibling,I.renderingStartTime=Et(),l.sibling=null,h=Vt.current,Pt(Vt,g?h&1|2:h&1),l):(Vn(l),null);case 22:case 23:return fm(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Mr&1073741824)!==0&&(Vn(l),l.subtreeFlags&6&&(l.flags|=8192)):Vn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function vC(i,l){switch(Tp(l),l.tag){case 1:return dr(l.type)&&Fh(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return uu(),Rt(hr),Rt(Dn),Mp(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Np(l),null;case 13:if(Rt(Vt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));su()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Rt(Vt),null;case 4:return uu(),null;case 10:return bp(l.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var sd=!1,Fn=!1,yC=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function hu(i,l){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){$t(i,l,g)}else h.current=null}function tm(i,l,h){try{h()}catch(g){$t(i,l,g)}}var Uy=!1;function wC(i,l){if(ye=mi,i=tc(),nc(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var y=g.anchorOffset,I=g.focusNode;g=g.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var A=0,V=-1,W=-1,re=0,fe=0,pe=i,de=null;t:for(;;){for(var Te;pe!==h||y!==0&&pe.nodeType!==3||(V=A+y),pe!==I||g!==0&&pe.nodeType!==3||(W=A+g),pe.nodeType===3&&(A+=pe.nodeValue.length),(Te=pe.firstChild)!==null;)de=pe,pe=Te;for(;;){if(pe===i)break t;if(de===h&&++re===y&&(V=A),de===I&&++fe===g&&(W=A),(Te=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=Te}h=V===-1||W===-1?null:{start:V,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(je={focusedElem:i,selectionRange:h},mi=!1,Pe=l;Pe!==null;)if(l=Pe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Pe=i;else for(;Pe!==null;){l=Pe;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var ke=be.memoizedProps,Yt=be.memoizedState,J=l.stateNode,Z=J.getSnapshotBeforeUpdate(l.elementType===l.type?ke:Ti(l.type,ke),Yt);J.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var te=l.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(_e){$t(l,l.return,_e)}if(i=l.sibling,i!==null){i.return=l.return,Pe=i;break}Pe=l.return}return be=Uy,Uy=!1,be}function yc(i,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&i)===i){var I=y.destroy;y.destroy=void 0,I!==void 0&&tm(l,h,I)}y=y.next}while(y!==g)}}function od(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&i)===i){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function nm(i){var l=i.ref;if(l!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof l=="function"?l(i):l.current=i}}function zy(i){var l=i.alternate;l!==null&&(i.alternate=null,zy(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Jr],delete l[Jo],delete l[ea],delete l[_p],delete l[vp])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function By(i){return i.tag===5||i.tag===3||i.tag===4}function Hy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||By(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rm(i,l,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(i,l):h.insertBefore(i,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(i,h)):(l=h,l.appendChild(i)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=he));else if(g!==4&&(i=i.child,i!==null))for(rm(i,l,h),i=i.sibling;i!==null;)rm(i,l,h),i=i.sibling}function im(i,l,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?h.insertBefore(i,l):h.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(im(i,l,h),i=i.sibling;i!==null;)im(i,l,h),i=i.sibling}var Sn=null,xi=!1;function oa(i,l,h){for(h=h.child;h!==null;)qy(i,l,h),h=h.sibling}function qy(i,l,h){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Ni,h)}catch{}switch(h.tag){case 5:Fn||hu(h,l);case 6:var g=Sn,y=xi;Sn=null,oa(i,l,h),Sn=g,xi=y,Sn!==null&&(xi?(i=Sn,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):Sn.removeChild(h.stateNode));break;case 18:Sn!==null&&(xi?(i=Sn,h=h.stateNode,i.nodeType===8?uc(i.parentNode,h):i.nodeType===1&&uc(i,h),un(i)):uc(Sn,h.stateNode));break;case 4:g=Sn,y=xi,Sn=h.stateNode.containerInfo,xi=!0,oa(i,l,h),Sn=g,xi=y;break;case 0:case 11:case 14:case 15:if(!Fn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var I=y,A=I.destroy;I=I.tag,A!==void 0&&((I&2)!==0||(I&4)!==0)&&tm(h,l,A),y=y.next}while(y!==g)}oa(i,l,h);break;case 1:if(!Fn&&(hu(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(V){$t(h,l,V)}oa(i,l,h);break;case 21:oa(i,l,h);break;case 22:h.mode&1?(Fn=(g=Fn)||h.memoizedState!==null,oa(i,l,h),Fn=g):oa(i,l,h);break;default:oa(i,l,h)}}function Wy(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new yC),l.forEach(function(g){var y=AC.bind(null,i,g);h.has(g)||(h.add(g),g.then(y,y))})}}function Ii(i,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var y=h[g];try{var I=i,A=l,V=A;e:for(;V!==null;){switch(V.tag){case 5:Sn=V.stateNode,xi=!1;break e;case 3:Sn=V.stateNode.containerInfo,xi=!0;break e;case 4:Sn=V.stateNode.containerInfo,xi=!0;break e}V=V.return}if(Sn===null)throw Error(t(160));qy(I,A,y),Sn=null,xi=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(re){$t(y,l,re)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)$y(l,i),l=l.sibling}function $y(i,l){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ii(l,i),Wi(i),g&4){try{yc(3,i,i.return),od(3,i)}catch(ke){$t(i,i.return,ke)}try{yc(5,i,i.return)}catch(ke){$t(i,i.return,ke)}}break;case 1:Ii(l,i),Wi(i),g&512&&h!==null&&hu(h,h.return);break;case 5:if(Ii(l,i),Wi(i),g&512&&h!==null&&hu(h,h.return),i.flags&32){var y=i.stateNode;try{ci(y,"")}catch(ke){$t(i,i.return,ke)}}if(g&4&&(y=i.stateNode,y!=null)){var I=i.memoizedProps,A=h!==null?h.memoizedProps:I,V=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{V==="input"&&I.type==="radio"&&I.name!=null&&go(y,I),hi(V,A);var re=hi(V,I);for(A=0;A<W.length;A+=2){var fe=W[A],pe=W[A+1];fe==="style"?gs(y,pe):fe==="dangerouslySetInnerHTML"?za(y,pe):fe==="children"?ci(y,pe):ee(y,fe,pe,re)}switch(V){case"input":ds(y,I);break;case"textarea":yo(y,I);break;case"select":var de=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!I.multiple;var Te=I.value;Te!=null?Ir(y,!!I.multiple,Te,!1):de!==!!I.multiple&&(I.defaultValue!=null?Ir(y,!!I.multiple,I.defaultValue,!0):Ir(y,!!I.multiple,I.multiple?[]:"",!1))}y[Jo]=I}catch(ke){$t(i,i.return,ke)}}break;case 6:if(Ii(l,i),Wi(i),g&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,I=i.memoizedProps;try{y.nodeValue=I}catch(ke){$t(i,i.return,ke)}}break;case 3:if(Ii(l,i),Wi(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{un(l.containerInfo)}catch(ke){$t(i,i.return,ke)}break;case 4:Ii(l,i),Wi(i);break;case 13:Ii(l,i),Wi(i),y=i.child,y.flags&8192&&(I=y.memoizedState!==null,y.stateNode.isHidden=I,!I||y.alternate!==null&&y.alternate.memoizedState!==null||(am=Et())),g&4&&Wy(i);break;case 22:if(fe=h!==null&&h.memoizedState!==null,i.mode&1?(Fn=(re=Fn)||fe,Ii(l,i),Fn=re):Ii(l,i),Wi(i),g&8192){if(re=i.memoizedState!==null,(i.stateNode.isHidden=re)&&!fe&&(i.mode&1)!==0)for(Pe=i,fe=i.child;fe!==null;){for(pe=Pe=fe;Pe!==null;){switch(de=Pe,Te=de.child,de.tag){case 0:case 11:case 14:case 15:yc(4,de,de.return);break;case 1:hu(de,de.return);var be=de.stateNode;if(typeof be.componentWillUnmount=="function"){g=de,h=de.return;try{l=g,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(ke){$t(g,h,ke)}}break;case 5:hu(de,de.return);break;case 22:if(de.memoizedState!==null){Ky(pe);continue}}Te!==null?(Te.return=de,Pe=Te):Ky(pe)}fe=fe.sibling}e:for(fe=null,pe=i;;){if(pe.tag===5){if(fe===null){fe=pe;try{y=pe.stateNode,re?(I=y.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(V=pe.stateNode,W=pe.memoizedProps.style,A=W!=null&&W.hasOwnProperty("display")?W.display:null,V.style.display=wo("display",A))}catch(ke){$t(i,i.return,ke)}}}else if(pe.tag===6){if(fe===null)try{pe.stateNode.nodeValue=re?"":pe.memoizedProps}catch(ke){$t(i,i.return,ke)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;fe===pe&&(fe=null),pe=pe.return}fe===pe&&(fe=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Ii(l,i),Wi(i),g&4&&Wy(i);break;case 21:break;default:Ii(l,i),Wi(i)}}function Wi(i){var l=i.flags;if(l&2){try{e:{for(var h=i.return;h!==null;){if(By(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(ci(y,""),g.flags&=-33);var I=Hy(i);im(i,I,y);break;case 3:case 4:var A=g.stateNode.containerInfo,V=Hy(i);rm(i,V,A);break;default:throw Error(t(161))}}catch(W){$t(i,i.return,W)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function EC(i,l,h){Pe=i,Gy(i)}function Gy(i,l,h){for(var g=(i.mode&1)!==0;Pe!==null;){var y=Pe,I=y.child;if(y.tag===22&&g){var A=y.memoizedState!==null||sd;if(!A){var V=y.alternate,W=V!==null&&V.memoizedState!==null||Fn;V=sd;var re=Fn;if(sd=A,(Fn=W)&&!re)for(Pe=y;Pe!==null;)A=Pe,W=A.child,A.tag===22&&A.memoizedState!==null?Qy(y):W!==null?(W.return=A,Pe=W):Qy(y);for(;I!==null;)Pe=I,Gy(I),I=I.sibling;Pe=y,sd=V,Fn=re}Zy(i)}else(y.subtreeFlags&8772)!==0&&I!==null?(I.return=y,Pe=I):Zy(i)}}function Zy(i){for(;Pe!==null;){var l=Pe;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Fn||od(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Fn)if(h===null)g.componentDidMount();else{var y=l.elementType===l.type?h.memoizedProps:Ti(l.type,h.memoizedProps);g.componentDidUpdate(y,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var I=l.updateQueue;I!==null&&Kv(l,I,g);break;case 3:var A=l.updateQueue;if(A!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}Kv(l,A,h)}break;case 5:var V=l.stateNode;if(h===null&&l.flags&4){h=V;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&h.focus();break;case"img":W.src&&(h.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var re=l.alternate;if(re!==null){var fe=re.memoizedState;if(fe!==null){var pe=fe.dehydrated;pe!==null&&un(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Fn||l.flags&512&&nm(l)}catch(de){$t(l,l.return,de)}}if(l===i){Pe=null;break}if(h=l.sibling,h!==null){h.return=l.return,Pe=h;break}Pe=l.return}}function Ky(i){for(;Pe!==null;){var l=Pe;if(l===i){Pe=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Pe=h;break}Pe=l.return}}function Qy(i){for(;Pe!==null;){var l=Pe;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{od(4,l)}catch(W){$t(l,h,W)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var y=l.return;try{g.componentDidMount()}catch(W){$t(l,y,W)}}var I=l.return;try{nm(l)}catch(W){$t(l,I,W)}break;case 5:var A=l.return;try{nm(l)}catch(W){$t(l,A,W)}}}catch(W){$t(l,l.return,W)}if(l===i){Pe=null;break}var V=l.sibling;if(V!==null){V.return=l.return,Pe=V;break}Pe=l.return}}var TC=Math.ceil,ad=se.ReactCurrentDispatcher,sm=se.ReactCurrentOwner,ii=se.ReactCurrentBatchConfig,lt=0,yn=null,rn=null,Cn=0,Mr=0,du=ta(0),dn=0,wc=null,ll=0,ld=0,om=0,Ec=null,pr=null,am=0,fu=1/0,Gs=null,ud=!1,lm=null,aa=null,cd=!1,la=null,hd=0,Tc=0,um=null,dd=-1,fd=0;function Yn(){return(lt&6)!==0?Et():dd!==-1?dd:dd=Et()}function ua(i){return(i.mode&1)===0?1:(lt&2)!==0&&Cn!==0?Cn&-Cn:sC.transition!==null?(fd===0&&(fd=Cs()),fd):(i=Qe,i!==0||(i=window.event,i=i===void 0?16:Xe(i.type)),i)}function Si(i,l,h,g){if(50<Tc)throw Tc=0,um=null,Error(t(185));Rn(i,h,g),((lt&2)===0||i!==yn)&&(i===yn&&((lt&2)===0&&(ld|=h),dn===4&&ca(i,Cn)),mr(i,g),h===1&&lt===0&&(l.mode&1)===0&&(fu=Et()+500,zh&&ra()))}function mr(i,l){var h=i.callbackNode;ir(i,l);var g=yt(i,i===yn?Cn:0);if(g===0)h!==null&&Ao(h),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(h!=null&&Ao(h),l===1)i.tag===0?iC(Xy.bind(null,i)):jv(Xy.bind(null,i)),Mn(function(){(lt&6)===0&&ra()}),h=null;else{switch(sr(g)){case 1:h=xs;break;case 4:h=Ri;break;case 16:h=rr;break;case 536870912:h=Li;break;default:h=rr}h=ow(h,Yy.bind(null,i))}i.callbackPriority=l,i.callbackNode=h}}function Yy(i,l){if(dd=-1,fd=0,(lt&6)!==0)throw Error(t(327));var h=i.callbackNode;if(pu()&&i.callbackNode!==h)return null;var g=yt(i,i===yn?Cn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=pd(i,g);else{l=g;var y=lt;lt|=2;var I=ew();(yn!==i||Cn!==l)&&(Gs=null,fu=Et()+500,cl(i,l));do try{SC();break}catch(V){Jy(i,V)}while(!0);Pp(),ad.current=I,lt=y,rn!==null?l=0:(yn=null,Cn=0,l=dn)}if(l!==0){if(l===2&&(y=St(i),y!==0&&(g=y,l=cm(i,y))),l===1)throw h=wc,cl(i,0),ca(i,g),mr(i,Et()),h;if(l===6)ca(i,g);else{if(y=i.current.alternate,(g&30)===0&&!xC(y)&&(l=pd(i,g),l===2&&(I=St(i),I!==0&&(g=I,l=cm(i,I))),l===1))throw h=wc,cl(i,0),ca(i,g),mr(i,Et()),h;switch(i.finishedWork=y,i.finishedLanes=g,l){case 0:case 1:throw Error(t(345));case 2:hl(i,pr,Gs);break;case 3:if(ca(i,g),(g&130023424)===g&&(l=am+500-Et(),10<l)){if(yt(i,0)!==0)break;if(y=i.suspendedLanes,(y&g)!==g){Yn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=cn(hl.bind(null,i,pr,Gs),l);break}hl(i,pr,Gs);break;case 4:if(ca(i,g),(g&4194240)===g)break;for(l=i.eventTimes,y=-1;0<g;){var A=31-He(g);I=1<<A,A=l[A],A>y&&(y=A),g&=~I}if(g=y,g=Et()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*TC(g/1960))-g,10<g){i.timeoutHandle=cn(hl.bind(null,i,pr,Gs),g);break}hl(i,pr,Gs);break;case 5:hl(i,pr,Gs);break;default:throw Error(t(329))}}}return mr(i,Et()),i.callbackNode===h?Yy.bind(null,i):null}function cm(i,l){var h=Ec;return i.current.memoizedState.isDehydrated&&(cl(i,l).flags|=256),i=pd(i,l),i!==2&&(l=pr,pr=h,l!==null&&hm(l)),i}function hm(i){pr===null?pr=i:pr.push.apply(pr,i)}function xC(i){for(var l=i;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var y=h[g],I=y.getSnapshot;y=y.value;try{if(!Rr(I(),y))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ca(i,l){for(l&=~om,l&=~ld,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var h=31-He(l),g=1<<h;i[h]=-1,l&=~g}}function Xy(i){if((lt&6)!==0)throw Error(t(327));pu();var l=yt(i,0);if((l&1)===0)return mr(i,Et()),null;var h=pd(i,l);if(i.tag!==0&&h===2){var g=St(i);g!==0&&(l=g,h=cm(i,g))}if(h===1)throw h=wc,cl(i,0),ca(i,l),mr(i,Et()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,hl(i,pr,Gs),mr(i,Et()),null}function dm(i,l){var h=lt;lt|=1;try{return i(l)}finally{lt=h,lt===0&&(fu=Et()+500,zh&&ra())}}function ul(i){la!==null&&la.tag===0&&(lt&6)===0&&pu();var l=lt;lt|=1;var h=ii.transition,g=Qe;try{if(ii.transition=null,Qe=1,i)return i()}finally{Qe=g,ii.transition=h,lt=l,(lt&6)===0&&ra()}}function fm(){Mr=du.current,Rt(du)}function cl(i,l){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,nn(h)),rn!==null)for(h=rn.return;h!==null;){var g=h;switch(Tp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Fh();break;case 3:uu(),Rt(hr),Rt(Dn),Mp();break;case 5:Np(g);break;case 4:uu();break;case 13:Rt(Vt);break;case 19:Rt(Vt);break;case 10:bp(g.type._context);break;case 22:case 23:fm()}h=h.return}if(yn=i,rn=i=ha(i.current,null),Cn=Mr=l,dn=0,wc=null,om=ld=ll=0,pr=Ec=null,sl!==null){for(l=0;l<sl.length;l++)if(h=sl[l],g=h.interleaved,g!==null){h.interleaved=null;var y=g.next,I=h.pending;if(I!==null){var A=I.next;I.next=y,g.next=A}h.pending=g}sl=null}return i}function Jy(i,l){do{var h=rn;try{if(Pp(),Yh.current=td,Xh){for(var g=Ft.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Xh=!1}if(al=0,vn=hn=Ft=null,pc=!1,mc=0,sm.current=null,h===null||h.return===null){dn=1,wc=l,rn=null;break}e:{var I=i,A=h.return,V=h,W=l;if(l=Cn,V.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var re=W,fe=V,pe=fe.tag;if((fe.mode&1)===0&&(pe===0||pe===11||pe===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Te=Iy(A);if(Te!==null){Te.flags&=-257,Sy(Te,A,V,I,l),Te.mode&1&&xy(I,re,l),l=Te,W=re;var be=l.updateQueue;if(be===null){var ke=new Set;ke.add(W),l.updateQueue=ke}else be.add(W);break e}else{if((l&1)===0){xy(I,re,l),pm();break e}W=Error(t(426))}}else if(Nt&&V.mode&1){var Yt=Iy(A);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Sy(Yt,A,V,I,l),Sp(cu(W,V));break e}}I=W=cu(W,V),dn!==4&&(dn=2),Ec===null?Ec=[I]:Ec.push(I),I=A;do{switch(I.tag){case 3:I.flags|=65536,l&=-l,I.lanes|=l;var J=Ey(I,W,l);Zv(I,J);break e;case 1:V=W;var Z=I.type,te=I.stateNode;if((I.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(aa===null||!aa.has(te)))){I.flags|=65536,l&=-l,I.lanes|=l;var _e=Ty(I,V,l);Zv(I,_e);break e}}I=I.return}while(I!==null)}nw(h)}catch(Le){l=Le,rn===h&&h!==null&&(rn=h=h.return);continue}break}while(!0)}function ew(){var i=ad.current;return ad.current=td,i===null?td:i}function pm(){(dn===0||dn===3||dn===2)&&(dn=4),yn===null||(ll&268435455)===0&&(ld&268435455)===0||ca(yn,Cn)}function pd(i,l){var h=lt;lt|=2;var g=ew();(yn!==i||Cn!==l)&&(Gs=null,cl(i,l));do try{IC();break}catch(y){Jy(i,y)}while(!0);if(Pp(),lt=h,ad.current=g,rn!==null)throw Error(t(261));return yn=null,Cn=0,dn}function IC(){for(;rn!==null;)tw(rn)}function SC(){for(;rn!==null&&!Vl();)tw(rn)}function tw(i){var l=sw(i.alternate,i,Mr);i.memoizedProps=i.pendingProps,l===null?nw(i):rn=l,sm.current=null}function nw(i){var l=i;do{var h=l.alternate;if(i=l.return,(l.flags&32768)===0){if(h=_C(h,l,Mr),h!==null){rn=h;return}}else{if(h=vC(h,l),h!==null){h.flags&=32767,rn=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{dn=6,rn=null;return}}if(l=l.sibling,l!==null){rn=l;return}rn=l=i}while(l!==null);dn===0&&(dn=5)}function hl(i,l,h){var g=Qe,y=ii.transition;try{ii.transition=null,Qe=1,CC(i,l,h,g)}finally{ii.transition=y,Qe=g}return null}function CC(i,l,h,g){do pu();while(la!==null);if((lt&6)!==0)throw Error(t(327));h=i.finishedWork;var y=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var I=h.lanes|h.childLanes;if(qe(i,I),i===yn&&(rn=yn=null,Cn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||cd||(cd=!0,ow(rr,function(){return pu(),null})),I=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||I){I=ii.transition,ii.transition=null;var A=Qe;Qe=1;var V=lt;lt|=4,sm.current=null,wC(i,h),$y(h,i),Yr(je),mi=!!ye,je=ye=null,i.current=h,EC(h),ko(),lt=V,Qe=A,ii.transition=I}else i.current=h;if(cd&&(cd=!1,la=i,hd=y),I=i.pendingLanes,I===0&&(aa=null),Oi(h.stateNode),mr(i,Et()),l!==null)for(g=i.onRecoverableError,h=0;h<l.length;h++)y=l[h],g(y.value,{componentStack:y.stack,digest:y.digest});if(ud)throw ud=!1,i=lm,lm=null,i;return(hd&1)!==0&&i.tag!==0&&pu(),I=i.pendingLanes,(I&1)!==0?i===um?Tc++:(Tc=0,um=i):Tc=0,ra(),null}function pu(){if(la!==null){var i=sr(hd),l=ii.transition,h=Qe;try{if(ii.transition=null,Qe=16>i?16:i,la===null)var g=!1;else{if(i=la,la=null,hd=0,(lt&6)!==0)throw Error(t(331));var y=lt;for(lt|=4,Pe=i.current;Pe!==null;){var I=Pe,A=I.child;if((Pe.flags&16)!==0){var V=I.deletions;if(V!==null){for(var W=0;W<V.length;W++){var re=V[W];for(Pe=re;Pe!==null;){var fe=Pe;switch(fe.tag){case 0:case 11:case 15:yc(8,fe,I)}var pe=fe.child;if(pe!==null)pe.return=fe,Pe=pe;else for(;Pe!==null;){fe=Pe;var de=fe.sibling,Te=fe.return;if(zy(fe),fe===re){Pe=null;break}if(de!==null){de.return=Te,Pe=de;break}Pe=Te}}}var be=I.alternate;if(be!==null){var ke=be.child;if(ke!==null){be.child=null;do{var Yt=ke.sibling;ke.sibling=null,ke=Yt}while(ke!==null)}}Pe=I}}if((I.subtreeFlags&2064)!==0&&A!==null)A.return=I,Pe=A;else e:for(;Pe!==null;){if(I=Pe,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:yc(9,I,I.return)}var J=I.sibling;if(J!==null){J.return=I.return,Pe=J;break e}Pe=I.return}}var Z=i.current;for(Pe=Z;Pe!==null;){A=Pe;var te=A.child;if((A.subtreeFlags&2064)!==0&&te!==null)te.return=A,Pe=te;else e:for(A=Z;Pe!==null;){if(V=Pe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:od(9,V)}}catch(Le){$t(V,V.return,Le)}if(V===A){Pe=null;break e}var _e=V.sibling;if(_e!==null){_e.return=V.return,Pe=_e;break e}Pe=V.return}}if(lt=y,ra(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Ni,i)}catch{}g=!0}return g}finally{Qe=h,ii.transition=l}}return!1}function rw(i,l,h){l=cu(h,l),l=Ey(i,l,1),i=sa(i,l,1),l=Yn(),i!==null&&(Rn(i,1,l),mr(i,l))}function $t(i,l,h){if(i.tag===3)rw(i,i,h);else for(;l!==null;){if(l.tag===3){rw(l,i,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(aa===null||!aa.has(g))){i=cu(h,i),i=Ty(l,i,1),l=sa(l,i,1),i=Yn(),l!==null&&(Rn(l,1,i),mr(l,i));break}}l=l.return}}function PC(i,l,h){var g=i.pingCache;g!==null&&g.delete(l),l=Yn(),i.pingedLanes|=i.suspendedLanes&h,yn===i&&(Cn&h)===h&&(dn===4||dn===3&&(Cn&130023424)===Cn&&500>Et()-am?cl(i,0):om|=h),mr(i,l)}function iw(i,l){l===0&&((i.mode&1)===0?l=1:(l=Mi,Mi<<=1,(Mi&130023424)===0&&(Mi=4194304)));var h=Yn();i=qs(i,l),i!==null&&(Rn(i,l,h),mr(i,h))}function bC(i){var l=i.memoizedState,h=0;l!==null&&(h=l.retryLane),iw(i,h)}function AC(i,l){var h=0;switch(i.tag){case 13:var g=i.stateNode,y=i.memoizedState;y!==null&&(h=y.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(l),iw(i,h)}var sw;sw=function(i,l,h){if(i!==null)if(i.memoizedProps!==l.pendingProps||hr.current)fr=!0;else{if((i.lanes&h)===0&&(l.flags&128)===0)return fr=!1,gC(i,l,h);fr=(i.flags&131072)!==0}else fr=!1,Nt&&(l.flags&1048576)!==0&&Vv(l,Hh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;id(i,l),i=l.pendingProps;var y=nu(l,Dn.current);lu(l,h),y=Vp(null,l,g,i,y,h);var I=Fp();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,dr(g)?(I=!0,Uh(l)):I=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Rp(l),y.updater=nd,l.stateNode=y,y._reactInternals=l,Wp(l,g,i,h),l=Kp(null,l,g,!0,I,h)):(l.tag=0,Nt&&I&&Ep(l),Qn(null,l,y,h),l=l.child),l;case 16:g=l.elementType;e:{switch(id(i,l),i=l.pendingProps,y=g._init,g=y(g._payload),l.type=g,y=l.tag=RC(g),i=Ti(g,i),y){case 0:l=Zp(null,l,g,i,h);break e;case 1:l=Ry(null,l,g,i,h);break e;case 11:l=Cy(null,l,g,i,h);break e;case 14:l=Py(null,l,g,Ti(g.type,i),h);break e}throw Error(t(306,g,""))}return l;case 0:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ti(g,y),Zp(i,l,g,y,h);case 1:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ti(g,y),Ry(i,l,g,y,h);case 3:e:{if(Ly(l),i===null)throw Error(t(387));g=l.pendingProps,I=l.memoizedState,y=I.element,Gv(i,l),Kh(l,g,null,h);var A=l.memoizedState;if(g=A.element,I.isDehydrated)if(I={element:g,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=I,l.memoizedState=I,l.flags&256){y=cu(Error(t(423)),l),l=Ny(i,l,g,h,y);break e}else if(g!==y){y=cu(Error(t(424)),l),l=Ny(i,l,g,h,y);break e}else for(Or=Bi(l.stateNode.containerInfo.firstChild),Nr=l,Nt=!0,Ei=null,h=Wv(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(su(),g===y){l=$s(i,l,h);break e}Qn(i,l,g,h)}l=l.child}return l;case 5:return Qv(l),i===null&&Ip(l),g=l.type,y=l.pendingProps,I=i!==null?i.memoizedProps:null,A=y.children,Ze(g,y)?A=null:I!==null&&Ze(g,I)&&(l.flags|=32),ky(i,l),Qn(i,l,A,h),l.child;case 6:return i===null&&Ip(l),null;case 13:return Oy(i,l,h);case 4:return Lp(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=ou(l,null,g,h):Qn(i,l,g,h),l.child;case 11:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ti(g,y),Cy(i,l,g,y,h);case 7:return Qn(i,l,l.pendingProps,h),l.child;case 8:return Qn(i,l,l.pendingProps.children,h),l.child;case 12:return Qn(i,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,y=l.pendingProps,I=l.memoizedProps,A=y.value,Pt($h,g._currentValue),g._currentValue=A,I!==null)if(Rr(I.value,A)){if(I.children===y.children&&!hr.current){l=$s(i,l,h);break e}}else for(I=l.child,I!==null&&(I.return=l);I!==null;){var V=I.dependencies;if(V!==null){A=I.child;for(var W=V.firstContext;W!==null;){if(W.context===g){if(I.tag===1){W=Ws(-1,h&-h),W.tag=2;var re=I.updateQueue;if(re!==null){re=re.shared;var fe=re.pending;fe===null?W.next=W:(W.next=fe.next,fe.next=W),re.pending=W}}I.lanes|=h,W=I.alternate,W!==null&&(W.lanes|=h),Ap(I.return,h,l),V.lanes|=h;break}W=W.next}}else if(I.tag===10)A=I.type===l.type?null:I.child;else if(I.tag===18){if(A=I.return,A===null)throw Error(t(341));A.lanes|=h,V=A.alternate,V!==null&&(V.lanes|=h),Ap(A,h,l),A=I.sibling}else A=I.child;if(A!==null)A.return=I;else for(A=I;A!==null;){if(A===l){A=null;break}if(I=A.sibling,I!==null){I.return=A.return,A=I;break}A=A.return}I=A}Qn(i,l,y.children,h),l=l.child}return l;case 9:return y=l.type,g=l.pendingProps.children,lu(l,h),y=ni(y),g=g(y),l.flags|=1,Qn(i,l,g,h),l.child;case 14:return g=l.type,y=Ti(g,l.pendingProps),y=Ti(g.type,y),Py(i,l,g,y,h);case 15:return by(i,l,l.type,l.pendingProps,h);case 17:return g=l.type,y=l.pendingProps,y=l.elementType===g?y:Ti(g,y),id(i,l),l.tag=1,dr(g)?(i=!0,Uh(l)):i=!1,lu(l,h),yy(l,g,y),Wp(l,g,y,h),Kp(null,l,g,!0,i,h);case 19:return Dy(i,l,h);case 22:return Ay(i,l,h)}throw Error(t(156,l.tag))};function ow(i,l){return bo(i,l)}function kC(i,l,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,l,h,g){return new kC(i,l,h,g)}function mm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function RC(i){if(typeof i=="function")return mm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Q)return 11;if(i===pn)return 14}return 2}function ha(i,l){var h=i.alternate;return h===null?(h=si(i.tag,l,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=l,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,l=i.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function md(i,l,h,g,y,I){var A=2;if(g=i,typeof i=="function")mm(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case B:return dl(h.children,y,I,l);case M:A=8,y|=8;break;case F:return i=si(12,h,l,y|2),i.elementType=F,i.lanes=I,i;case z:return i=si(13,h,l,y),i.elementType=z,i.lanes=I,i;case ct:return i=si(19,h,l,y),i.elementType=ct,i.lanes=I,i;case ot:return gd(h,y,I,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:A=10;break e;case $:A=9;break e;case Q:A=11;break e;case pn:A=14;break e;case dt:A=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=si(A,h,l,y),l.elementType=i,l.type=g,l.lanes=I,l}function dl(i,l,h,g){return i=si(7,i,g,l),i.lanes=h,i}function gd(i,l,h,g){return i=si(22,i,g,l),i.elementType=ot,i.lanes=h,i.stateNode={isHidden:!1},i}function gm(i,l,h){return i=si(6,i,null,l),i.lanes=h,i}function _m(i,l,h){return l=si(4,i.children!==null?i.children:[],i.key,l),l.lanes=h,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function LC(i,l,h,g,y){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=br(0),this.expirationTimes=br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function vm(i,l,h,g,y,I,A,V,W){return i=new LC(i,l,h,V,W),l===1?(l=1,I===!0&&(l|=8)):l=0,I=si(3,null,null,l),i.current=I,I.stateNode=i,I.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(I),i}function NC(i,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:g==null?null:""+g,children:i,containerInfo:l,implementation:h}}function aw(i){if(!i)return na;i=i._reactInternals;e:{if(er(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(dr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(dr(h))return Mv(i,h,l)}return l}function lw(i,l,h,g,y,I,A,V,W){return i=vm(h,g,!0,i,y,I,A,V,W),i.context=aw(null),h=i.current,g=Yn(),y=ua(h),I=Ws(g,y),I.callback=l??null,sa(h,I,y),i.current.lanes=y,Rn(i,y,g),mr(i,g),i}function _d(i,l,h,g){var y=l.current,I=Yn(),A=ua(y);return h=aw(h),l.context===null?l.context=h:l.pendingContext=h,l=Ws(I,A),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=sa(y,l,A),i!==null&&(Si(i,y,A,I),Zh(i,y,A)),A}function vd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function uw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<l?h:l}}function ym(i,l){uw(i,l),(i=i.alternate)&&uw(i,l)}function OC(){return null}var cw=typeof reportError=="function"?reportError:function(i){console.error(i)};function wm(i){this._internalRoot=i}yd.prototype.render=wm.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));_d(i,l,null,null)},yd.prototype.unmount=wm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ul(function(){_d(null,i,null,null)}),l[mt]=null}};function yd(i){this._internalRoot=i}yd.prototype.unstable_scheduleHydration=function(i){if(i){var l=No();i={blockedOn:null,target:i,priority:l};for(var h=0;h<Qt.length&&l!==0&&l<Qt[h].priority;h++);Qt.splice(h,0,i),h===0&&Oo(i)}};function Em(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function hw(){}function MC(i,l,h,g,y){if(y){if(typeof g=="function"){var I=g;g=function(){var re=vd(A);I.call(re)}}var A=lw(l,g,i,0,null,!1,!1,"",hw);return i._reactRootContainer=A,i[mt]=A.current,Yo(i.nodeType===8?i.parentNode:i),ul(),A}for(;y=i.lastChild;)i.removeChild(y);if(typeof g=="function"){var V=g;g=function(){var re=vd(W);V.call(re)}}var W=vm(i,0,!1,null,null,!1,!1,"",hw);return i._reactRootContainer=W,i[mt]=W.current,Yo(i.nodeType===8?i.parentNode:i),ul(function(){_d(l,W,h,g)}),W}function Ed(i,l,h,g,y){var I=h._reactRootContainer;if(I){var A=I;if(typeof y=="function"){var V=y;y=function(){var W=vd(A);V.call(W)}}_d(l,A,i,y)}else A=MC(h,l,i,y,g);return vd(A)}Ro=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var h=Ue(l.pendingLanes);h!==0&&(Ln(l,h|1),mr(l,Et()),(lt&6)===0&&(fu=Et()+500,ra()))}break;case 13:ul(function(){var g=qs(i,1);if(g!==null){var y=Yn();Si(g,i,1,y)}}),ym(i,1)}},Gr=function(i){if(i.tag===13){var l=qs(i,134217728);if(l!==null){var h=Yn();Si(l,i,134217728,h)}ym(i,134217728)}},Lo=function(i){if(i.tag===13){var l=ua(i),h=qs(i,l);if(h!==null){var g=Yn();Si(h,i,l,g)}ym(i,l)}},No=function(){return Qe},Ps=function(i,l){var h=Qe;try{return Qe=i,l()}finally{Qe=h}},vs=function(i,l,h){switch(l){case"input":if(ds(i,h),l=h.name,h.type==="radio"&&l!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==i&&g.form===i.form){var y=eu(g);if(!y)throw Error(t(90));Br(g),ds(g,y)}}}break;case"textarea":yo(i,h);break;case"select":l=h.value,l!=null&&Ir(i,!!h.multiple,l,!1)}},ys=dm,qa=ul;var DC={usingClientEntryPoint:!1,Events:[Fs,Us,eu,$r,Ha,dm]},xc={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jC={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Wa(i),i===null?null:i.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||OC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{Ni=Td.inject(jC),kn=Td}catch{}}return gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DC,gr.createPortal=function(i,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(l))throw Error(t(200));return NC(i,l,null,h)},gr.createRoot=function(i,l){if(!Em(i))throw Error(t(299));var h=!1,g="",y=cw;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=vm(i,1,!1,null,null,h,!1,g,y),i[mt]=l.current,Yo(i.nodeType===8?i.parentNode:i),new wm(l)},gr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Wa(l),i=i===null?null:i.stateNode,i},gr.flushSync=function(i){return ul(i)},gr.hydrate=function(i,l,h){if(!wd(l))throw Error(t(200));return Ed(null,i,l,!0,h)},gr.hydrateRoot=function(i,l,h){if(!Em(i))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,y=!1,I="",A=cw;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onRecoverableError!==void 0&&(A=h.onRecoverableError)),l=lw(l,null,i,1,h??null,y,!1,I,A),i[mt]=l.current,Yo(i),g)for(i=0;i<g.length;i++)h=g[i],y=h._getVersion,y=y(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,y]:l.mutableSourceEagerHydrationData.push(h,y);return new yd(l)},gr.render=function(i,l,h){if(!wd(l))throw Error(t(200));return Ed(null,i,l,!1,h)},gr.unmountComponentAtNode=function(i){if(!wd(i))throw Error(t(40));return i._reactRootContainer?(ul(function(){Ed(null,null,i,!1,function(){i._reactRootContainer=null,i[mt]=null})}),!0):!1},gr.unstable_batchedUpdates=dm,gr.unstable_renderSubtreeIntoContainer=function(i,l,h,g){if(!wd(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ed(i,l,h,!1,g)},gr.version="18.3.1-next-f1338f8080-20240426",gr}var yw;function sT(){if(yw)return Im.exports;yw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Im.exports=qC(),Im.exports}var ww;function WC(){if(ww)return xd;ww=1;var n=sT();return xd.createRoot=n.createRoot,xd.hydrateRoot=n.hydrateRoot,xd}var $C=WC();const GC=oh($C),ZC="modulepreload",KC=function(n){return"/"+n},Ew={},QC=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let _=function(w){return Promise.all(w.map(T=>Promise.resolve(T).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var u=_;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");o=_(t.map(w=>{if(w=KC(w),w in Ew)return;Ew[w]=!0;const T=w.endsWith(".css"),S=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${S}`))return;const b=document.createElement("link");if(b.rel=T?"stylesheet":ZC,T||(b.as="script"),b.crossOrigin="",b.href=w,m&&b.setAttribute("nonce",m),document.head.appendChild(b),T)return new Promise((N,O)=>{b.addEventListener("load",N),b.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${w}`)))})}))}function a(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&a(m.reason);return e().catch(a)})};var Sc={},Tw;function YC(){if(Tw)return Sc;Tw=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.parse=u,Sc.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function u(S,b){const N=new a,O=S.length;if(O<2)return N;const j=b?.decode||w;let D=0;do{const K=S.indexOf("=",D);if(K===-1)break;const ee=S.indexOf(";",D),se=ee===-1?O:ee;if(K>se){D=S.lastIndexOf(";",K-1)+1;continue}const me=d(S,D,K),Se=m(S,K,me),B=S.slice(me,Se);if(N[B]===void 0){let M=d(S,K+1,se),F=m(S,se,M);const q=j(S.slice(M,F));N[B]=q}D=se+1}while(D<O);return N}function d(S,b,N){do{const O=S.charCodeAt(b);if(O!==32&&O!==9)return b}while(++b<N);return N}function m(S,b,N){for(;b>N;){const O=S.charCodeAt(--b);if(O!==32&&O!==9)return b+1}return N}function _(S,b,N){const O=N?.encode||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const j=O(b);if(!e.test(j))throw new TypeError(`argument val is invalid: ${b}`);let D=S+"="+j;if(!N)return D;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);D+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);D+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);D+="; Path="+N.path}if(N.expires){if(!T(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);D+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(D+="; HttpOnly"),N.secure&&(D+="; Secure"),N.partitioned&&(D+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return D}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return Sc}YC();var xw="popstate";function XC(n={}){function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return tg("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Kc(o)}return eP(e,t,null,n)}function Ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function is(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JC(){return Math.random().toString(36).substring(2,10)}function Iw(n,e){return{usr:n.state,key:n.key,idx:e}}function tg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fu(e):e,state:t,key:e&&e.key||r||JC()}}function Kc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function eP(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d="POP",m=null,_=w();_==null&&(_=0,u.replaceState({...u.state,idx:_},""));function w(){return(u.state||{idx:null}).idx}function T(){d="POP";let j=w(),D=j==null?null:j-_;_=j,m&&m({action:d,location:O.location,delta:D})}function S(j,D){d="PUSH";let K=tg(O.location,j,D);_=w()+1;let ee=Iw(K,_),se=O.createHref(K);try{u.pushState(ee,"",se)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(se)}a&&m&&m({action:d,location:O.location,delta:1})}function b(j,D){d="REPLACE";let K=tg(O.location,j,D);_=w();let ee=Iw(K,_),se=O.createHref(K);u.replaceState(ee,"",se),a&&m&&m({action:d,location:O.location,delta:0})}function N(j){return tP(j)}let O={get action(){return d},get location(){return n(o,u)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(xw,T),m=j,()=>{o.removeEventListener(xw,T),m=null}},createHref(j){return e(o,j)},createURL:N,encodeLocation(j){let D=N(j);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:b,go(j){return u.go(j)}};return O}function tP(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Kc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function oT(n,e,t="/"){return nP(n,e,t,!1)}function nP(n,e,t,r){let o=typeof e=="string"?Fu(e):e,a=io(o.pathname||"/",t);if(a==null)return null;let u=aT(n);rP(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let _=pP(a);d=dP(u[m],_,r)}return d}function aT(n,e=[],t=[],r=""){let o=(a,u,d)=>{let m={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};m.relativePath.startsWith("/")&&(Ut(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let _=to([r,m.relativePath]),w=t.concat(m);a.children&&a.children.length>0&&(Ut(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),aT(a.children,e,w,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:cP(_,a.index),routesMeta:w})};return n.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))o(a,u);else for(let d of lT(a.path))o(a,u,d)}),e}function lT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=lT(r.join("/")),d=[];return d.push(...u.map(m=>m===""?a:[a,m].join("/"))),o&&d.push(...u),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function rP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:hP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var iP=/^:[\w-]+$/,sP=3,oP=2,aP=1,lP=10,uP=-2,Sw=n=>n==="*";function cP(n,e){let t=n.split("/"),r=t.length;return t.some(Sw)&&(r+=uP),e&&(r+=oP),t.filter(o=>!Sw(o)).reduce((o,a)=>o+(iP.test(a)?sP:a===""?aP:lP),r)}function hP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function dP(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let m=r[d],_=d===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",T=Yd({path:m.relativePath,caseSensitive:m.caseSensitive,end:_},w),S=m.route;if(!T&&_&&t&&!r[r.length-1].route.index&&(T=Yd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:to([a,T.pathname]),pathnameBase:vP(to([a,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(a=to([a,T.pathnameBase]))}return u}function Yd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=fP(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((_,{paramName:w,isOptional:T},S)=>{if(w==="*"){let N=d[S]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const b=d[S];return T&&!b?_[w]=void 0:_[w]=(b||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:u,pattern:n}}function fP(n,e=!1,t=!0){is(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function pP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return is(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function io(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function mP(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Fu(n):n;return{pathname:t?t.startsWith("/")?t:gP(t,e):e,search:yP(r),hash:wP(o)}}function gP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Pm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _P(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uT(n){let e=_P(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function cT(n,e,t,r=!1){let o;typeof n=="string"?o=Fu(n):(o={...n},Ut(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),Ut(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),Ut(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let T=e.length-1;if(!r&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}d=T>=0?e[T]:"/"}let m=mP(o,d),_=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(_||w)&&(m.pathname+="/"),m}var to=n=>n.join("/").replace(/\/\/+/g,"/"),vP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hT=["POST","PUT","PATCH","DELETE"];new Set(hT);var TP=["GET",...hT];new Set(TP);var Uu=U.createContext(null);Uu.displayName="DataRouter";var Sf=U.createContext(null);Sf.displayName="DataRouterState";var dT=U.createContext({isTransitioning:!1});dT.displayName="ViewTransition";var xP=U.createContext(new Map);xP.displayName="Fetchers";var IP=U.createContext(null);IP.displayName="Await";var as=U.createContext(null);as.displayName="Navigation";var ah=U.createContext(null);ah.displayName="Location";var ls=U.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var n_=U.createContext(null);n_.displayName="RouteError";function SP(n,{relative:e}={}){Ut(lh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=U.useContext(as),{hash:o,pathname:a,search:u}=uh(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:to([t,a])),r.createHref({pathname:d,search:u,hash:o})}function lh(){return U.useContext(ah)!=null}function Al(){return Ut(lh(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ah).location}var fT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pT(n){U.useContext(as).static||U.useLayoutEffect(n)}function kl(){let{isDataRoute:n}=U.useContext(ls);return n?VP():CP()}function CP(){Ut(lh(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Uu),{basename:e,navigator:t}=U.useContext(as),{matches:r}=U.useContext(ls),{pathname:o}=Al(),a=JSON.stringify(uT(r)),u=U.useRef(!1);return pT(()=>{u.current=!0}),U.useCallback((m,_={})=>{if(is(u.current,fT),!u.current)return;if(typeof m=="number"){t.go(m);return}let w=cT(m,JSON.parse(a),o,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:to([e,w.pathname])),(_.replace?t.replace:t.push)(w,_.state,_)},[e,t,a,o,n])}U.createContext(null);function r_(){let{matches:n}=U.useContext(ls),e=n[n.length-1];return e?e.params:{}}function uh(n,{relative:e}={}){let{matches:t}=U.useContext(ls),{pathname:r}=Al(),o=JSON.stringify(uT(t));return U.useMemo(()=>cT(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function PP(n,e){return mT(n,e)}function mT(n,e,t,r){Ut(lh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(as),{matches:a}=U.useContext(ls),u=a[a.length-1],d=u?u.params:{},m=u?u.pathname:"/",_=u?u.pathnameBase:"/",w=u&&u.route;{let D=w&&w.path||"";gT(m,!w||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let T=Al(),S;if(e){let D=typeof e=="string"?Fu(e):e;Ut(_==="/"||D.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${D.pathname}" was given in the \`location\` prop.`),S=D}else S=T;let b=S.pathname||"/",N=b;if(_!=="/"){let D=_.replace(/^\//,"").split("/");N="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let O=oT(n,{pathname:N});is(w||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),is(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=LP(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:to([_,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?_:to([_,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,r);return e&&j?U.createElement(ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function bP(){let n=jP(),e=EP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,u)}var AP=U.createElement(bP,null),kP=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(ls.Provider,{value:this.props.routeContext},U.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RP({routeContext:n,match:e,children:t}){let r=U.useContext(Uu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ls.Provider,{value:n},t)}function LP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t?.errors;if(a!=null){let m=o.findIndex(_=>_.route.id&&a?.[_.route.id]!==void 0);Ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let _=o[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=m),_.route.id){let{loaderData:w,errors:T}=t,S=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,_,w)=>{let T,S=!1,b=null,N=null;t&&(T=a&&_.route.id?a[_.route.id]:void 0,b=_.route.errorElement||AP,u&&(d<0&&w===0?(gT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):d===w&&(S=!0,N=_.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,w+1)),j=()=>{let D;return T?D=b:S?D=N:_.route.Component?D=U.createElement(_.route.Component,null):_.route.element?D=_.route.element:D=m,U.createElement(RP,{match:_,routeContext:{outlet:m,matches:O,isDataRoute:t!=null},children:D})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?U.createElement(kP,{location:t.location,revalidation:t.revalidation,component:b,error:T,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):j()},null)}function i_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NP(n){let e=U.useContext(Uu);return Ut(e,i_(n)),e}function OP(n){let e=U.useContext(Sf);return Ut(e,i_(n)),e}function MP(n){let e=U.useContext(ls);return Ut(e,i_(n)),e}function s_(n){let e=MP(n),t=e.matches[e.matches.length-1];return Ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function DP(){return s_("useRouteId")}function jP(){let n=U.useContext(n_),e=OP("useRouteError"),t=s_("useRouteError");return n!==void 0?n:e.errors?.[t]}function VP(){let{router:n}=NP("useNavigate"),e=s_("useNavigate"),t=U.useRef(!1);return pT(()=>{t.current=!0}),U.useCallback(async(o,a={})=>{is(t.current,fT),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Cw={};function gT(n,e,t){!e&&!Cw[n]&&(Cw[n]=!0,is(!1,t))}U.memo(FP);function FP({routes:n,future:e,state:t}){return mT(n,void 0,t,e)}function Ot(n){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){Ut(!lh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Fu(t));let{pathname:m="/",search:_="",hash:w="",state:T=null,key:S="default"}=t,b=U.useMemo(()=>{let N=io(m,u);return N==null?null:{location:{pathname:N,search:_,hash:w,state:T,key:S},navigationType:r}},[u,m,_,w,T,S,r]);return is(b!=null,`<Router basename="${u}"> is not able to match the URL "${m}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:U.createElement(as.Provider,{value:d},U.createElement(ah.Provider,{children:e,value:b}))}function _T({children:n,location:e}){return PP(ng(n),e)}function ng(n,e=[]){let t=[];return U.Children.forEach(n,(r,o)=>{if(!U.isValidElement(r))return;let a=[...e,o];if(r.type===U.Fragment){t.push.apply(t,ng(r.props.children,a));return}Ut(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ng(r.props.children,a)),t.push(u)}),t}var Dd="get",jd="application/x-www-form-urlencoded";function Cf(n){return n!=null&&typeof n.tagName=="string"}function zP(n){return Cf(n)&&n.tagName.toLowerCase()==="button"}function BP(n){return Cf(n)&&n.tagName.toLowerCase()==="form"}function HP(n){return Cf(n)&&n.tagName.toLowerCase()==="input"}function qP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WP(n,e){return n.button===0&&(!e||e==="_self")&&!qP(n)}var Id=null;function $P(){if(Id===null)try{new FormData(document.createElement("form"),0),Id=!1}catch{Id=!0}return Id}var GP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(n){return n!=null&&!GP.has(n)?(is(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jd}"`),null):n}function ZP(n,e){let t,r,o,a,u;if(BP(n)){let d=n.getAttribute("action");r=d?io(d,e):null,t=n.getAttribute("method")||Dd,o=bm(n.getAttribute("enctype"))||jd,a=new FormData(n)}else if(zP(n)||HP(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(r=m?io(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Dd,o=bm(n.getAttribute("formenctype"))||bm(d.getAttribute("enctype"))||jd,a=new FormData(d,n),!$P()){let{name:_,type:w,value:T}=n;if(w==="image"){let S=_?`${_}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else _&&a.append(_,T)}}else{if(Cf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dd,r=null,o=jd,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function o_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function KP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function YP(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await KP(a,t);return u.links?u.links():[]}return[]}));return tb(r.flat(1).filter(QP).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pw(n,e,t,r,o,a){let u=(m,_)=>t[_]?m.route.id!==t[_].route.id:!0,d=(m,_)=>t[_].pathname!==m.pathname||t[_].route.path?.endsWith("*")&&t[_].params["*"]!==m.params["*"];return a==="assets"?e.filter((m,_)=>u(m,_)||d(m,_)):a==="data"?e.filter((m,_)=>{let w=r.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(u(m,_)||d(m,_))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function XP(n,e,{includeHydrateFallback:t}={}){return JP(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function JP(n){return[...new Set(n)]}function eb(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function tb(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(eb(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nb=new Set([100,101,204,205]);function rb(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&io(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function vT(){let n=U.useContext(Uu);return o_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ib(){let n=U.useContext(Sf);return o_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var a_=U.createContext(void 0);a_.displayName="FrameworkContext";function yT(){let n=U.useContext(a_);return o_(n,"You must render this element inside a <HydratedRouter> element"),n}function sb(n,e){let t=U.useContext(a_),[r,o]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:_,onMouseLeave:w,onTouchStart:T}=e,S=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let O=D=>{D.forEach(K=>{u(K.isIntersecting)})},j=new IntersectionObserver(O,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[n]),U.useEffect(()=>{if(r){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[r]);let b=()=>{o(!0)},N=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,S,{}]:[a,S,{onFocus:Cc(d,b),onBlur:Cc(m,N),onMouseEnter:Cc(_,b),onMouseLeave:Cc(w,N),onTouchStart:Cc(T,b)}]:[!1,S,{}]}function Cc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ob({page:n,...e}){let{router:t}=vT(),r=U.useMemo(()=>oT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?U.createElement(lb,{page:n,matches:r,...e}):null}function ab(n){let{manifest:e,routeModules:t}=yT(),[r,o]=U.useState([]);return U.useEffect(()=>{let a=!1;return YP(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function lb({page:n,matches:e,...t}){let r=Al(),{manifest:o,routeModules:a}=yT(),{basename:u}=vT(),{loaderData:d,matches:m}=ib(),_=U.useMemo(()=>Pw(n,e,m,o,r,"data"),[n,e,m,o,r]),w=U.useMemo(()=>Pw(n,e,m,o,r,"assets"),[n,e,m,o,r]),T=U.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,O=!1;if(e.forEach(D=>{let K=o.routes[D.route.id];!K||!K.hasLoader||(!_.some(ee=>ee.route.id===D.route.id)&&D.route.id in d&&a[D.route.id]?.shouldRevalidate||K.hasClientLoader?O=!0:N.add(D.route.id))}),N.size===0)return[];let j=rb(n,u);return O&&N.size>0&&j.searchParams.set("_routes",e.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[u,d,r,o,_,e,n,a]),S=U.useMemo(()=>XP(w,o),[w,o]),b=ab(w);return U.createElement(U.Fragment,null,T.map(N=>U.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),S.map(N=>U.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),b.map(({key:N,link:O})=>U.createElement("link",{key:N,...O})))}function ub(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wT&&(window.__reactRouterVersion="7.6.3")}catch{}function cb({basename:n,children:e,window:t}){let r=U.useRef();r.current==null&&(r.current=XC({window:t,v5Compat:!0}));let o=r.current,[a,u]=U.useState({action:o.action,location:o.location}),d=U.useCallback(m=>{U.startTransition(()=>u(m))},[u]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(UP,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=U.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:d,target:m,to:_,preventScrollReset:w,viewTransition:T,...S},b){let{basename:N}=U.useContext(as),O=typeof _=="string"&&ET.test(_),j,D=!1;if(typeof _=="string"&&O&&(j=_,wT))try{let F=new URL(window.location.href),q=_.startsWith("//")?new URL(F.protocol+_):new URL(_),$=io(q.pathname,N);q.origin===F.origin&&$!=null?_=$+q.search+q.hash:D=!0}catch{is(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=SP(_,{relative:o}),[ee,se,me]=sb(r,S),Se=pb(_,{replace:u,state:d,target:m,preventScrollReset:w,relative:o,viewTransition:T});function B(F){e&&e(F),F.defaultPrevented||Se(F)}let M=U.createElement("a",{...S,...me,href:j||K,onClick:D||a?e:B,ref:ub(b,se),target:m,"data-discover":!O&&t==="render"?"true":void 0});return ee&&!O?U.createElement(U.Fragment,null,M,U.createElement(ob,{page:K})):M});bt.displayName="Link";var hb=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:d,children:m,..._},w){let T=uh(u,{relative:_.relative}),S=Al(),b=U.useContext(Sf),{navigator:N,basename:O}=U.useContext(as),j=b!=null&&yb(T)&&d===!0,D=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,K=S.pathname,ee=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(K=K.toLowerCase(),ee=ee?ee.toLowerCase():null,D=D.toLowerCase()),ee&&O&&(ee=io(ee,O)||ee);const se=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let me=K===D||!o&&K.startsWith(D)&&K.charAt(se)==="/",Se=ee!=null&&(ee===D||!o&&ee.startsWith(D)&&ee.charAt(D.length)==="/"),B={isActive:me,isPending:Se,isTransitioning:j},M=me?e:void 0,F;typeof r=="function"?F=r(B):F=[r,me?"active":null,Se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(B):a;return U.createElement(bt,{..._,"aria-current":M,className:F,ref:w,style:q,to:u,viewTransition:d},typeof m=="function"?m(B):m)});hb.displayName="NavLink";var db=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Dd,action:d,onSubmit:m,relative:_,preventScrollReset:w,viewTransition:T,...S},b)=>{let N=_b(),O=vb(d,{relative:_}),j=u.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&ET.test(d),K=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let se=ee.nativeEvent.submitter,me=se?.getAttribute("formmethod")||u;N(se||ee.currentTarget,{fetcherKey:e,method:me,navigate:t,replace:o,state:a,relative:_,preventScrollReset:w,viewTransition:T})};return U.createElement("form",{ref:b,method:j,action:O,onSubmit:r?m:K,...S,"data-discover":!D&&n==="render"?"true":void 0})});db.displayName="Form";function fb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(n){let e=U.useContext(Uu);return Ut(e,fb(n)),e}function pb(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=kl(),m=Al(),_=uh(n,{relative:a});return U.useCallback(w=>{if(WP(w,e)){w.preventDefault();let T=t!==void 0?t:Kc(m)===Kc(_);d(n,{replace:T,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[m,d,_,t,r,e,n,o,a,u])}var mb=0,gb=()=>`__${String(++mb)}__`;function _b(){let{router:n}=TT("useSubmit"),{basename:e}=U.useContext(as),t=DP();return U.useCallback(async(r,o={})=>{let{action:a,method:u,encType:d,formData:m,body:_}=ZP(r,e);if(o.navigate===!1){let w=o.fetcherKey||gb();await n.fetch(w,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:m,body:_,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:m,body:_,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function vb(n,{relative:e}={}){let{basename:t}=U.useContext(as),r=U.useContext(ls);Ut(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...uh(n||".",{relative:e})},u=Al();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),m=d.getAll("index");if(m.some(w=>w==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let w=d.toString();a.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:to([t,a.pathname])),Kc(a)}function yb(n,e={}){let t=U.useContext(dT);Ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TT("useViewTransitionState"),o=uh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=io(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=io(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Yd(o.pathname,u)!=null||Yd(o.pathname,a)!=null}[...nb];var wb=sT();const Eb=()=>{};var bw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Tb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],m=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},IT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,m=o+2<n.length,_=m?n[o+2]:0,w=a>>2,T=(a&3)<<4|d>>4;let S=(d&15)<<2|_>>6,b=_&63;m||(b=64,u||(S=64)),r.push(t[w],t[T],t[S],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Tb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||_==null||T==null)throw new xb;const S=a<<2|d>>4;if(r.push(S),_!==64){const b=d<<4&240|_>>2;if(r.push(b),T!==64){const N=_<<6&192|T;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ib=function(n){const e=xT(n);return IT.encodeByteArray(e,!0)},Xd=function(n){return Ib(n).replace(/\./g,"")},ST=function(n){try{return IT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=()=>Sb().__FIREBASE_DEFAULTS__,Pb=()=>{if(typeof process>"u"||typeof bw>"u")return;const n=bw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ST(n[1]);return e&&JSON.parse(e)},Pf=()=>{try{return Eb()||Cb()||Pb()||bb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CT=n=>{var e,t;return(t=(e=Pf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PT=n=>{const e=CT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bT=()=>{var n;return(n=Pf())===null||n===void 0?void 0:n.config},AT=n=>{var e;return(e=Pf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xd(JSON.stringify(t)),Xd(JSON.stringify(u)),""].join(".")}const Vc={};function kb(){const n={prod:[],emulator:[]};for(const e of Object.keys(Vc))Vc[e]?n.emulator.push(e):n.prod.push(e);return n}function Rb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Aw=!1;function u_(n,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||Vc[n]===e||Vc[n]||Aw)return;Vc[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",a=kb().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Aw=!0,u()},S}function w(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=Rb(r),b=t("text"),N=document.getElementById(b)||document.createElement("span"),O=t("learnmore"),j=document.getElementById(O)||document.createElement("a"),D=t("preprendIcon"),K=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ee=S.element;d(ee),w(j,O);const se=_();m(K,D),ee.append(K,N,j,se),document.body.appendChild(ee)}a?(N.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function Nb(){var n;const e=(n=Pf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ob(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Db(){const n=Hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jb(){return!Nb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LT(){try{return typeof indexedDB=="object"}catch{return!1}}function NT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Vb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Fb,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Ub(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ui(o,d,r)}}function Ub(n,e){return n.replace(zb,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const zb=/\{\$([^}]+)}/g;function Bb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function so(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(kw(a)&&kw(u)){if(!so(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function kw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ac(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function kc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Hb(n,e){const t=new qb(n,e);return t.subscribe.bind(t)}class qb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Wb(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=1e3,Gb=2,Zb=4*60*60*1e3,Kb=.5;function Rw(n,e=$b,t=Gb){const r=e*Math.pow(t,n),o=Math.round(Kb*r*(Math.random()-.5)*2);return Math.min(Zb,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n){return n&&n._delegate?n._delegate:n}class li{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ab;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xb(e))try{this.getOrInitializeService({instanceIdentifier:fl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fl){return this.instances.has(e)}getOptions(e=fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fl){return this.component?this.component.multipleInstances?e:fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yb(n){return n===fl?void 0:n}function Xb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const eA={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},tA=it.INFO,nA={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},rA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=nA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=tA,this._logHandler=rA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const iA=(n,e)=>e.some(t=>n instanceof t);let Lw,Nw;function sA(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oA(){return Nw||(Nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,rg=new WeakMap,MT=new WeakMap,km=new WeakMap,c_=new WeakMap;function aA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(_a(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&OT.set(t,n)}).catch(()=>{}),c_.set(e,n),e}function lA(n){if(rg.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});rg.set(n,e)}let ig={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||MT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _a(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uA(n){ig=n(ig)}function cA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rm(this),e,...t);return MT.set(r,e.sort?e.sort():[e]),_a(r)}:oA().includes(n)?function(...e){return n.apply(Rm(this),e),_a(OT.get(this))}:function(...e){return _a(n.apply(Rm(this),e))}}function hA(n){return typeof n=="function"?cA(n):(n instanceof IDBTransaction&&lA(n),iA(n,sA())?new Proxy(n,ig):n)}function _a(n){if(n instanceof IDBRequest)return aA(n);if(km.has(n))return km.get(n);const e=hA(n);return e!==n&&(km.set(n,e),c_.set(e,n)),e}const Rm=n=>c_.get(n);function DT(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=_a(u);return r&&u.addEventListener("upgradeneeded",m=>{r(_a(u.result),m.oldVersion,m.newVersion,_a(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{a&&m.addEventListener("close",()=>a()),o&&m.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const dA=["get","getKey","getAll","getAllKeys","count"],fA=["put","add","delete","clear"],Lm=new Map;function Ow(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=fA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||dA.includes(t)))return;const a=async function(u,...d){const m=this.transaction(u,o?"readwrite":"readonly");let _=m.store;return r&&(_=_.index(d.shift())),(await Promise.all([_[t](...d),o&&m.done]))[0]};return Lm.set(e,a),a}uA(n=>({...n,get:(e,t,r)=>Ow(e,t)||n.get(e,t,r),has:(e,t)=>!!Ow(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function mA(n){const e=n.getComponent();return e?.type==="VERSION"}const sg="@firebase/app",Mw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new bf("@firebase/app"),gA="@firebase/app-compat",_A="@firebase/analytics-compat",vA="@firebase/analytics",yA="@firebase/app-check-compat",wA="@firebase/app-check",EA="@firebase/auth",TA="@firebase/auth-compat",xA="@firebase/database",IA="@firebase/data-connect",SA="@firebase/database-compat",CA="@firebase/functions",PA="@firebase/functions-compat",bA="@firebase/installations",AA="@firebase/installations-compat",kA="@firebase/messaging",RA="@firebase/messaging-compat",LA="@firebase/performance",NA="@firebase/performance-compat",OA="@firebase/remote-config",MA="@firebase/remote-config-compat",DA="@firebase/storage",jA="@firebase/storage-compat",VA="@firebase/firestore",FA="@firebase/ai",UA="@firebase/firestore-compat",zA="firebase",BA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",HA={[sg]:"fire-core",[gA]:"fire-core-compat",[vA]:"fire-analytics",[_A]:"fire-analytics-compat",[wA]:"fire-app-check",[yA]:"fire-app-check-compat",[EA]:"fire-auth",[TA]:"fire-auth-compat",[xA]:"fire-rtdb",[IA]:"fire-data-connect",[SA]:"fire-rtdb-compat",[CA]:"fire-fn",[PA]:"fire-fn-compat",[bA]:"fire-iid",[AA]:"fire-iid-compat",[kA]:"fire-fcm",[RA]:"fire-fcm-compat",[LA]:"fire-perf",[NA]:"fire-perf-compat",[OA]:"fire-rc",[MA]:"fire-rc-compat",[DA]:"fire-gcs",[jA]:"fire-gcs-compat",[VA]:"fire-fst",[UA]:"fire-fst-compat",[FA]:"fire-vertex","fire-js":"fire-js",[zA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,qA=new Map,ag=new Map;function Dw(n,e){try{n.container.addComponent(e)}catch(t){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pi(n){const e=n.name;if(ag.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,n);for(const t of Jd.values())Dw(t,n);for(const t of qA.values())Dw(t,n);return!0}function Oa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},va=new Rl("app","Firebase",WA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=BA;function jT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw va.create("bad-app-name",{appName:String(o)});if(t||(t=bT()),!t)throw va.create("no-options");const a=Jd.get(o);if(a){if(so(t,a.options)&&so(r,a.config))return a;throw va.create("duplicate-app",{appName:o})}const u=new Jb(o);for(const m of ag.values())u.addComponent(m);const d=new $A(t,r,u);return Jd.set(o,d),d}function Af(n=og){const e=Jd.get(n);if(!e&&n===og&&bT())return jT();if(!e)throw va.create("no-app",{appName:n});return e}function wr(n,e,t){var r;let o=(r=HA[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(d.join(" "));return}Pi(new li(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firebase-heartbeat-database",ZA=1,Qc="firebase-heartbeat-store";let Nm=null;function VT(){return Nm||(Nm=DT(GA,ZA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw va.create("idb-open",{originalErrorMessage:n.message})})),Nm}async function KA(n){try{const t=(await VT()).transaction(Qc),r=await t.objectStore(Qc).get(FT(n));return await t.done,r}catch(e){if(e instanceof ui)oo.warn(e.message);else{const t=va.create("idb-get",{originalErrorMessage:e?.message});oo.warn(t.message)}}}async function jw(n,e){try{const r=(await VT()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,FT(n)),await r.done}catch(t){if(t instanceof ui)oo.warn(t.message);else{const r=va.create("idb-set",{originalErrorMessage:t?.message});oo.warn(r.message)}}}function FT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=1024,YA=30;class XA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ek(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Vw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>YA){const u=tk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vw(),{heartbeatsToSend:r,unsentEntries:o}=JA(this._heartbeatsCache.heartbeats),a=Xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return oo.warn(t),""}}}function Vw(){return new Date().toISOString().substring(0,10)}function JA(n,e=QA){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Fw(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Fw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LT()?NT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return jw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return jw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fw(n){return Xd(JSON.stringify({version:2,heartbeats:n})).length}function tk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){Pi(new li("platform-logger",e=>new pA(e),"PRIVATE")),Pi(new li("heartbeat",e=>new XA(e),"PRIVATE")),wr(sg,Mw,n),wr(sg,Mw,"esm2017"),wr("fire-js","")}nk("");function h_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zT=UT,BT=new Rl("auth","Firebase",UT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new bf("@firebase/auth");function rk(n,...e){ef.logLevel<=it.WARN&&ef.warn(`Auth (${Ll}): ${n}`,...e)}function Vd(n,...e){ef.logLevel<=it.ERROR&&ef.error(`Auth (${Ll}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,...e){throw d_(n,...e)}function Xi(n,...e){return d_(n,...e)}function HT(n,e,t){const r=Object.assign(Object.assign({},zT()),{[e]:t});return new Rl("auth","Firebase",r).create(e,{appName:n.name})}function no(n){return HT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BT.create(n,...e)}function ze(n,e,...t){if(!n)throw d_(e,...t)}function Js(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vd(e),new Error(e)}function ao(n,e){n||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ik(){return Uw()==="http:"||Uw()==="https:"}function Uw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ik()||RT()||"connection"in navigator)?navigator.onLine:!0}function ok(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ao(t>e,"Short delay should be less than long delay!"),this.isMobile=Lb()||Mb()}get(){return sk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n,e){ao(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uk=new hh(3e4,6e4);function po(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function us(n,e,t,r,o={}){return WT(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=ch(Object.assign({key:n.config.apiKey},u)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:m},a);return Ob()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Na(n.emulatorConfig.host)&&(_.credentials="include"),qT.fetch()(await $T(n,n.config.apiHost,t,d),_)})}async function WT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ak),e);try{const o=new hk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Sd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[m,_]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Sd(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Sd(n,"user-disabled",u);const w=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw HT(n,w,_);bi(n,w)}}catch(o){if(o instanceof ui)throw o;bi(n,"network-request-failed",{message:String(o)})}}async function dh(n,e,t,r,o={}){const a=await us(n,e,t,r,o);return"mfaPendingCredential"in a&&bi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function $T(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?f_(n.config,o):`${n.config.apiScheme}://${o}`;return lk.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function ck(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),uk.get())})}}function Sd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Xi(n,e,r);return o.customData._tokenResponse=t,o}function zw(n){return n!==void 0&&n.enterprise!==void 0}class dk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ck(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fk(n,e){return us(n,"GET","/v2/recaptchaConfig",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,e){return us(n,"POST","/v1/accounts:delete",e)}async function tf(n,e){return us(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GT(n,e=!1){const t=xt(n),r=await t.getIdToken(e),o=p_(r);ze(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Fc(Om(o.auth_time)),issuedAtTime:Fc(Om(o.iat)),expirationTime:Fc(Om(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Om(n){return Number(n)*1e3}function p_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const o=ST(t);return o?JSON.parse(o):(Vd("Failed to decode base64 JWT payload"),null)}catch(o){return Vd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bw(n){const e=p_(n);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&mk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function mk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Au(n,tf(t,{idToken:r}));ze(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?KT(a.providerUserInfo):[],d=_k(n.providerData,u),m=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!d?.length,w=m?_:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function ZT(n){const e=xt(n);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _k(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function KT(n){return n.map(e=>{var{providerId:t}=e,r=h_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(n,e){const t=await WT(n,{},async()=>{const r=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await $T(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return n.emulatorConfig&&Na(n.emulatorConfig.host)&&(m.credentials="include"),qT.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yk(n,e){return us(n,"POST","/v2/accounts:revokeToken",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const t=Bw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await vk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new xu;return r&&(ze(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(ze(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(ze(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xu,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(n,e){ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=h_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ug(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Au(this,this.stsTokenManager.getToken(this.auth,e));return ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GT(this,e)}reload(){return ZT(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await Au(this,pk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,d,m,_,w;const T=(r=t.displayName)!==null&&r!==void 0?r:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(u=t.photoURL)!==null&&u!==void 0?u:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,j=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,D=(_=t.createdAt)!==null&&_!==void 0?_:void 0,K=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:ee,emailVerified:se,isAnonymous:me,providerData:Se,stsTokenManager:B}=t;ze(ee&&B,e,"internal-error");const M=xu.fromJSON(this.name,B);ze(typeof ee=="string",e,"internal-error"),fa(T,e.name),fa(S,e.name),ze(typeof se=="boolean",e,"internal-error"),ze(typeof me=="boolean",e,"internal-error"),fa(b,e.name),fa(N,e.name),fa(O,e.name),fa(j,e.name),fa(D,e.name),fa(K,e.name);const F=new Ci({uid:ee,auth:e,email:S,emailVerified:se,displayName:T,isAnonymous:me,photoURL:N,phoneNumber:b,tenantId:O,stsTokenManager:M,createdAt:D,lastLoginAt:K});return Se&&Array.isArray(Se)&&(F.providerData=Se.map(q=>Object.assign({},q))),j&&(F._redirectEventId=j),F}static async _fromIdTokenResponse(e,t,r=!1){const o=new xu;o.updateFromServerResponse(t);const a=new Ci({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await nf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];ze(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?KT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new xu;d.updateFromIdToken(r);const m=new Ci({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ug(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(m,_),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;function eo(n){ao(n instanceof Function,"Expected a class definition");let e=Hw.get(n);return e?(ao(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Hw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QT.type="NONE";const cg=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n,e,t){return`firebase:${n}:${e}:${t}`}class Iu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Fd(this.userKey,o.apiKey,a),this.fullPersistenceKey=Fd("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tf(this.auth,{idToken:e}).catch(()=>{});return t?Ci._fromGetAccountInfoResponse(this.auth,t,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Iu(eo(cg),e,r);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=o[0]||eo(cg);const u=Fd(r,e.config.apiKey,e.name);let d=null;for(const _ of t)try{const w=await _._get(u);if(w){let T;if(typeof w=="string"){const S=await tf(e,{idToken:w}).catch(()=>{});if(!S)break;T=await Ci._fromGetAccountInfoResponse(e,S,w)}else T=Ci._fromJSON(e,w);_!==a&&(d=T),a=_;break}}catch{}const m=o.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new Iu(a,e,r):(a=m[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async _=>{if(_!==a)try{await _._remove(u)}catch{}})),new Iu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n1(e))return"Blackberry";if(r1(e))return"Webos";if(XT(e))return"Safari";if((e.includes("chrome/")||JT(e))&&!e.includes("edge/"))return"Chrome";if(t1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function YT(n=Hn()){return/firefox\//i.test(n)}function XT(n=Hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JT(n=Hn()){return/crios\//i.test(n)}function e1(n=Hn()){return/iemobile/i.test(n)}function t1(n=Hn()){return/android/i.test(n)}function n1(n=Hn()){return/blackberry/i.test(n)}function r1(n=Hn()){return/webos/i.test(n)}function m_(n=Hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wk(n=Hn()){var e;return m_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ek(){return Db()&&document.documentMode===10}function i1(n=Hn()){return m_(n)||t1(n)||r1(n)||n1(n)||/windows phone/i.test(n)||e1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e=[]){let t;switch(n){case"Browser":t=qw(Hn());break;case"Worker":t=`${qw(Hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const m=e(a);u(m)}catch(m){d(m)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(n,e={}){return us(n,"GET","/v2/passwordPolicy",po(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=6;class Sk{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Ik,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(a=m.containsUppercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ww(this),this.idTokenSubscription=new Ww(this),this.beforeStateQueue=new Tk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eo(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Iu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tf(this,{idToken:e}),r=await Ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===d)&&m?.user&&(o=m.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ok()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(no(this));const t=e?xt(e):null;return t&&ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xk(this),t=new Sk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&eo(e)||this._popupRedirectResolver;ze(t,this,"argument-error"),this.redirectPersistenceManager=await Iu.create(this,[eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,o);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&rk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ma(n){return xt(n)}class Ww{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hb(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pk(n){kf=n}function o1(n){return kf.loadJS(n)}function bk(){return kf.recaptchaEnterpriseScript}function Ak(){return kf.gapiScript}function kk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Rk{constructor(){this.enterprise=new Lk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Lk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nk="recaptcha-enterprise",a1="NO_RECAPTCHA";class Ok{constructor(e){this.type=Nk,this.auth=Ma(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{fk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new dk(m);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,u(_.siteKey)}}).catch(m=>{d(m)})})}function o(a,u,d){const m=window.grecaptcha;zw(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(_=>{u(_)}).catch(()=>{u(a1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Rk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&zw(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=bk();m.length!==0&&(m+=d),o1(m).then(()=>{o(d,a,u)}).catch(_=>{u(_)})}}).catch(d=>{u(d)})})}}async function $w(n,e,t,r=!1,o=!1){const a=new Ok(n);let u;if(o)u=a1;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:_,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function rf(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $w(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $w(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n,e){const t=Oa(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(so(a,e??{}))return o;bi(o,"already-initialized")}return t.initialize({options:e})}function Mk(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(eo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function u1(n,e,t){const r=Ma(n);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=c1(e),{host:u,port:d}=Dk(e),m=d===null?"":`:${d}`,_={url:`${a}//${u}${m}/`},w=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(so(_,r.config.emulator)&&so(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,Na(u)?(l_(`${a}//${u}${m}`),u_("Auth",!0)):jk()}function c1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Dk(n){const e=c1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Gw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Gw(u)}}}function Gw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,t){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function Vk(n,e){return us(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(n,e){return dh(n,"POST","/v1/accounts:signInWithPassword",po(n,e))}async function h1(n,e){return us(n,"POST","/v1/accounts:sendOobCode",po(n,e))}async function Uk(n,e){return h1(n,e)}async function zk(n,e){return h1(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e){return dh(n,"POST","/v1/accounts:signInWithEmailLink",po(n,e))}async function Hk(n,e){return dh(n,"POST","/v1/accounts:signInWithEmailLink",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Rf{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ku(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ku(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rf(e,t,"signInWithPassword",Fk);case"emailLink":return Bk(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rf(e,r,"signUpPassword",Vk);case"emailLink":return Hk(e,{idToken:t,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(n,e){return dh(n,"POST","/v1/accounts:signInWithIdp",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="http://localhost";class Ea extends Rf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=h_(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Ea(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Su(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Su(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Su(e,t)}buildRequest(){const e={requestUri:qk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ch(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $k(n){const e=Ac(kc(n)).link,t=e?Ac(kc(e)).deep_link_id:null,r=Ac(kc(n)).deep_link_id;return(r?Ac(kc(r)).link:null)||r||t||e||n}class Lf{constructor(e){var t,r,o,a,u,d;const m=Ac(kc(e)),_=(t=m.apiKey)!==null&&t!==void 0?t:null,w=(r=m.oobCode)!==null&&r!==void 0?r:null,T=Wk((o=m.mode)!==null&&o!==void 0?o:null);ze(_&&w&&T,"argument-error"),this.apiKey=_,this.operation=T,this.code=w,this.continueUrl=(a=m.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=m.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=$k(e);try{return new Lf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,t){return ku._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Lf.parseLink(t);return ze(r,"argument-error"),ku._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends d1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends fh{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Qs.credential(t,r)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends fh{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends fh{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Xs.credential(t,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,e){return dh(n,"POST","/v1/accounts:signUp",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Ci._fromIdTokenResponse(e,r,o),u=Zw(r);return new El({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Zw(r);return new El({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Zw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends ui{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new sf(e,t,r,o)}}function f1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(n,a,e,r):a})}async function Zk(n,e,t=!1){const r=await Au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return El._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(n,e,t=!1){const{auth:r}=n;if(Dr(r.app))return Promise.reject(no(r));const o="reauthenticate";try{const a=await Au(n,f1(r,o,e,n),t);ze(a.idToken,r,"internal-error");const u=p_(a.idToken);ze(u,r,"internal-error");const{sub:d}=u;return ze(n.uid===d,r,"user-mismatch"),El._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&bi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(n,e,t=!1){if(Dr(n.app))return Promise.reject(no(n));const r="signIn",o=await f1(n,r,e),a=await El._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function m1(n,e){return p1(Ma(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(n){const e=Ma(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _1(n,e,t){const r=Ma(n);await rf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",zk)}async function v1(n,e,t){if(Dr(n.app))return Promise.reject(no(n));const r=Ma(n),u=await rf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&g1(n),m}),d=await El._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function y1(n,e,t){return Dr(n.app)?Promise.reject(no(n)):m1(xt(n),Nl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g1(n),r})}async function w1(n,e){const t=xt(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await Uk(t.auth,o);a!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(n,e){return us(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=xt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Au(r,Qk(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function T1(n,e,t,r){return xt(n).onIdTokenChanged(e,t,r)}function x1(n,e,t){return xt(n).beforeAuthStateChanged(e,t)}function g_(n,e,t,r){return xt(n).onAuthStateChanged(e,t,r)}function Yk(n){return xt(n).signOut()}const of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1e3,Jk=10;class S1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Ek()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Jk):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}S1.type="LOCAL";const C1=S1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}P1.type="SESSION";const __=P1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async _=>_(t.origin,a)),m=await eR(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,m)=>{const _=v_("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(S.data.response);break;default:clearTimeout(w),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function nR(n){Ji().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function rR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iR(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sR(){return b1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebaseLocalStorageDb",oR=1,af="firebaseLocalStorage",k1="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Of(n,e){return n.transaction([af],e?"readwrite":"readonly").objectStore(af)}function aR(){const n=indexedDB.deleteDatabase(A1);return new ph(n).toPromise()}function hg(){const n=indexedDB.open(A1,oR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(af,{keyPath:k1})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(af)?e(r):(r.close(),await aR(),e(await hg()))})})}async function Kw(n,e,t){const r=Of(n,!0).put({[k1]:e,value:t});return new ph(r).toPromise()}async function lR(n,e){const t=Of(n,!1).get(e),r=await new ph(t).toPromise();return r===void 0?null:r.value}function Qw(n,e){const t=Of(n,!0).delete(e);return new ph(t).toPromise()}const uR=800,cR=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>cR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(sR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rR(),!this.activeServiceWorker)return;this.sender=new tR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await Kw(e,of,"1"),await Qw(e,of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>lR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Of(o,!1).getAll();return new ph(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const L1=R1;new hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n,e){return e?eo(e):(ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends Rf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Su(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Su(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Su(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dR(n){return p1(n.auth,new y_(n),n.bypassAuthState)}function fR(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),Kk(t,new y_(n),n.bypassAuthState)}async function pR(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),Zk(t,new y_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dR;case"linkViaPopup":case"linkViaRedirect":return pR;case"reauthViaPopup":case"reauthViaRedirect":return fR;default:bi(this.auth,"internal-error")}}resolve(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new hh(2e3,1e4);class wu extends N1{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,wu.currentPopupAction&&wu.currentPopupAction.cancel(),wu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){ao(this.filter.length===1,"Popup operations only handle one event");const e=v_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mR.get())};e()}}wu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="pendingRedirect",Ud=new Map;class _R extends N1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ud.get(this.auth._key());if(!e){try{const r=await vR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ud.set(this.auth._key(),e)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(n,e){const t=ER(e),r=wR(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function yR(n,e){Ud.set(n._key(),e)}function wR(n){return eo(n._redirectPersistence)}function ER(n){return Fd(gR,n.config.apiKey,n.name)}async function TR(n,e,t=!1){if(Dr(n.app))return Promise.reject(no(n));const r=Ma(n),o=hR(r,e),u=await new _R(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=10*60*1e3;class IR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!O1(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Xi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yw(e))}saveEventToCache(e){this.cachedEventUids.add(Yw(e)),this.lastProcessedEventTime=Date.now()}}function Yw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function O1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function SR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(n,e={}){return us(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bR=/^https?/;async function AR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await CR(n);for(const t of e)try{if(kR(t))return}catch{}bi(n,"unauthorized-domain")}function kR(n){const e=lg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!bR.test(t))return!1;if(PR.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new hh(3e4,6e4);function Xw(){const n=Ji().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LR(n){return new Promise((e,t)=>{var r,o,a;function u(){Xw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xw(),t(Xi(n,"network-request-failed"))},timeout:RR.get()})}if(!((o=(r=Ji().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Ji().gapi)===null||a===void 0)&&a.load)u();else{const d=kk("iframefcb");return Ji()[d]=()=>{gapi.load?u():t(Xi(n,"network-request-failed"))},o1(`${Ak()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw zd=null,e})}let zd=null;function NR(n){return zd=zd||LR(n),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new hh(5e3,15e3),MR="__/auth/iframe",DR="emulator/auth/iframe",jR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FR(n){const e=n.config;ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?f_(e,DR):`https://${n.config.authDomain}/${MR}`,r={apiKey:e.apiKey,appName:n.name,v:Ll},o=VR.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ch(r).slice(1)}`}async function UR(n){const e=await NR(n),t=Ji().gapi;return ze(t,n,"internal-error"),e.open({where:document.body,url:FR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jR,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Xi(n,"network-request-failed"),d=Ji().setTimeout(()=>{a(u)},OR.get());function m(){Ji().clearTimeout(d),o(r)}r.ping(m).then(m,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BR=500,HR=600,qR="_blank",WR="http://localhost";class Jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $R(n,e,t,r=BR,o=HR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},zR),{width:r.toString(),height:o.toString(),top:a,left:u}),_=Hn().toLowerCase();t&&(d=JT(_)?qR:t),YT(_)&&(e=e||WR,m.scrollbars="yes");const w=Object.entries(m).reduce((S,[b,N])=>`${S}${b}=${N},`,"");if(wk(_)&&d!=="_self")return GR(e||"",d),new Jw(null);const T=window.open(e||"",d,w);ze(T,n,"popup-blocked");try{T.focus()}catch{}return new Jw(T)}function GR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__/auth/handler",KR="emulator/auth/handler",QR=encodeURIComponent("fac");async function e0(n,e,t,r,o,a){ze(n.config.authDomain,n,"auth-domain-config-required"),ze(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ll,eventId:o};if(e instanceof d1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Bb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))u[w]=T}if(e instanceof fh){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(u.scopes=w.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const m=await n._getAppCheckToken(),_=m?`#${QR}=${encodeURIComponent(m)}`:"";return`${YR(n)}?${ch(d).slice(1)}${_}`}function YR({config:n}){return n.emulator?f_(n,KR):`https://${n.authDomain}/${ZR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class XR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=__,this._completeRedirectFn=TR,this._overrideRedirectResult=yR}async _openPopup(e,t,r,o){var a;ao((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await e0(e,t,r,lg(),o);return $R(e,u,v_())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await e0(e,t,r,lg(),o);return nR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ao(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await UR(e),r=new IR(e);return t.register("authEvent",o=>(ze(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mm,{type:Mm},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[Mm];u!==void 0&&t(!!u),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return i1()||XT()||m_()}}const M1=XR;var t0="@firebase/auth",n0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tL(n){Pi(new li("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;ze(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(n)},_=new Ck(r,o,a,m);return Mk(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pi(new li("auth-internal",e=>{const t=Ma(e.getProvider("auth").getImmediate());return(r=>new JR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(t0,n0,eL(n)),wr(t0,n0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=5*60,rL=AT("authIdTokenMaxAge")||nL;let r0=null;const iL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rL)return;const o=t?.token;r0!==o&&(r0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function w_(n=Af()){const e=Oa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=l1(n,{popupRedirectResolver:M1,persistence:[L1,C1,__]}),r=AT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=iL(a.toString());x1(t,u,()=>u(t.currentUser)),T1(t,d=>u(d))}}const o=CT("auth");return o&&u1(t,`http://${o}`),t}function sL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Pk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Xi("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",sL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tL("Browser");const oL=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:Lf,AuthCredential:Rf,EmailAuthCredential:ku,EmailAuthProvider:Nl,FacebookAuthProvider:Ks,GithubAuthProvider:Ys,GoogleAuthProvider:Qs,OAuthCredential:Ea,TwitterAuthProvider:Xs,beforeAuthStateChanged:x1,browserLocalPersistence:C1,browserPopupRedirectResolver:M1,browserSessionPersistence:__,connectAuthEmulator:u1,createUserWithEmailAndPassword:v1,getAuth:w_,getIdTokenResult:GT,inMemoryPersistence:cg,indexedDBLocalPersistence:L1,initializeAuth:l1,onAuthStateChanged:g_,onIdTokenChanged:T1,prodErrorMap:zT,reload:ZT,sendEmailVerification:w1,sendPasswordResetEmail:_1,signInWithCredential:m1,signInWithEmailAndPassword:y1,signOut:Yk,updateProfile:E1},Symbol.toStringTag,{value:"Module"}));var aL="firebase",lL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(aL,lL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebasestorage.googleapis.com",j1="storageBucket",uL=2*60*1e3,cL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends ui{constructor(e,t,r=0){super(Dm(e),`Firebase Storage: ${t} (${Dm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function Dm(n){return"storage/"+n}function E_(){const n="An unknown error occurred, please check the error payload for server response.";return new Kt(Zt.UNKNOWN,n)}function hL(n){return new Kt(Zt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function dL(n){return new Kt(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Zt.UNAUTHENTICATED,n)}function pL(){return new Kt(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mL(n){return new Kt(Zt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function gL(){return new Kt(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _L(){return new Kt(Zt.CANCELED,"User canceled the upload/download.")}function vL(n){return new Kt(Zt.INVALID_URL,"Invalid URL '"+n+"'.")}function yL(n){return new Kt(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function wL(){return new Kt(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+j1+"' property when initializing the app?")}function EL(){return new Kt(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function TL(){return new Kt(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xL(n){return new Kt(Zt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dg(n){return new Kt(Zt.INVALID_ARGUMENT,n)}function V1(){return new Kt(Zt.APP_DELETED,"The Firebase app was deleted.")}function IL(n){return new Kt(Zt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uc(n,e){return new Kt(Zt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Pc(n){throw new Kt(Zt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=jr.makeFromUrl(e,t)}catch{return new jr(e,"")}if(r.path==="")return r;throw yL(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),m={bucket:1,path:3};function _(se){se.path_=decodeURIComponent(se.path)}const w="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",b=new RegExp(`^https?://${T}/${w}/b/${o}/o${S}`,"i"),N={bucket:1,path:3},O=t===D1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",D=new RegExp(`^https?://${O}/${o}/${j}`,"i"),ee=[{regex:d,indices:m,postModify:a},{regex:b,indices:N,postModify:_},{regex:D,indices:{bucket:1,path:2},postModify:_}];for(let se=0;se<ee.length;se++){const me=ee[se],Se=me.regex.exec(e);if(Se){const B=Se[me.indices.bucket];let M=Se[me.indices.path];M||(M=""),r=new jr(B,M),me.postModify(r);break}}if(r==null)throw vL(e);return r}}class SL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(n,e,t){let r=1,o=null,a=null,u=!1,d=0;function m(){return d===2}let _=!1;function w(...j){_||(_=!0,e.apply(null,j))}function T(j){o=setTimeout(()=>{o=null,n(b,m())},j)}function S(){a&&clearTimeout(a)}function b(j,...D){if(_){S();return}if(j){S(),w.call(null,j,...D);return}if(m()||u){S(),w.call(null,j,...D);return}r<64&&(r*=2);let ee;d===1?(d=2,ee=0):ee=(r+Math.random())*1e3,T(ee)}let N=!1;function O(j){N||(N=!0,S(),!_&&(o!==null?(j||(d=2),clearTimeout(o),T(0)):j||(d=1)))}return T(0),a=setTimeout(()=>{u=!0,O(!0)},t),O}function PL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(n){return n!==void 0}function AL(n){return typeof n=="object"&&!Array.isArray(n)}function T_(n){return typeof n=="string"||n instanceof String}function i0(n){return x_()&&n instanceof Blob}function x_(){return typeof Blob<"u"}function s0(n,e,t,r){if(r<e)throw dg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw dg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function F1(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var vl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(vl||(vl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t,r,o,a,u,d,m,_,w,T,S=!0,b=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,O)=>{this.resolve_=N,this.reject_=O,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Cd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const m=d.loaded,_=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,_)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===vl.NO_ERROR,m=a.getStatus();if(!d||kL(m,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===vl.ABORT;r(!1,new Cd(!1,null,w));return}const _=this.successCodes_.indexOf(m)!==-1;r(!0,new Cd(_,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());bL(m)?a(m):a()}catch(m){u(m)}else if(d!==null){const m=E_();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(o.canceled){const m=this.appDelete_?V1():_L();u(m)}else{const m=gL();u(m)}};this.canceled_?t(!1,new Cd(!1,null,!0)):this.backoffId_=CL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function LL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function NL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ML(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function DL(n,e,t,r,o,a,u=!0,d=!1){const m=F1(n.urlParams),_=n.url+m,w=Object.assign({},n.headers);return OL(w,e),LL(w,t),NL(w,a),ML(w,r),new RL(_,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VL(...n){const e=jL();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(x_())return new Blob(n);throw new Kt(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function FL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(n){if(typeof atob>"u")throw xL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jm{constructor(e,t){this.data=e,this.contentType=t||null}}function zL(n,e){switch(n){case Ki.RAW:return new jm(U1(e));case Ki.BASE64:case Ki.BASE64URL:return new jm(z1(n,e));case Ki.DATA_URL:return new jm(HL(e),qL(e))}throw E_()}function U1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function BL(n){let e;try{e=decodeURIComponent(n)}catch{throw Uc(Ki.DATA_URL,"Malformed data URL.")}return U1(e)}function z1(n,e){switch(n){case Ki.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Uc(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ki.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Uc(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=UL(e)}catch(o){throw o.message.includes("polyfill")?o:Uc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class B1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Uc(Ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=WL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function HL(n){const e=new B1(n);return e.base64?z1(Ki.BASE64,e.rest):BL(e.rest)}function qL(n){return new B1(n).contentType}function WL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t){let r=0,o="";i0(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(i0(this.data_)){const r=this.data_,o=FL(r,e,t);return o===null?null:new ma(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ma(r,!0)}}static getBlob(...e){if(x_()){const t=e.map(r=>r instanceof ma?r.data_:r);return new ma(VL.apply(null,t))}else{const t=e.map(u=>T_(u)?zL(Ki.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)o[a++]=u[d]}),new ma(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n){let e;try{e=JSON.parse(n)}catch{return null}return AL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function GL(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function q1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(n,e){return e}class Xn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||ZL}}let Pd=null;function KL(n){return!T_(n)||n.length<2?n:q1(n)}function W1(){if(Pd)return Pd;const n=[];n.push(new Xn("bucket")),n.push(new Xn("generation")),n.push(new Xn("metageneration")),n.push(new Xn("name","fullPath",!0));function e(a,u){return KL(u)}const t=new Xn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new Xn("size");return o.xform=r,n.push(o),n.push(new Xn("timeCreated")),n.push(new Xn("updated")),n.push(new Xn("md5Hash",null,!0)),n.push(new Xn("cacheControl",null,!0)),n.push(new Xn("contentDisposition",null,!0)),n.push(new Xn("contentEncoding",null,!0)),n.push(new Xn("contentLanguage",null,!0)),n.push(new Xn("contentType",null,!0)),n.push(new Xn("metadata","customMetadata",!0)),Pd=n,Pd}function QL(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new jr(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function YL(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return QL(r,n),r}function $1(n,e,t){const r=H1(e);return r===null?null:YL(n,r,t)}function XL(n,e,t,r){const o=H1(e);if(o===null||!T_(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(_=>{const w=n.bucket,T=n.fullPath,S="/b/"+u(w)+"/o/"+u(T),b=Mf(S,t,r),N=F1({alt:"media",token:_});return b+N})[0]}function JL(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class I_{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n){if(!n)throw E_()}function eN(n,e){function t(r,o){const a=$1(n,o,e);return G1(a!==null),a}return t}function tN(n,e){function t(r,o){const a=$1(n,o,e);return G1(a!==null),XL(a,o,n.host,n._protocol)}return t}function Z1(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=pL():o=fL():t.getStatus()===402?o=dL(n.bucket):t.getStatus()===403?o=mL(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function K1(n){const e=Z1(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=hL(n.path)),a.serverResponse=o.serverResponse,a}return t}function nN(n,e,t){const r=e.fullServerUrl(),o=Mf(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new I_(o,a,tN(n,t),u);return d.errorHandler=K1(e),d}function rN(n,e){const t=e.fullServerUrl(),r=Mf(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function u(m,_){}const d=new I_(r,o,u,a);return d.successCodes=[200,204],d.errorHandler=K1(e),d}function iN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function sN(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=iN(null,e)),r}function oN(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let ee="";for(let se=0;se<2;se++)ee=ee+Math.random().toString().slice(2);return ee}const m=d();u["Content-Type"]="multipart/related; boundary="+m;const _=sN(e,r,o),w=JL(_,t),T="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+_.contentType+`\r
\r
`,S=`\r
--`+m+"--",b=ma.getBlob(T,r,S);if(b===null)throw EL();const N={name:_.fullPath},O=Mf(a,n.host,n._protocol),j="POST",D=n.maxUploadRetryTime,K=new I_(O,j,eN(n,t),D);return K.urlParams=N,K.headers=u,K.body=b.uploadData(),K.errorHandler=Z1(e),K}class aN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,a){if(this.sent_)throw Pc("cannot .send() more than once");if(Na(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lN extends aN{initXhr(){this.xhr_.responseType="text"}}function S_(){return new lN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t){this._service=e,t instanceof jr?this._location=t:this._location=jr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Tl(e,t)}get root(){const e=new jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q1(this._location.path)}get storage(){return this._service}get parent(){const e=$L(this._location.path);if(e===null)return null;const t=new jr(this._location.bucket,e);return new Tl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw IL(e)}}function uN(n,e,t){n._throwIfRoot("uploadBytes");const r=oN(n.storage,n._location,W1(),new ma(e,!0),t);return n.storage.makeRequestWithTokens(r,S_).then(o=>({metadata:o,ref:n}))}function cN(n){n._throwIfRoot("getDownloadURL");const e=nN(n.storage,n._location,W1());return n.storage.makeRequestWithTokens(e,S_).then(t=>{if(t===null)throw TL();return t})}function hN(n){n._throwIfRoot("deleteObject");const e=rN(n.storage,n._location);return n.storage.makeRequestWithTokens(e,S_)}function dN(n,e){const t=GL(n._location.path,e),r=new jr(n._location.bucket,t);return new Tl(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n){return/^[A-Za-z]+:\/\//.test(n)}function pN(n,e){return new Tl(n,e)}function Q1(n,e){if(n instanceof C_){const t=n;if(t._bucket==null)throw wL();const r=new Tl(t,t._bucket);return e!=null?Q1(r,e):r}else return e!==void 0?dN(n,e):n}function mN(n,e){if(e&&fN(e)){if(n instanceof C_)return pN(n,e);throw dg("To use ref(service, url), the first argument must be a Storage instance.")}else return Q1(n,e)}function o0(n,e){const t=e?.[j1];return t==null?null:jr.makeFromBucketSpec(t,n)}function gN(n,e,t,r={}){n.host=`${e}:${t}`;const o=Na(e);o&&(l_(`https://${n.host}/b`),u_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:kT(a,n.app.options.projectId))}class C_{constructor(e,t,r,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=D1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uL,this._maxUploadRetryTime=cL,this._requests=new Set,o!=null?this._bucket=jr.makeFromBucketSpec(o,this._host):this._bucket=o0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jr.makeFromBucketSpec(this._url,e):this._bucket=o0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tl(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new SL(V1());{const u=DL(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const a0="@firebase/storage",l0="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="storage";function _N(n,e,t){return n=xt(n),uN(n,e,t)}function vN(n){return n=xt(n),cN(n)}function yN(n){return n=xt(n),hN(n)}function u0(n,e){return n=xt(n),mN(n,e)}function wN(n=Af(),e){n=xt(n);const r=Oa(n,Y1).getImmediate({identifier:e}),o=PT("storage");return o&&EN(r,...o),r}function EN(n,e,t,r={}){gN(n,e,t,r)}function TN(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new C_(t,r,o,e,Ll)}function xN(){Pi(new li(Y1,TN,"PUBLIC").setMultipleInstances(!0)),wr(a0,l0,""),wr(a0,l0,"esm2017")}xN();const X1="@firebase/installations",P_="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=1e4,ex=`w:${P_}`,tx="FIS_v2",IN="https://firebaseinstallations.googleapis.com/v1",SN=60*60*1e3,CN="installations",PN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xl=new Rl(CN,PN,bN);function nx(n){return n instanceof ui&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx({projectId:n}){return`${IN}/projects/${n}/installations`}function ix(n){return{token:n.token,requestStatus:2,expiresIn:kN(n.expiresIn),creationTime:Date.now()}}async function sx(n,e){const r=(await e.json()).error;return xl.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ox({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function AN(n,{refreshToken:e}){const t=ox(n);return t.append("Authorization",RN(e)),t}async function ax(n){const e=await n();return e.status>=500&&e.status<600?n():e}function kN(n){return Number(n.replace("s","000"))}function RN(n){return`${tx} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=rx(n),o=ox(n),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const u={fid:t,authVersion:tx,appId:n.appId,sdkVersion:ex},d={method:"POST",headers:o,body:JSON.stringify(u)},m=await ax(()=>fetch(r,d));if(m.ok){const _=await m.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:ix(_.authToken)}}else throw await sx("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^[cdef][\w-]{21}$/,fg="";function MN(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=DN(n);return ON.test(t)?t:fg}catch{return fg}}function DN(n){return NN(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Map;function cx(n,e){const t=Df(n);hx(t,e),jN(t,e)}function hx(n,e){const t=ux.get(n);if(t)for(const r of t)r(e)}function jN(n,e){const t=VN();t&&t.postMessage({key:n,fid:e}),FN()}let ml=null;function VN(){return!ml&&"BroadcastChannel"in self&&(ml=new BroadcastChannel("[Firebase] FID Change"),ml.onmessage=n=>{hx(n.data.key,n.data.fid)}),ml}function FN(){ux.size===0&&ml&&(ml.close(),ml=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="firebase-installations-database",zN=1,Il="firebase-installations-store";let Vm=null;function b_(){return Vm||(Vm=DT(UN,zN,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Il)}}})),Vm}async function lf(n,e){const t=Df(n),o=(await b_()).transaction(Il,"readwrite"),a=o.objectStore(Il),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&cx(n,e.fid),e}async function dx(n){const e=Df(n),r=(await b_()).transaction(Il,"readwrite");await r.objectStore(Il).delete(e),await r.done}async function jf(n,e){const t=Df(n),o=(await b_()).transaction(Il,"readwrite"),a=o.objectStore(Il),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await o.done,d&&(!u||u.fid!==d.fid)&&cx(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(n){let e;const t=await jf(n.appConfig,r=>{const o=BN(r),a=HN(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===fg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function BN(n){const e=n||{fid:MN(),registrationStatus:0};return fx(e)}function HN(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(xl.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=qN(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WN(n)}:{installationEntry:e}}async function qN(n,e){try{const t=await LN(n,e);return lf(n.appConfig,t)}catch(t){throw nx(t)&&t.customData.serverCode===409?await dx(n.appConfig):await lf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function WN(n){let e=await c0(n.appConfig);for(;e.registrationStatus===1;)await lx(100),e=await c0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await A_(n);return r||t}return e}function c0(n){return jf(n,e=>{if(!e)throw xl.create("installation-not-found");return fx(e)})}function fx(n){return $N(n)?{fid:n.fid,registrationStatus:0}:n}function $N(n){return n.registrationStatus===1&&n.registrationTime+J1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN({appConfig:n,heartbeatServiceProvider:e},t){const r=ZN(n,t),o=AN(n,t),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const u={installation:{sdkVersion:ex,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(u)},m=await ax(()=>fetch(r,d));if(m.ok){const _=await m.json();return ix(_)}else throw await sx("Generate Auth Token",m)}function ZN(n,{fid:e}){return`${rx(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k_(n,e=!1){let t;const r=await jf(n.appConfig,a=>{if(!px(a))throw xl.create("not-registered");const u=a.authToken;if(!e&&YN(u))return a;if(u.requestStatus===1)return t=KN(n,e),a;{if(!navigator.onLine)throw xl.create("app-offline");const d=JN(a);return t=QN(n,d),d}});return t?await t:r.authToken}async function KN(n,e){let t=await h0(n.appConfig);for(;t.authToken.requestStatus===1;)await lx(100),t=await h0(n.appConfig);const r=t.authToken;return r.requestStatus===0?k_(n,e):r}function h0(n){return jf(n,e=>{if(!px(e))throw xl.create("not-registered");const t=e.authToken;return e2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function QN(n,e){try{const t=await GN(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await lf(n.appConfig,r),t}catch(t){if(nx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await dx(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await lf(n.appConfig,r)}throw t}}function px(n){return n!==void 0&&n.registrationStatus===2}function YN(n){return n.requestStatus===2&&!XN(n)}function XN(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+SN}function JN(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function e2(n){return n.requestStatus===1&&n.requestTime+J1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(n){const e=n,{installationEntry:t,registrationPromise:r}=await A_(e);return r?r.catch(console.error):k_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(n,e=!1){const t=n;return await r2(t),(await k_(t,e)).token}async function r2(n){const{registrationPromise:e}=await A_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){if(!n||!n.options)throw Fm("App Configuration");if(!n.name)throw Fm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Fm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Fm(n){return xl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="installations",s2="installations-internal",o2=n=>{const e=n.getProvider("app").getImmediate(),t=i2(e),r=Oa(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},a2=n=>{const e=n.getProvider("app").getImmediate(),t=Oa(e,mx).getImmediate();return{getId:()=>t2(t),getToken:o=>n2(t,o)}};function l2(){Pi(new li(mx,o2,"PUBLIC")),Pi(new li(s2,a2,"PRIVATE"))}l2();wr(X1,P_);wr(X1,P_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="analytics",u2="firebase_id",c2="origin",h2=60*1e3,d2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",R_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new bf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fr=new Rl("analytics","Analytics",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n){if(!n.startsWith(R_)){const e=Fr.create("invalid-gtag-resource",{gtagURL:n});return Er.warn(e.message),""}return n}function gx(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function m2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function g2(n,e){const t=m2("firebase-js-sdk-policy",{createScriptURL:p2}),r=document.createElement("script"),o=`${R_}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function _2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function v2(n,e,t,r,o,a){const u=r[o];try{if(u)await e[u];else{const m=(await gx(t)).find(_=>_.measurementId===o);m&&await e[m.appId]}}catch(d){Er.error(d)}n("config",o,a)}async function y2(n,e,t,r,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const d=await gx(t);for(const m of u){const _=d.find(T=>T.measurementId===m),w=_&&e[_.appId];if(w)a.push(w);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,o||{})}catch(a){Er.error(a)}}function w2(n,e,t,r){async function o(a,...u){try{if(a==="event"){const[d,m]=u;await y2(n,e,t,d,m)}else if(a==="config"){const[d,m]=u;await v2(n,e,t,r,d,m)}else if(a==="consent"){const[d,m]=u;n("consent",d,m)}else if(a==="get"){const[d,m,_]=u;n("get",d,m,_)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){Er.error(d)}}return o}function E2(n,e,t,r,o){let a=function(...u){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=w2(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function T2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(R_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=30,I2=1e3;class S2{constructor(e={},t=I2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _x=new S2;function C2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function P2(n){var e;const{appId:t,apiKey:r}=n,o={method:"GET",headers:C2(r)},a=d2.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let d="";try{const m=await u.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw Fr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function b2(n,e=_x,t){const{appId:r,apiKey:o,measurementId:a}=n.options;if(!r)throw Fr.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw Fr.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new R2;return setTimeout(async()=>{d.abort()},h2),vx({appId:r,apiKey:o,measurementId:a},u,d,e)}async function vx(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=_x){var a;const{appId:u,measurementId:d}=n;try{await A2(r,e)}catch(m){if(d)return Er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:d};throw m}try{const m=await P2(n);return o.deleteThrottleMetadata(u),m}catch(m){const _=m;if(!k2(_)){if(o.deleteThrottleMetadata(u),d)return Er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:d};throw m}const w=Number((a=_?.customData)===null||a===void 0?void 0:a.httpStatus)===503?Rw(t,o.intervalMillis,x2):Rw(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return o.setThrottleMetadata(u,T),Er.debug(`Calling attemptFetch again in ${w} millis`),vx(n,T,r,o)}}function A2(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r(Fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k2(n){if(!(n instanceof ui)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class R2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function L2(n,e,t,r,o){if(o&&o.global){n("event",t,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(){if(LT())try{await NT()}catch(n){return Er.warn(Fr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Er.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function O2(n,e,t,r,o,a,u){var d;const m=b2(n);m.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&Er.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Er.error(b)),e.push(m);const _=N2().then(b=>{if(b)return r.getId()}),[w,T]=await Promise.all([m,_]);T2(a)||g2(a,w.measurementId),o("js",new Date);const S=(d=u?.config)!==null&&d!==void 0?d:{};return S[c2]="firebase",S.update=!0,T!=null&&(S[u2]=T),o("config",w.measurementId,S),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.app=e}_delete(){return delete zc[this.app.options.appId],Promise.resolve()}}let zc={},d0=[];const f0={};let Um="dataLayer",D2="gtag",p0,yx,m0=!1;function j2(){const n=[];if(RT()&&n.push("This is a browser extension environment."),Vb()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=Fr.create("invalid-analytics-context",{errorInfo:e});Er.warn(t.message)}}function V2(n,e,t){j2();const r=n.options.appId;if(!r)throw Fr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fr.create("no-api-key");if(zc[r]!=null)throw Fr.create("already-exists",{id:r});if(!m0){_2(Um);const{wrappedGtag:a,gtagCore:u}=E2(zc,d0,f0,Um,D2);yx=a,p0=u,m0=!0}return zc[r]=O2(n,d0,f0,e,p0,Um,t),new M2(n)}function F2(n=Af()){n=xt(n);const e=Oa(n,uf);return e.isInitialized()?e.getImmediate():U2(n)}function U2(n,e={}){const t=Oa(n,uf);if(t.isInitialized()){const o=t.getImmediate();if(so(e,t.getOptions()))return o;throw Fr.create("already-initialized")}return t.initialize({options:e})}function z2(n,e,t,r){n=xt(n),L2(yx,zc[n.app.options.appId],e,t,r).catch(o=>Er.error(o))}const g0="@firebase/analytics",_0="0.10.17";function B2(){Pi(new li(uf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return V2(r,o,t)},"PUBLIC")),Pi(new li("analytics-internal",n,"PRIVATE")),wr(g0,_0),wr(g0,_0,"esm2017");function n(e){try{const t=e.getProvider(uf).getImmediate();return{logEvent:(r,o,a)=>z2(t,r,o,a)}}catch(t){throw Fr.create("interop-component-reg-failed",{reason:t})}}}B2();var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,wx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,M){function F(){}F.prototype=M.prototype,B.D=M.prototype,B.prototype=new F,B.prototype.constructor=B,B.C=function(q,$,Q){for(var z=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)z[ct-2]=arguments[ct];return M.prototype[$].apply(q,z)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(B,M,F){F||(F=0);var q=Array(16);if(typeof M=="string")for(var $=0;16>$;++$)q[$]=M.charCodeAt(F++)|M.charCodeAt(F++)<<8|M.charCodeAt(F++)<<16|M.charCodeAt(F++)<<24;else for($=0;16>$;++$)q[$]=M[F++]|M[F++]<<8|M[F++]<<16|M[F++]<<24;M=B.g[0],F=B.g[1],$=B.g[2];var Q=B.g[3],z=M+(Q^F&($^Q))+q[0]+3614090360&4294967295;M=F+(z<<7&4294967295|z>>>25),z=Q+($^M&(F^$))+q[1]+3905402710&4294967295,Q=M+(z<<12&4294967295|z>>>20),z=$+(F^Q&(M^F))+q[2]+606105819&4294967295,$=Q+(z<<17&4294967295|z>>>15),z=F+(M^$&(Q^M))+q[3]+3250441966&4294967295,F=$+(z<<22&4294967295|z>>>10),z=M+(Q^F&($^Q))+q[4]+4118548399&4294967295,M=F+(z<<7&4294967295|z>>>25),z=Q+($^M&(F^$))+q[5]+1200080426&4294967295,Q=M+(z<<12&4294967295|z>>>20),z=$+(F^Q&(M^F))+q[6]+2821735955&4294967295,$=Q+(z<<17&4294967295|z>>>15),z=F+(M^$&(Q^M))+q[7]+4249261313&4294967295,F=$+(z<<22&4294967295|z>>>10),z=M+(Q^F&($^Q))+q[8]+1770035416&4294967295,M=F+(z<<7&4294967295|z>>>25),z=Q+($^M&(F^$))+q[9]+2336552879&4294967295,Q=M+(z<<12&4294967295|z>>>20),z=$+(F^Q&(M^F))+q[10]+4294925233&4294967295,$=Q+(z<<17&4294967295|z>>>15),z=F+(M^$&(Q^M))+q[11]+2304563134&4294967295,F=$+(z<<22&4294967295|z>>>10),z=M+(Q^F&($^Q))+q[12]+1804603682&4294967295,M=F+(z<<7&4294967295|z>>>25),z=Q+($^M&(F^$))+q[13]+4254626195&4294967295,Q=M+(z<<12&4294967295|z>>>20),z=$+(F^Q&(M^F))+q[14]+2792965006&4294967295,$=Q+(z<<17&4294967295|z>>>15),z=F+(M^$&(Q^M))+q[15]+1236535329&4294967295,F=$+(z<<22&4294967295|z>>>10),z=M+($^Q&(F^$))+q[1]+4129170786&4294967295,M=F+(z<<5&4294967295|z>>>27),z=Q+(F^$&(M^F))+q[6]+3225465664&4294967295,Q=M+(z<<9&4294967295|z>>>23),z=$+(M^F&(Q^M))+q[11]+643717713&4294967295,$=Q+(z<<14&4294967295|z>>>18),z=F+(Q^M&($^Q))+q[0]+3921069994&4294967295,F=$+(z<<20&4294967295|z>>>12),z=M+($^Q&(F^$))+q[5]+3593408605&4294967295,M=F+(z<<5&4294967295|z>>>27),z=Q+(F^$&(M^F))+q[10]+38016083&4294967295,Q=M+(z<<9&4294967295|z>>>23),z=$+(M^F&(Q^M))+q[15]+3634488961&4294967295,$=Q+(z<<14&4294967295|z>>>18),z=F+(Q^M&($^Q))+q[4]+3889429448&4294967295,F=$+(z<<20&4294967295|z>>>12),z=M+($^Q&(F^$))+q[9]+568446438&4294967295,M=F+(z<<5&4294967295|z>>>27),z=Q+(F^$&(M^F))+q[14]+3275163606&4294967295,Q=M+(z<<9&4294967295|z>>>23),z=$+(M^F&(Q^M))+q[3]+4107603335&4294967295,$=Q+(z<<14&4294967295|z>>>18),z=F+(Q^M&($^Q))+q[8]+1163531501&4294967295,F=$+(z<<20&4294967295|z>>>12),z=M+($^Q&(F^$))+q[13]+2850285829&4294967295,M=F+(z<<5&4294967295|z>>>27),z=Q+(F^$&(M^F))+q[2]+4243563512&4294967295,Q=M+(z<<9&4294967295|z>>>23),z=$+(M^F&(Q^M))+q[7]+1735328473&4294967295,$=Q+(z<<14&4294967295|z>>>18),z=F+(Q^M&($^Q))+q[12]+2368359562&4294967295,F=$+(z<<20&4294967295|z>>>12),z=M+(F^$^Q)+q[5]+4294588738&4294967295,M=F+(z<<4&4294967295|z>>>28),z=Q+(M^F^$)+q[8]+2272392833&4294967295,Q=M+(z<<11&4294967295|z>>>21),z=$+(Q^M^F)+q[11]+1839030562&4294967295,$=Q+(z<<16&4294967295|z>>>16),z=F+($^Q^M)+q[14]+4259657740&4294967295,F=$+(z<<23&4294967295|z>>>9),z=M+(F^$^Q)+q[1]+2763975236&4294967295,M=F+(z<<4&4294967295|z>>>28),z=Q+(M^F^$)+q[4]+1272893353&4294967295,Q=M+(z<<11&4294967295|z>>>21),z=$+(Q^M^F)+q[7]+4139469664&4294967295,$=Q+(z<<16&4294967295|z>>>16),z=F+($^Q^M)+q[10]+3200236656&4294967295,F=$+(z<<23&4294967295|z>>>9),z=M+(F^$^Q)+q[13]+681279174&4294967295,M=F+(z<<4&4294967295|z>>>28),z=Q+(M^F^$)+q[0]+3936430074&4294967295,Q=M+(z<<11&4294967295|z>>>21),z=$+(Q^M^F)+q[3]+3572445317&4294967295,$=Q+(z<<16&4294967295|z>>>16),z=F+($^Q^M)+q[6]+76029189&4294967295,F=$+(z<<23&4294967295|z>>>9),z=M+(F^$^Q)+q[9]+3654602809&4294967295,M=F+(z<<4&4294967295|z>>>28),z=Q+(M^F^$)+q[12]+3873151461&4294967295,Q=M+(z<<11&4294967295|z>>>21),z=$+(Q^M^F)+q[15]+530742520&4294967295,$=Q+(z<<16&4294967295|z>>>16),z=F+($^Q^M)+q[2]+3299628645&4294967295,F=$+(z<<23&4294967295|z>>>9),z=M+($^(F|~Q))+q[0]+4096336452&4294967295,M=F+(z<<6&4294967295|z>>>26),z=Q+(F^(M|~$))+q[7]+1126891415&4294967295,Q=M+(z<<10&4294967295|z>>>22),z=$+(M^(Q|~F))+q[14]+2878612391&4294967295,$=Q+(z<<15&4294967295|z>>>17),z=F+(Q^($|~M))+q[5]+4237533241&4294967295,F=$+(z<<21&4294967295|z>>>11),z=M+($^(F|~Q))+q[12]+1700485571&4294967295,M=F+(z<<6&4294967295|z>>>26),z=Q+(F^(M|~$))+q[3]+2399980690&4294967295,Q=M+(z<<10&4294967295|z>>>22),z=$+(M^(Q|~F))+q[10]+4293915773&4294967295,$=Q+(z<<15&4294967295|z>>>17),z=F+(Q^($|~M))+q[1]+2240044497&4294967295,F=$+(z<<21&4294967295|z>>>11),z=M+($^(F|~Q))+q[8]+1873313359&4294967295,M=F+(z<<6&4294967295|z>>>26),z=Q+(F^(M|~$))+q[15]+4264355552&4294967295,Q=M+(z<<10&4294967295|z>>>22),z=$+(M^(Q|~F))+q[6]+2734768916&4294967295,$=Q+(z<<15&4294967295|z>>>17),z=F+(Q^($|~M))+q[13]+1309151649&4294967295,F=$+(z<<21&4294967295|z>>>11),z=M+($^(F|~Q))+q[4]+4149444226&4294967295,M=F+(z<<6&4294967295|z>>>26),z=Q+(F^(M|~$))+q[11]+3174756917&4294967295,Q=M+(z<<10&4294967295|z>>>22),z=$+(M^(Q|~F))+q[2]+718787259&4294967295,$=Q+(z<<15&4294967295|z>>>17),z=F+(Q^($|~M))+q[9]+3951481745&4294967295,B.g[0]=B.g[0]+M&4294967295,B.g[1]=B.g[1]+($+(z<<21&4294967295|z>>>11))&4294967295,B.g[2]=B.g[2]+$&4294967295,B.g[3]=B.g[3]+Q&4294967295}r.prototype.u=function(B,M){M===void 0&&(M=B.length);for(var F=M-this.blockSize,q=this.B,$=this.h,Q=0;Q<M;){if($==0)for(;Q<=F;)o(this,B,Q),Q+=this.blockSize;if(typeof B=="string"){for(;Q<M;)if(q[$++]=B.charCodeAt(Q++),$==this.blockSize){o(this,q),$=0;break}}else for(;Q<M;)if(q[$++]=B[Q++],$==this.blockSize){o(this,q),$=0;break}}this.h=$,this.o+=M},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var M=1;M<B.length-8;++M)B[M]=0;var F=8*this.o;for(M=B.length-8;M<B.length;++M)B[M]=F&255,F/=256;for(this.u(B),B=Array(16),M=F=0;4>M;++M)for(var q=0;32>q;q+=8)B[F++]=this.g[M]>>>q&255;return B};function a(B,M){var F=d;return Object.prototype.hasOwnProperty.call(F,B)?F[B]:F[B]=M(B)}function u(B,M){this.h=M;for(var F=[],q=!0,$=B.length-1;0<=$;$--){var Q=B[$]|0;q&&Q==M||(F[$]=Q,q=!1)}this.g=F}var d={};function m(B){return-128<=B&&128>B?a(B,function(M){return new u([M|0],0>M?-1:0)}):new u([B|0],0>B?-1:0)}function _(B){if(isNaN(B)||!isFinite(B))return T;if(0>B)return j(_(-B));for(var M=[],F=1,q=0;B>=F;q++)M[q]=B/F|0,F*=4294967296;return new u(M,0)}function w(B,M){if(B.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(B.charAt(0)=="-")return j(w(B.substring(1),M));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=_(Math.pow(M,8)),q=T,$=0;$<B.length;$+=8){var Q=Math.min(8,B.length-$),z=parseInt(B.substring($,$+Q),M);8>Q?(Q=_(Math.pow(M,Q)),q=q.j(Q).add(_(z))):(q=q.j(F),q=q.add(_(z)))}return q}var T=m(0),S=m(1),b=m(16777216);n=u.prototype,n.m=function(){if(O(this))return-j(this).m();for(var B=0,M=1,F=0;F<this.g.length;F++){var q=this.i(F);B+=(0<=q?q:4294967296+q)*M,M*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(N(this))return"0";if(O(this))return"-"+j(this).toString(B);for(var M=_(Math.pow(B,6)),F=this,q="";;){var $=se(F,M).g;F=D(F,$.j(M));var Q=((0<F.g.length?F.g[0]:F.h)>>>0).toString(B);if(F=$,N(F))return Q+q;for(;6>Q.length;)Q="0"+Q;q=Q+q}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function N(B){if(B.h!=0)return!1;for(var M=0;M<B.g.length;M++)if(B.g[M]!=0)return!1;return!0}function O(B){return B.h==-1}n.l=function(B){return B=D(this,B),O(B)?-1:N(B)?0:1};function j(B){for(var M=B.g.length,F=[],q=0;q<M;q++)F[q]=~B.g[q];return new u(F,~B.h).add(S)}n.abs=function(){return O(this)?j(this):this},n.add=function(B){for(var M=Math.max(this.g.length,B.g.length),F=[],q=0,$=0;$<=M;$++){var Q=q+(this.i($)&65535)+(B.i($)&65535),z=(Q>>>16)+(this.i($)>>>16)+(B.i($)>>>16);q=z>>>16,Q&=65535,z&=65535,F[$]=z<<16|Q}return new u(F,F[F.length-1]&-2147483648?-1:0)};function D(B,M){return B.add(j(M))}n.j=function(B){if(N(this)||N(B))return T;if(O(this))return O(B)?j(this).j(j(B)):j(j(this).j(B));if(O(B))return j(this.j(j(B)));if(0>this.l(b)&&0>B.l(b))return _(this.m()*B.m());for(var M=this.g.length+B.g.length,F=[],q=0;q<2*M;q++)F[q]=0;for(q=0;q<this.g.length;q++)for(var $=0;$<B.g.length;$++){var Q=this.i(q)>>>16,z=this.i(q)&65535,ct=B.i($)>>>16,pn=B.i($)&65535;F[2*q+2*$]+=z*pn,K(F,2*q+2*$),F[2*q+2*$+1]+=Q*pn,K(F,2*q+2*$+1),F[2*q+2*$+1]+=z*ct,K(F,2*q+2*$+1),F[2*q+2*$+2]+=Q*ct,K(F,2*q+2*$+2)}for(q=0;q<M;q++)F[q]=F[2*q+1]<<16|F[2*q];for(q=M;q<2*M;q++)F[q]=0;return new u(F,0)};function K(B,M){for(;(B[M]&65535)!=B[M];)B[M+1]+=B[M]>>>16,B[M]&=65535,M++}function ee(B,M){this.g=B,this.h=M}function se(B,M){if(N(M))throw Error("division by zero");if(N(B))return new ee(T,T);if(O(B))return M=se(j(B),M),new ee(j(M.g),j(M.h));if(O(M))return M=se(B,j(M)),new ee(j(M.g),M.h);if(30<B.g.length){if(O(B)||O(M))throw Error("slowDivide_ only works with positive integers.");for(var F=S,q=M;0>=q.l(B);)F=me(F),q=me(q);var $=Se(F,1),Q=Se(q,1);for(q=Se(q,2),F=Se(F,2);!N(q);){var z=Q.add(q);0>=z.l(B)&&($=$.add(F),Q=z),q=Se(q,1),F=Se(F,1)}return M=D(B,$.j(M)),new ee($,M)}for($=T;0<=B.l(M);){for(F=Math.max(1,Math.floor(B.m()/M.m())),q=Math.ceil(Math.log(F)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),Q=_(F),z=Q.j(M);O(z)||0<z.l(B);)F-=q,Q=_(F),z=Q.j(M);N(Q)&&(Q=S),$=$.add(Q),B=D(B,z)}return new ee($,B)}n.A=function(B){return se(this,B).h},n.and=function(B){for(var M=Math.max(this.g.length,B.g.length),F=[],q=0;q<M;q++)F[q]=this.i(q)&B.i(q);return new u(F,this.h&B.h)},n.or=function(B){for(var M=Math.max(this.g.length,B.g.length),F=[],q=0;q<M;q++)F[q]=this.i(q)|B.i(q);return new u(F,this.h|B.h)},n.xor=function(B){for(var M=Math.max(this.g.length,B.g.length),F=[],q=0;q<M;q++)F[q]=this.i(q)^B.i(q);return new u(F,this.h^B.h)};function me(B){for(var M=B.g.length+1,F=[],q=0;q<M;q++)F[q]=B.i(q)<<1|B.i(q-1)>>>31;return new u(F,B.h)}function Se(B,M){var F=M>>5;M%=32;for(var q=B.g.length-F,$=[],Q=0;Q<q;Q++)$[Q]=0<M?B.i(Q+F)>>>M|B.i(Q+F+1)<<32-M:B.i(Q+F);return new u($,B.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=w,ya=u}).apply(typeof v0<"u"?v0:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ex,Rc,Tx,Bd,pg,xx,Ix,Sx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,P){return f==Array.prototype||f==Object.prototype||(f[x]=P.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var x=0;x<f.length;++x){var P=f[x];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=t(this);function o(f,x){if(x)e:{var P=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var Y=f[R];if(!(Y in P))break e;P=P[Y]}f=f[f.length-1],R=P[f],x=x(R),x!=R&&x!=null&&e(P,f,{configurable:!0,writable:!0,value:x})}}function a(f,x){f instanceof String&&(f+="");var P=0,R=!1,Y={next:function(){if(!R&&P<f.length){var ie=P++;return{value:x(ie,f[ie]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(f){return f||function(){return a(this,function(x,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function _(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function w(f,x,P){return f.call.apply(f.bind,arguments)}function T(f,x,P){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,R),f.apply(x,Y)}}return function(){return f.apply(x,arguments)}}function S(f,x,P){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function b(f,x){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function N(f,x){function P(){}P.prototype=x.prototype,f.aa=x.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(R,Y,ie){for(var ve=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ve[ht-2]=arguments[ht];return x.prototype[Y].apply(R,ve)}}function O(f){const x=f.length;if(0<x){const P=Array(x);for(let R=0;R<x;R++)P[R]=f[R];return P}return[]}function j(f,x){for(let P=1;P<arguments.length;P++){const R=arguments[P];if(m(R)){const Y=f.length||0,ie=R.length||0;f.length=Y+ie;for(let ve=0;ve<ie;ve++)f[Y+ve]=R[ve]}else f.push(R)}}class D{constructor(x,P){this.i=x,this.j=P,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function K(f){return/^[\s\xa0]*$/.test(f)}function ee(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function se(f){return se[" "](f),f}se[" "]=function(){};var me=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Se(f,x,P){for(const R in f)x.call(P,f[R],R,f)}function B(f,x){for(const P in f)x.call(void 0,f[P],P,f)}function M(f){const x={};for(const P in f)x[P]=f[P];return x}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(f,x){let P,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(P in R)f[P]=R[P];for(let ie=0;ie<F.length;ie++)P=F[ie],Object.prototype.hasOwnProperty.call(R,P)&&(f[P]=R[P])}}function $(f){var x=1;f=f.split(":");const P=[];for(;0<x&&f.length;)P.push(f.shift()),x--;return f.length&&P.push(f.join(":")),P}function Q(f){d.setTimeout(()=>{throw f},0)}function z(){var f=Oe;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class ct{constructor(){this.h=this.g=null}add(x,P){const R=pn.get();R.set(x,P),this.h?this.h.next=R:this.g=R,this.h=R}}var pn=new D(()=>new dt,f=>f.reset());class dt{constructor(){this.next=this.g=this.h=null}set(x,P){this.h=x,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ae=!1,Oe=new ct,ue=()=>{const f=d.Promise.resolve(void 0);ot=()=>{f.then(G)}};var G=()=>{for(var f;f=z();){try{f.h.call(f.g)}catch(P){Q(P)}var x=pn;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}ae=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};d.addEventListener("test",P,x),d.removeEventListener("test",P,x)}catch{}return f}();function Ce(f,x){if(Ee.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(me){e:{try{se(x.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(x=null)}}else P=="mouseover"?x=f.fromElement:P=="mouseout"&&(x=f.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:xe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,Ee);var xe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function _t(f,x,P,R,Y){this.listener=f,this.proxy=null,this.src=x,this.type=P,this.capture=!!R,this.ha=Y,this.key=++Ye,this.da=this.fa=!1}function Bt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xr(f){this.src=f,this.g={},this.h=0}xr.prototype.add=function(f,x,P,R,Y){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ve=Hr(f,x,R,Y);return-1<ve?(x=f[ve],P||(x.fa=!1)):(x=new _t(x,this.src,ie,!!R,Y),x.fa=P,f.push(x)),x};function Br(f,x){var P=x.type;if(P in f.g){var R=f.g[P],Y=Array.prototype.indexOf.call(R,x,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(R,Y,1),ie&&(Bt(x),f.g[P].length==0&&(delete f.g[P],f.h--))}}function Hr(f,x,P,R){for(var Y=0;Y<f.length;++Y){var ie=f[Y];if(!ie.da&&ie.listener==x&&ie.capture==!!P&&ie.ha==R)return Y}return-1}var cs="closure_lm_"+(1e6*Math.random()|0),hs={};function go(f,x,P,R,Y){if(Array.isArray(x)){for(var ie=0;ie<x.length;ie++)go(f,x[ie],P,R,Y);return null}return P=Ua(P),f&&f[Ke]?f.K(x,P,_(R)?!!R.capture:!1,Y):ds(f,x,P,!1,R,Y)}function ds(f,x,P,R,Y,ie){if(!x)throw Error("Invalid event type");var ve=_(Y)?!!Y.capture:!!Y,ht=ps(f);if(ht||(f[cs]=ht=new xr(f)),P=ht.add(x,P,R,ve,ie),P.proxy)return P;if(R=fs(),P.proxy=R,R.src=f,R.listener=P,f.addEventListener)Re||(Y=ve),Y===void 0&&(Y=!1),f.addEventListener(x.toString(),R,Y);else if(f.attachEvent)f.attachEvent(Ir(x.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function fs(){function f(P){return x.call(f.src,f.listener,P)}const x=vo;return f}function _o(f,x,P,R,Y){if(Array.isArray(x))for(var ie=0;ie<x.length;ie++)_o(f,x[ie],P,R,Y);else R=_(R)?!!R.capture:!!R,P=Ua(P),f&&f[Ke]?(f=f.i,x=String(x).toString(),x in f.g&&(ie=f.g[x],P=Hr(ie,P,R,Y),-1<P&&(Bt(ie[P]),Array.prototype.splice.call(ie,P,1),ie.length==0&&(delete f.g[x],f.h--)))):f&&(f=ps(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Hr(x,P,R,Y)),(P=-1<f?x[f]:null)&&qr(P))}function qr(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Ke])Br(x.i,f);else{var P=f.type,R=f.proxy;x.removeEventListener?x.removeEventListener(P,R,f.capture):x.detachEvent?x.detachEvent(Ir(P),R):x.addListener&&x.removeListener&&x.removeListener(R),(P=ps(x))?(Br(P,f),P.h==0&&(P.src=null,x[cs]=null)):Bt(f)}}}function Ir(f){return f in hs?hs[f]:hs[f]="on"+f}function vo(f,x){if(f.da)f=!0;else{x=new Ce(x,this);var P=f.listener,R=f.ha||f.src;f.fa&&qr(f),f=P.call(R,x)}return f}function ps(f){return f=f[cs],f instanceof xr?f:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ua(f){return typeof f=="function"?f:(f[yo]||(f[yo]=function(x){return f.handleEvent(x)}),f[yo])}function Mt(){oe.call(this),this.i=new xr(this),this.M=this,this.F=null}N(Mt,oe),Mt.prototype[Ke]=!0,Mt.prototype.removeEventListener=function(f,x,P,R){_o(this,f,x,P,R)};function Ht(f,x){var P,R=f.F;if(R)for(P=[];R;R=R.F)P.push(R);if(f=f.M,R=x.type||x,typeof x=="string")x=new Ee(x,f);else if(x instanceof Ee)x.target=x.target||f;else{var Y=x;x=new Ee(R,f),q(x,Y)}if(Y=!0,P)for(var ie=P.length-1;0<=ie;ie--){var ve=x.g=P[ie];Y=Wr(ve,R,!0,x)&&Y}if(ve=x.g=f,Y=Wr(ve,R,!0,x)&&Y,Y=Wr(ve,R,!1,x)&&Y,P)for(ie=0;ie<P.length;ie++)ve=x.g=P[ie],Y=Wr(ve,R,!1,x)&&Y}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var P=f.g[x],R=0;R<P.length;R++)Bt(P[R]);delete f.g[x],f.h--}}this.F=null},Mt.prototype.K=function(f,x,P,R){return this.i.add(String(f),x,!1,P,R)},Mt.prototype.L=function(f,x,P,R){return this.i.add(String(f),x,!0,P,R)};function Wr(f,x,P,R){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,ie=0;ie<x.length;++ie){var ve=x[ie];if(ve&&!ve.da&&ve.capture==P){var ht=ve.listener,Wt=ve.ha||ve.src;ve.fa&&Br(f.i,ve),Y=ht.call(Wt,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function za(f,x,P){if(typeof f=="function")P&&(f=S(f,P));else if(f&&typeof f.handleEvent=="function")f=S(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(f,x||0)}function ci(f){f.g=za(()=>{f.g=null,f.i&&(f.i=!1,ci(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class ki extends oe{constructor(x,P){super(),this.m=x,this.l=P,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(f){oe.call(this),this.h=f,this.g={}}N(ms,oe);var wo=[];function gs(f){Se(f.g,function(x,P){this.g.hasOwnProperty(P)&&qr(x)},f),f.g={}}ms.prototype.N=function(){ms.aa.N.call(this),gs(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eo=d.JSON.stringify,Ba=d.JSON.parse,hi=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function _s(){}_s.prototype.h=null;function To(f){return f.h||(f.h=f.i())}function vs(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){Ee.call(this,"d")}N(Sr,Ee);function xo(){Ee.call(this,"c")}N(xo,Ee);var $r={},Ha=null;function ys(){return Ha=Ha||new Mt}$r.La="serverreachability";function qa(f){Ee.call(this,$r.La,f)}N(qa,Ee);function di(f){const x=ys();Ht(x,new qa(x))}$r.STAT_EVENT="statevent";function ws(f,x){Ee.call(this,$r.STAT_EVENT,f),this.stat=x}N(ws,Ee);function Dt(f){const x=ys();Ht(x,new ws(x,f))}$r.Ma="timingevent";function Io(f,x){Ee.call(this,$r.Ma,f),this.size=x}N(Io,Ee);function Cr(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},x)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function mn(f,x,P,R,Y,ie){f.info(function(){if(f.g)if(ie)for(var ve="",ht=ie.split("&"),Wt=0;Wt<ht.length;Wt++){var rt=ht[Wt].split("=");if(1<rt.length){var pt=rt[0];rt=rt[1];var It=pt.split("_");ve=2<=It.length&&It[1]=="type"?ve+(pt+"="+rt+"&"):ve+(pt+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+x+`
`+P+`
`+ve})}function Ae(f,x,P,R,Y,ie,ve){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+x+`
`+P+`
`+ie+" "+ve})}function Jn(f,x,P,R){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Dl(f,P)+(R?" "+R:"")})}function So(f,x){f.info(function(){return"TIMEOUT: "+x})}Es.prototype.info=function(){};function Dl(f,x){if(!f.g)return x;if(!x)return null;try{var P=JSON.parse(x);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var R=P[f];if(!(2>R.length)){var Y=R[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return Eo(P)}catch{return x}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Co={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},er;function tr(){}N(tr,_s),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},er=new tr;function nr(f,x,P,R){this.j=f,this.i=x,this.l=P,this.R=R||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}var Wa={},Po={};function bo(f,x,P){f.L=1,f.v=Ln(St(x)),f.m=P,f.P=!0,Ao(f,null)}function Ao(f,x){f.F=Date.now(),Et(f),f.A=St(f.v);var P=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Di(P.i,"t",R),f.C=0,P=f.j.J,f.h=new jl,f.g=Bl(f.j,P?x:null,!f.m),0<f.O&&(f.M=new ki(S(f.Y,f,f.g),f.O)),x=f.U,P=f.g,R=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(wo[0]=Y.toString()),Y=wo);for(var ie=0;ie<Y.length;ie++){var ve=go(P,Y[ie],R||x.handleEvent,!1,x.h||x);if(!ve)break;x.g[ve.key]=ve}x=f.H?M(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),di(),mn(f.i,f.u,f.A,f.l,f.R,f.m)}nr.prototype.ca=function(f){f=f.target;const x=this.M;x&&Jt(f)==3?x.j():this.Y(f)},nr.prototype.Y=function(f){try{if(f==this.g)e:{const It=Jt(this.g);var x=this.g.Ba();const cr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||It!=4||x==7||(x==8||0>=cr?di(3):di(2)),xs(this);var P=this.g.Z();this.X=P;t:if(Vl(this)){var R=Mo(this.g);f="";var Y=R.length,ie=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rr(this),Ri(this);var ve="";break t}this.h.i=new d.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,f+=this.h.i.decode(R[x],{stream:!(ie&&x==Y-1)});R.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=P==200,Ae(this.i,this.u,this.A,this.l,this.R,It,P),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Wt=this.g;if((ht=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ht)){var rt=ht;break t}}rt=null}if(P=rt)Jn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,P);else{this.o=!1,this.s=3,Dt(12),rr(this),Ri(this);break e}}if(this.P){P=!0;let jt;for(;!this.J&&this.C<ve.length;)if(jt=ko(this,ve),jt==Po){It==4&&(this.s=4,Dt(14),P=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Wa){this.s=4,Dt(15),Jn(this.i,this.l,ve,"[Invalid Chunk]"),P=!1;break}else Jn(this.i,this.l,jt,null),Is(this,jt);if(Vl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ve.length!=0||this.h.h||(this.s=1,Dt(16),P=!1),this.o=this.o&&P,!P)Jn(this.i,this.l,ve,"[Invalid Chunked Response]"),rr(this),Ri(this);else if(0<ve.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Vo(pt),pt.M=!0,Dt(11))}}else Jn(this.i,this.l,ve,null),Is(this,ve);It==4&&rr(this),this.o&&!this.J&&(It==4?Ns(this.j,this):(this.o=!1,Et(this)))}else Do(this.g),P==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),rr(this),Ri(this)}}}catch{}finally{}};function Vl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ko(f,x){var P=f.C,R=x.indexOf(`
`,P);return R==-1?Po:(P=Number(x.substring(P,R)),isNaN(P)?Wa:(R+=1,R+P>x.length?Po:(x=x.slice(R,R+P),f.C=R+P,x)))}nr.prototype.cancel=function(){this.J=!0,rr(this)};function Et(f){f.S=Date.now()+f.I,Fl(f,f.I)}function Fl(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Cr(S(f.ba,f),x)}function xs(f){f.B&&(d.clearTimeout(f.B),f.B=null)}nr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(So(this.i,this.A),this.L!=2&&(di(),Dt(17)),rr(this),this.s=2,Ri(this)):Fl(this,this.S-f)};function Ri(f){f.j.G==0||f.J||Ns(f.j,f)}function rr(f){xs(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,gs(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function Is(f,x){try{var P=f.j;if(P.G!=0&&(P.g==f||He(P.h,f))){if(!f.K&&He(P.h,f)&&P.G==3){try{var R=P.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)Uo(P),Ar(P);else break e;Ls(P),Dt(18)}}else P.za=Y[1],0<P.za-P.T&&37500>Y[2]&&P.F&&P.v==0&&!P.C&&(P.C=Cr(S(P.Za,P),6e3));if(1>=Oi(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else vi(P,11)}else if((f.K||P.g==f)&&Uo(P),!K(x))for(Y=P.Da.g.parse(x),x=0;x<Y.length;x++){let rt=Y[x];if(P.T=rt[0],rt=rt[1],P.G==2)if(rt[0]=="c"){P.K=rt[1],P.ia=rt[2];const pt=rt[3];pt!=null&&(P.la=pt,P.j.info("VER="+P.la));const It=rt[4];It!=null&&(P.Aa=It,P.j.info("SVER="+P.Aa));const cr=rt[5];cr!=null&&typeof cr=="number"&&0<cr&&(R=1.5*cr,P.L=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const jt=f.g;if(jt){const Ms=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var ie=R.h;ie.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(vt(ie,ie.h),ie.h=null))}if(R.D){const kr=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;kr&&(R.ya=kr,qe(R.I,R.D,kr))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),R=P;var ve=f;if(R.qa=zo(R,R.J?R.ia:null,R.W),ve.K){Ss(R.h,ve);var ht=ve,Wt=R.L;Wt&&(ht.I=Wt),ht.B&&(xs(ht),Et(ht)),R.g=ve}else Nn(R);0<P.i.length&&ur(P)}else rt[0]!="stop"&&rt[0]!="close"||vi(P,7);else P.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?vi(P,7):en(P):rt[0]!="noop"&&P.l&&P.l.ta(rt),P.v=0)}}di(4)}catch{}}var Li=class{constructor(f,x){this.g=f,this.map=x}};function Ni(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Oi(f){return f.h?1:f.g?f.g.size:0}function He(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function vt(f,x){f.g?f.g.add(x):f.h=x}function Ss(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}Ni.prototype.cancel=function(){if(this.i=fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const P of f.g.values())x=x.concat(P.D);return x}return O(f.i)}function Pr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var x=[],P=f.length,R=0;R<P;R++)x.push(f[R]);return x}x=[],P=0;for(R in f)x[P++]=f[R];return x}function Mi(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var x=[];f=f.length;for(var P=0;P<f;P++)x.push(P);return x}x=[],P=0;for(const R in f)x[P++]=R;return x}}}function Ue(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var P=Mi(f),R=Pr(f),Y=R.length,ie=0;ie<Y;ie++)x.call(void 0,R[ie],P&&P[ie],f)}var yt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(f,x){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var R=f[P].indexOf("="),Y=null;if(0<=R){var ie=f[P].substring(0,R);Y=f[P].substring(R+1)}else ie=f[P];x(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ir(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ir){this.h=f.h,Cs(this,f.j),this.o=f.o,this.g=f.g,br(this,f.s),this.l=f.l;var x=f.i,P=new or;P.i=x.i,x.g&&(P.g=new Map(x.g),P.h=x.h),Rn(this,P),this.m=f.m}else f&&(x=String(f).match(yt))?(this.h=!1,Cs(this,x[1]||"",!0),this.o=Qe(x[2]||""),this.g=Qe(x[3]||"",!0),br(this,x[4]),this.l=Qe(x[5]||"",!0),Rn(this,x[6]||"",!0),this.m=Qe(x[7]||"")):(this.h=!1,this.i=new or(null,this.h))}ir.prototype.toString=function(){var f=[],x=this.j;x&&f.push(sr(x,Gr,!0),":");var P=this.g;return(P||x=="file")&&(f.push("//"),(x=this.o)&&f.push(sr(x,Gr,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(sr(P,P.charAt(0)=="/"?No:Lo,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",sr(P,bs)),f.join("")};function St(f){return new ir(f)}function Cs(f,x,P){f.j=P?Qe(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function br(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function Rn(f,x,P){x instanceof or?(f.i=x,Qt(f.i,f.h)):(P||(x=sr(x,Ps)),f.i=new or(x,f.h))}function qe(f,x,P){f.i.set(x,P)}function Ln(f){return qe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qe(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function sr(f,x,P){return typeof f=="string"?(f=encodeURI(f).replace(x,Ro),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ro(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Gr=/[#\/\?@]/g,Lo=/[#\?:]/g,No=/[#\?]/g,Ps=/[#\?@]/g,bs=/#/g;function or(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function qt(f){f.g||(f.g=new Map,f.h=0,f.i&&$a(f.i,function(x,P){f.add(decodeURIComponent(x.replace(/\+/g," ")),P)}))}n=or.prototype,n.add=function(f,x){qt(this),this.i=null,f=Me(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(x),this.h+=1,this};function ar(f,x){qt(f),x=Me(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function $n(f,x){return qt(f),x=Me(f,x),f.g.has(x)}n.forEach=function(f,x){qt(this),this.g.forEach(function(P,R){P.forEach(function(Y){f.call(x,Y,R,this)},this)},this)},n.na=function(){qt(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),P=[];for(let R=0;R<x.length;R++){const Y=f[R];for(let ie=0;ie<Y.length;ie++)P.push(x[R])}return P},n.V=function(f){qt(this);let x=[];if(typeof f=="string")$n(this,f)&&(x=x.concat(this.g.get(Me(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)x=x.concat(f[P])}return x},n.set=function(f,x){return qt(this),this.i=null,f=Me(this,f),$n(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function Di(f,x,P){ar(f,x),0<P.length&&(f.i=null,f.g.set(Me(f,x),O(P)),f.h+=P.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var P=0;P<x.length;P++){var R=x[P];const ie=encodeURIComponent(String(R)),ve=this.V(R);for(R=0;R<ve.length;R++){var Y=ie;ve[R]!==""&&(Y+="="+encodeURIComponent(String(ve[R]))),f.push(Y)}}return this.i=f.join("&")};function Me(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Qt(f,x){x&&!f.j&&(qt(f),f.i=null,f.g.forEach(function(P,R){var Y=R.toLowerCase();R!=Y&&(ar(this,R),Di(this,Y,P))},f)),f.j=x}function ft(f,x){const P=new Es;if(d.Image){const R=new Image;R.onload=b(gn,P,"TestLoadImage: loaded",!0,x,R),R.onerror=b(gn,P,"TestLoadImage: error",!1,x,R),R.onabort=b(gn,P,"TestLoadImage: abort",!1,x,R),R.ontimeout=b(gn,P,"TestLoadImage: timeout",!1,x,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else x(!1)}function Ga(f,x){const P=new Es,R=new AbortController,Y=setTimeout(()=>{R.abort(),gn(P,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:R.signal}).then(ie=>{clearTimeout(Y),ie.ok?gn(P,"TestPingServer: ok",!0,x):gn(P,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),gn(P,"TestPingServer: error",!1,x)})}function gn(f,x,P,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(P)}catch{}}function Za(){this.g=new hi}function Oo(f,x,P){const R=P||"";try{Ue(f,function(Y,ie){let ve=Y;_(Y)&&(ve=Eo(Y)),x.push(R+ie+"="+encodeURIComponent(ve))})}catch(Y){throw x.push(R+"type="+encodeURIComponent("_badmap")),Y}}function xn(f){this.l=f.Ub||null,this.j=f.eb||!1}N(xn,_s),xn.prototype.g=function(){return new pi(this.l,this.j)},xn.prototype.i=function(f){return function(){return f}}({});function pi(f,x){Mt.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(pi,Mt),n=pi.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,un(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wt(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ji(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ji(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?wt(this):un(this),this.readyState==3&&ji(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,wt(this))},n.Qa=function(f){this.g&&(this.response=f,wt(this))},n.ga=function(){this.g&&wt(this)};function wt(f){f.readyState=4,f.l=null,f.j=null,f.v=null,un(f)}n.setRequestHeader=function(f,x){this.u.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var P=x.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=x.next();return f.join(`\r
`)};function un(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zr(f){let x="";return Se(f,function(P,R){x+=R,x+=":",x+=P,x+=`\r
`}),x}function mi(f,x,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=Zr(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):qe(f,x,P))}function Ct(f){Mt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ct,Mt);var Ul=/^https?$/i,As=["POST","PUT"];n=Ct.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,x,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():er.g(),this.v=this.o?To(this.o):To(er),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(ie){ks(this,ie);return}if(f=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)P.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ie of R.keys())P.set(ie,R.get(ie));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(As,x,void 0))||R||Y||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of P)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_n(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){ks(this,ie)}};function ks(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,Rs(f),Gn(f)}function Rs(f){f.A||(f.A=!0,Ht(f,"complete"),Ht(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ht(this,"complete"),Ht(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xe(this):this.bb())},n.bb=function(){Xe(this)};function Xe(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Jt(f)!=4||f.Z()!=2)){if(f.u&&Jt(f)==4)za(f.Ea,0,f);else if(Ht(f,"readystatechange"),Jt(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var P;if(!(P=x)){var R;if(R=ve===0){var Y=String(f.D).match(yt)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),R=!Ul.test(Y?Y.toLowerCase():"")}P=R}if(P)Ht(f,"complete"),Ht(f,"success");else{f.m=6;try{var ie=2<Jt(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",Rs(f)}}finally{Gn(f)}}}}function Gn(f,x){if(f.g){_n(f);const P=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||Ht(f,"ready");try{P.onreadystatechange=R}catch{}}}function _n(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Jt(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Ba(x)}};function Mo(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(f){const x={};f=(f.g&&2<=Jt(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(K(f[R]))continue;var P=$(f[R]);const Y=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ie=x[Y]||[];x[Y]=ie,ie.push(P)}B(x,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(f,x,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||x}function Ka(f){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,f),this.cb=lr("retryDelaySeedMs",1e4,f),this.Wa=lr("forwardChannelMaxRetries",2,f),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(f&&f.concurrentRequestLimit),this.Da=new Za,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(f,x,P,R){Dt(0),this.W=f,this.H=x||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.I=zo(this,null,this.W),ur(this)};function en(f){if(jo(f),f.G==3){var x=f.U++,P=St(f.I);if(qe(P,"SID",f.K),qe(P,"RID",x),qe(P,"TYPE","terminate"),gi(f,P),x=new nr(f,f.j,x),x.L=2,x.v=Ln(St(P)),P=!1,d.navigator&&d.navigator.sendBeacon)try{P=d.navigator.sendBeacon(x.v.toString(),"")}catch{}!P&&d.Image&&(new Image().src=x.v,P=!0),P||(x.g=Bl(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Et(x)}zl(f)}function Ar(f){f.g&&(Vo(f),f.g.cancel(),f.g=null)}function jo(f){Ar(f),f.u&&(d.clearTimeout(f.u),f.u=null),Uo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function ur(f){if(!kn(f.h)&&!f.s){f.s=!0;var x=f.Ga;ot||ue(),ae||(ot(),ae=!0),Oe.add(x,f),f.B=0}}function Yu(f,x){return Oi(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Cr(S(f.Ga,f,x),Qa(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new nr(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=M(ie),q(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var x=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=P;break e}if(x===4096||P===this.i.length-1){x=P+1;break e}}x=1e3}else x=1e3;x=_i(this,Y,x),P=St(this.I),qe(P,"RID",f),qe(P,"CVER",22),this.D&&qe(P,"X-HTTP-Session-Id",this.D),gi(this,P),ie&&(this.O?x="headers="+encodeURIComponent(String(Zr(ie)))+"&"+x:this.m&&mi(P,this.m,ie)),vt(this.h,Y),this.Ua&&qe(P,"TYPE","init"),this.P?(qe(P,"$req",x),qe(P,"SID","null"),Y.T=!0,bo(Y,P,null)):bo(Y,P,x),this.G=2}}else this.G==3&&(f?In(this,f):this.i.length==0||kn(this.h)||In(this))};function In(f,x){var P;x?P=x.l:P=f.U++;const R=St(f.I);qe(R,"SID",f.K),qe(R,"RID",P),qe(R,"AID",f.T),gi(f,R),f.m&&f.o&&mi(R,f.m,f.o),P=new nr(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),x&&(f.i=x.D.concat(f.i)),x=_i(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),vt(f.h,P),bo(P,R,x)}function gi(f,x){f.H&&Se(f.H,function(P,R){qe(x,R,P)}),f.l&&Ue({},function(P,R){qe(x,R,P)})}function _i(f,x,P){P=Math.min(f.i.length,P);var R=f.l?S(f.l.Na,f.l,f):null;e:{var Y=f.i;let ie=-1;for(;;){const ve=["count="+P];ie==-1?0<P?(ie=Y[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let ht=!0;for(let Wt=0;Wt<P;Wt++){let rt=Y[Wt].g;const pt=Y[Wt].map;if(rt-=ie,0>rt)ie=Math.max(0,Y[Wt].g-100),ht=!1;else try{Oo(pt,ve,"req"+rt+"_")}catch{R&&R(pt)}}if(ht){R=ve.join("&");break e}}}return f=f.i.splice(0,P),x.D=f,R}function Nn(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;ot||ue(),ae||(ot(),ae=!0),Oe.add(x,f),f.v=0}}function Ls(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Cr(S(f.Fa,f),Qa(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,Fo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Cr(S(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Ar(this),Fo(this))};function Vo(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Fo(f){f.g=new nr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=St(f.qa);qe(x,"RID","rpc"),qe(x,"SID",f.K),qe(x,"AID",f.T),qe(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&qe(x,"TO",f.ja),qe(x,"TYPE","xmlhttp"),gi(f,x),f.m&&f.o&&mi(x,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=Ln(St(x)),P.m=null,P.P=!0,Ao(P,f)}n.Za=function(){this.C!=null&&(this.C=null,Ar(this),Ls(this),Dt(19))};function Uo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Ns(f,x){var P=null;if(f.g==x){Uo(f),Vo(f),f.g=null;var R=2}else if(He(f.h,x))P=x.D,Ss(f.h,x),R=1;else return;if(f.G!=0){if(x.o)if(R==1){P=x.m?x.m.length:0,x=Date.now()-x.F;var Y=f.B;R=ys(),Ht(R,new Io(R,P)),ur(f)}else Nn(f);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(R==1&&Yu(f,x)||R==2&&Ls(f)))switch(P&&0<P.length&&(x=f.h,x.i=x.i.concat(P)),Y){case 1:vi(f,5);break;case 4:vi(f,10);break;case 3:vi(f,6);break;default:vi(f,2)}}}function Qa(f,x){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*x}function vi(f,x){if(f.j.info("Error code "+x),x==2){var P=S(f.fb,f),R=f.Xa;const Y=!R;R=new ir(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Cs(R,"https"),Ln(R),Y?ft(R.toString(),P):Ga(R.toString(),P)}else Dt(2);f.G=0,f.l&&f.l.sa(x),zl(f),jo(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function zl(f){if(f.G=0,f.ka=[],f.l){const x=fi(f.h);(x.length!=0||f.i.length!=0)&&(j(f.ka,x),j(f.ka,f.i),f.h.i.length=0,O(f.i),f.i.length=0),f.l.ra()}}function zo(f,x,P){var R=P instanceof ir?St(P):new ir(P);if(R.g!="")x&&(R.g=x+"."+R.g),br(R,R.s);else{var Y=d.location;R=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new ir(null);R&&Cs(ie,R),x&&(ie.g=x),Y&&br(ie,Y),P&&(ie.l=P),R=ie}return P=f.D,x=f.ya,P&&x&&qe(R,P,x),qe(R,"VER",f.la),gi(f,R),R}function Bl(f,x,P){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new Ct(new xn({eb:P})):new Ct(f.pa),x.Ha(f.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}n=Bo.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Os(){}Os.prototype.g=function(f,x){return new tn(f,x)};function tn(f,x){Mt.call(this),this.g=new Ka(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!K(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!K(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new On(this)}N(tn,Mt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){en(this.g)},tn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=Eo(f),f=P);x.i.push(new Li(x.Ya++,f)),x.G==3&&ur(x)},tn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,tn.aa.N.call(this)};function Kr(f){Sr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const P in x){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}N(Kr,Sr);function Hl(){xo.call(this),this.status=1}N(Hl,xo);function On(f){this.g=f}N(On,Bo),On.prototype.ua=function(){Ht(this.g,"a")},On.prototype.ta=function(f){Ht(this.g,new Kr(f))},On.prototype.sa=function(f){Ht(this.g,new Hl)},On.prototype.ra=function(){Ht(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Sx=function(){return new Os},Ix=function(){return ys()},xx=$r,pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,Bd=Ts,Co.COMPLETE="complete",Tx=Co,vs.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Rc=vs,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,Ex=Ct}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const y0="@firebase/firestore",w0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new bf("@firebase/firestore");function gu(){return Sl.logLevel}function Ie(n,...e){if(Sl.logLevel<=it.DEBUG){const t=e.map(L_);Sl.debug(`Firestore (${zu}): ${n}`,...t)}}function lo(n,...e){if(Sl.logLevel<=it.ERROR){const t=e.map(L_);Sl.error(`Firestore (${zu}): ${n}`,...t)}}function Ta(n,...e){if(Sl.logLevel<=it.WARN){const t=e.map(L_);Sl.warn(`Firestore (${zu}): ${n}`,...t)}}function L_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Cx(n,r,t)}function Cx(n,e,t){let r=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw lo(r),new Error(r)}function gt(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Cx(e,o,r)}function Ge(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zn.UNAUTHENTICATED))}shutdown(){}}class q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class W2{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let a=new ro;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ro,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const m=a;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ro)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new Px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class $2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new $2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new E0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=K2(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Je(n,e){return n<e?-1:n>e?1:0}function mg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Je(r,o);{const a=bx(),u=Q2(a.encode(T0(n,t)),a.encode(T0(e,t)));return u!==0?u:Je(r,o)}}t+=r>65535?2:1}return Je(n.length,e.length)}function T0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Q2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Je(n[t],e[t]);return Je(n.length,e.length)}function Ru(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="__name__";class Gi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Gi.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Je(e.length,t.length)}static compareSegments(e,t){const r=Gi.isNumericId(e),o=Gi.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Gi.extractNumericId(e).compare(Gi.extractNumericId(t)):mg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class At extends Gi{construct(e,t,r){return new At(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new At(t)}static emptyPath(){return new At([])}}const Y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Gi{construct(e,t,r){return new bn(e,t,r)}static isValidIdentifier(e){return Y2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new bn([x0])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new we(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new we(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new we(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(At.fromString(e))}static fromName(e){return new De(At.fromString(e).popFirst(5))}static empty(){return new De(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n,e,t){if(!t)throw new we(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function X2(n,e,t,r){if(e===!0&&r===!0)throw new we(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I0(n){if(!De.isDocumentKey(n))throw new we(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S0(n){if(De.isDocumentKey(n))throw new we(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function Tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vf(n);throw new we(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(n,e){const t={typeString:n};return e&&(t.value=e),t}function mh(n,e){if(!kx(n))throw new we(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new we(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=-62135596800,P0=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*P0);return new kt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<C0)throw new we(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mh(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:an("string",kt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new kt(0,0))}static max(){return new $e(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=-1;function J2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new xa(o,De.empty(),e)}function eO(n){return new xa(n.readTime,n.key,Yc)}class xa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xa($e.min(),De.empty(),Yc)}static max(){return new xa($e.max(),De.empty(),Yc)}}function tO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==nO)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},m=>r(m))}),u=!0,a===o&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(o=>o?ce.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let m=0;m<a;m++){const _=m;t(e[_]).next(w=>{u[_]=w,++d,d===a&&r(u)},w=>o(w))}})}static doWhile(e,t){return new ce((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function iO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Hu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ff.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-1;function Uf(n){return n==null}function cf(n){return n===0&&1/n==-1/0}function sO(n){return typeof n=="number"&&Number.isInteger(n)&&!cf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="";function oO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=b0(e)),e=aO(n.get(t),e);return b0(e)}function aO(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Rx:t+="";break;default:t+=a}}return t}function b0(n){return n+Rx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Lx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this.comparator=e,this.root=t||Pn.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Pn.RED,this.left=o??Pn.EMPTY,this.right=a??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Pn(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Pn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Vr([])}unionWith(e){let t=new fn(bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Nx("Invalid base64 string: "+a):a}}(e);return new An(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new An(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const lO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=lO.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sa(n){return typeof n=="string"?An.fromBase64String(n):An.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="server_timestamp",Mx="__type__",Dx="__previous_value__",jx="__local_write_time__";function M_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mx])===null||t===void 0?void 0:t.stringValue)===Ox}function zf(n){const e=n.mapValue.fields[Dx];return M_(e)?zf(e):e}function Xc(n){const e=Ia(n.mapValue.fields[jx].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t,r,o,a,u,d,m,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=_,this.isUsingEmulator=w}}const hf="(default)";class Jc{constructor(e,t){this.projectId=e,this.database=t||hf}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===hf}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="__type__",cO="__max__",kd={mapValue:{}},Fx="__vector__",df="value";function Ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?M_(n)?4:dO(n)?9007199254740991:hO(n)?10:11:Be(28295,{value:n})}function ss(n,e){if(n===e)return!0;const t=Ca(n);if(t!==Ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xc(n).isEqual(Xc(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ia(o.timestampValue),d=Ia(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Sa(o.bytesValue).isEqual(Sa(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Xt(o.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Xt(o.integerValue)===Xt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Xt(o.doubleValue),d=Xt(a.doubleValue);return u===d?cf(u)===cf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Ru(n.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(A0(u)!==A0(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!ss(u[m],d[m])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function eh(n,e){return(n.values||[]).find(t=>ss(t,e))!==void 0}function Lu(n,e){if(n===e)return 0;const t=Ca(n),r=Ca(e);if(t!==r)return Je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=Xt(a.integerValue||a.doubleValue),m=Xt(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return R0(n.timestampValue,e.timestampValue);case 4:return R0(Xc(n),Xc(e));case 5:return mg(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Sa(a),m=Sa(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),m=u.split("/");for(let _=0;_<d.length&&_<m.length;_++){const w=Je(d[_],m[_]);if(w!==0)return w}return Je(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Je(Xt(a.latitude),Xt(u.latitude));return d!==0?d:Je(Xt(a.longitude),Xt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return L0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,m,_,w;const T=a.fields||{},S=u.fields||{},b=(d=T[df])===null||d===void 0?void 0:d.arrayValue,N=(m=S[df])===null||m===void 0?void 0:m.arrayValue,O=Je(((_=b?.values)===null||_===void 0?void 0:_.length)||0,((w=N?.values)===null||w===void 0?void 0:w.length)||0);return O!==0?O:L0(b,N)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===kd.mapValue&&u===kd.mapValue)return 0;if(a===kd.mapValue)return 1;if(u===kd.mapValue)return-1;const d=a.fields||{},m=Object.keys(d),_=u.fields||{},w=Object.keys(_);m.sort(),w.sort();for(let T=0;T<m.length&&T<w.length;++T){const S=mg(m[T],w[T]);if(S!==0)return S;const b=Lu(d[m[T]],_[w[T]]);if(b!==0)return b}return Je(m.length,w.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{le:t})}}function R0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Ia(n),r=Ia(e),o=Je(t.seconds,r.seconds);return o!==0?o:Je(t.nanos,r.nanos)}function L0(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Lu(t[o],r[o]);if(a)return a}return Je(t.length,r.length)}function Nu(n){return gg(n)}function gg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ia(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Sa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=gg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${gg(t.fields[u])}`;return o+"}"}(n.mapValue):Be(61005,{value:n})}function Hd(n){switch(Ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(n);return e?16+Hd(e):16;case 5:return 2*n.stringValue.length;case 6:return Sa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Hd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Da(r.fields,(a,u)=>{o+=a.length+Hd(u)}),o}(n.mapValue);default:throw Be(13486,{value:n})}}function N0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _g(n){return!!n&&"integerValue"in n}function D_(n){return!!n&&"arrayValue"in n}function O0(n){return!!n&&"nullValue"in n}function M0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qd(n){return!!n&&"mapValue"in n}function hO(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vx])===null||t===void 0?void 0:t.stringValue)===Fx}function Bc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Da(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=bn.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Bc(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());qd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];qd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Da(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new yr(Bc(this.value))}}function Ux(n){const e=[];return Da(n.fields,(t,r)=>{const o=new bn([t]);if(qd(r)){const a=Ux(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Bn(e,0,$e.min(),$e.min(),$e.min(),yr.empty(),0)}static newFoundDocument(e,t,r,o){return new Bn(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new Bn(e,2,t,$e.min(),$e.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,$e.min(),$e.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.position=e,this.inclusive=t}}function D0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=De.comparator(De.fromName(u.referenceValue),t.key):r=Lu(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function j0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ss(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t="asc"){this.field=e,this.dir=t}}function fO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class on extends zx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mO(e,t,r):t==="array-contains"?new vO(e,r):t==="in"?new yO(e,r):t==="not-in"?new wO(e,r):t==="array-contains-any"?new EO(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gO(e,r):new _O(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lu(t,this.value)):t!==null&&Ca(this.value)===Ca(t)&&this.matchesComparison(Lu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends zx{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ai(e,t)}matches(e){return Bx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Bx(n){return n.op==="and"}function Hx(n){return pO(n)&&Bx(n)}function pO(n){for(const e of n.filters)if(e instanceof Ai)return!1;return!0}function vg(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Nu(n.value);if(Hx(n))return n.filters.map(e=>vg(e)).join(",");{const e=n.filters.map(t=>vg(t)).join(",");return`${n.op}(${e})`}}function qx(n,e){return n instanceof on?function(r,o){return o instanceof on&&r.op===o.op&&r.field.isEqual(o.field)&&ss(r.value,o.value)}(n,e):n instanceof Ai?function(r,o){return o instanceof Ai&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&qx(u,o.filters[d]),!0):!1}(n,e):void Be(19439)}function Wx(n){return n instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${Nu(t.value)}`}(n):n instanceof Ai?function(t){return t.op.toString()+" {"+t.getFilters().map(Wx).join(" ,")+"}"}(n):"Filter"}class mO extends on{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class gO extends on{constructor(e,t){super(e,"in",t),this.keys=$x("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _O extends on{constructor(e,t){super(e,"not-in",t),this.keys=$x("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $x(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class vO extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return D_(t)&&eh(t.arrayValue,this.value)}}class yO extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eh(this.value.arrayValue,t)}}class wO extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!eh(this.value.arrayValue,t)}}class EO extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!D_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function V0(n,e=null,t=[],r=[],o=null,a=null,u=null){return new TO(n,e,t,r,o,a,u)}function j_(n){const e=Ge(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nu(r)).join(",")),e.Pe=t}return e.Pe}function V_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j0(n.startAt,e.startAt)&&j0(n.endAt,e.endAt)}function yg(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function xO(n,e,t,r,o,a,u,d){return new qu(n,e,t,r,o,a,u,d)}function Bf(n){return new qu(n)}function F0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Gx(n){return n.collectionGroup!==null}function Hc(n){const e=Ge(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new fn(bn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new th(a,r))}),t.has(bn.keyField().canonicalString())||e.Te.push(new th(bn.keyField(),r))}return e.Te}function es(n){const e=Ge(n);return e.Ie||(e.Ie=IO(e,Hc(n))),e.Ie}function IO(n,e){if(n.limitType==="F")return V0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new th(o.field,a)});const t=n.endAt?new ff(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ff(n.startAt.position,n.startAt.inclusive):null;return V0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function wg(n,e){const t=n.filters.concat([e]);return new qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Eg(n,e,t){return new qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hf(n,e){return V_(es(n),es(e))&&n.limitType===e.limitType}function Zx(n){return`${j_(es(n))}|lt:${n.limitType}`}function _u(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Wx(o)).join(", ")}]`),Uf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Nu(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Nu(o)).join(",")),`Target(${r})`}(es(n))}; limitType=${n.limitType})`}function qf(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Hc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,m){const _=D0(u,d,m);return u.inclusive?_<=0:_<0}(r.startAt,Hc(r),o)||r.endAt&&!function(u,d,m){const _=D0(u,d,m);return u.inclusive?_>=0:_>0}(r.endAt,Hc(r),o))}(n,e)}function SO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Kx(n){return(e,t)=>{let r=!1;for(const o of Hc(n)){const a=CO(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function CO(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(a,u,d){const m=u.data.field(a),_=d.data.field(a);return m!==null&&_!==null?Lu(m,_):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return Lx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new zt(De.comparator);function uo(){return PO}const Qx=new zt(De.comparator);function Lc(...n){let e=Qx;for(const t of n)e=e.insert(t.key,t);return e}function Yx(n){let e=Qx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gl(){return qc()}function Xx(){return qc()}function qc(){return new Ol(n=>n.toString(),(n,e)=>n.isEqual(e))}const bO=new zt(De.comparator),AO=new fn(De.comparator);function st(...n){let e=AO;for(const t of n)e=e.add(t);return e}const kO=new fn(Je);function RO(){return kO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(e)?"-0":e}}function Jx(n){return{integerValue:""+n}}function LO(n,e){return sO(e)?Jx(e):F_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this._=void 0}}function NO(n,e,t){return n instanceof nh?function(o,a){const u={fields:{[Mx]:{stringValue:Ox},[jx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&M_(a)&&(a=zf(a)),a&&(u.fields[Dx]=a),{mapValue:u}}(t,e):n instanceof Ou?tI(n,e):n instanceof rh?nI(n,e):function(o,a){const u=eI(o,a),d=U0(u)+U0(o.Ee);return _g(u)&&_g(o.Ee)?Jx(d):F_(o.serializer,d)}(n,e)}function OO(n,e,t){return n instanceof Ou?tI(n,e):n instanceof rh?nI(n,e):t}function eI(n,e){return n instanceof pf?function(r){return _g(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class nh extends Wf{}class Ou extends Wf{constructor(e){super(),this.elements=e}}function tI(n,e){const t=rI(e);for(const r of n.elements)t.some(o=>ss(o,r))||t.push(r);return{arrayValue:{values:t}}}class rh extends Wf{constructor(e){super(),this.elements=e}}function nI(n,e){let t=rI(e);for(const r of n.elements)t=t.filter(o=>!ss(o,r));return{arrayValue:{values:t}}}class pf extends Wf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function U0(n){return Xt(n.integerValue||n.doubleValue)}function rI(n){return D_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t){this.field=e,this.transform=t}}function MO(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Ou&&o instanceof Ou||r instanceof rh&&o instanceof rh?Ru(r.elements,o.elements,ss):r instanceof pf&&o instanceof pf?ss(r.Ee,o.Ee):r instanceof nh&&o instanceof nh}(n.transform,e.transform)}class DO{constructor(e,t){this.version=e,this.transformResults=t}}class ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $f{}function sI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new U_(n.key,ai.none()):new gh(n.key,n.data,ai.none());{const t=n.data,r=yr.empty();let o=new fn(bn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ja(n.key,r,new Vr(o.toArray()),ai.none())}}function jO(n,e,t){n instanceof gh?function(o,a,u){const d=o.value.clone(),m=B0(o.fieldTransforms,a,u.transformResults);d.setAll(m),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ja?function(o,a,u){if(!Wd(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=B0(o.fieldTransforms,a,u.transformResults),m=a.data;m.setAll(oI(o)),m.setAll(d),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Wc(n,e,t,r){return n instanceof gh?function(a,u,d,m){if(!Wd(a.precondition,u))return d;const _=a.value.clone(),w=H0(a.fieldTransforms,m,u);return _.setAll(w),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ja?function(a,u,d,m){if(!Wd(a.precondition,u))return d;const _=H0(a.fieldTransforms,m,u),w=u.data;return w.setAll(oI(a)),w.setAll(_),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,r):function(a,u,d){return Wd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function VO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=eI(r.transform,o||null);a!=null&&(t===null&&(t=yr.empty()),t.set(r.field,a))}return t||null}function z0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ru(r,o,(a,u)=>MO(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gh extends $f{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ja extends $f{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function B0(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,OO(u,d,t[o]))}return r}function H0(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,NO(a,u,e))}return r}class U_ extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FO extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&jO(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Xx();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const m=sI(u,d);m!==null&&r.set(o.key,m),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,(t,r)=>z0(t,r))&&Ru(this.baseMutations,e.baseMutations,(t,r)=>z0(t,r))}}class z_{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){gt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=function(){return bO}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new z_(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,at;function HO(n){switch(n){case le.OK:return Be(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function aI(n){if(n===void 0)return lo("GRPC error has no .code"),le.UNKNOWN;switch(n){case sn.OK:return le.OK;case sn.CANCELLED:return le.CANCELLED;case sn.UNKNOWN:return le.UNKNOWN;case sn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case sn.INTERNAL:return le.INTERNAL;case sn.UNAVAILABLE:return le.UNAVAILABLE;case sn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case sn.NOT_FOUND:return le.NOT_FOUND;case sn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case sn.ABORTED:return le.ABORTED;case sn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case sn.DATA_LOSS:return le.DATA_LOSS;default:return Be(39323,{code:n})}}(at=sn||(sn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new ya([4294967295,4294967295],0);function q0(n){const e=bx().encode(n),t=new wx;return t.update(e),new Uint8Array(t.digest())}function W0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ya([t,r],0),new ya([o,a],0)]}class B_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nc(`Invalid padding: ${t}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ya.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(ya.fromNumber(r)));return o.compare(qO)===1&&(o=new ya([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=q0(e),[r,o]=W0(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new B_(a,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.fe===0)return;const t=q0(e),[r,o]=W0(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gf($e.min(),o,new zt(Je),uo(),st())}}class _h{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _h(r,t,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class lI{constructor(e,t){this.targetId=e,this.De=t}}class uI{constructor(e,t,r=An.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class $0{constructor(){this.ve=0,this.Ce=G0(),this.Fe=An.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=st(),t=st(),r=st();return this.Ce.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Be(38017,{changeType:a})}}),new _h(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=G0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class WO{constructor(e){this.We=e,this.Ge=new Map,this.ze=uo(),this.je=Rd(),this.Je=Rd(),this.He=new zt(Je)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const a=o.target;if(yg(a))if(r===0){const u=new De(a.path);this.Xe(t,u,Bn.newNoDocument(u,$e.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const d=this._t(e),m=d?this.ut(d,e,u):1;if(m!==0){this.rt(t);const _=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,_)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Sa(r).toUint8Array()}catch(m){if(m instanceof Nx)return Ta("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new B_(u,o,a)}catch(m){return Ta(m instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,a,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((a,u)=>{const d=this.st(u);if(d){if(a.current&&yg(d.target)){const m=new De(d.target.path);this.Tt(m).has(u)||this.It(u,m)||this.Xe(u,m,Bn.newNoDocument(m,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}});let r=st();this.Je.forEach((a,u)=>{let d=!0;u.forEachWhile(m=>{const _=this.st(m);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ze.forEach((a,u)=>u.setReadTime(e));const o=new Gf(e,t,this.He,this.ze,r);return this.ze=uo(),this.je=Rd(),this.Je=Rd(),this.He=new zt(Je),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new $0,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new fn(Je),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new fn(Je),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new $0),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Rd(){return new zt(De.comparator)}function G0(){return new zt(De.comparator)}const $O={asc:"ASCENDING",desc:"DESCENDING"},GO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZO={and:"AND",or:"OR"};class KO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tg(n,e){return n.useProto3Json||Uf(e)?e:{value:e}}function mf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QO(n,e){return mf(n,e.toTimestamp())}function ts(n){return gt(!!n,49232),$e.fromTimestamp(function(t){const r=Ia(t);return new kt(r.seconds,r.nanos)}(n))}function H_(n,e){return xg(n,e).canonicalString()}function xg(n,e){const t=function(o){return new At(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hI(n){const e=At.fromString(n);return gt(gI(e),10190,{key:e.toString()}),e}function Ig(n,e){return H_(n.databaseId,e.path)}function zm(n,e){const t=hI(e);if(t.get(1)!==n.databaseId.projectId)throw new we(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(fI(t))}function dI(n,e){return H_(n.databaseId,e)}function YO(n){const e=hI(n);return e.length===4?At.emptyPath():fI(e)}function Sg(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fI(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Z0(n,e,t){return{name:Ig(n,e),fields:t.value.mapValue.fields}}function XO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Be(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(gt(w===void 0||typeof w=="string",58123),An.fromBase64String(w||"")):(gt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),An.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(_){const w=_.code===void 0?le.UNKNOWN:aI(_.code);return new we(w,_.message||"")}(u);t=new uI(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=zm(n,r.document.name),a=ts(r.document.updateTime),u=r.document.createTime?ts(r.document.createTime):$e.min(),d=new yr({mapValue:{fields:r.document.fields}}),m=Bn.newFoundDocument(o,a,u,d),_=r.targetIds||[],w=r.removedTargetIds||[];t=new $d(_,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=zm(n,r.document),a=r.readTime?ts(r.readTime):$e.min(),u=Bn.newNoDocument(o,a),d=r.removedTargetIds||[];t=new $d([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=zm(n,r.document),a=r.removedTargetIds||[];t=new $d([],a,o,null)}else{if(!("filter"in e))return Be(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new BO(o,a),d=r.targetId;t=new lI(d,u)}}return t}function JO(n,e){let t;if(e instanceof gh)t={update:Z0(n,e.key,e.value)};else if(e instanceof U_)t={delete:Ig(n,e.key)};else if(e instanceof ja)t={update:Z0(n,e.key,e.data),updateMask:lM(e.fieldMask)};else{if(!(e instanceof FO))return Be(16599,{Rt:e.type});t={verify:Ig(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ou)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof rh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof pf)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw Be(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:QO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(n,e.precondition)),t}function eM(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?ts(o.updateTime):ts(a);return u.isEqual($e.min())&&(u=ts(a)),new DO(u,o.transformResults||[])}(t,e))):[]}function tM(n,e){return{documents:[dI(n,e.path)]}}function nM(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dI(n,o);const a=function(_){if(_.length!==0)return mI(Ai.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(_){if(_.length!==0)return _.map(w=>function(S){return{field:vu(S.field),direction:sM(S.dir)}}(w))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Tg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:t,parent:o}}function rM(n){let e=YO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){gt(r===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(T){const S=pI(T);return S instanceof Ai&&Hx(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(S=>function(N){return new th(yu(N.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Uf(S)?null:S}(t.limit));let m=null;t.startAt&&(m=function(T){const S=!!T.before,b=T.values||[];return new ff(b,S)}(t.startAt));let _=null;return t.endAt&&(_=function(T){const S=!T.before,b=T.values||[];return new ff(b,S)}(t.endAt)),xO(e,o,u,a,d,"F",m,_)}function iM(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=yu(t.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=yu(t.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=yu(t.unaryFilter.field);return on.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=yu(t.unaryFilter.field);return on.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return on.create(yu(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ai.create(t.compositeFilter.filters.map(r=>pI(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function sM(n){return $O[n]}function oM(n){return GO[n]}function aM(n){return ZO[n]}function vu(n){return{fieldPath:n.canonicalString()}}function yu(n){return bn.fromServerFormat(n.fieldPath)}function mI(n){return n instanceof on?function(t){if(t.op==="=="){if(M0(t.value))return{unaryFilter:{field:vu(t.field),op:"IS_NAN"}};if(O0(t.value))return{unaryFilter:{field:vu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(M0(t.value))return{unaryFilter:{field:vu(t.field),op:"IS_NOT_NAN"}};if(O0(t.value))return{unaryFilter:{field:vu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(t.field),op:oM(t.op),value:t.value}}}(n):n instanceof Ai?function(t){const r=t.getFilters().map(o=>mI(o));return r.length===1?r[0]:{compositeFilter:{op:aM(t.op),filters:r}}}(n):Be(54877,{filter:n})}function lM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t,r,o,a=$e.min(),u=$e.min(),d=An.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.gt=e}}function cM(n){const e=rM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.Dn=new dM}addToCollectionParentIndex(e,t){return this.Dn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(xa.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class dM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new fn(At.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new fn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_I=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(_I,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Mu(0)}static ur(){return new Mu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="LruGarbageCollector",fM=1048576;function Y0([n,e],[t,r]){const o=Je(n,t);return o===0?Je(e,r):o}class pM{constructor(e){this.Tr=e,this.buffer=new fn(Y0),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Y0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ie(Q0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Hu(t)?Ie(Q0,"Ignoring IndexedDB error during garbage collection: ",t):await Bu(t)}await this.Rr(3e5)})}}class gM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Ff.ue);const r=new pM(t);return this.Vr.forEachTarget(e,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(K0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,a,u,d,m,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(r=T,d=Date.now(),this.removeTargets(e,r,t))).next(T=>(a=T,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(_=Date.now(),gu()<=it.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-w}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(_-m)+`ms
Total Duration: ${_-w}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function _M(n,e){return new gM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.changes=new Ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Wc(r.mutation,o,Vr.empty(),kt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,t,r=st()){const o=gl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Lc();return a.forEach((d,m)=>{u=u.insert(d,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=gl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,st()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let a=uo();const u=qc(),d=function(){return qc()}();return t.forEach((m,_)=>{const w=r.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof ja)?a=a.insert(_.key,_):w!==void 0?(u.set(_.key,w.mutation.getFieldMask()),Wc(w.mutation,_,w.mutation.getFieldMask(),kt.now())):u.set(_.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((_,w)=>u.set(_,w)),t.forEach((_,w)=>{var T;return d.set(_,new yM(w,(T=u.get(_))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const r=qc();let o=new zt((u,d)=>u-d),a=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(m=>{const _=t.get(m);if(_===null)return;let w=r.get(m)||Vr.empty();w=d.applyToLocalView(_,w),r.set(m,w);const T=(o.get(d.batchId)||st()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),_=m.key,w=m.value,T=Xx();w.forEach(S=>{if(!a.has(S)){const b=sI(t.get(S),r.get(S));b!==null&&T.set(S,b),a=a.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,T))}return ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ce.resolve(gl());let d=Yc,m=a;return u.next(_=>ce.forEach(_,(w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(w)?ce.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{m=m.insert(w,S)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,m,_,st())).next(w=>({batchId:d,changes:Yx(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let o=Lc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Lc();return this.indexManager.getCollectionParents(e,a).next(d=>ce.forEach(d,m=>{const _=function(T,S){return new qu(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next(w=>{w.forEach((T,S)=>{u=u.insert(T,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((m,_)=>{const w=_.getKey();u.get(w)===null&&(u=u.insert(w,Bn.newInvalidDocument(w)))});let d=Lc();return u.forEach((m,_)=>{const w=a.get(m);w!==void 0&&Wc(w.mutation,_,Vr.empty(),kt.now()),qf(t,_)&&(d=d.insert(m,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ts(o.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:cM(o.bundledQuery),readTime:ts(o.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.overlays=new zt(De.comparator),this.kr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=gl();return ce.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.wt(e,t,a)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const o=gl(),a=t.length+1,u=new De(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,_=m.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new zt((_,w)=>_-w);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let w=a.get(_.largestBatchId);w===null&&(w=gl(),a=a.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const d=gl(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,w)=>d.set(_,w)),!(d.size()>=o)););return ce.resolve(d)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new zO(t,r));let a=this.kr.get(t);a===void 0&&(a=st(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.qr=new fn(En.Qr),this.$r=new fn(En.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new En(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new En(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new De(new At([])),r=new En(t,e),o=new En(t,e+1),a=[];return this.$r.forEachInRange([r,o],u=>{this.Wr(u),a.push(u.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new De(new At([])),r=new En(t,e),o=new En(t,e+1);let a=st();return this.$r.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new En(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return De.comparator(e.key,t.key)||Je(e.Hr,t.Hr)}static Ur(e,t){return Je(e.Hr,t.Hr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new fn(En.Qr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UO(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Yr=this.Yr.add(new En(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?O_:this.er-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new En(t,0),o=new En(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,o],u=>{const d=this.Zr(u.Hr);a.push(d)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(Je);return t.forEach(o=>{const a=new En(o,0),u=new En(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],d=>{r=r.add(d.Hr)})}),ce.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const u=new En(new De(a),0);let d=new fn(Je);return this.Yr.forEachWhile(m=>{const _=m.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(d=d.add(m.Hr)),!0)},u),ce.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(r=>{const o=this.Zr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){gt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ce.forEach(t.mutations,o=>{const a=new En(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new En(t,0),o=this.Yr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.ni=e,this.docs=function(){return new zt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=uo();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Bn.newInvalidDocument(o))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=uo();const u=t.path,d=new De(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:_,value:{document:w}}=m.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||tO(eO(w),r)<=0||(o.has(w.key)||qf(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Be(9500)}ri(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CM(this)}getSize(e){return ce.resolve(this.size)}}class CM extends vM{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.persistence=e,this.ii=new Ol(t=>j_(t),V_),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.si=0,this.oi=new q_,this.targetCount=0,this._i=Mu.ar()}forEachTarget(e,t){return this.ii.forEach((r,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ce.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Mu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.hr(t),ce.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ii.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ce.waitFor(a).next(()=>o)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ff(0),this.ci=!1,this.ci=!0,this.li=new xM,this.referenceDelegate=e(this),this.hi=new PM(this),this.indexManager=new hM,this.remoteDocumentCache=function(o){return new SM(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new uM(t),this.Ti=new EM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new IM(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Ie("MemoryPersistence","Starting transaction:",e);const o=new bM(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ei(e,t){return ce.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class bM extends rO{constructor(e){super(),this.currentSequenceNumber=e}}class W_{constructor(e){this.persistence=e,this.Ai=new q_,this.Ri=null}static Vi(e){return new W_(e)}get mi(){if(this.Ri)return this.Ri;throw Be(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.mi,r=>{const o=De.fromPath(r);return this.fi(e,o).next(a=>{a||t.removeEntry(o,$e.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ce.or([()=>ce.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class gf{constructor(e,t){this.persistence=e,this.gi=new Ol(r=>oO(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=_M(this,t)}static Vi(e,t){return new gf(e,t)}Ii(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ce.forEach(this.gi,(r,o)=>this.Sr(e,r,o).next(a=>a?ce.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,u=>this.Sr(e,u,t).next(d=>{d||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ce.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hd(e.data.value)),t}Sr(e,t,r){return ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ce.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=st(),o=st();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new $_(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return jb()?8:iO(Hn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ps(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ys(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new AM;return this.ws(e,t,u).next(d=>{if(a.result=d,this.Rs)return this.Ss(e,t,u,d.size)})}).next(()=>a.result)}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(gu()<=it.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",_u(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(gu()<=it.DEBUG&&Ie("QueryEngine","Query:",_u(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(gu()<=it.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",_u(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(t))):ce.resolve())}ps(e,t){if(F0(t))return ce.resolve(null);let r=es(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Eg(t,null,"F"),r=es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=st(...a);return this.gs.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(m=>{const _=this.bs(t,d);return this.Ds(t,_,u,m.readTime)?this.ps(e,Eg(t,null,"F")):this.vs(e,_,t,m)}))})))}ys(e,t,r,o){return F0(t)||o.isEqual($e.min())?ce.resolve(null):this.gs.getDocuments(e,r).next(a=>{const u=this.bs(t,a);return this.Ds(t,u,r,o)?ce.resolve(null):(gu()<=it.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_u(t)),this.vs(e,u,t,J2(o,Yc)).next(d=>d))})}bs(e,t){let r=new fn(Kx(e));return t.forEach((o,a)=>{qf(e,a)&&(r=r.add(a))}),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,r){return gu()<=it.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",_u(t)),this.gs.getDocumentsMatchingQuery(e,t,xa.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LocalStore",RM=3e8;class LM{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new zt(Je),this.Ms=new Ol(a=>j_(a),V_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function NM(n,e,t,r){return new LM(n,e,t,r)}async function yI(n,e){const t=Ge(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let m=st();for(const _ of o){u.push(_.batchId);for(const w of _.mutations)m=m.add(w.key)}for(const _ of a){d.push(_.batchId);for(const w of _.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(r,m).next(_=>({Bs:_,removedBatchIds:u,addedBatchIds:d}))})})}function OM(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,m,_,w){const T=_.batch,S=T.keys();let b=ce.resolve();return S.forEach(N=>{b=b.next(()=>w.getEntry(m,N)).next(O=>{const j=_.docVersions.get(N);gt(j!==null,48541),O.version.compareTo(j)<0&&(T.applyToRemoteDocument(O,_),O.isValidDocument()&&(O.setReadTime(_.commitVersion),w.addEntry(O)))})}),b.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=st();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(m=m.add(d.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function wI(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function MM(n,e){const t=Ge(n),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((w,T)=>{const S=o.get(T);if(!S)return;d.push(t.hi.removeMatchingKeys(a,w.removedDocuments,T).next(()=>t.hi.addMatchingKeys(a,w.addedDocuments,T)));let b=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?b=b.withResumeToken(An.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,r)),o=o.insert(T,b),function(O,j,D){return O.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=RM?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(S,b,w)&&d.push(t.hi.updateTargetData(a,b))});let m=uo(),_=st();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),d.push(DM(a,u,e.documentUpdates).next(w=>{m=w.Ls,_=w.ks})),!r.isEqual($e.min())){const w=t.hi.getLastRemoteSnapshotVersion(a).next(T=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(w)}return ce.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,_)).next(()=>m)}).then(a=>(t.Fs=o,a))}function DM(n,e,t){let r=st(),o=st();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=uo();return t.forEach((d,m)=>{const _=a.get(d);m.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual($e.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||m.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):Ie(G_,"Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",m.version)}),{Ls:u,ks:o}})}function jM(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=O_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VM(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.hi.getTargetData(r,e).next(a=>a?(o=a,ce.resolve(o)):t.hi.allocateTargetId(r).next(u=>(o=new ga(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Cg(n,e,t){const r=Ge(n),o=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Hu(u))throw u;Ie(G_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function X0(n,e,t){const r=Ge(n);let o=$e.min(),a=st();return r.persistence.runTransaction("Execute query","readwrite",u=>function(m,_,w){const T=Ge(m),S=T.Ms.get(w);return S!==void 0?ce.resolve(T.Fs.get(S)):T.hi.getTargetData(_,w)}(r,u,es(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next(m=>{a=m})}).next(()=>r.Cs.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:st())).next(d=>(FM(r,SO(e),d),{documents:d,qs:a})))}function FM(n,e,t){let r=n.xs.get(e)||$e.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.xs.set(e,r)}class J0{constructor(){this.activeTargetIds=RO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UM{constructor(){this.Fo=new J0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new J0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class tE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ie(eE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ie(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld=null;function Pg(){return Ld===null?Ld=function(){return 268435456+Math.round(2147483648*Math.random())}():Ld++,"0x"+Ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",BM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===hf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const u=Pg(),d=this.Go(e,t.toUriEncodedString());Ie(Bm,`Sending RPC '${e}' ${u}:`,d,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,a);const{host:_}=new URL(d),w=Na(_);return this.jo(e,d,m,r,w).then(T=>(Ie(Bm,`Received RPC '${e}' ${u}: `,T),T),T=>{throw Ta(Bm,`RPC '${e}' ${u} failed with error: `,T,"url: ",d,"request:",r),T})}Jo(e,t,r,o,a,u){return this.Wo(e,t,r,o,a)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}Go(e,t){const r=BM[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class WM extends HM{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,a){const u=Pg();return new Promise((d,m)=>{const _=new Ex;_.setWithCredentials(!0),_.listenOnce(Tx.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Bd.NO_ERROR:const T=_.getResponseJson();Ie(Un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case Bd.TIMEOUT:Ie(Un,`RPC '${e}' ${u} timed out`),m(new we(le.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const S=_.getStatus();if(Ie(Un,`RPC '${e}' ${u} failed with status:`,S,"response text:",_.getResponseText()),S>0){let b=_.getResponseJson();Array.isArray(b)&&(b=b[0]);const N=b?.error;if(N&&N.status&&N.message){const O=function(D){const K=D.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(K)>=0?K:le.UNKNOWN}(N.status);m(new we(O,N.message))}else m(new we(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new we(le.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{c_:e,streamId:u,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{Ie(Un,`RPC '${e}' ${u} completed.`)}});const w=JSON.stringify(o);Ie(Un,`RPC '${e}' ${u} sending request:`,o),_.send(t,"POST",w,r,15)})}P_(e,t,r){const o=Pg(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Sx(),d=Ix(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const w=a.join("");Ie(Un,`Creating RPC '${e}' stream ${o}: ${w}`,m);const T=u.createWebChannel(w,m);this.T_(T);let S=!1,b=!1;const N=new qM({Ho:j=>{b?Ie(Un,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(Ie(Un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),Ie(Un,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Yo:()=>T.close()}),O=(j,D,K)=>{j.listen(D,ee=>{try{K(ee)}catch(se){setTimeout(()=>{throw se},0)}})};return O(T,Rc.EventType.OPEN,()=>{b||(Ie(Un,`RPC '${e}' stream ${o} transport opened.`),N.s_())}),O(T,Rc.EventType.CLOSE,()=>{b||(b=!0,Ie(Un,`RPC '${e}' stream ${o} transport closed`),N.__(),this.I_(T))}),O(T,Rc.EventType.ERROR,j=>{b||(b=!0,Ta(Un,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),N.__(new we(le.UNAVAILABLE,"The operation could not be completed")))}),O(T,Rc.EventType.MESSAGE,j=>{var D;if(!b){const K=j.data[0];gt(!!K,16349);const ee=K,se=ee?.error||((D=ee[0])===null||D===void 0?void 0:D.error);if(se){Ie(Un,`RPC '${e}' stream ${o} received error:`,se);const me=se.status;let Se=function(F){const q=sn[F];if(q!==void 0)return aI(q)}(me),B=se.message;Se===void 0&&(Se=le.INTERNAL,B="Unknown error status: "+me+" with message "+se.message),b=!0,N.__(new we(Se,B)),T.close()}else Ie(Un,`RPC '${e}' stream ${o} received:`,K),N.a_(K)}}),O(d,xx.STAT_EVENT,j=>{j.stat===pg.PROXY?Ie(Un,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===pg.NOPROXY&&Ie(Un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){return new KO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&Ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class TI{constructor(e,t,r,o,a,u,d,m){this.Fi=e,this.w_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new EI(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(lo(t.toString()),lo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===t&&this.W_(r,o)},r=>{e(()=>{const o=new we(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ie(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Ie(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $M extends TI{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=XO(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?ts(u.readTime):$e.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Sg(this.serializer),t.addTarget=function(a,u){let d;const m=u.target;if(d=yg(m)?{documents:tM(a,m)}:{query:nM(a,m).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=cI(a,u.resumeToken);const _=Tg(a,u.expectedCount);_!==null&&(d.expectedCount=_)}else if(u.snapshotVersion.compareTo($e.min())>0){d.readTime=mf(a,u.snapshotVersion.toTimestamp());const _=Tg(a,u.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const r=iM(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Sg(this.serializer),t.removeTarget=e,this.k_(t)}}class GM extends TI{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=eM(e.writeResults,e.commitTime),r=ts(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Sg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>JO(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{}class KM extends ZM{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new we(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Wo(e,xg(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(le.UNKNOWN,a.toString())})}Jo(e,t,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Jo(e,xg(t,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(le.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class QM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(lo(t),this._a=!1):Ie("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="RemoteStore";class YM{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(u=>{r.enqueueAndForget(async()=>{Ml(this)&&(Ie(Cl,"Restarting streams for network reachability change."),await async function(m){const _=Ge(m);_.Ia.add(4),await vh(_),_.Aa.set("Unknown"),_.Ia.delete(4),await Kf(_)}(this))})}),this.Aa=new QM(r,o)}}async function Kf(n){if(Ml(n))for(const e of n.da)await e(!0)}async function vh(n){for(const e of n.da)await e(!1)}function xI(n,e){const t=Ge(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Y_(t)?Q_(t):Wu(t).x_()&&K_(t,e))}function Z_(n,e){const t=Ge(n),r=Wu(t);t.Ta.delete(e),r.x_()&&II(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ml(t)&&t.Aa.set("Unknown"))}function K_(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wu(n).H_(e)}function II(n,e){n.Ra.$e(e),Wu(n).Y_(e)}function Q_(n){n.Ra=new WO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Wu(n).start(),n.Aa.aa()}function Y_(n){return Ml(n)&&!Wu(n).M_()&&n.Ta.size>0}function Ml(n){return Ge(n).Ia.size===0}function SI(n){n.Ra=void 0}async function XM(n){n.Aa.set("Online")}async function JM(n){n.Ta.forEach((e,t)=>{K_(n,e)})}async function eD(n,e){SI(n),Y_(n)?(n.Aa.la(e),Q_(n)):n.Aa.set("Unknown")}async function tD(n,e,t){if(n.Aa.set("Online"),e instanceof uI&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ta.delete(d),o.Ra.removeTarget(d))}(n,e)}catch(r){Ie(Cl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _f(n,r)}else if(e instanceof $d?n.Ra.Ye(e):e instanceof lI?n.Ra.it(e):n.Ra.et(e),!t.isEqual($e.min()))try{const r=await wI(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const w=a.Ta.get(_);w&&a.Ta.set(_,w.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,_)=>{const w=a.Ta.get(m);if(!w)return;a.Ta.set(m,w.withResumeToken(An.EMPTY_BYTE_STRING,w.snapshotVersion)),II(a,m);const T=new ga(w.target,m,_,w.sequenceNumber);K_(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Ie(Cl,"Failed to raise snapshot:",r),await _f(n,r)}}async function _f(n,e,t){if(!Hu(e))throw e;n.Ia.add(1),await vh(n),n.Aa.set("Offline"),t||(t=()=>wI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ie(Cl,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Kf(n)})}function CI(n,e){return e().catch(t=>_f(n,t,e))}async function Qf(n){const e=Ge(n),t=Pa(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:O_;for(;nD(e);)try{const o=await jM(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,rD(e,o)}catch(o){await _f(e,o)}PI(e)&&bI(e)}function nD(n){return Ml(n)&&n.Pa.length<10}function rD(n,e){n.Pa.push(e);const t=Pa(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function PI(n){return Ml(n)&&!Pa(n).M_()&&n.Pa.length>0}function bI(n){Pa(n).start()}async function iD(n){Pa(n).na()}async function sD(n){const e=Pa(n);for(const t of n.Pa)e.X_(t.mutations)}async function oD(n,e,t){const r=n.Pa.shift(),o=z_.from(r,e,t);await CI(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Qf(n)}async function aD(n,e){e&&Pa(n).Z_&&await async function(r,o){if(function(u){return HO(u)&&u!==le.ABORTED}(o.code)){const a=r.Pa.shift();Pa(r).N_(),await CI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Qf(r)}}(n,e),PI(n)&&bI(n)}async function rE(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Ie(Cl,"RemoteStore received new credentials");const r=Ml(t);t.Ia.add(3),await vh(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Kf(t)}async function lD(n,e){const t=Ge(n);e?(t.Ia.delete(2),await Kf(t)):e||(t.Ia.add(2),await vh(t),t.Aa.set("Unknown"))}function Wu(n){return n.Va||(n.Va=function(t,r,o){const a=Ge(t);return a.ia(),new $M(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Zo:XM.bind(null,n),e_:JM.bind(null,n),n_:eD.bind(null,n),J_:tD.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Y_(n)?Q_(n):n.Aa.set("Unknown")):(await n.Va.stop(),SI(n))})),n.Va}function Pa(n){return n.ma||(n.ma=function(t,r,o){const a=Ge(t);return a.ia(),new GM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:iD.bind(null,n),n_:aD.bind(null,n),ea:sD.bind(null,n),ta:oD.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Qf(n)):(await n.ma.stop(),n.Pa.length>0&&(Ie(Cl,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new X_(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J_(n,e){if(lo("AsyncQueue",`${e}: ${n}`),Hu(n))return new we(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Lc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.fa=new zt(De.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Be(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Du{constructor(e,t,r,o,a,u,d,m,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Du(e,t,Cu.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class cD{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=Ge(t),a=o.queries;o.queries=sE(),a.forEach((u,d)=>{for(const m of d.wa)m.onError(r)})})(this,new we(le.ABORTED,"Firestore shutting down"))}}function sE(){return new Ol(n=>Zx(n),Hf)}async function ev(n,e){const t=Ge(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(r=2):(a=new uD,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=J_(u,`Initialization of query '${_u(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&nv(t)}async function tv(n,e){const t=Ge(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function hD(n,e){const t=Ge(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.wa)d.Ca(o)&&(r=!0);u.ya=o}}r&&nv(t)}function dD(n,e,t){const r=Ge(n),o=r.queries.get(e);if(o)for(const a of o.wa)a.onError(t);r.queries.delete(e)}function nv(n){n.Da.forEach(e=>{e.next()})}var bg,oE;(oE=bg||(bg={})).Fa="default",oE.Cache="cache";class rv{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.key=e}}class kI{constructor(e){this.key=e}}class fD{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=st(),this.mutatedKeys=st(),this.Xa=Kx(e),this.eu=new Cu(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new iE,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const S=o.get(w),b=qf(this.query,T)?T:null,N=!!S&&this.mutatedKeys.has(S.key),O=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let j=!1;S&&b?S.data.isEqual(b.data)?N!==O&&(r.track({type:3,doc:b}),j=!0):this.iu(S,b)||(r.track({type:2,doc:b}),j=!0,(m&&this.Xa(b,m)>0||_&&this.Xa(b,_)<0)&&(d=!0)):!S&&b?(r.track({type:0,doc:b}),j=!0):S&&!b&&(r.track({type:1,doc:S}),j=!0,(m||_)&&(d=!0)),j&&(b?(u=u.add(b),a=O?a.add(w):a.delete(w)):(u=u.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{eu:u,ru:r,Ds:d,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((w,T)=>function(b,N){const O=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{At:j})}};return O(b)-O(N)}(w.type,T.type)||this.Xa(w.doc,T.doc)),this.su(r),o=o!=null&&o;const d=t&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,_=m!==this.Ya;return this.Ya=m,u.length!==0||_?{snapshot:new Du(this.query,e.eu,a,u,e.mutatedKeys,m===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new iE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=st(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new kI(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new AI(r))}),t}uu(e){this.Ha=e.qs,this.Za=st();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Du.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const iv="SyncEngine";class pD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mD{constructor(e){this.key=e,this.lu=!1}}class gD{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Ol(d=>Zx(d),Hf),this.Tu=new Map,this.Iu=new Set,this.du=new zt(De.comparator),this.Eu=new Map,this.Au=new q_,this.Ru={},this.Vu=new Map,this.mu=Mu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function _D(n,e,t=!0){const r=DI(n);let o;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await RI(r,e,t,!0),o}async function vD(n,e){const t=DI(n);await RI(t,e,!0,!1)}async function RI(n,e,t,r){const o=await VM(n.localStore,es(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await yD(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&xI(n.remoteStore,o),d}async function yD(n,e,t,r,o){n.gu=(T,S,b)=>async function(O,j,D,K){let ee=j.view.nu(D);ee.Ds&&(ee=await X0(O.localStore,j.query,!1).then(({documents:B})=>j.view.nu(B,ee)));const se=K&&K.targetChanges.get(j.targetId),me=K&&K.targetMismatches.get(j.targetId)!=null,Se=j.view.applyChanges(ee,O.isPrimaryClient,se,me);return lE(O,j.targetId,Se._u),Se.snapshot}(n,T,S,b);const a=await X0(n.localStore,e,!0),u=new fD(e,a.qs),d=u.nu(a.documents),m=_h.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),_=u.applyChanges(d,n.isPrimaryClient,m);lE(n,t,_._u);const w=new pD(e,t,u);return n.Pu.set(e,w),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),_.snapshot}async function wD(n,e,t){const r=Ge(n),o=r.Pu.get(e),a=r.Tu.get(o.targetId);if(a.length>1)return r.Tu.set(o.targetId,a.filter(u=>!Hf(u,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cg(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Z_(r.remoteStore,o.targetId),Ag(r,o.targetId)}).catch(Bu)):(Ag(r,o.targetId),await Cg(r.localStore,o.targetId,!0))}async function ED(n,e){const t=Ge(n),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Z_(t.remoteStore,r.targetId))}async function TD(n,e,t){const r=AD(n);try{const o=await function(u,d){const m=Ge(u),_=kt.now(),w=d.reduce((b,N)=>b.add(N.key),st());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",b=>{let N=uo(),O=st();return m.Os.getEntries(b,w).next(j=>{N=j,N.forEach((D,K)=>{K.isValidDocument()||(O=O.add(D))})}).next(()=>m.localDocuments.getOverlayedDocuments(b,N)).next(j=>{T=j;const D=[];for(const K of d){const ee=VO(K,T.get(K.key).overlayedDocument);ee!=null&&D.push(new ja(K.key,ee,Ux(ee.value.mapValue),ai.exists(!0)))}return m.mutationQueue.addMutationBatch(b,_,D,d)}).next(j=>{S=j;const D=j.applyToLocalDocumentSet(T,O);return m.documentOverlayCache.saveOverlays(b,j.batchId,D)})}).then(()=>({batchId:S.batchId,changes:Yx(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let _=u.Ru[u.currentUser.toKey()];_||(_=new zt(Je)),_=_.insert(d,m),u.Ru[u.currentUser.toKey()]=_}(r,o.batchId,t),await yh(r,o.changes),await Qf(r.remoteStore)}catch(o){const a=J_(o,"Failed to persist write");t.reject(a)}}async function LI(n,e){const t=Ge(n);try{const r=await MM(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Eu.get(a);u&&(gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.lu=!0:o.modifiedDocuments.size>0?gt(u.lu,14607):o.removedDocuments.size>0&&(gt(u.lu,42227),u.lu=!1))}),await yh(t,r,e)}catch(r){await Bu(r)}}function aE(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const m=Ge(u);m.onlineState=d;let _=!1;m.queries.forEach((w,T)=>{for(const S of T.wa)S.va(d)&&(_=!0)}),_&&nv(m)}(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xD(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),a=o&&o.key;if(a){let u=new zt(De.comparator);u=u.insert(a,Bn.newNoDocument(a,$e.min()));const d=st().add(a),m=new Gf($e.min(),new Map,new zt(Je),u,d);await LI(r,m),r.du=r.du.remove(a),r.Eu.delete(e),sv(r)}else await Cg(r.localStore,e,!1).then(()=>Ag(r,e,t)).catch(Bu)}async function ID(n,e){const t=Ge(n),r=e.batch.batchId;try{const o=await OM(t.localStore,e);OI(t,r,null),NI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await yh(t,o)}catch(o){await Bu(o)}}async function SD(n,e,t){const r=Ge(n);try{const o=await function(u,d){const m=Ge(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return m.mutationQueue.lookupMutationBatch(_,d).next(T=>(gt(T!==null,37113),w=T.keys(),m.mutationQueue.removeMutationBatch(_,T))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>m.localDocuments.getDocuments(_,w))})}(r.localStore,e);OI(r,e,t),NI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await yh(r,o)}catch(o){await Bu(o)}}function NI(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function OI(n,e,t){const r=Ge(n);let o=r.Ru[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function Ag(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||MI(n,r)})}function MI(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Z_(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),sv(n))}function lE(n,e,t){for(const r of t)r instanceof AI?(n.Au.addReference(r.key,e),CD(n,r)):r instanceof kI?(Ie(iv,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||MI(n,r.key)):Be(19791,{yu:r})}function CD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Ie(iv,"New document in limbo: "+t),n.Iu.add(r),sv(n))}function sv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new De(At.fromString(e)),r=n.mu.next();n.Eu.set(r,new mD(t)),n.du=n.du.insert(t,r),xI(n.remoteStore,new ga(es(Bf(t.path)),r,"TargetPurposeLimboResolution",Ff.ue))}}async function yh(n,e,t){const r=Ge(n),o=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach((d,m)=>{u.push(r.gu(m,e,t).then(_=>{var w;if((_||t)&&r.isPrimaryClient){const T=_?!_.fromCache:(w=t?.targetChanges.get(m.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(_){o.push(_);const T=$_.Es(m.targetId,_);a.push(T)}}))}),await Promise.all(u),r.hu.J_(o),await async function(m,_){const w=Ge(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(_,S=>ce.forEach(S.Is,b=>w.persistence.referenceDelegate.addReference(T,S.targetId,b)).next(()=>ce.forEach(S.ds,b=>w.persistence.referenceDelegate.removeReference(T,S.targetId,b)))))}catch(T){if(!Hu(T))throw T;Ie(G_,"Failed to update sequence numbers: "+T)}for(const T of _){const S=T.targetId;if(!T.fromCache){const b=w.Fs.get(S),N=b.snapshotVersion,O=b.withLastLimboFreeSnapshotVersion(N);w.Fs=w.Fs.insert(S,O)}}}(r.localStore,a))}async function PD(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Ie(iv,"User change. New user:",e.toKey());const r=await yI(t.localStore,e);t.currentUser=e,function(a,u){a.Vu.forEach(d=>{d.forEach(m=>{m.reject(new we(le.CANCELLED,u))})}),a.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yh(t,r.Bs)}}function bD(n,e){const t=Ge(n),r=t.Eu.get(e);if(r&&r.lu)return st().add(r.key);{let o=st();const a=t.Tu.get(e);if(!a)return o;for(const u of a){const d=t.Pu.get(u);o=o.unionWith(d.view.tu)}return o}}function DI(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.hu.J_=hD.bind(null,e.eventManager),e.hu.pu=dD.bind(null,e.eventManager),e}function AD(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SD.bind(null,e),e}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return NM(this.persistence,new kM,e.initialUser,this.serializer)}Du(e){return new vI(W_.Vi,this.serializer)}bu(e){return new UM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class kD extends vf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){gt(this.persistence.referenceDelegate instanceof gf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mM(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new vI(r=>gf.Vi(r,t),this.serializer)}}class kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await lD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cD}()}createDatastore(e){const t=Zf(e.databaseInfo.databaseId),r=function(a){return new WM(a)}(e.databaseInfo);return function(a,u,d,m){return new KM(a,u,d,m)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,d){return new YM(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>aE(this.syncEngine,t,0),function(){return tE.C()?new tE:new zM}())}createSyncEngine(e,t){return function(o,a,u,d,m,_,w){const T=new gD(o,a,u,d,m,_);return w&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ge(o);Ie(Cl,"RemoteStore shutting down."),a.Ia.add(5),await vh(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kg.provider={build:()=>new kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):lo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class RD{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=zn.UNAUTHENTICATED,this.clientId=N_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Ie(ba,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ie(ba,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=J_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qm(n,e){n.asyncQueue.verifyOperationInProgress(),Ie(ba,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await yI(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ta("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Ie("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ta("Terminating Firestore due to IndexedDb database deletion failed",o)})}),n._offlineComponents=e}async function uE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LD(n);Ie(ba,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>rE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>rE(e.remoteStore,o)),n._onlineComponents=e}async function LD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie(ba,"Using user provided OfflineComponentProvider");try{await qm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ta("Error using user provided cache. Falling back to memory cache: "+t),await qm(n,new vf)}}else Ie(ba,"Using default OfflineComponentProvider"),await qm(n,new kD(void 0));return n._offlineComponents}async function jI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie(ba,"Using user provided OnlineComponentProvider"),await uE(n,n._uninitializedComponentsProvider._online)):(Ie(ba,"Using default OnlineComponentProvider"),await uE(n,new kg))),n._onlineComponents}function ND(n){return jI(n).then(e=>e.syncEngine)}async function yf(n){const e=await jI(n),t=e.eventManager;return t.onListen=_D.bind(null,e.syncEngine),t.onUnlisten=wD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ED.bind(null,e.syncEngine),t}function OD(n,e,t={}){const r=new ro;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,m,_){const w=new ov({next:S=>{w.Ou(),u.enqueueAndForget(()=>tv(a,T));const b=S.docs.has(d);!b&&S.fromCache?_.reject(new we(le.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&S.fromCache&&m&&m.source==="server"?_.reject(new we(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),T=new rv(Bf(d.path),w,{includeMetadataChanges:!0,ka:!0});return ev(a,T)}(await yf(n),n.asyncQueue,e,t,r)),r.promise}function MD(n,e,t={}){const r=new ro;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,m,_){const w=new ov({next:S=>{w.Ou(),u.enqueueAndForget(()=>tv(a,T)),S.fromCache&&m.source==="server"?_.reject(new we(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),T=new rv(d,w,{includeMetadataChanges:!0,ka:!0});return ev(a,T)}(await yf(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firestore.googleapis.com",hE=!0;class dE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FI,this.ssl=hE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_I;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fM)throw new we(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H2;switch(r.type){case"firstParty":return new G2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=cE.get(t);r&&(Ie("ComponentProvider","Removing Datastore"),cE.delete(t),r.terminate())}(this),Promise.resolve()}}function DD(n,e,t,r={}){var o;n=Tr(n,Yf);const a=Na(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;a&&(l_(`https://${m}`),u_("Firestore",!0)),u.host!==FI&&u.host!==m&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},u),{host:m,ssl:a,emulatorOptions:r});if(!so(_,d)&&(n._setSettings(_),r.mockUserToken)){let w,T;if(typeof r.mockUserToken=="string")w=r.mockUserToken,T=zn.MOCK_USER;else{w=kT(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new we(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new zn(S)}n._authCredentials=new q2(new Px(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class Gt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(mh(t,Gt._jsonSchema))return new Gt(e,r||null,new De(At.fromString(t.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:an("string",Gt._jsonSchemaVersion),referencePath:an("string")};class wa extends Va{constructor(e,t,r){super(e,t,Bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new De(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function Tn(n,e,...t){if(n=xt(n),Ax("collection","path",e),n instanceof Yf){const r=At.fromString(e,...t);return S0(r),new wa(n,null,r)}{if(!(n instanceof Gt||n instanceof wa))throw new we(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(At.fromString(e,...t));return S0(r),new wa(n.firestore,null,r)}}function ln(n,e,...t){if(n=xt(n),arguments.length===1&&(e=N_.newId()),Ax("doc","path",e),n instanceof Yf){const r=At.fromString(e,...t);return I0(r),new Gt(n,null,new De(r))}{if(!(n instanceof Gt||n instanceof wa))throw new we(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(At.fromString(e,...t));return I0(r),new Gt(n.firestore,n instanceof wa?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="AsyncQueue";class pE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new EI(this,"async_queue_retry"),this.oc=()=>{const r=Hm();r&&Ie(fE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ro;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hu(e))throw e;Ie(fE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,lo("INTERNAL UNHANDLED ERROR: ",mE(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=X_.createAndSchedule(this,e,t,r,a=>this.lc(a));return this.ec.push(o),o}ac(){this.tc&&Be(47125,{hc:mE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function mE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class co extends Yf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new pE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pE(e),this._firestoreClient=void 0,await e}}}function jD(n,e){const t=typeof n=="object"?n:Af(),r=typeof n=="string"?n:hf,o=Oa(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=PT("firestore");a&&DD(o,...a)}return o}function Xf(n){if(n._terminated)throw new we(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VD(n),n._firestoreClient}function VD(n){var e,t,r;const o=n._freezeSettings(),a=function(d,m,_,w){return new uO(d,m,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,VI(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new RD(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const m=d?._online.build();return{_offline:d?._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(An.fromBase64String(e))}catch(t){throw new we(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oi(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mh(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:an("string",oi._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(mh(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:an("string",ns._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mh(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new rs(e.vectorValues);throw new we(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:an("string",rs._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/^__.*__$/;class UD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new gh(e,this.data,t,this.fieldTransforms)}}class UI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ja(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ec:n})}}class ep{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return wf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(zI(this.Ec)&&FD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class zD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zf(e)}Dc(e,t,r,o=!1){return new ep({Ec:e,methodName:t,bc:r,path:bn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tp(n){const e=n._freezeSettings(),t=Zf(n._databaseId);return new zD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BI(n,e,t,r,o,a={}){const u=n.Dc(a.merge||a.mergeFields?2:0,e,t,o);uv("Data must be an object, but it was:",u,r);const d=HI(r,u);let m,_;if(a.merge)m=new Vr(u.fieldMask),_=u.fieldTransforms;else if(a.mergeFields){const w=[];for(const T of a.mergeFields){const S=Rg(e,T,t);if(!u.contains(S))throw new we(le.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);WI(w,S)||w.push(S)}m=new Vr(w),_=u.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,_=u.fieldTransforms;return new UD(new yr(d),m,_)}class np extends wh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof np}}function BD(n,e,t){return new ep({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class av extends wh{_toFieldTransform(e){return new iI(e.path,new nh)}isEqual(e){return e instanceof av}}class lv extends wh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=BD(this,e,!0),r=this.vc.map(a=>$u(a,t)),o=new Ou(r);return new iI(e.path,o)}isEqual(e){return e instanceof lv&&so(this.vc,e.vc)}}function HD(n,e,t,r){const o=n.Dc(1,e,t);uv("Data must be an object, but it was:",o,r);const a=[],u=yr.empty();Da(r,(m,_)=>{const w=cv(e,m,t);_=xt(_);const T=o.gc(w);if(_ instanceof np)a.push(w);else{const S=$u(_,T);S!=null&&(a.push(w),u.set(w,S))}});const d=new Vr(a);return new UI(u,d,o.fieldTransforms)}function qD(n,e,t,r,o,a){const u=n.Dc(1,e,t),d=[Rg(e,r,t)],m=[o];if(a.length%2!=0)throw new we(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)d.push(Rg(e,a[S])),m.push(a[S+1]);const _=[],w=yr.empty();for(let S=d.length-1;S>=0;--S)if(!WI(_,d[S])){const b=d[S];let N=m[S];N=xt(N);const O=u.gc(b);if(N instanceof np)_.push(b);else{const j=$u(N,O);j!=null&&(_.push(b),w.set(b,j))}}const T=new Vr(_);return new UI(w,T,u.fieldTransforms)}function WD(n,e,t,r=!1){return $u(t,n.Dc(r?4:3,e))}function $u(n,e){if(qI(n=xt(n)))return uv("Unsupported field value:",e,n),HI(n,e);if(n instanceof wh)return function(r,o){if(!zI(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let m=$u(d,o.yc(u));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kt.fromDate(r);return{timestampValue:mf(o.serializer,a)}}if(r instanceof kt){const a=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mf(o.serializer,a)}}if(r instanceof ns)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oi)return{bytesValue:cI(o.serializer,r._byteString)};if(r instanceof Gt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:H_(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof rs)return function(u,d){return{mapValue:{fields:{[Vx]:{stringValue:Fx},[df]:{arrayValue:{values:u.toArray().map(_=>{if(typeof _!="number")throw d.wc("VectorValues must only contain numeric values.");return F_(d.serializer,_)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${Vf(r)}`)}(n,e)}function HI(n,e){const t={};return Lx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(n,(r,o)=>{const a=$u(o,e.Vc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function qI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof ns||n instanceof oi||n instanceof Gt||n instanceof wh||n instanceof rs)}function uv(n,e,t){if(!qI(t)||!kx(t)){const r=Vf(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Rg(n,e,t){if((e=xt(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return cv(n,e);throw wf("Field path arguments must be of type string or ",n,!1,void 0,t)}const $D=new RegExp("[~\\*/\\[\\]]");function cv(n,e,t){if(e.search($D)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jf(...e.split("."))._internalPath}catch{throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wf(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(a||u)&&(m+=" (found",a&&(m+=` in field ${r}`),u&&(m+=` in document ${o}`),m+=")"),new we(le.INVALID_ARGUMENT,d+n+m)}function WI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GD extends $I{data(){return super.data()}}function rp(n,e){return typeof e=="string"?cv(n,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class ZI extends hv{}function ju(n,e,...t){let r=[];e instanceof hv&&r.push(e),r=r.concat(t),function(a){const u=a.filter(m=>m instanceof dv).length,d=a.filter(m=>m instanceof ip).length;if(u>1||u>0&&d>0)throw new we(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class ip extends ZI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ip(e,t,r)}_apply(e){const t=this._parse(e);return KI(e._query,t),new Va(e.firestore,e.converter,wg(e._query,t))}_parse(e){const t=tp(e.firestore);return function(a,u,d,m,_,w,T){let S;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new we(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){vE(T,w);const N=[];for(const O of T)N.push(_E(m,a,O));S={arrayValue:{values:N}}}else S=_E(m,a,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||vE(T,w),S=WD(d,u,T,w==="in"||w==="not-in");return on.create(_,w,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lg(n,e,t){const r=e,o=rp("where",n);return ip._create(o,r,t)}class dv extends hv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const d=a.getFlattenedFilters();for(const m of d)KI(u,m),u=wg(u,m)}(e._query,t),new Va(e.firestore,e.converter,wg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fv extends ZI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fv(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new we(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new we(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new th(a,u)}(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new qu(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function pv(n,e="asc"){const t=e,r=rp("orderBy",n);return fv._create(r,t)}function _E(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new we(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gx(e)&&t.indexOf("/")!==-1)throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(At.fromString(t));if(!De.isDocumentKey(r))throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return N0(n,new De(r))}if(t instanceof Gt)return N0(n,t._key);throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(t)}.`)}function vE(n,e){if(!Array.isArray(n)||n.length===0)throw new we(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KI(n,e){const t=function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZD{convertValue(e,t="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Da(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[df].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Xt(u.doubleValue));return new rs(a)}convertGeoPoint(e){return new ns(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=zf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const t=Ia(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=At.fromString(e);gt(gI(r),9688,{name:e});const o=new Jc(r.get(1),r.get(3)),a=new De(r.popFirst(5));return o.isEqual(t)||lo(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yl extends $I{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=yl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",yl._jsonSchema={type:an("string",yl._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Gd extends yl{data(e={}){return super.data(e)}}class wl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Oc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gd(this._firestore,this._userDataWriter,r.key,r,new Oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const m=new Gd(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Oc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const m=new Gd(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Oc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return d.type!==0&&(_=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:KD(d.type),doc:m,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(n){n=Tr(n,Gt);const e=Tr(n.firestore,co);return OD(Xf(e),n._key).then(t=>JI(e,n,t))}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:an("string",wl._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class mv extends ZD{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function os(n){n=Tr(n,Va);const e=Tr(n.firestore,co),t=Xf(e),r=new mv(e);return GI(n._query),MD(t,n._query).then(o=>new wl(e,r,n,o))}function QD(n,e,t){n=Tr(n,Gt);const r=Tr(n.firestore,co),o=QI(n.converter,e);return sp(r,[BI(tp(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ai.none())])}function $c(n,e,t,...r){n=Tr(n,Gt);const o=Tr(n.firestore,co),a=tp(o);let u;return u=typeof(e=xt(e))=="string"||e instanceof Jf?qD(a,"updateDoc",n._key,e,t,r):HD(a,"updateDoc",n._key,e),sp(o,[u.toMutation(n._key,ai.exists(!0))])}function YI(n){return sp(Tr(n.firestore,co),[new U_(n._key,ai.none())])}function Gu(n,e){const t=Tr(n.firestore,co),r=ln(n),o=QI(n.converter,e);return sp(t,[BI(tp(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then(()=>r)}function XI(n,...e){var t,r,o;n=xt(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||gE(e[u])||(a=e[u++]);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(gE(e[u])){const T=e[u];e[u]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[u+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),e[u+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let m,_,w;if(n instanceof Gt)_=Tr(n.firestore,co),w=Bf(n._key.path),m={next:T=>{e[u]&&e[u](JI(_,n,T))},error:e[u+1],complete:e[u+2]};else{const T=Tr(n,Va);_=Tr(T.firestore,co),w=T._query;const S=new mv(_);m={next:b=>{e[u]&&e[u](new wl(_,S,T,b))},error:e[u+1],complete:e[u+2]},GI(n._query)}return function(S,b,N,O){const j=new ov(O),D=new rv(b,j,N);return S.asyncQueue.enqueueAndForget(async()=>ev(await yf(S),D)),()=>{j.Ou(),S.asyncQueue.enqueueAndForget(async()=>tv(await yf(S),D))}}(Xf(_),w,d,m)}function sp(n,e){return function(r,o){const a=new ro;return r.asyncQueue.enqueueAndForget(async()=>TD(await ND(r),o,a)),a.promise}(Xf(n),e)}function JI(n,e,t){const r=t.docs.get(e._key),o=new mv(n);return new yl(n,o,e._key,r,new Oc(t.hasPendingWrites,t.fromCache),e.converter)}function Zu(){return new av("serverTimestamp")}function YD(...n){return new lv("arrayUnion",n)}(function(e,t=!0){(function(o){zu=o})(Ll),Pi(new li("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new co(new W2(r.getProvider("auth-internal")),new Z2(u,r.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new we(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(_.options.projectId,w)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),wr(y0,w0,e),wr(y0,w0,"esm2017")})();const XD={apiKey:"AIzaSyD1W2T5HphtC6jac2AIqnKaOCp5XKFWO34",authDomain:"webturismo-9e4b1.firebaseapp.com",projectId:"webturismo-9e4b1",storageBucket:"webturismo-9e4b1.firebasestorage.app",messagingSenderId:"406238504556",appId:"1:406238504556:web:0187e7d200783d75765a49",measurementId:"G-18F1W0TXNN"},op=jT(XD),nt=jD(op),Aa=w_(op),yE=wN(op);F2(op);const JD=()=>{const[n,e]=U.useState([]),t=["Montaña","Histórica","Playa"];return U.useEffect(()=>{(async()=>{try{const a=(await os(Tn(nt,"Rutas"))).docs.map(u=>({id:u.id,...u.data()}));e(a)}catch(o){console.error("❌ Error al cargar rutas desde Firebase:",o)}})()},[]),E.jsx("div",{className:"pantalla-completa",children:E.jsxs("div",{className:"vertical-layout",children:[E.jsx("h1",{children:"Explora Rutas en Tarragona"}),E.jsx("p",{className:"descripcion-rutas",children:"Aquí encontrarás una variedad de rutas que puedes hacer para conocer cada rincón de Tarragona."}),t.map(r=>{const o=n.filter(a=>a.tipo===r).slice(0,3);return o.length===0?null:E.jsxs("section",{children:[E.jsx("h2",{className:"rutalist-titulo",children:r})," ",E.jsx("div",{className:"rutas-diagonales",children:o.map(a=>E.jsxs(bt,{to:`/rutas/${a.id}`,className:"tarjeta-diagonal",style:{textDecoration:"none",color:"inherit"},children:[E.jsx("img",{src:a.imagen,alt:a.nombre,style:{cursor:"pointer"}}),E.jsxs("div",{className:"contenido",children:[E.jsx("div",{className:"titulo-superior",children:a.nombre}),E.jsx("p",{children:E.jsx("strong",{children:"Puntos de Interes:"})}),E.jsx("ul",{children:a.contenido?.map((u,d)=>E.jsx("li",{children:u},d))})]})]},a.id))})]},r)})]})})};var Mc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var ej=Mc.exports,wE;function eS(){return wE||(wE=1,function(n,e){(function(t,r){r(e)})(ej,function(t){var r="1.9.4";function o(s){var c,p,v,C;for(p=1,v=arguments.length;p<v;p++){C=arguments[p];for(c in C)s[c]=C[c]}return s}var a=Object.create||function(){function s(){}return function(c){return s.prototype=c,new s}}();function u(s,c){var p=Array.prototype.slice;if(s.bind)return s.bind.apply(s,p.call(arguments,1));var v=p.call(arguments,2);return function(){return s.apply(c,v.length?v.concat(p.call(arguments)):arguments)}}var d=0;function m(s){return"_leaflet_id"in s||(s._leaflet_id=++d),s._leaflet_id}function _(s,c,p){var v,C,k,H;return H=function(){v=!1,C&&(k.apply(p,C),C=!1)},k=function(){v?C=arguments:(s.apply(p,arguments),setTimeout(H,c),v=!0)},k}function w(s,c,p){var v=c[1],C=c[0],k=v-C;return s===v&&p?s:((s-C)%k+k)%k+C}function T(){return!1}function S(s,c){if(c===!1)return s;var p=Math.pow(10,c===void 0?6:c);return Math.round(s*p)/p}function b(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function N(s){return b(s).split(/\s+/)}function O(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?a(s.options):{});for(var p in c)s.options[p]=c[p];return s.options}function j(s,c,p){var v=[];for(var C in s)v.push(encodeURIComponent(p?C.toUpperCase():C)+"="+encodeURIComponent(s[C]));return(!c||c.indexOf("?")===-1?"?":"&")+v.join("&")}var D=/\{ *([\w_ -]+) *\}/g;function K(s,c){return s.replace(D,function(p,v){var C=c[v];if(C===void 0)throw new Error("No value provided for variable "+p);return typeof C=="function"&&(C=C(c)),C})}var ee=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function se(s,c){for(var p=0;p<s.length;p++)if(s[p]===c)return p;return-1}var me="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Se(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var B=0;function M(s){var c=+new Date,p=Math.max(0,16-(c-B));return B=c+p,window.setTimeout(s,p)}var F=window.requestAnimationFrame||Se("RequestAnimationFrame")||M,q=window.cancelAnimationFrame||Se("CancelAnimationFrame")||Se("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function $(s,c,p){if(p&&F===M)s.call(c);else return F.call(window,u(s,c))}function Q(s){s&&q.call(window,s)}var z={__proto__:null,extend:o,create:a,bind:u,get lastId(){return d},stamp:m,throttle:_,wrapNum:w,falseFn:T,formatNum:S,trim:b,splitWords:N,setOptions:O,getParamString:j,template:K,isArray:ee,indexOf:se,emptyImageUrl:me,requestFn:F,cancelFn:q,requestAnimFrame:$,cancelAnimFrame:Q};function ct(){}ct.extend=function(s){var c=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,v=a(p);v.constructor=c,c.prototype=v;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(c[C]=this[C]);return s.statics&&o(c,s.statics),s.includes&&(pn(s.includes),o.apply(null,[v].concat(s.includes))),o(v,s),delete v.statics,delete v.includes,v.options&&(v.options=p.options?a(p.options):{},o(v.options,s.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,H=v._initHooks.length;k<H;k++)v._initHooks[k].call(this)}},c},ct.include=function(s){var c=this.prototype.options;return o(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},ct.mergeOptions=function(s){return o(this.prototype.options,s),this},ct.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),p=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function pn(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=ee(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var dt={on:function(s,c,p){if(typeof s=="object")for(var v in s)this._on(v,s[v],c);else{s=N(s);for(var C=0,k=s.length;C<k;C++)this._on(s[C],c,p)}return this},off:function(s,c,p){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var v in s)this._off(v,s[v],c);else{s=N(s);for(var C=arguments.length===1,k=0,H=s.length;k<H;k++)C?this._off(s[k]):this._off(s[k],c,p)}return this},_on:function(s,c,p,v){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,p)===!1){p===this&&(p=void 0);var C={fn:c,ctx:p};v&&(C.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(C)}},_off:function(s,c,p){var v,C,k;if(this._events&&(v=this._events[s],!!v)){if(arguments.length===1){if(this._firingCount)for(C=0,k=v.length;C<k;C++)v[C].fn=T;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var H=this._listens(s,c,p);if(H!==!1){var X=v[H];this._firingCount&&(X.fn=T,this._events[s]=v=v.slice()),v.splice(H,1)}}},fire:function(s,c,p){if(!this.listens(s,p))return this;var v=o({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var C=this._events[s];if(C){this._firingCount=this._firingCount+1||1;for(var k=0,H=C.length;k<H;k++){var X=C[k],ne=X.fn;X.once&&this.off(s,ne,X.ctx),ne.call(X.ctx||this,v)}this._firingCount--}}return p&&this._propagateEvent(v),this},listens:function(s,c,p,v){typeof s!="string"&&console.warn('"string" type argument expected');var C=c;typeof c!="function"&&(v=!!c,C=void 0,p=void 0);var k=this._events&&this._events[s];if(k&&k.length&&this._listens(s,C,p)!==!1)return!0;if(v){for(var H in this._eventParents)if(this._eventParents[H].listens(s,c,p,v))return!0}return!1},_listens:function(s,c,p){if(!this._events)return!1;var v=this._events[s]||[];if(!c)return!!v.length;p===this&&(p=void 0);for(var C=0,k=v.length;C<k;C++)if(v[C].fn===c&&v[C].ctx===p)return C;return!1},once:function(s,c,p){if(typeof s=="object")for(var v in s)this._on(v,s[v],c,!0);else{s=N(s);for(var C=0,k=s.length;C<k;C++)this._on(s[C],c,p,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[m(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[m(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,o({layer:s.target,propagatedFrom:s.target},s),!0)}};dt.addEventListener=dt.on,dt.removeEventListener=dt.clearAllEventListeners=dt.off,dt.addOneTimeEventListener=dt.once,dt.fireEvent=dt.fire,dt.hasEventListeners=dt.listens;var ot=ct.extend(dt);function ae(s,c,p){this.x=p?Math.round(s):s,this.y=p?Math.round(c):c}var Oe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(s){return this.clone()._add(ue(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ue(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ae(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ae(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Oe(this.x),this.y=Oe(this.y),this},distanceTo:function(s){s=ue(s);var c=s.x-this.x,p=s.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(s){return s=ue(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ue(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function ue(s,c,p){return s instanceof ae?s:ee(s)?new ae(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ae(s.x,s.y):new ae(s,c,p)}function G(s,c){if(s)for(var p=c?[s,c]:s,v=0,C=p.length;v<C;v++)this.extend(p[v])}G.prototype={extend:function(s){var c,p;if(!s)return this;if(s instanceof ae||typeof s[0]=="number"||"x"in s)c=p=ue(s);else if(s=oe(s),c=s.min,p=s.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(s){return ue((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ue(this.min.x,this.max.y)},getTopRight:function(){return ue(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,p;return typeof s[0]=="number"||s instanceof ae?s=ue(s):s=oe(s),s instanceof G?(c=s.min,p=s.max):c=p=s,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(s){s=oe(s);var c=this.min,p=this.max,v=s.min,C=s.max,k=C.x>=c.x&&v.x<=p.x,H=C.y>=c.y&&v.y<=p.y;return k&&H},overlaps:function(s){s=oe(s);var c=this.min,p=this.max,v=s.min,C=s.max,k=C.x>c.x&&v.x<p.x,H=C.y>c.y&&v.y<p.y;return k&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,p=this.max,v=Math.abs(c.x-p.x)*s,C=Math.abs(c.y-p.y)*s;return oe(ue(c.x-v,c.y-C),ue(p.x+v,p.y+C))},equals:function(s){return s?(s=oe(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function oe(s,c){return!s||s instanceof G?s:new G(s,c)}function Ee(s,c){if(s)for(var p=c?[s,c]:s,v=0,C=p.length;v<C;v++)this.extend(p[v])}Ee.prototype={extend:function(s){var c=this._southWest,p=this._northEast,v,C;if(s instanceof Ce)v=s,C=s;else if(s instanceof Ee){if(v=s._southWest,C=s._northEast,!v||!C)return this}else return s?this.extend(xe(s)||Re(s)):this;return!c&&!p?(this._southWest=new Ce(v.lat,v.lng),this._northEast=new Ce(C.lat,C.lng)):(c.lat=Math.min(v.lat,c.lat),c.lng=Math.min(v.lng,c.lng),p.lat=Math.max(C.lat,p.lat),p.lng=Math.max(C.lng,p.lng)),this},pad:function(s){var c=this._southWest,p=this._northEast,v=Math.abs(c.lat-p.lat)*s,C=Math.abs(c.lng-p.lng)*s;return new Ee(new Ce(c.lat-v,c.lng-C),new Ce(p.lat+v,p.lng+C))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Ce||"lat"in s?s=xe(s):s=Re(s);var c=this._southWest,p=this._northEast,v,C;return s instanceof Ee?(v=s.getSouthWest(),C=s.getNorthEast()):v=C=s,v.lat>=c.lat&&C.lat<=p.lat&&v.lng>=c.lng&&C.lng<=p.lng},intersects:function(s){s=Re(s);var c=this._southWest,p=this._northEast,v=s.getSouthWest(),C=s.getNorthEast(),k=C.lat>=c.lat&&v.lat<=p.lat,H=C.lng>=c.lng&&v.lng<=p.lng;return k&&H},overlaps:function(s){s=Re(s);var c=this._southWest,p=this._northEast,v=s.getSouthWest(),C=s.getNorthEast(),k=C.lat>c.lat&&v.lat<p.lat,H=C.lng>c.lng&&v.lng<p.lng;return k&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=Re(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Re(s,c){return s instanceof Ee?s:new Ee(s,c)}function Ce(s,c,p){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,p!==void 0&&(this.alt=+p)}Ce.prototype={equals:function(s,c){if(!s)return!1;s=xe(s);var p=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return p<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+S(this.lat,s)+", "+S(this.lng,s)+")"},distanceTo:function(s){return Ye.distance(this,xe(s))},wrap:function(){return Ye.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,p=c/Math.cos(Math.PI/180*this.lat);return Re([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function xe(s,c,p){return s instanceof Ce?s:ee(s)&&typeof s[0]!="object"?s.length===3?new Ce(s[0],s[1],s[2]):s.length===2?new Ce(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Ce(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new Ce(s,c,p)}var Ke={latLngToPoint:function(s,c){var p=this.projection.project(s),v=this.scale(c);return this.transformation._transform(p,v)},pointToLatLng:function(s,c){var p=this.scale(c),v=this.transformation.untransform(s,p);return this.projection.unproject(v)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(s),v=this.transformation.transform(c.min,p),C=this.transformation.transform(c.max,p);return new G(v,C)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?w(s.lng,this.wrapLng,!0):s.lng,p=this.wrapLat?w(s.lat,this.wrapLat,!0):s.lat,v=s.alt;return new Ce(p,c,v)},wrapLatLngBounds:function(s){var c=s.getCenter(),p=this.wrapLatLng(c),v=c.lat-p.lat,C=c.lng-p.lng;if(v===0&&C===0)return s;var k=s.getSouthWest(),H=s.getNorthEast(),X=new Ce(k.lat-v,k.lng-C),ne=new Ce(H.lat-v,H.lng-C);return new Ee(X,ne)}},Ye=o({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var p=Math.PI/180,v=s.lat*p,C=c.lat*p,k=Math.sin((c.lat-s.lat)*p/2),H=Math.sin((c.lng-s.lng)*p/2),X=k*k+Math.cos(v)*Math.cos(C)*H*H,ne=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*ne}}),_t=6378137,Bt={R:_t,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,p=this.MAX_LATITUDE,v=Math.max(Math.min(p,s.lat),-p),C=Math.sin(v*c);return new ae(this.R*s.lng*c,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(s){var c=180/Math.PI;return new Ce((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:function(){var s=_t*Math.PI;return new G([-s,-s],[s,s])}()};function xr(s,c,p,v){if(ee(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=p,this._d=v}xr.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new ae((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function Br(s,c,p,v){return new xr(s,c,p,v)}var Hr=o({},Ye,{code:"EPSG:3857",projection:Bt,transformation:function(){var s=.5/(Math.PI*Bt.R);return Br(s,.5,-s,.5)}()}),cs=o({},Hr,{code:"EPSG:900913"});function hs(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function go(s,c){var p="",v,C,k,H,X,ne;for(v=0,k=s.length;v<k;v++){for(X=s[v],C=0,H=X.length;C<H;C++)ne=X[C],p+=(C?"L":"M")+ne.x+" "+ne.y;p+=c?Ae.svg?"z":"x":""}return p||"M0 0"}var ds=document.documentElement.style,fs="ActiveXObject"in window,_o=fs&&!document.addEventListener,qr="msLaunchUri"in navigator&&!("documentMode"in document),Ir=mn("webkit"),vo=mn("android"),ps=mn("android 2")||mn("android 3"),yo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ua=vo&&mn("Google")&&yo<537&&!("AudioNode"in window),Mt=!!window.opera,Ht=!qr&&mn("chrome"),Wr=mn("gecko")&&!Ir&&!Mt&&!fs,za=!Ht&&mn("safari"),ci=mn("phantom"),ki="OTransition"in ds,ms=navigator.platform.indexOf("Win")===0,wo=fs&&"transition"in ds,gs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ps,Eo="MozPerspective"in ds,Ba=!window.L_DISABLE_3D&&(wo||gs||Eo)&&!ki&&!ci,hi=typeof orientation<"u"||mn("mobile"),_s=hi&&Ir,To=hi&&gs,vs=!window.PointerEvent&&window.MSPointerEvent,Wn=!!(window.PointerEvent||vs),Sr="ontouchstart"in window||!!window.TouchEvent,xo=!window.L_NO_TOUCH&&(Sr||Wn),$r=hi&&Mt,Ha=hi&&Wr,ys=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qa=function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",T,c),window.removeEventListener("testPassiveEventSupport",T,c)}catch{}return s}(),di=function(){return!!document.createElement("canvas").getContext}(),ws=!!(document.createElementNS&&hs("svg").createSVGRect),Dt=!!ws&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Io=!ws&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Cr=navigator.platform.indexOf("Mac")===0,Es=navigator.platform.indexOf("Linux")===0;function mn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ae={ie:fs,ielt9:_o,edge:qr,webkit:Ir,android:vo,android23:ps,androidStock:Ua,opera:Mt,chrome:Ht,gecko:Wr,safari:za,phantom:ci,opera12:ki,win:ms,ie3d:wo,webkit3d:gs,gecko3d:Eo,any3d:Ba,mobile:hi,mobileWebkit:_s,mobileWebkit3d:To,msPointer:vs,pointer:Wn,touch:xo,touchNative:Sr,mobileOpera:$r,mobileGecko:Ha,retina:ys,passiveEvents:qa,canvas:di,svg:ws,vml:Io,inlineSvg:Dt,mac:Cr,linux:Es},Jn=Ae.msPointer?"MSPointerDown":"pointerdown",So=Ae.msPointer?"MSPointerMove":"pointermove",Dl=Ae.msPointer?"MSPointerUp":"pointerup",Ts=Ae.msPointer?"MSPointerCancel":"pointercancel",Co={touchstart:Jn,touchmove:So,touchend:Dl,touchcancel:Ts},er={touchstart:Et,touchmove:ko,touchend:ko,touchcancel:ko},tr={},nr=!1;function jl(s,c,p){return c==="touchstart"&&Vl(),er[c]?(p=er[c].bind(this,p),s.addEventListener(Co[c],p,!1),p):(console.warn("wrong event specified:",c),T)}function Wa(s,c,p){if(!Co[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(Co[c],p,!1)}function Po(s){tr[s.pointerId]=s}function bo(s){tr[s.pointerId]&&(tr[s.pointerId]=s)}function Ao(s){delete tr[s.pointerId]}function Vl(){nr||(document.addEventListener(Jn,Po,!0),document.addEventListener(So,bo,!0),document.addEventListener(Dl,Ao,!0),document.addEventListener(Ts,Ao,!0),nr=!0)}function ko(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in tr)c.touches.push(tr[p]);c.changedTouches=[c],s(c)}}function Et(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&wt(c),ko(s,c)}function Fl(s){var c={},p,v;for(v in s)p=s[v],c[v]=p&&p.bind?p.bind(s):p;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var xs=200;function Ri(s,c){s.addEventListener("dblclick",c);var p=0,v;function C(k){if(k.detail!==1){v=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var H=Zr(k);if(!(H.some(function(ne){return ne instanceof HTMLLabelElement&&ne.attributes.for})&&!H.some(function(ne){return ne instanceof HTMLInputElement||ne instanceof HTMLSelectElement}))){var X=Date.now();X-p<=xs?(v++,v===2&&c(Fl(k))):v=1,p=X}}}return s.addEventListener("click",C),{dblclick:c,simDblclick:C}}function rr(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var Is=br(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Li=br(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ni=Li==="webkitTransition"||Li==="OTransition"?Li+"End":"transitionend";function kn(s){return typeof s=="string"?document.getElementById(s):s}function Oi(s,c){var p=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(s,null);p=v?v[c]:null}return p==="auto"?null:p}function He(s,c,p){var v=document.createElement(s);return v.className=c||"",p&&p.appendChild(v),v}function vt(s){var c=s.parentNode;c&&c.removeChild(s)}function Ss(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function fi(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function Pr(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function Mi(s,c){if(s.classList!==void 0)return s.classList.contains(c);var p=ir(s);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Ue(s,c){if(s.classList!==void 0)for(var p=N(c),v=0,C=p.length;v<C;v++)s.classList.add(p[v]);else if(!Mi(s,c)){var k=ir(s);$a(s,(k?k+" ":"")+c)}}function yt(s,c){s.classList!==void 0?s.classList.remove(c):$a(s,b((" "+ir(s)+" ").replace(" "+c+" "," ")))}function $a(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function ir(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function St(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&Cs(s,c)}function Cs(s,c){var p=!1,v="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(v)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):s.style.filter+=" progid:"+v+"(opacity="+c+")"}function br(s){for(var c=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in c)return s[p];return!1}function Rn(s,c,p){var v=c||new ae(0,0);s.style[Is]=(Ae.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(p?" scale("+p+")":"")}function qe(s,c){s._leaflet_pos=c,Ae.any3d?Rn(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function Ln(s){return s._leaflet_pos||new ae(0,0)}var Qe,sr,Ro;if("onselectstart"in document)Qe=function(){Me(window,"selectstart",wt)},sr=function(){ft(window,"selectstart",wt)};else{var Gr=br(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qe=function(){if(Gr){var s=document.documentElement.style;Ro=s[Gr],s[Gr]="none"}},sr=function(){Gr&&(document.documentElement.style[Gr]=Ro,Ro=void 0)}}function Lo(){Me(window,"dragstart",wt)}function No(){ft(window,"dragstart",wt)}var Ps,bs;function or(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(qt(),Ps=s,bs=s.style.outlineStyle,s.style.outlineStyle="none",Me(window,"keydown",qt))}function qt(){Ps&&(Ps.style.outlineStyle=bs,Ps=void 0,bs=void 0,ft(window,"keydown",qt))}function ar(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function $n(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var Di={__proto__:null,TRANSFORM:Is,TRANSITION:Li,TRANSITION_END:Ni,get:kn,getStyle:Oi,create:He,remove:vt,empty:Ss,toFront:fi,toBack:Pr,hasClass:Mi,addClass:Ue,removeClass:yt,setClass:$a,getClass:ir,setOpacity:St,testProp:br,setTransform:Rn,setPosition:qe,getPosition:Ln,get disableTextSelection(){return Qe},get enableTextSelection(){return sr},disableImageDrag:Lo,enableImageDrag:No,preventOutline:or,restoreOutline:qt,getSizedParentNode:ar,getScale:$n};function Me(s,c,p,v){if(c&&typeof c=="object")for(var C in c)Za(s,C,c[C],p);else{c=N(c);for(var k=0,H=c.length;k<H;k++)Za(s,c[k],p,v)}return this}var Qt="_leaflet_events";function ft(s,c,p,v){if(arguments.length===1)Ga(s),delete s[Qt];else if(c&&typeof c=="object")for(var C in c)Oo(s,C,c[C],p);else if(c=N(c),arguments.length===2)Ga(s,function(X){return se(c,X)!==-1});else for(var k=0,H=c.length;k<H;k++)Oo(s,c[k],p,v);return this}function Ga(s,c){for(var p in s[Qt]){var v=p.split(/\d/)[0];(!c||c(v))&&Oo(s,v,null,null,p)}}var gn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Za(s,c,p,v){var C=c+m(p)+(v?"_"+m(v):"");if(s[Qt]&&s[Qt][C])return this;var k=function(X){return p.call(v||s,X||window.event)},H=k;!Ae.touchNative&&Ae.pointer&&c.indexOf("touch")===0?k=jl(s,c,k):Ae.touch&&c==="dblclick"?k=Ri(s,k):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(gn[c]||c,k,Ae.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(k=function(X){X=X||window.event,As(s,X)&&H(X)},s.addEventListener(gn[c],k,!1)):s.addEventListener(c,H,!1):s.attachEvent("on"+c,k),s[Qt]=s[Qt]||{},s[Qt][C]=k}function Oo(s,c,p,v,C){C=C||c+m(p)+(v?"_"+m(v):"");var k=s[Qt]&&s[Qt][C];if(!k)return this;!Ae.touchNative&&Ae.pointer&&c.indexOf("touch")===0?Wa(s,c,k):Ae.touch&&c==="dblclick"?rr(s,k):"removeEventListener"in s?s.removeEventListener(gn[c]||c,k,!1):s.detachEvent("on"+c,k),s[Qt][C]=null}function xn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function pi(s){return Za(s,"wheel",xn),this}function ji(s){return Me(s,"mousedown touchstart dblclick contextmenu",xn),s._leaflet_disable_click=!0,this}function wt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function un(s){return wt(s),xn(s),this}function Zr(s){if(s.composedPath)return s.composedPath();for(var c=[],p=s.target;p;)c.push(p),p=p.parentNode;return c}function mi(s,c){if(!c)return new ae(s.clientX,s.clientY);var p=$n(c),v=p.boundingClientRect;return new ae((s.clientX-v.left)/p.x-c.clientLeft,(s.clientY-v.top)/p.y-c.clientTop)}var Ct=Ae.linux&&Ae.chrome?window.devicePixelRatio:Ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ul(s){return Ae.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Ct:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function As(s,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}var ks={__proto__:null,on:Me,off:ft,stopPropagation:xn,disableScrollPropagation:pi,disableClickPropagation:ji,preventDefault:wt,stop:un,getPropagationPath:Zr,getMousePosition:mi,getWheelDelta:Ul,isExternalTarget:As,addListener:Me,removeListener:ft},Rs=ot.extend({run:function(s,c,p,v){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Ln(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var p=this._startPos.add(this._offset.multiplyBy(s));c&&p._round(),qe(this._el,p),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Xe=ot.extend({options:{crs:Hr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=O(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(xe(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Li&&Ae.any3d&&!Ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,Ni,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(xe(s),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var v=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,p.zoom):this._tryAnimatedPan(s,p.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,p){var v=this.getZoomScale(c),C=this.getSize().divideBy(2),k=s instanceof ae?s:this.latLngToContainerPoint(s),H=k.subtract(C).multiplyBy(1-1/v),X=this.containerPointToLatLng(C.add(H));return this.setView(X,c,{zoom:p})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():Re(s);var p=ue(c.paddingTopLeft||c.padding||[0,0]),v=ue(c.paddingBottomRight||c.padding||[0,0]),C=this.getBoundsZoom(s,!1,p.add(v));if(C=typeof c.maxZoom=="number"?Math.min(c.maxZoom,C):C,C===1/0)return{center:s.getCenter(),zoom:C};var k=v.subtract(p).divideBy(2),H=this.project(s.getSouthWest(),C),X=this.project(s.getNorthEast(),C),ne=this.unproject(H.add(X).divideBy(2).add(k),C);return{center:ne,zoom:C}},fitBounds:function(s,c){if(s=Re(s),!s.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(s,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=ue(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Rs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ue(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,p){if(p=p||{},p.animate===!1||!Ae.any3d)return this.setView(s,c,p);this._stop();var v=this.project(this.getCenter()),C=this.project(s),k=this.getSize(),H=this._zoom;s=xe(s),c=c===void 0?H:c;var X=Math.max(k.x,k.y),ne=X*this.getZoomScale(H,c),he=C.distanceTo(v)||1,ye=1.42,je=ye*ye;function Ze(mt){var ea=mt?-1:1,_p=mt?ne:X,vp=ne*ne-X*X+ea*je*je*he*he,Vs=2*_p*je*he,Fs=vp/Vs,Us=Math.sqrt(Fs*Fs+1)-Fs,eu=Us<1e-9?-18:Math.log(Us);return eu}function cn(mt){return(Math.exp(mt)-Math.exp(-mt))/2}function nn(mt){return(Math.exp(mt)+Math.exp(-mt))/2}function Kn(mt){return cn(mt)/nn(mt)}var Mn=Ze(0);function Xo(mt){return X*(nn(Mn)/nn(Mn+ye*mt))}function uc(mt){return X*(nn(Mn)*Kn(Mn+ye*mt)-cn(Mn))/je}function Bi(mt){return 1-Math.pow(1-mt,1.5)}var Vh=Date.now(),js=(Ze(1)-Mn)/ye,Jr=p.duration?1e3*p.duration:1e3*js*.8;function Jo(){var mt=(Date.now()-Vh)/Jr,ea=Bi(mt)*js;mt<=1?(this._flyToFrame=$(Jo,this),this._move(this.unproject(v.add(C.subtract(v).multiplyBy(uc(ea)/he)),H),this.getScaleZoom(X/Xo(ea),H),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Jo.call(this),this},flyToBounds:function(s,c){var p=this._getBoundsCenterZoom(s,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(s){return s=Re(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var p=this.getCenter(),v=this._limitCenter(p,this._zoom,Re(s));return p.equals(v)||this.panTo(v,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var p=ue(c.paddingTopLeft||c.padding||[0,0]),v=ue(c.paddingBottomRight||c.padding||[0,0]),C=this.project(this.getCenter()),k=this.project(s),H=this.getPixelBounds(),X=oe([H.min.add(p),H.max.subtract(v)]),ne=X.getSize();if(!X.contains(k)){this._enforcingBounds=!0;var he=k.subtract(X.getCenter()),ye=X.extend(k).getSize().subtract(ne);C.x+=he.x<0?-ye.x:ye.x,C.y+=he.y<0?-ye.y:ye.y,this.panTo(this.unproject(C),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=o({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),v=c.divideBy(2).round(),C=p.divideBy(2).round(),k=v.subtract(C);return!k.x&&!k.y?this:(s.animate&&s.pan?this.panBy(k):(s.pan&&this._rawPanBy(k),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=o({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=u(this._handleGeolocationResponse,this),p=u(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,s):navigator.geolocation.getCurrentPosition(c,p,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,p=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,p=s.coords.longitude,v=new Ce(c,p),C=v.toBounds(s.coords.accuracy*2),k=this._locateOptions;if(k.setView){var H=this.getBoundsZoom(C);this.setView(v,k.maxZoom?Math.min(H,k.maxZoom):H)}var X={latlng:v,bounds:C,timestamp:s.timestamp};for(var ne in s.coords)typeof s.coords[ne]=="number"&&(X[ne]=s.coords[ne]);this.fire("locationfound",X)}},addHandler:function(s,c){if(!c)return this;var p=this[s]=new c(this);return this._handlers.push(p),this.options[s]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)vt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var p="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),v=He("div",p,c||this._mapPane);return s&&(this._panes[s]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),p=this.unproject(s.getTopRight());return new Ee(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,p){s=Re(s),p=ue(p||[0,0]);var v=this.getZoom()||0,C=this.getMinZoom(),k=this.getMaxZoom(),H=s.getNorthWest(),X=s.getSouthEast(),ne=this.getSize().subtract(p),he=oe(this.project(X,v),this.project(H,v)).getSize(),ye=Ae.any3d?this.options.zoomSnap:1,je=ne.x/he.x,Ze=ne.y/he.y,cn=c?Math.max(je,Ze):Math.min(je,Ze);return v=this.getScaleZoom(cn,v),ye&&(v=Math.round(v/(ye/100))*(ye/100),v=c?Math.ceil(v/ye)*ye:Math.floor(v/ye)*ye),Math.max(C,Math.min(k,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var p=this._getTopLeftPoint(s,c);return new G(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(s)/p.scale(c)},getScaleZoom:function(s,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var v=p.zoom(s*p.scale(c));return isNaN(v)?1/0:v},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(xe(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(ue(s),c)},layerPointToLatLng:function(s){var c=ue(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(xe(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(xe(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Re(s))},distance:function(s,c){return this.options.crs.distance(xe(s),xe(c))},containerPointToLayerPoint:function(s){return ue(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ue(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(ue(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(s)))},mouseEventToContainerPoint:function(s){return mi(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=kn(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(c,"scroll",this._onScroll,this),this._containerId=m(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ae.any3d,Ue(s,"leaflet-container"+(Ae.touch?" leaflet-touch":"")+(Ae.retina?" leaflet-retina":"")+(Ae.ielt9?" leaflet-oldie":"")+(Ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Oi(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qe(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ue(s.markerPane,"leaflet-zoom-hide"),Ue(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,p){qe(this._mapPane,new ae(0,0));var v=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var C=this._zoom!==c;this._moveStart(C,p)._move(s,c)._moveEnd(C),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,p,v){c===void 0&&(c=this._zoom);var C=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),v?p&&p.pinch&&this.fire("zoom",p):((C||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){qe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[m(this._container)]=this;var c=s?ft:Me;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ae.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var p=[],v,C=c==="mouseout"||c==="mouseover",k=s.target||s.srcElement,H=!1;k;){if(v=this._targets[m(k)],v&&(c==="click"||c==="preclick")&&this._draggableMoved(v)){H=!0;break}if(v&&v.listens(c,!0)&&(C&&!As(k,s)||(p.push(v),C))||k===this._container)break;k=k.parentNode}return!p.length&&!H&&!C&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var p=s.type;p==="mousedown"&&or(c),this._fireDOMEvent(s,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,p){if(s.type==="click"){var v=o({},s);v.type="preclick",this._fireDOMEvent(v,v.type,p)}var C=this._findEventTargets(s,c);if(p){for(var k=[],H=0;H<p.length;H++)p[H].listens(c,!0)&&k.push(p[H]);C=k.concat(C)}if(C.length){c==="contextmenu"&&wt(s);var X=C[0],ne={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var he=X.getLatLng&&(!X._radius||X._radius<=10);ne.containerPoint=he?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(s),ne.layerPoint=this.containerPointToLayerPoint(ne.containerPoint),ne.latlng=he?X.getLatLng():this.layerPointToLatLng(ne.layerPoint)}for(H=0;H<C.length;H++)if(C[H].fire(c,ne,!0),ne.originalEvent._stopped||C[H].options.bubblingMouseEvents===!1&&se(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return Ln(this._mapPane)||new ae(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var p=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var p=this.getSize()._divideBy(2);return this.project(s,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,p){var v=this._getNewPixelOrigin(p,c);return this.project(s,c)._subtract(v)},_latLngBoundsToNewLayerBounds:function(s,c,p){var v=this._getNewPixelOrigin(p,c);return oe([this.project(s.getSouthWest(),c)._subtract(v),this.project(s.getNorthWest(),c)._subtract(v),this.project(s.getSouthEast(),c)._subtract(v),this.project(s.getNorthEast(),c)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,p){if(!p)return s;var v=this.project(s,c),C=this.getSize().divideBy(2),k=new G(v.subtract(C),v.add(C)),H=this._getBoundsOffset(k,p,c);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?s:this.unproject(v.add(H),c)},_limitOffset:function(s,c){if(!c)return s;var p=this.getPixelBounds(),v=new G(p.min.add(s),p.max.add(s));return s.add(this._getBoundsOffset(v,c))},_getBoundsOffset:function(s,c,p){var v=oe(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),C=v.min.subtract(s.min),k=v.max.subtract(s.max),H=this._rebound(C.x,-k.x),X=this._rebound(C.y,-k.y);return new ae(H,X)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),p=this.getMaxZoom(),v=Ae.any3d?this.options.zoomSnap:1;return v&&(s=Math.round(s/v)*v),Math.max(c,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var p=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var s=this._proxy=He("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var p=Is,v=this._proxy.style[p];Rn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),v===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();Rn(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(c),C=this._getCenterOffset(s)._divideBy(1-1/v);return p.animate!==!0&&!this.getSize().contains(C)?!1:($(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,p,v){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,Ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gn(s,c){return new Xe(s,c)}var _n=ct.extend({options:{position:"topright"},initialize:function(s){O(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),p=this.getPosition(),v=s._controlCorners[p];return Ue(c,"leaflet-control"),p.indexOf("bottom")!==-1?v.insertBefore(c,v.firstChild):v.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Jt=function(s){return new _n(s)};Xe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",p=this._controlContainer=He("div",c+"control-container",this._container);function v(C,k){var H=c+C+" "+c+k;s[C+k]=He("div",H,p)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)vt(this._controlCorners[s]);vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mo=_n.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,p,v){return p<v?-1:v<p?1:0}},initialize:function(s,c,p){O(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in s)this._addLayer(s[v],v);for(v in c)this._addLayer(c[v],v,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return _n.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(m(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=He("div",s),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),ji(c),pi(c);var v=this._section=He("section",s+"-list");p&&(this._map.on("click",this.collapse,this),Me(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=He("a",s+"-toggle",c);C.href="#",C.title="Layers",C.setAttribute("role","button"),Me(C,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){wt(k),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=He("div",s+"-base",v),this._separator=He("div",s+"-separator",v),this._overlaysList=He("div",s+"-overlays",v),c.appendChild(v)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&m(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(u(function(v,C){return this.options.sortFunction(v.layer,C.layer,v.name,C.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ss(this._baseLayersList),Ss(this._overlaysList),this._layerControlInputs=[];var s,c,p,v,C=0;for(p=0;p<this._layers.length;p++)v=this._layers[p],this._addItem(v),c=c||v.overlay,s=s||!v.overlay,C+=v.overlay?0:1;return this.options.hideSingleBase&&(s=s&&C>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(m(s.target)),p=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(s,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=p,v.firstChild},_addItem:function(s){var c=document.createElement("label"),p=this._map.hasLayer(s.layer),v;s.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=p):v=this._createRadioElement("leaflet-base-layers_"+m(this),p),this._layerControlInputs.push(v),v.layerId=m(s.layer),Me(v,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+s.name;var k=document.createElement("span");c.appendChild(k),k.appendChild(v),k.appendChild(C);var H=s.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,p,v=[],C=[];this._handlingClick=!0;for(var k=s.length-1;k>=0;k--)c=s[k],p=this._getLayer(c.layerId).layer,c.checked?v.push(p):c.checked||C.push(p);for(k=0;k<C.length;k++)this._map.hasLayer(C[k])&&this._map.removeLayer(C[k]);for(k=0;k<v.length;k++)this._map.hasLayer(v[k])||this._map.addLayer(v[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,p,v=this._map.getZoom(),C=s.length-1;C>=0;C--)c=s[C],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&v<p.options.minZoom||p.options.maxZoom!==void 0&&v>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Me(s,"click",wt),this.expand();var c=this;setTimeout(function(){ft(s,"click",wt),c._preventClick=!1})}}),Do=function(s,c,p){return new Mo(s,c,p)},lr=_n.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",p=He("div",c+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,p,v,C){var k=He("a",p,v);return k.innerHTML=s,k.href="#",k.title=c,k.setAttribute("role","button"),k.setAttribute("aria-label",c),ji(k),Me(k,"click",un),Me(k,"click",C,this),Me(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";yt(this._zoomInButton,c),yt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ue(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ue(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lr,this.addControl(this.zoomControl))});var Ka=function(s){return new lr(s)},en=_n.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",p=He("div",c),v=this.options;return this._addScales(v,c+"-line",p),s.on(v.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,p){s.metric&&(this._mScale=He("div",c,p)),s.imperial&&(this._iScale=He("div",c,p))},_update:function(){var s=this._map,c=s.getSize().y/2,p=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/s)},_updateImperial:function(s){var c=s*3.2808399,p,v,C;c>5280?(p=c/5280,v=this._getRoundNum(p),this._updateScale(this._iScale,v+" mi",v/p)):(C=this._getRoundNum(c),this._updateScale(this._iScale,C+" ft",C/c))},_updateScale:function(s,c,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),p=s/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Ar=function(s){return new en(s)},jo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ur=_n.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ae.inlineSvg?jo+" ":"")+"Leaflet</a>"},initialize:function(s){O(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=He("div","leaflet-control-attribution"),ji(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),s.length&&p.push(s.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&new ur().addTo(this)});var Yu=function(s){return new ur(s)};_n.Layers=Mo,_n.Zoom=lr,_n.Scale=en,_n.Attribution=ur,Jt.layers=Do,Jt.zoom=Ka,Jt.scale=Ar,Jt.attribution=Yu;var In=ct.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});In.addTo=function(s,c){return s.addHandler(c,this),this};var gi={Events:dt},_i=Ae.touch?"touchstart mousedown":"mousedown",Nn=ot.extend({options:{clickTolerance:3},initialize:function(s,c,p,v){O(this,v),this._element=s,this._dragStartTarget=c||s,this._preventOutline=p},enable:function(){this._enabled||(Me(this._dragStartTarget,_i,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Nn._dragging===this&&this.finishDrag(!0),ft(this._dragStartTarget,_i,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Mi(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Nn._dragging===this&&this.finishDrag();return}if(!(Nn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Nn._dragging=this,this._preventOutline&&or(this._element),Lo(),Qe(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,p=ar(this._element);this._startPoint=new ae(c.clientX,c.clientY),this._startPos=Ln(this._element),this._parentScale=$n(p);var v=s.type==="mousedown";Me(document,v?"mousemove":"touchmove",this._onMove,this),Me(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,p=new ae(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,wt(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ue(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),qe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){yt(document.body,"leaflet-dragging"),this._lastTarget&&(yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ft(document,"mousemove touchmove",this._onMove,this),ft(document,"mouseup touchend touchcancel",this._onUp,this),No(),sr();var c=this._moved&&this._moving;this._moving=!1,Nn._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Ls(s,c,p){var v,C=[1,4,2,8],k,H,X,ne,he,ye,je,Ze;for(k=0,ye=s.length;k<ye;k++)s[k]._code=Kr(s[k],c);for(X=0;X<4;X++){for(je=C[X],v=[],k=0,ye=s.length,H=ye-1;k<ye;H=k++)ne=s[k],he=s[H],ne._code&je?he._code&je||(Ze=tn(he,ne,je,c,p),Ze._code=Kr(Ze,c),v.push(Ze)):(he._code&je&&(Ze=tn(he,ne,je,c,p),Ze._code=Kr(Ze,c),v.push(Ze)),v.push(ne));s=v}return s}function Vo(s,c){var p,v,C,k,H,X,ne,he,ye;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var je=xe([0,0]),Ze=Re(s),cn=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());cn<1700&&(je=Fo(s));var nn=s.length,Kn=[];for(p=0;p<nn;p++){var Mn=xe(s[p]);Kn.push(c.project(xe([Mn.lat-je.lat,Mn.lng-je.lng])))}for(X=ne=he=0,p=0,v=nn-1;p<nn;v=p++)C=Kn[p],k=Kn[v],H=C.y*k.x-k.y*C.x,ne+=(C.x+k.x)*H,he+=(C.y+k.y)*H,X+=H*3;X===0?ye=Kn[0]:ye=[ne/X,he/X];var Xo=c.unproject(ue(ye));return xe([Xo.lat+je.lat,Xo.lng+je.lng])}function Fo(s){for(var c=0,p=0,v=0,C=0;C<s.length;C++){var k=xe(s[C]);c+=k.lat,p+=k.lng,v++}return xe([c/v,p/v])}var Uo={__proto__:null,clipPolygon:Ls,polygonCenter:Vo,centroid:Fo};function Ns(s,c){if(!c||!s.length)return s.slice();var p=c*c;return s=Bl(s,p),s=zl(s,p),s}function Qa(s,c,p){return Math.sqrt(On(s,c,p,!0))}function vi(s,c,p){return On(s,c,p)}function zl(s,c){var p=s.length,v=typeof Uint8Array<"u"?Uint8Array:Array,C=new v(p);C[0]=C[p-1]=1,zo(s,C,c,0,p-1);var k,H=[];for(k=0;k<p;k++)C[k]&&H.push(s[k]);return H}function zo(s,c,p,v,C){var k=0,H,X,ne;for(X=v+1;X<=C-1;X++)ne=On(s[X],s[v],s[C],!0),ne>k&&(H=X,k=ne);k>p&&(c[H]=1,zo(s,c,p,v,H),zo(s,c,p,H,C))}function Bl(s,c){for(var p=[s[0]],v=1,C=0,k=s.length;v<k;v++)Hl(s[v],s[C])>c&&(p.push(s[v]),C=v);return C<k-1&&p.push(s[k-1]),p}var Bo;function Os(s,c,p,v,C){var k=v?Bo:Kr(s,p),H=Kr(c,p),X,ne,he;for(Bo=H;;){if(!(k|H))return[s,c];if(k&H)return!1;X=k||H,ne=tn(s,c,X,p,C),he=Kr(ne,p),X===k?(s=ne,k=he):(c=ne,H=he)}}function tn(s,c,p,v,C){var k=c.x-s.x,H=c.y-s.y,X=v.min,ne=v.max,he,ye;return p&8?(he=s.x+k*(ne.y-s.y)/H,ye=ne.y):p&4?(he=s.x+k*(X.y-s.y)/H,ye=X.y):p&2?(he=ne.x,ye=s.y+H*(ne.x-s.x)/k):p&1&&(he=X.x,ye=s.y+H*(X.x-s.x)/k),new ae(he,ye,C)}function Kr(s,c){var p=0;return s.x<c.min.x?p|=1:s.x>c.max.x&&(p|=2),s.y<c.min.y?p|=4:s.y>c.max.y&&(p|=8),p}function Hl(s,c){var p=c.x-s.x,v=c.y-s.y;return p*p+v*v}function On(s,c,p,v){var C=c.x,k=c.y,H=p.x-C,X=p.y-k,ne=H*H+X*X,he;return ne>0&&(he=((s.x-C)*H+(s.y-k)*X)/ne,he>1?(C=p.x,k=p.y):he>0&&(C+=H*he,k+=X*he)),H=s.x-C,X=s.y-k,v?H*H+X*X:new ae(C,k)}function f(s){return!ee(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function x(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(s)}function P(s,c){var p,v,C,k,H,X,ne,he;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ye=xe([0,0]),je=Re(s),Ze=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());Ze<1700&&(ye=Fo(s));var cn=s.length,nn=[];for(p=0;p<cn;p++){var Kn=xe(s[p]);nn.push(c.project(xe([Kn.lat-ye.lat,Kn.lng-ye.lng])))}for(p=0,v=0;p<cn-1;p++)v+=nn[p].distanceTo(nn[p+1])/2;if(v===0)he=nn[0];else for(p=0,k=0;p<cn-1;p++)if(H=nn[p],X=nn[p+1],C=H.distanceTo(X),k+=C,k>v){ne=(k-v)/C,he=[X.x-ne*(X.x-H.x),X.y-ne*(X.y-H.y)];break}var Mn=c.unproject(ue(he));return xe([Mn.lat+ye.lat,Mn.lng+ye.lng])}var R={__proto__:null,simplify:Ns,pointToSegmentDistance:Qa,closestPointOnSegment:vi,clipSegment:Os,_getEdgeIntersection:tn,_getBitCode:Kr,_sqClosestPointOnSegment:On,isFlat:f,_flat:x,polylineCenter:P},Y={project:function(s){return new ae(s.lng,s.lat)},unproject:function(s){return new Ce(s.y,s.x)},bounds:new G([-180,-90],[180,90])},ie={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,p=this.R,v=s.lat*c,C=this.R_MINOR/p,k=Math.sqrt(1-C*C),H=k*Math.sin(v),X=Math.tan(Math.PI/4-v/2)/Math.pow((1-H)/(1+H),k/2);return v=-p*Math.log(Math.max(X,1e-10)),new ae(s.lng*c*p,v)},unproject:function(s){for(var c=180/Math.PI,p=this.R,v=this.R_MINOR/p,C=Math.sqrt(1-v*v),k=Math.exp(-s.y/p),H=Math.PI/2-2*Math.atan(k),X=0,ne=.1,he;X<15&&Math.abs(ne)>1e-7;X++)he=C*Math.sin(H),he=Math.pow((1-he)/(1+he),C/2),ne=Math.PI/2-2*Math.atan(k*he)-H,H+=ne;return new Ce(H*c,s.x*c/p)}},ve={__proto__:null,LonLat:Y,Mercator:ie,SphericalMercator:Bt},ht=o({},Ye,{code:"EPSG:3395",projection:ie,transformation:function(){var s=.5/(Math.PI*ie.R);return Br(s,.5,-s,.5)}()}),Wt=o({},Ye,{code:"EPSG:4326",projection:Y,transformation:Br(1/180,1,-1/180,.5)}),rt=o({},Ke,{projection:Y,transformation:Br(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var p=c.lng-s.lng,v=c.lat-s.lat;return Math.sqrt(p*p+v*v)},infinite:!0});Ke.Earth=Ye,Ke.EPSG3395=ht,Ke.EPSG3857=Hr,Ke.EPSG900913=cs,Ke.EPSG4326=Wt,Ke.Simple=rt;var pt=ot.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[m(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[m(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=m(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=m(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return m(s)in this._layers},eachLayer:function(s,c){for(var p in this._layers)s.call(c,this._layers[p]);return this},_addLayers:function(s){s=s?ee(s)?s:[s]:[];for(var c=0,p=s.length;c<p;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[m(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=m(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,p=this._getZoomSpan();for(var v in this._zoomBoundLayers){var C=this._zoomBoundLayers[v].options;s=C.minZoom===void 0?s:Math.min(s,C.minZoom),c=C.maxZoom===void 0?c:Math.max(c,C.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var It=pt.extend({initialize:function(s,c){O(this,c),this._layers={};var p,v;if(s)for(p=0,v=s.length;p<v;p++)this.addLayer(s[p])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),p,v;for(p in this._layers)v=this._layers[p],v[s]&&v[s].apply(v,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var p in this._layers)s.call(c,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return m(s)}}),cr=function(s,c){return new It(s,c)},jt=It.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),It.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),It.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ee;for(var c in this._layers){var p=this._layers[c];s.extend(p.getBounds?p.getBounds():p.getLatLng())}return s}}),Ms=function(s,c){return new jt(s,c)},kr=ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){O(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var p=this._getIconUrl(s);if(!p){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(v,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(s,c){var p=this.options,v=p[c+"Size"];typeof v=="number"&&(v=[v,v]);var C=ue(v),k=ue(c==="shadow"&&p.shadowAnchor||p.iconAnchor||C&&C.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(p.className||""),k&&(s.style.marginLeft=-k.x+"px",s.style.marginTop=-k.y+"px"),C&&(s.style.width=C.x+"px",s.style.height=C.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return Ae.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Ph(s){return new kr(s)}var Ho=kr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Ho.imagePath!="string"&&(Ho.imagePath=this._detectIconPath()),(this.options.imagePath||Ho.imagePath)+kr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(p,v,C){var k=v.exec(p);return k&&k[C]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=He("div","leaflet-default-icon-path",document.body),c=Oi(s,"background-image")||Oi(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Xu=In.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Nn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ue(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,p=c._map,v=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,k=Ln(c._icon),H=p.getPixelBounds(),X=p.getPixelOrigin(),ne=oe(H.min._subtract(X).add(C),H.max._subtract(X).subtract(C));if(!ne.contains(k)){var he=ue((Math.max(ne.max.x,k.x)-ne.max.x)/(H.max.x-ne.max.x)-(Math.min(ne.min.x,k.x)-ne.min.x)/(H.min.x-ne.min.x),(Math.max(ne.max.y,k.y)-ne.max.y)/(H.max.y-ne.max.y)-(Math.min(ne.min.y,k.y)-ne.min.y)/(H.min.y-ne.min.y)).multiplyBy(v);p.panBy(he,{animate:!1}),this._draggable._newPos._add(he),this._draggable._startPos._add(he),qe(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=$(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,p=c._shadow,v=Ln(c._icon),C=c._map.layerPointToLatLng(v);p&&qe(p,v),c._latlng=C,s.latlng=C,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),yi=pt.extend({options:{icon:new Ho,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){O(this,c),this._latlng=xe(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=xe(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=s.icon.createIcon(this._icon),v=!1;p!==this._icon&&(this._icon&&this._removeIcon(),v=!0,s.title&&(p.title=s.title),p.tagName==="IMG"&&(p.alt=s.alt||"")),Ue(p,c),s.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(p,"focus",this._panOnFocus,this);var C=s.icon.createShadow(this._shadow),k=!1;C!==this._shadow&&(this._removeShadow(),k=!0),C&&(Ue(C,c),C.alt=""),this._shadow=C,s.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&k&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(this._icon,"focus",this._panOnFocus,this),vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&qe(this._icon,s),this._shadow&&qe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&St(this._icon,s),this._shadow&&St(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,p=c.iconSize?ue(c.iconSize):ue(0,0),v=c.iconAnchor?ue(c.iconAnchor):ue(0,0);s.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:p.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fp(s,c){return new yi(s,c)}var Vi=pt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return O(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ql=Vi.extend({options:{fill:!0,radius:10},initialize:function(s,c){O(this,c),this._latlng=xe(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=xe(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return Vi.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,p=this._clickTolerance(),v=[s+p,c+p];this._pxBounds=new G(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bh(s,c){return new ql(s,c)}var Wl=ql.extend({initialize:function(s,c,p){if(typeof c=="number"&&(c=o({},p,{radius:c})),O(this,c),this._latlng=xe(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Vi.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,p=this._map,v=p.options.crs;if(v.distance===Ye.distance){var C=Math.PI/180,k=this._mRadius/Ye.R/C,H=p.project([c+k,s]),X=p.project([c-k,s]),ne=H.add(X).divideBy(2),he=p.unproject(ne).lat,ye=Math.acos((Math.cos(k*C)-Math.sin(c*C)*Math.sin(he*C))/(Math.cos(c*C)*Math.cos(he*C)))/C;(isNaN(ye)||ye===0)&&(ye=k/Math.cos(Math.PI/180*c)),this._point=ne.subtract(p.getPixelOrigin()),this._radius=isNaN(ye)?0:ne.x-p.project([he,s-ye]).x,this._radiusY=ne.y-H.y}else{var je=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(je).x}this._updateBounds()}});function Ya(s,c,p){return new Wl(s,c,p)}var Zn=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){O(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,p=null,v=On,C,k,H=0,X=this._parts.length;H<X;H++)for(var ne=this._parts[H],he=1,ye=ne.length;he<ye;he++){C=ne[he-1],k=ne[he];var je=v(s,C,k,!0);je<c&&(c=je,p=v(s,C,k))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return P(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=xe(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ee,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],p=f(s),v=0,C=s.length;v<C;v++)p?(c[v]=xe(s[v]),this._bounds.extend(c[v])):c[v]=this._convertLatLngs(s[v]);return c},_project:function(){var s=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new ae(s,s);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,p){var v=s[0]instanceof Ce,C=s.length,k,H;if(v){for(H=[],k=0;k<C;k++)H[k]=this._map.latLngToLayerPoint(s[k]),p.extend(H[k]);c.push(H)}else for(k=0;k<C;k++)this._projectLatlngs(s[k],c,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,v,C,k,H,X,ne;for(p=0,C=0,k=this._rings.length;p<k;p++)for(ne=this._rings[p],v=0,H=ne.length;v<H-1;v++)X=Os(ne[v],ne[v+1],s,v,!0),X&&(c[C]=c[C]||[],c[C].push(X[0]),(X[1]!==ne[v+1]||v===H-2)&&(c[C].push(X[1]),C++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,p=0,v=s.length;p<v;p++)s[p]=Ns(s[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var p,v,C,k,H,X,ne=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(p=0,k=this._parts.length;p<k;p++)for(X=this._parts[p],v=0,H=X.length,C=H-1;v<H;C=v++)if(!(!c&&v===0)&&Qa(s,X[C],X[v])<=ne)return!0;return!1}});function pp(s,c){return new Zn(s,c)}Zn._flat=x;var wi=Zn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=Zn.prototype._convertLatLngs.call(this,s),p=c.length;return p>=2&&c[0]instanceof Ce&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(s){Zn.prototype._setLatLngs.call(this,s),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,p=new ae(c,c);if(s=new G(s.min.subtract(p),s.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,C=this._rings.length,k;v<C;v++)k=Ls(this._rings[v],s,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,p,v,C,k,H,X,ne,he;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(k=0,ne=this._parts.length;k<ne;k++)for(p=this._parts[k],H=0,he=p.length,X=he-1;H<he;X=H++)v=p[H],C=p[X],v.y>s.y!=C.y>s.y&&s.x<(C.x-v.x)*(s.y-v.y)/(C.y-v.y)+v.x&&(c=!c);return c||Zn.prototype._containsPoint.call(this,s,!0)}});function mp(s,c){return new wi(s,c)}var Qr=jt.extend({initialize:function(s,c){O(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=ee(s)?s:s.features,p,v,C;if(c){for(p=0,v=c.length;p<v;p++)C=c[p],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var k=this.options;if(k.filter&&!k.filter(s))return this;var H=qo(s,k);return H?(H.feature=Ql(s),H.defaultOptions=H.options,this.resetStyle(H),k.onEachFeature&&k.onEachFeature(s,H),this.addLayer(H)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=o({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function qo(s,c){var p=s.type==="Feature"?s.geometry:s,v=p?p.coordinates:null,C=[],k=c&&c.pointToLayer,H=c&&c.coordsToLatLng||Gl,X,ne,he,ye;if(!v&&!p)return null;switch(p.type){case"Point":return X=H(v),$l(k,s,X,c);case"MultiPoint":for(he=0,ye=v.length;he<ye;he++)X=H(v[he]),C.push($l(k,s,X,c));return new jt(C);case"LineString":case"MultiLineString":return ne=Xa(v,p.type==="LineString"?0:1,H),new Zn(ne,c);case"Polygon":case"MultiPolygon":return ne=Xa(v,p.type==="Polygon"?1:2,H),new wi(ne,c);case"GeometryCollection":for(he=0,ye=p.geometries.length;he<ye;he++){var je=qo({geometry:p.geometries[he],type:"Feature",properties:s.properties},c);je&&C.push(je)}return new jt(C);case"FeatureCollection":for(he=0,ye=p.features.length;he<ye;he++){var Ze=qo(p.features[he],c);Ze&&C.push(Ze)}return new jt(C);default:throw new Error("Invalid GeoJSON object.")}}function $l(s,c,p,v){return s?s(c,p):new yi(p,v&&v.markersInheritOptions&&v)}function Gl(s){return new Ce(s[1],s[0],s[2])}function Xa(s,c,p){for(var v=[],C=0,k=s.length,H;C<k;C++)H=c?Xa(s[C],c-1,p):(p||Gl)(s[C]),v.push(H);return v}function Zl(s,c){return s=xe(s),s.alt!==void 0?[S(s.lng,c),S(s.lat,c),S(s.alt,c)]:[S(s.lng,c),S(s.lat,c)]}function Kl(s,c,p,v){for(var C=[],k=0,H=s.length;k<H;k++)C.push(c?Kl(s[k],f(s[k])?0:c-1,p,v):Zl(s[k],v));return!c&&p&&C.length>0&&C.push(C[0].slice()),C}function Wo(s,c){return s.feature?o({},s.feature,{geometry:c}):Ql(c)}function Ql(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ju={toGeoJSON:function(s){return Wo(this,{type:"Point",coordinates:Zl(this.getLatLng(),s)})}};yi.include(Ju),Wl.include(Ju),ql.include(Ju),Zn.include({toGeoJSON:function(s){var c=!f(this._latlngs),p=Kl(this._latlngs,c?1:0,!1,s);return Wo(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),wi.include({toGeoJSON:function(s){var c=!f(this._latlngs),p=c&&!f(this._latlngs[0]),v=Kl(this._latlngs,p?2:c?1:0,!0,s);return c||(v=[v]),Wo(this,{type:(p?"Multi":"")+"Polygon",coordinates:v})}}),It.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(s).geometry.coordinates)}),Wo(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var p=c==="GeometryCollection",v=[];return this.eachLayer(function(C){if(C.toGeoJSON){var k=C.toGeoJSON(s);if(p)v.push(k.geometry);else{var H=Ql(k);H.type==="FeatureCollection"?v.push.apply(v,H.features):v.push(H)}}}),p?Wo(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function Ah(s,c){return new Qr(s,c)}var Rr=Ah,Fi=pt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,p){this._url=s,this._bounds=Re(c),O(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&fi(this._image),this},bringToBack:function(){return this._map&&Pr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Re(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:He("img");if(Ue(c,"leaflet-image-layer"),this._zoomAnimated&&Ue(c,"leaflet-zoom-animated"),this.options.className&&Ue(c,this.options.className),c.onselectstart=T,c.onmousemove=T,c.onload=u(this.fire,this,"load"),c.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Rn(this._image,p,c)},_reset:function(){var s=this._image,c=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();qe(s,c.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),kh=function(s,c,p){return new Fi(s,c,p)},ec=Fi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:He("video");if(Ue(c,"leaflet-image-layer"),this._zoomAnimated&&Ue(c,"leaflet-zoom-animated"),this.options.className&&Ue(c,this.options.className),c.onselectstart=T,c.onmousemove=T,c.onloadeddata=u(this.fire,this,"load"),s){for(var p=c.getElementsByTagName("source"),v=[],C=0;C<p.length;C++)v.push(p[C].src);this._url=p.length>0?v:[c.src];return}ee(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var H=He("source");H.src=this._url[k],c.appendChild(H)}}});function Rh(s,c,p){return new ec(s,c,p)}var tc=Fi.extend({_initImage:function(){var s=this._image=this._url;Ue(s,"leaflet-image-layer"),this._zoomAnimated&&Ue(s,"leaflet-zoom-animated"),this.options.className&&Ue(s,this.options.className),s.onselectstart=T,s.onmousemove=T}});function nc(s,c,p){return new tc(s,c,p)}var Yr=pt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof Ce||ee(s))?(this._latlng=xe(s),O(this,c)):(O(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(u(vt,void 0,this._container),200)):vt(this._container),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=xe(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fi(this._container),this},bringToBack:function(){return this._map&&Pr(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof jt){c=null;var p=this._source._layers;for(var v in p)if(p[v]._map){c=p[v];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=ue(this.options.offset),p=this._getAnchor();this._zoomAnimated?qe(this._container,s.add(p)):c=c.add(s).add(p);var v=this._containerBottom=-c.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=v+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(s,c,p,v){var C=c;return C instanceof s||(C=new s(v).setContent(c)),p&&C.setLatLng(p),C}}),pt.include({_initOverlay:function(s,c,p,v){var C=p;return C instanceof s?(O(C,v),C._source=this):(C=c&&!v?c:new s(v,this),C.setContent(p)),C}});var Yl=Yr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Yr.prototype.openOn.call(this,s)},onAdd:function(s){Yr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",xn))},onRemove:function(s){Yr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",xn))},getEvents:function(){var s=Yr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=He("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=He("div",s+"-content-wrapper",c);if(this._contentNode=He("div",s+"-content",p),ji(c),pi(this._contentNode),Me(c,"contextmenu",xn),this._tipContainer=He("div",s+"-tip-container",c),this._tip=He("div",s+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=He("a",s+"-close-button",c);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Me(v,"click",function(C){wt(C),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var p=s.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var v=s.offsetHeight,C=this.options.maxHeight,k="leaflet-popup-scrolled";C&&v>C?(c.height=C+"px",Ue(s,k)):yt(s,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),p=this._getAnchor();qe(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(Oi(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,v=this._containerWidth,C=new ae(this._containerLeft,-p-this._containerBottom);C._add(Ln(this._container));var k=s.layerPointToContainerPoint(C),H=ue(this.options.autoPanPadding),X=ue(this.options.autoPanPaddingTopLeft||H),ne=ue(this.options.autoPanPaddingBottomRight||H),he=s.getSize(),ye=0,je=0;k.x+v+ne.x>he.x&&(ye=k.x+v-he.x+ne.x),k.x-ye-X.x<0&&(ye=k.x-X.x),k.y+p+ne.y>he.y&&(je=k.y+p-he.y+ne.y),k.y-je-X.y<0&&(je=k.y-X.y),(ye||je)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ye,je]))}},_getAnchor:function(){return ue(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$o=function(s,c){return new Yl(s,c)};Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(s,c,p){return this._initOverlay(Yl,s,c,p).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),pt.include({bindPopup:function(s,c){return this._popup=this._initOverlay(Yl,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof jt||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){un(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Go=Yr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Yr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Yr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Yr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=He("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,p,v=this._map,C=this._container,k=v.latLngToContainerPoint(v.getCenter()),H=v.layerPointToContainerPoint(s),X=this.options.direction,ne=C.offsetWidth,he=C.offsetHeight,ye=ue(this.options.offset),je=this._getAnchor();X==="top"?(c=ne/2,p=he):X==="bottom"?(c=ne/2,p=0):X==="center"?(c=ne/2,p=he/2):X==="right"?(c=0,p=he/2):X==="left"?(c=ne,p=he/2):H.x<k.x?(X="right",c=0,p=he/2):(X="left",c=ne+(ye.x+je.x)*2,p=he/2),s=s.subtract(ue(c,p,!0)).add(ye).add(je),yt(C,"leaflet-tooltip-right"),yt(C,"leaflet-tooltip-left"),yt(C,"leaflet-tooltip-top"),yt(C,"leaflet-tooltip-bottom"),Ue(C,"leaflet-tooltip-"+X),qe(C,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&St(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return ue(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ja=function(s,c){return new Go(s,c)};Xe.include({openTooltip:function(s,c,p){return this._initOverlay(Go,s,c,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),pt.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Go,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof jt||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&(Me(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Me(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,p,v;this._tooltip.options.sticky&&s.originalEvent&&(p=this._map.mouseEventToContainerPoint(s.originalEvent),v=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(c)}});var Xl=kr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ss(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var v=ue(p.bgPos);c.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Lh(s){return new Xl(s)}kr.Default=Ho;var Ui=pt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){O(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),vt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Pr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ae?s:new ae(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,p=-s(-1/0,1/0),v=0,C=c.length,k;v<C;v++)k=c[v].style.zIndex,c[v]!==this._container&&k&&(p=s(p,+k));isFinite(p)&&(this.options.zIndex=p+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ae.ielt9){St(this._container,this.options.opacity);var s=+new Date,c=!1,p=!1;for(var v in this._tiles){var C=this._tiles[v];if(!(!C.current||!C.loaded)){var k=Math.min(1,(s-C.loaded)/200);St(C.el,k),k<1?c=!0:(C.active?p=!0:this._onOpaqueTile(C),C.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(Q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=He("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=c-Math.abs(s-p),this._onUpdateLevel(p)):(vt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var v=this._levels[s],C=this._map;return v||(v=this._levels[s]={},v.el=He("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=c,v.origin=C.project(C.unproject(C.getPixelOrigin()),s).round(),v.zoom=s,this._setZoomTransform(v,C.getCenter(),C.getZoom()),T(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var s,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var v=c.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)vt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,p,v){var C=Math.floor(s/2),k=Math.floor(c/2),H=p-1,X=new ae(+C,+k);X.z=+H;var ne=this._tileCoordsToKey(X),he=this._tiles[ne];return he&&he.active?(he.retain=!0,!0):(he&&he.loaded&&(he.retain=!0),H>v?this._retainParent(C,k,H,v):!1)},_retainChildren:function(s,c,p,v){for(var C=2*s;C<2*s+2;C++)for(var k=2*c;k<2*c+2;k++){var H=new ae(C,k);H.z=p+1;var X=this._tileCoordsToKey(H),ne=this._tiles[X];if(ne&&ne.active){ne.retain=!0;continue}else ne&&ne.loaded&&(ne.retain=!0);p+1<v&&this._retainChildren(C,k,p+1,v)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,p,v){var C=Math.round(c);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var k=this.options.updateWhenZooming&&C!==this._tileZoom;(!v||k)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,c)},_setZoomTransform:function(s,c,p){var v=this._map.getZoomScale(p,s.zoom),C=s.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(c,p)).round();Ae.any3d?Rn(s.el,C,v):qe(s.el,C)},_resetGrid:function(){var s=this._map,c=s.options.crs,p=this._tileSize=this.getTileSize(),v=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],v).x/p.x),Math.ceil(s.project([0,c.wrapLng[1]],v).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],v).y/p.x),Math.ceil(s.project([c.wrapLat[1],0],v).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),v=c.getZoomScale(p,this._tileZoom),C=c.project(s,this._tileZoom).floor(),k=c.getSize().divideBy(v*2);return new G(C.subtract(k),C.add(k))},_update:function(s){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(s),C=this._pxBoundsToTileRange(v),k=C.getCenter(),H=[],X=this.options.keepBuffer,ne=new G(C.getBottomLeft().subtract([X,-X]),C.getTopRight().add([X,-X]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var he in this._tiles){var ye=this._tiles[he].coords;(ye.z!==this._tileZoom||!ne.contains(new ae(ye.x,ye.y)))&&(this._tiles[he].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(s,p);return}for(var je=C.min.y;je<=C.max.y;je++)for(var Ze=C.min.x;Ze<=C.max.x;Ze++){var cn=new ae(Ze,je);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var nn=this._tiles[this._tileCoordsToKey(cn)];nn?nn.current=!0:H.push(cn)}}if(H.sort(function(Mn,Xo){return Mn.distanceTo(k)-Xo.distanceTo(k)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Kn=document.createDocumentFragment();for(Ze=0;Ze<H.length;Ze++)this._addTile(H[Ze],Kn);this._level.el.appendChild(Kn)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!c.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(s);return Re(this.options.bounds).overlaps(v)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,p=this.getTileSize(),v=s.scaleBy(p),C=v.add(p),k=c.unproject(v,s.z),H=c.unproject(C,s.z);return[k,H]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),p=new Ee(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),p=new ae(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(s){var c=this._tiles[s];c&&(vt(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ue(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=T,s.onmousemove=T,Ae.ielt9&&this.options.opacity<1&&St(s,this.options.opacity)},_addTile:function(s,c){var p=this._getTilePos(s),v=this._tileCoordsToKey(s),C=this.createTile(this._wrapCoords(s),u(this._tileReady,this,s));this._initTile(C),this.createTile.length<2&&$(u(this._tileReady,this,s,null,C)),qe(C,p),this._tiles[v]={el:C,coords:s,current:!0},c.appendChild(C),this.fire("tileloadstart",{tile:C,coords:s})},_tileReady:function(s,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:s});var v=this._tileCoordsToKey(s);p=this._tiles[v],p&&(p.loaded=+new Date,this._map._fadeAnimated?(St(p.el,0),Q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Ue(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ae.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new ae(this._wrapX?w(s.x,this._wrapX):s.x,this._wrapY?w(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new G(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Zo(s){return new Ui(s)}var zi=Ui.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=O(this,c),c.detectRetina&&Ae.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var p=document.createElement("img");return Me(p,"load",u(this._tileOnLoad,this,c,p)),Me(p,"error",u(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var c={r:Ae.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=p),c["-y"]=p}return K(this._url,o(c,this.options))},_tileOnLoad:function(s,c){Ae.ielt9?setTimeout(u(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,p){var v=this.options.errorTileUrl;v&&c.getAttribute("src")!==v&&(c.src=v),s(p,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,v=this.options.zoomOffset;return p&&(s=c-s),s+v},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=T,c.onerror=T,!c.complete)){c.src=me;var p=this._tiles[s].coords;vt(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",me),Ui.prototype._removeTile.call(this,s)},_tileReady:function(s,c,p){if(!(!this._map||p&&p.getAttribute("src")===me))return Ui.prototype._tileReady.call(this,s,c,p)}});function rc(s,c){return new zi(s,c)}var el=zi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var p=o({},this.defaultWmsParams);for(var v in c)v in this.options||(p[v]=c[v]);c=O(this,c);var C=c.detectRetina&&Ae.retina?2:1,k=this.getTileSize();p.width=k.x*C,p.height=k.y*C,this.wmsParams=p},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,zi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),p=this._crs,v=oe(p.project(c[0]),p.project(c[1])),C=v.min,k=v.max,H=(this._wmsVersion>=1.3&&this._crs===Wt?[C.y,C.x,k.y,k.x]:[C.x,C.y,k.x,k.y]).join(","),X=zi.prototype.getTileUrl.call(this,s);return X+j(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(s,c){return o(this.wmsParams,s),c||this.redraw(),this}});function Nh(s,c){return new el(s,c)}zi.WMS=el,rc.wms=Nh;var Xr=pt.extend({options:{padding:.1},initialize:function(s){O(this,s),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var p=this._map.getZoomScale(c,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,c),k=v.multiplyBy(-p).add(C).subtract(this._map._getNewPixelOrigin(s,c));Ae.any3d?Rn(this._container,k,p):qe(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new G(p,p.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ic=Xr.extend({options:{tolerance:0},getEvents:function(){var s=Xr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Me(s,"mousemove",this._onMouseMove,this),Me(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,vt(this._container),ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xr.prototype._update.call(this);var s=this._bounds,c=this._container,p=s.getSize(),v=Ae.retina?2:1;qe(c,s.min),c.width=v*p.x,c.height=v*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Xr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[m(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,p=c.next,v=c.prev;p?p.prev=v:this._drawLast=v,v?v.next=p:this._drawFirst=p,delete s._order,delete this._layers[m(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),p=[],v,C;for(C=0;C<c.length;C++){if(v=Number(c[C]),isNaN(v))return;p.push(v)}s.options._dashArray=p}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)s=v.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var p,v,C,k,H=s._parts,X=H.length,ne=this._ctx;if(X){for(ne.beginPath(),p=0;p<X;p++){for(v=0,C=H[p].length;v<C;v++)k=H[p][v],ne[v?"lineTo":"moveTo"](k.x,k.y);c&&ne.closePath()}this._fillStroke(ne,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,p=this._ctx,v=Math.max(Math.round(s._radius),1),C=(Math.max(Math.round(s._radiusY),1)||v)/v;C!==1&&(p.save(),p.scale(1,C)),p.beginPath(),p.arc(c.x,c.y/C,v,0,Math.PI*2,!1),C!==1&&p.restore(),this._fillStroke(p,s)}},_fillStroke:function(s,c){var p=c.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),p,v,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(p))&&(v=p);this._fireEvent(v?[v]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(yt(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var p,v,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(c)&&(v=p);v!==this._hoveredLayer&&(this._handleMouseOut(s),v&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([v],s,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,p){this._map._fireDOMEvent(c,p||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var p=c.next,v=c.prev;if(p)p.prev=v;else return;v?v.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var p=c.next,v=c.prev;if(v)v.next=p;else return;p?p.prev=v:v&&(this._drawLast=v),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function sc(s){return Ae.canvas?new ic(s):null}var Ko=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Oh={_initContainer:function(){this._container=He("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=Ko("shape");Ue(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=Ko("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[m(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;vt(c),s.removeInteractiveTarget(c),delete this._layers[m(s)]},_updateStyle:function(s){var c=s._stroke,p=s._fill,v=s.options,C=s._container;C.stroked=!!v.stroke,C.filled=!!v.fill,v.stroke?(c||(c=s._stroke=Ko("stroke")),C.appendChild(c),c.weight=v.weight+"px",c.color=v.color,c.opacity=v.opacity,v.dashArray?c.dashStyle=ee(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=v.lineCap.replace("butt","flat"),c.joinstyle=v.lineJoin):c&&(C.removeChild(c),s._stroke=null),v.fill?(p||(p=s._fill=Ko("fill")),C.appendChild(p),p.color=v.fillColor||v.color,p.opacity=v.fillOpacity):p&&(C.removeChild(p),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),p=Math.round(s._radius),v=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+v+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){fi(s._container)},_bringToBack:function(s){Pr(s._container)}},Lr=Ae.vml?Ko:hs,Ds=Xr.extend({_initContainer:function(){this._container=Lr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Lr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vt(this._container),ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xr.prototype._update.call(this);var s=this._bounds,c=s.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),qe(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=Lr("path");s.options.className&&Ue(c,s.options.className),s.options.interactive&&Ue(c,"leaflet-interactive"),this._updateStyle(s),this._layers[m(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){vt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[m(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,p=s.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,go(s._parts,c))},_updateCircle:function(s){var c=s._point,p=Math.max(Math.round(s._radius),1),v=Math.max(Math.round(s._radiusY),1)||p,C="a"+p+","+v+" 0 1,0 ",k=s._empty()?"M0 0":"M"+(c.x-p)+","+c.y+C+p*2+",0 "+C+-p*2+",0 ";this._setPath(s,k)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){fi(s._path)},_bringToBack:function(s){Pr(s._path)}});Ae.vml&&Ds.include(Oh);function Jl(s){return Ae.svg||Ae.vml?new Ds(s):null}Xe.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&sc(s)||Jl(s)}});var Mh=wi.extend({initialize:function(s,c){wi.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Re(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function gp(s,c){return new Mh(s,c)}Ds.create=Lr,Ds.pointsToPath=go,Qr.geometryToLayer=qo,Qr.coordsToLatLng=Gl,Qr.coordsToLatLngs=Xa,Qr.latLngToCoords=Zl,Qr.latLngsToCoords=Kl,Qr.getFeature=Wo,Qr.asFeature=Ql,Xe.mergeOptions({boxZoom:!0});var Qo=In.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qe(),Lo(),this._startPoint=this._map.mouseEventToContainerPoint(s),Me(document,{contextmenu:un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=He("div","leaflet-zoom-box",this._container),Ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new G(this._point,this._startPoint),p=c.getSize();qe(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(vt(this._box),yt(this._container,"leaflet-crosshair")),sr(),No(),ft(document,{contextmenu:un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var c=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",Qo),Xe.mergeOptions({doubleClickZoom:!0});var Dh=In.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,p=c.getZoom(),v=c.options.zoomDelta,C=s.originalEvent.shiftKey?p-v:p+v;c.options.doubleClickZoom==="center"?c.setZoom(C):c.setZoomAround(s.containerPoint,C)}});Xe.addInitHook("addHandler","doubleClickZoom",Dh),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var oc=In.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Nn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yt(this._map._container,"leaflet-grab"),yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Re(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),p=this._initialWorldOffset,v=this._draggable._newPos.x,C=(v-c+p)%s+c-p,k=(v+c+p)%s-c-p,H=Math.abs(C+p)<Math.abs(k+p)?C:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(s){var c=this._map,p=c.options,v=!p.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),v)c.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,H=p.easeLinearity,X=C.multiplyBy(H/k),ne=X.distanceTo([0,0]),he=Math.min(p.inertiaMaxSpeed,ne),ye=X.multiplyBy(he/ne),je=he/(p.inertiaDeceleration*H),Ze=ye.multiplyBy(-je/2).round();!Ze.x&&!Ze.y?c.fire("moveend"):(Ze=c._limitOffset(Ze,c.options.maxBounds),$(function(){c.panBy(Ze,{duration:je,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Xe.addInitHook("addHandler","dragging",oc),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ac=In.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Me(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,p=s.scrollTop||c.scrollTop,v=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(v,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},p=this.keyCodes,v,C;for(v=0,C=p.left.length;v<C;v++)c[p.left[v]]=[-1*s,0];for(v=0,C=p.right.length;v<C;v++)c[p.right[v]]=[s,0];for(v=0,C=p.down.length;v<C;v++)c[p.down[v]]=[0,s];for(v=0,C=p.up.length;v<C;v++)c[p.up[v]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},p=this.keyCodes,v,C;for(v=0,C=p.zoomIn.length;v<C;v++)c[p.zoomIn[v]]=s;for(v=0,C=p.zoomOut.length;v<C;v++)c[p.zoomOut[v]]=-s},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,p=this._map,v;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(v=this._panKeys[c],s.shiftKey&&(v=ue(v).multiplyBy(3)),p.options.maxBounds&&(v=p._limitOffset(ue(v),p.options.maxBounds)),p.options.worldCopyJump){var C=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(v)));p.panTo(C)}else p.panBy(v)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;un(s)}}});Xe.addInitHook("addHandler","keyboard",ac),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Tt=In.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=Ul(s),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var v=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),v),un(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),p=this._map.options.zoomSnap||0;s._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,k=p?Math.ceil(C/p)*p:C,H=s._limitZoom(c+(this._delta>0?k:-k))-c;this._delta=0,this._startTime=null,H&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+H):s.setZoomAround(this._lastMousePos,c+H))}});Xe.addInitHook("addHandler","scrollWheelZoom",Tt);var lc=600;Xe.mergeOptions({tapHold:Ae.touchNative&&Ae.safari&&Ae.mobile,tapTolerance:15});var tl=In.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new ae(c.clientX,c.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",wt),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),lc),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ft(document,"touchend",wt),ft(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new ae(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var p=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Xe.addInitHook("addHandler","tapHold",tl),Xe.mergeOptions({touchZoom:Ae.touch,bounceAtZoomLimits:!0});var Yo=In.extend({addHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(s.touches[0]),v=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(v)._divideBy(2))),this._startDist=p.distanceTo(v),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),wt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(s.touches[0]),v=c.mouseEventToContainerPoint(s.touches[1]),C=p.distanceTo(v)/this._startDist;if(this._zoom=c.getScaleZoom(C,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&C<1||this._zoom>c.getMaxZoom()&&C>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var k=p._add(v)._divideBy(2)._subtract(this._centerPoint);if(C===1&&k.x===0&&k.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var H=u(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(H,this,!0),wt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xe.addInitHook("addHandler","touchZoom",Yo),Xe.BoxZoom=Qo,Xe.DoubleClickZoom=Dh,Xe.Drag=oc,Xe.Keyboard=ac,Xe.ScrollWheelZoom=Tt,Xe.TapHold=tl,Xe.TouchZoom=Yo,t.Bounds=G,t.Browser=Ae,t.CRS=Ke,t.Canvas=ic,t.Circle=Wl,t.CircleMarker=ql,t.Class=ct,t.Control=_n,t.DivIcon=Xl,t.DivOverlay=Yr,t.DomEvent=ks,t.DomUtil=Di,t.Draggable=Nn,t.Evented=ot,t.FeatureGroup=jt,t.GeoJSON=Qr,t.GridLayer=Ui,t.Handler=In,t.Icon=kr,t.ImageOverlay=Fi,t.LatLng=Ce,t.LatLngBounds=Ee,t.Layer=pt,t.LayerGroup=It,t.LineUtil=R,t.Map=Xe,t.Marker=yi,t.Mixin=gi,t.Path=Vi,t.Point=ae,t.PolyUtil=Uo,t.Polygon=wi,t.Polyline=Zn,t.Popup=Yl,t.PosAnimation=Rs,t.Projection=ve,t.Rectangle=Mh,t.Renderer=Xr,t.SVG=Ds,t.SVGOverlay=tc,t.TileLayer=zi,t.Tooltip=Go,t.Transformation=xr,t.Util=z,t.VideoOverlay=ec,t.bind=u,t.bounds=oe,t.canvas=sc,t.circle=Ya,t.circleMarker=bh,t.control=Jt,t.divIcon=Lh,t.extend=o,t.featureGroup=Ms,t.geoJSON=Ah,t.geoJson=Rr,t.gridLayer=Zo,t.icon=Ph,t.imageOverlay=kh,t.latLng=xe,t.latLngBounds=Re,t.layerGroup=cr,t.map=Gn,t.marker=fp,t.point=ue,t.polygon=mp,t.polyline=pp,t.popup=$o,t.rectangle=gp,t.setOptions=O,t.stamp=m,t.svg=Jl,t.svgOverlay=nc,t.tileLayer=rc,t.tooltip=Ja,t.transformation=Br,t.version=r,t.videoOverlay=Rh;var jh=window.L;t.noConflict=function(){return window.L=jh,this},window.L=t})}(Mc,Mc.exports)),Mc.exports}var Fa=eS();const vr=oh(Fa),tj=()=>{const[n,e]=U.useState(null),[t,r]=U.useState(null),o=()=>{if(!navigator.geolocation){r("Tu navegador no soporta la geolocalización.");return}navigator.geolocation.getCurrentPosition(a=>{e({lat:a.coords.latitude,lng:a.coords.longitude}),r(null),console.log("📍 Ubicación detectada:",a.coords)},a=>{console.error("Error obteniendo ubicación del usuario:",a),e(null)},{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})};return U.useEffect(()=>{o()},[]),{location:n,error:t,solicitarUbicacion:o}},tS=U.createContext(null),Eh=()=>U.useContext(tS),nj=({children:n})=>{const[e,t]=U.useState(null),[r,o]=U.useState(null),[a,u]=U.useState(!0);return U.useEffect(()=>{const d=Aa.onAuthStateChanged(async m=>{if(m){const _=ln(nt,"usuarios",m.uid),w=await Ur(_);if(w.exists()){const T=w.data();t({...m,...T}),o(T.rol)}else t(m),o(null)}else t(null),o(null);u(!1)});return()=>d()},[]),E.jsx(tS.Provider,{value:{usuario:e,rol:r,cargando:a},children:n})},nS=()=>{const{id:n}=r_(),e=U.useRef(null),[t,r]=U.useState(null),[o,a]=U.useState([]),[u,d]=U.useState(""),{usuario:m,rol:_,cargando:w}=Eh(),{location:T}=tj();function S(D,K){const se=(K.lat-D.lat)*(Math.PI/180),me=(K.lng-D.lng)*(Math.PI/180),Se=D.lat*(Math.PI/180),B=K.lat*(Math.PI/180),M=Math.sin(se/2)**2+Math.sin(me/2)**2*Math.cos(Se)*Math.cos(B);return 6371*(2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)))}U.useEffect(()=>{!document.getElementById("map")||e.current||(e.current=vr.map("map").setView([41.117,1.25],14),vr.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors & CartoDB'}).addTo(e.current))},[]),U.useEffect(()=>{T||console.warn("⚠️ Ubicación del usuario no disponible. Verifica permisos del navegador.")},[T]),U.useEffect(()=>{n&&(async()=>{try{console.log("🆔 ID recibido:",n);const K=ln(nt,"Rutas",n),ee=await Ur(K);ee.exists()?(window.__documentLoggedOnce||(console.log("✅ Documento encontrado:",ee.data()),window.__documentLoggedOnce=!0),r(ee.data())):console.warn("⚠️ No se encontró la ruta con el ID:",n)}catch(K){console.error("❌ Error al cargar la ruta:",K)}})()},[n]),U.useEffect(()=>{if(!n)return;const D=ju(Tn(nt,"rutas",n,"comments"),pv("createdAt","asc")),K=XI(D,ee=>{const se=ee.docs.map(me=>({id:me.id,...me.data()}));a(se)});return()=>K()},[n]);const b=async()=>{try{const D=t,K=D.coordenadas;if(!Array.isArray(K)||K.length===0){console.warn("⚠️ No hay coordenadas válidas");return}e.current.eachLayer(B=>{(B instanceof vr.Marker||B instanceof vr.GeoJSON)&&e.current.removeLayer(B)}),T&&vr.marker(T).addTo(e.current).bindPopup("📍 Tu ubicación actual").openPopup(),K.forEach((B,M)=>{const F=[B.latitude,B.longitude],q=D.contenido?.[M]||`Punto ${M+1}`;vr.marker(F).addTo(e.current).bindPopup(q)});const ee=[];T&&ee.push([T.lng,T.lat]),K.forEach(B=>{ee.push([B.longitude,B.latitude])});const se=await fetch("https://api.openrouteservice.org/v2/directions/foot-walking/geojson",{method:"POST",headers:{Accept:"application/json, application/geo+json","Content-Type":"application/json",Authorization:"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6IjcwNGMxOTg0NGQ1MjQ5YjliOWJhMjE0NjE0MzUyNjlmIiwiaCI6Im11cm11cjY0In0="},body:JSON.stringify({coordinates:ee})});if(!se.ok)throw new Error("Error al obtener ruta ORS");const me=await se.json();vr.geoJSON(me,{style:{color:"blue",weight:3}}).addTo(e.current);const Se=vr.geoJSON(me).getBounds();e.current.fitBounds(Se)}catch(D){console.error("❌ Error:",D)}};U.useEffect(()=>{t&&b()},[t,T]);const N=async()=>{if(!u.trim()||!m?.uid||!n)return;const D=m.fotoURL||null;await Gu(Tn(nt,"rutas",n,"comments"),{content:u.trim(),authorId:m.uid,authorName:m.displayName||m.email,fotoURL:D,createdAt:Zu()}),d("")},O=async D=>{try{const K=ln(nt,"rutas",n,"comments",D);await YI(K)}catch(K){console.error("Error al eliminar el comentario:",K)}};let j=!1;return(t?.requiereTransporte===!0||T&&t?.coordenadas?.[0]&&S({lat:T.lat,lng:T.lng},{lat:t.coordenadas[0].latitude,lng:t.coordenadas[0].longitude})>1.5)&&(j=!0),E.jsxs("div",{className:"ruta-detalle-container",style:{padding:"1rem"},children:[t&&E.jsxs(E.Fragment,{children:[E.jsx("h1",{children:t.nombre}),E.jsx("span",{className:`badge ${t.tipo}`}),E.jsxs("p",{children:[E.jsx("strong",{children:"Duración:"})," ",t.duracion]}),E.jsx("p",{children:t.descripcion}),E.jsxs("p",{children:[E.jsx("strong",{children:"Accesibilidad:"})," ",j?"Se requiere transporte (coche, moto o bici) para llegar al inicio.":"Puedes llegar caminando desde el centro de Tarragona."]}),j&&E.jsx("div",{className:"sugerencias-transporte",style:{marginTop:"1rem"}}),E.jsx("h3",{children:"Puntos de interés:"}),E.jsx("ul",{children:t.contenido.map((D,K)=>E.jsx("li",{children:D},K))})]}),E.jsx("h3",{children:"Mapa de la ruta"}),E.jsx("div",{id:"map",style:{height:"70vh",marginBottom:"2rem"}}),E.jsx("h3",{children:"Foro de la ruta"}),m?.uid?E.jsxs(E.Fragment,{children:[E.jsx("textarea",{value:u,onChange:D=>d(D.target.value),placeholder:"Escribe tu comentario...",rows:3,style:{width:"100%",padding:"0.5rem",marginBottom:"0.5rem"}}),E.jsx("button",{onClick:N,children:"💬 Comentar"})]}):E.jsx("p",{children:"Debes iniciar sesión para comentar."}),E.jsx("ul",{style:{marginTop:"1rem"},children:o.map(D=>{const K=D.authorName?D.authorName[0].toUpperCase()+D.authorName.slice(-1).toUpperCase():"U",ee=D.fotoURL?D.fotoURL:`https://ui-avatars.com/api/?name=${K}&background=random&color=fff&size=128`;return E.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",marginBottom:"1rem"},children:[E.jsx("img",{src:ee,alt:"Avatar",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover"}}),E.jsxs("div",{children:[E.jsx("strong",{children:D.authorName}),E.jsx("p",{children:D.content}),m?.uid===D.authorId&&E.jsx("button",{onClick:()=>O(D.id),style:{background:"transparent",border:"none",color:"#cc0000",cursor:"pointer",fontSize:"0.9rem",marginTop:"0.25rem"},children:"🗑️ Eliminar"})]})]},D.id)})})]})};function rj(){return E.jsxs(_T,{children:[E.jsx(Ot,{path:"/",element:E.jsx(JD,{})}),E.jsx(Ot,{path:":id",element:E.jsx(nS,{})})," "]})}const rS="/assets/Logo2.png",ij="/assets/webname.png";function sj({usuario:n,nombreUsuario:e,cerrarSesion:t}){const[r,o]=U.useState(!1),[a,u]=U.useState(null),d=kl(),[m,_]=U.useState(!1),w=U.useRef(),T=U.useRef(),[S,b]=U.useState({top:0,left:0}),[N,O]=U.useState(0);return U.useEffect(()=>{const j=D=>{T.current&&!T.current.contains(D.target)&&o(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),U.useEffect(()=>{if(r&&w.current){const j=w.current.getBoundingClientRect();b({top:j.top+window.scrollY,left:j.left}),O(j.height)}},[r]),U.useEffect(()=>{(async()=>{if(n?.uid){const D=ln(nt,"usuarios",n.uid),K=await Ur(D);if(K.exists()){const ee=K.data();u(ee.fotoURL||null)}}})()},[n]),E.jsxs("header",{className:"site-header",children:[E.jsx("div",{className:"brand",children:E.jsxs(bt,{to:"/",className:"logo-container",children:[E.jsx("img",{src:rS,alt:"Logo TgoTours",className:"logo-img"}),E.jsx("div",{className:"name-web",children:E.jsx("img",{src:ij,alt:"Nombre Web"})})]})}),E.jsx("button",{className:"menu-toggle",onClick:()=>_(!m),"aria-label":"Abrir menú",children:"☰"}),E.jsxs("nav",{className:`nav-links ${m?"open":""}`,children:[E.jsx(bt,{to:"/",onClick:()=>_(!1),children:"HOME"}),E.jsx(bt,{to:"/rutas",onClick:()=>_(!1),children:"RUTAS"}),E.jsx(bt,{to:"/mapa",onClick:()=>_(!1),children:"MAPA"}),E.jsx(bt,{to:"/eventos",onClick:()=>_(!1),children:"EVENTOS"}),E.jsx(bt,{to:"/comunidad",onClick:()=>_(!1),children:"COMUNIDAD"}),E.jsx(bt,{to:"/tours",onClick:()=>_(!1),children:"FREE TOURS"})]}),E.jsx("div",{className:"auth-section",ref:T,style:{position:"relative"},children:n?E.jsxs("div",{className:"usuario-menu",children:[E.jsxs("button",{className:"usuario-trigger",onClick:()=>o(!r),ref:w,children:[E.jsx("img",{src:a||`https://ui-avatars.com/api/?name=${e}&background=random&color=fff&size=128`,alt:"Avatar",className:"avatar-header"})," ▼"]}),r&&E.jsxs("div",{className:"usuario-dropdown",children:[E.jsx(bt,{to:"/perfil",children:"👤 Mi perfil"}),E.jsx("button",{onClick:()=>{t(),d("/login")},children:"🚪 Cerrar sesión"})]})]}):E.jsxs(bt,{to:"/login",children:[E.jsx("button",{className:"login-button",children:"Iniciar sesión"})," "]})})]})}function oj(){const[n,e]=U.useState(""),[t,r]=U.useState(""),[o,a]=U.useState(null),[u,d]=U.useState(null),m=kl(),_=async w=>{w.preventDefault(),d(null),a(null);try{const T=await y1(Aa,n,t);d(`🎉 Sesión iniciada como: ${T.user.email}`),e(""),r(""),m("/")}catch{a("❌ Credenciales inválidas o usuario no registrado.")}};return E.jsx("div",{className:"full-page",children:E.jsxs("div",{className:"form-page",children:[E.jsx("h2",{children:"Iniciar sesión"}),E.jsxs("form",{onSubmit:_,children:[E.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:w=>e(w.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),E.jsx("br",{}),E.jsx("input",{type:"password",placeholder:"Contraseña",value:t,onChange:w=>r(w.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),E.jsx("br",{}),E.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem",marginTop:"1rem"},children:"Entrar"})]}),u&&E.jsx("p",{style:{color:"green",marginTop:"1rem"},children:u}),o&&E.jsx("p",{style:{color:"red",marginTop:"1rem"},children:o}),E.jsxs("p",{style:{marginTop:"2rem"},children:["¿No tienes cuenta? ",E.jsx(bt,{to:"/registro",children:"Regístrate aquí"})]})]})})}function aj(){const[n,e]=U.useState(""),[t,r]=U.useState(""),[o,a]=U.useState(""),[u,d]=U.useState(null),[m,_]=U.useState(null),[w,T]=U.useState("turista"),[S,b]=U.useState(!1),N=kl(),[O,j]=U.useState(""),[D,K]=U.useState(""),ee=async se=>{if(se.preventDefault(),_(null),d(null),!S){d("⚠️ Debes aceptar los términos y condiciones para registrarte.");return}if(!n.includes("@")){d("❌ El correo electrónico no es válido.");return}if(o.length<6){d("❌ La contraseña debe tener al menos 6 caracteres.");return}if(n!==O){d("❌ Los correos electrónicos no coinciden.");return}if(o!==D){d("❌ Las contraseñas no coinciden.");return}try{const me=ju(Tn(nt,"usuarios"),Lg("nombreUsuario","==",t));if(!(await os(me)).empty){d("❌ El nombre de usuario ya está en uso.");return}}catch(me){console.error("❌ Error al verificar nombre de usuario:",me),d("❌ No se pudo verificar el nombre de usuario.");return}try{const me=await v1(Aa,n,o),Se=me.user.uid,B=me.user;console.log("✅ Usuario creado:",Se);try{await QD(ln(nt,"usuarios",Se),{nombreUsuario:t,email:n,fechaRegistro:Zu(),rol:w,fotoPerfil:B.photoURL||"",nombreCompleto:B.displayName||""}),console.log("✅ Documento creado en Firestore")}catch(M){console.error("❌ Error en setDoc:",M),d(`❌ Error en Firestore: ${M.message}`);return}await w1(B),_(`✅ Usuario creado: ${B.email}. Revisa tu correo y tu bandeja de spam.`),e(""),a(""),r(""),b(!1),setTimeout(()=>{N("/login")},1e4)}catch(me){switch(console.error("❌ Error en createUserWithEmailAndPassword:",me),me.code){case"auth/email-already-in-use":d("❌ Este correo ya está registrado.");break;case"auth/invalid-email":d("❌ El correo no es válido.");break;case"auth/weak-password":d("❌ La contraseña es demasiado débil.");break;case"auth/password-does-not-meet-requirements":d("❌ La contraseña no cumple los requisitos mínimos: debe tener al menos 8 caracteres, incluir mayúsculas, minúsculas y algun numero.");break;default:d("❌ Error al crear la cuenta.")}}};return E.jsx("div",{className:"full-page",children:E.jsxs("div",{className:"form-page",children:[E.jsx("h2",{children:"Crear cuenta"}),E.jsxs("form",{onSubmit:ee,children:[E.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:se=>e(se.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),E.jsx("input",{type:"email",placeholder:"Repite tu correo electrónico",value:O,onChange:se=>j(se.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),E.jsx("br",{}),E.jsx("br",{}),E.jsx("input",{type:"text",placeholder:"Nombre de usuario",value:t,onChange:se=>r(se.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),E.jsx("br",{}),E.jsx("input",{type:"password",placeholder:"Contraseña",value:o,onChange:se=>a(se.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),E.jsx("br",{}),E.jsx("input",{type:"password",placeholder:"Repite tu contraseña",value:D,onChange:se=>K(se.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"250px"}}),E.jsxs("div",{style:{margin:"1rem auto",fontSize:"0.95rem",color:"#666",textAlign:"center",maxWidth:"260px",lineHeight:"1.5",backgroundColor:"#f5f5f5",padding:"0.75rem",borderRadius:"8px"},children:["🔐 ",E.jsx("strong",{children:"Requisitos:"}),E.jsx("br",{}),"- Mínimo ",E.jsx("strong",{children:"8 caracteres"}),E.jsx("br",{}),"- Al menos ",E.jsx("strong",{children:"una mayúscula"}),","," ",E.jsx("strong",{children:"una minúscula"}),", y ",E.jsx("strong",{children:"un número"})]}),E.jsx("label",{style:{display:"block",margin:"0.5rem 0 0.2rem 0"},children:"Selecciona tu rol:"}),E.jsxs("select",{value:w,onChange:se=>T(se.target.value),required:!0,style:{padding:"0.5rem",margin:"0.5rem",width:"260px"},children:[E.jsx("option",{value:"turista",children:"Turista"}),E.jsx("option",{value:"guia",children:"Guía"})]}),E.jsx("div",{style:{marginTop:"1rem",fontSize:"0.95rem",color:"#ccc"},children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:S,onChange:se=>b(se.target.checked),style:{marginRight:"0.5rem"}}),"Acepto los"," ",E.jsx(bt,{to:"/terminos",target:"_blank",style:{color:"#00CFEA",textDecoration:"underline"},children:"términos y condiciones"})]})}),E.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:E.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem"},children:"Registrarse"})})]}),m&&E.jsx("p",{style:{color:"green",marginTop:"1rem"},children:m}),u&&E.jsx("p",{style:{color:"red",marginTop:"1rem"},children:u}),E.jsxs("p",{style:{marginTop:"2rem"},children:["¿Ya tienes cuenta? ",E.jsx(bt,{to:"/login",children:"Inicia sesión"})]})]})})}const lj="/assets/anfiteatro.jpg",uj="/assets/catedral.jpg",cj="/assets/murallas.jpg",hj="/assets/plaza-rei.jpg",dj="/assets/balcon.jpg",iS="/assets/mapa.png",sS="/assets/restos.png",fj="/assets/camara.png",oS="/assets/foro.png",pj="/assets/eventos.png",mj="/assets/freetours.png";var gj=15e3,Ng=1e3,Og=60*Ng,Zd=60*Og,Wm=24*Zd,_j="http://www.topografix.com/GPX/gpx_style/0/2",Nd=new L.Icon.Default,vj={startIcon:Nd,endIcon:Nd,wptIcons:{"":Nd},wptTypeIcons:{"":Nd},pointMatchers:[]},yj={iconSize:[33,45],iconAnchor:[16,45],clickable:!1},wj={color:"blue"},Ej={parseElements:["track","route","waypoint"],joinTrackSegments:!0};L.GPX=L.FeatureGroup.extend({initialize:function(n,e){e.max_point_interval=e.max_point_interval||gj,e.markers=this._merge_objs(vj,e.markers||{}),e.marker_options=this._merge_objs(yj,e.marker_options||{}),e.polyline_options=e.polyline_options||[],e.gpx_options=this._merge_objs(Ej,e.gpx_options||{}),L.Util.setOptions(this,e),L.GPXTrackIcon=L.Icon.extend({options:e.marker_options}),this._gpx=n,this._layers={},this._prepare_markers(e.markers),this._init_info(),n&&this._parse(n,e,this.options.async)},get_duration_string:function(n,e){var t="";n>=Wm&&(t+=Math.floor(n/Wm)+"d ",n=n%Wm),n>=Zd&&(t+=Math.floor(n/Zd)+":",n=n%Zd);var r=Math.floor(n/Og);n=n%Og,r<10&&(t+="0"),t+=r+"'";var o=Math.floor(n/Ng);return n=n%Ng,o<10&&(t+="0"),t+=o,!e&&n>0?t+="."+Math.round(Math.floor(n)*1e3)/1e3:t+='"',t},get_duration_string_iso:function(n,e){var t=this.get_duration_string(n,e);return t.replace("'",":").replace('"',"")},_toFixed_helper:function(n,e=0){return typeof n=="number"?n.toFixed(e):"?"},to_miles:function(n){return n/1.60934},to_ft:function(n){return n*3.28084},m_to_km:function(n){return n/1e3},m_to_mi:function(n){return n/1609.34},ms_to_kmh:function(n){return n*3.6},ms_to_mih:function(n){return n/1609.34*3600},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/(3600*1e3))},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/(3600*1e3))},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/(3600*1e3))},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/(3600*1e3))},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var n=this;return this._info.elevation._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,null,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,0)+" m"})})},get_elevation_data_imp:function(){var n=this;return this._info.elevation._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,n.to_ft,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,0)+" ft"})})},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_speed_data:function(){var n=this;return this._info.speed._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,n.ms_to_kmh,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,2)+" km/h"})})},get_speed_data_imp:function(){var n=this;return this._info.speed._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,n.ms_to_mih,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,2)+" mi/h"})})},get_speed_max:function(){return this.m_to_km(this._info.speed.max)*3600},get_speed_max_imp:function(){return this.to_miles(this.get_speed_max())},get_average_hr:function(){return this._info.hr.avg},get_average_temp:function(){return this._info.atemp.avg},get_average_cadence:function(){return this._info.cad.avg},get_heartrate_data:function(){var n=this;return this._info.hr._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,null,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,0)+" bpm"})})},get_heartrate_data_imp:function(){var n=this;return this._info.hr._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,null,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,0)+" bpm"})})},get_cadence_data:function(){var n=this;return this._info.cad._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,null,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,0)+" rpm"})})},get_temp_data:function(){var n=this;return this._info.atemp._points.map(function(e){return n._prepare_data_point(e,n.m_to_km,null,function(t,r){return n._toFixed_helper(t,2)+" km, "+n._toFixed_helper(r,0)+" degrees"})})},get_cadence_data_imp:function(){var n=this;return this._info.cad._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,null,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,0)+" rpm"})})},get_temp_data_imp:function(){var n=this;return this._info.atemp._points.map(function(e){return n._prepare_data_point(e,n.m_to_mi,null,function(t,r){return n._toFixed_helper(t,2)+" mi, "+n._toFixed_helper(r,0)+" degrees"})})},reload:function(){this._init_info(),this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},_merge_objs:function(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t},_prepare_data_point:function(n,e,t,r){var o=[e&&e(n[0])||n[0],t&&t(n[1])||n[1]];return o.push(r&&r(o[0],o[1])||o[0]+": "+o[1]),o},_prepare_markers:function(n){function e(t){return new L.GPXTrackIcon({iconUrl:t})}return Object.entries(n).forEach(([t,r])=>{t==="wptIcons"||t==="wptTypeIcons"?n[t]=this._prepare_markers(r):t==="pointMatchers"?n[t]=r.map(o=>(typeof o.icon=="string"&&(o.icon=e(o.icon)),o)):typeof r=="string"?n[t]=e(r):typeof r=="object"&&r!==null&&(n[t]=r)}),n},_init_info:function(){this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},speed:{max:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0},atemp:{avg:0,_total:0,_points:[]},cad:{avg:0,_total:0,_points:[]}}},_load_xml:function(n,e,t,r){r==null&&(r=this.options.async),t==null&&(t=this.options);var o=this,a=new window.XMLHttpRequest;a.open("GET",n,r);try{a.overrideMimeType("text/xml")}catch{}a.onloadend=function(){a.status==200?e(a.responseXML,t):o.fire("error",{err:"Error fetching resource: "+n})},a.send(null)},_parse:function(n,e,t){var r=this,o=function(u,d){var m=r._parse_gpx_data(u,d);if(!m){r.fire("error",{err:"No parseable layers of type(s) "+JSON.stringify(d.gpx_options.parseElements)});return}r.addLayer(m),r.fire("loaded",{layers:m,element:u})};if(n.substr(0,1)==="<"){var a=new DOMParser;t?setTimeout(function(){o(a.parseFromString(n,"text/xml"),e)}):o(a.parseFromString(n,"text/xml"),e)}else this._load_xml(n,o,e,t)},_parse_gpx_data:function(n,e){var t,r,o=[],a=n.getElementsByTagName("name");a.length>0&&(this._info.name=a[0].textContent);var u=n.getElementsByTagName("desc");u.length>0&&(this._info.desc=u[0].textContent);var d=n.getElementsByTagName("author");d.length>0&&(this._info.author=d[0].textContent);var m=n.getElementsByTagName("copyright");m.length>0&&(this._info.copyright=m[0].textContent);var _=e.gpx_options.parseElements;if(_.indexOf("route")>-1){var w=n.getElementsByTagName("rte");for(t=0;t<w.length;t++){var T=w[t],S=this._extract_styling(T),b=this._get_polyline_options(e.polyline_options,t);o=o.concat(this._parse_segment(w[t],e,S,b,"rtept"))}}if(_.indexOf("track")>-1){var N=n.getElementsByTagName("trk");for(t=0;t<N.length;t++){var O=N[t],S=this._extract_styling(O),b=this._get_polyline_options(e.polyline_options,t);if(e.gpx_options.joinTrackSegments)o=o.concat(this._parse_segment(O,e,S,b,"trkpt"));else{var j=O.getElementsByTagName("trkseg");for(Q=0;Q<j.length;Q++)o=o.concat(this._parse_segment(j[Q],e,S,b,"trkpt"))}}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),this._info.cad.avg=Math.round(this._info.cad._total/this._info.cad._points.length),this._info.atemp.avg=Math.round(this._info.atemp._total/this._info.atemp._points.length),_.indexOf("waypoint")>-1)for(r=n.getElementsByTagName("wpt"),t=0;t<r.length;t++){var D=new L.LatLng(r[t].getAttribute("lat"),r[t].getAttribute("lon")),K=r[t].getElementsByTagName("name"),a=K.length>0?K[0].textContent:"",ee=r[t].getElementsByTagName("desc"),u=ee.length>0?ee[0].textContent:"",se=r[t].getElementsByTagName("sym"),me=se.length>0?se[0].textContent:null,Se=r[t].getElementsByTagName("type"),B=Se.length>0?Se[0].textContent:null,M=e.markers.wptIcons,F=e.markers.wptTypeIcons,q=e.markers.pointMatchers||[],$;if(M&&me&&M[me])$=M[me];else if(F&&B&&F[B])$=F[B];else if(q.length>0){for(var Q=0;Q<q.length;Q++)if(q[Q].regex.test(a)){$=q[Q].icon;break}}else M&&M[""]&&($=M[""]);if(!$){console.log("No waypoint icon could be matched for symKey=%s,typeKey=%s,name=%s on waypoint %o",me,B,a,r[t]);continue}var z=new L.Marker(D,{clickable:e.marker_options.clickable,title:a,icon:$,type:"waypoint"});z.bindPopup("<b>"+a+"</b>"+(u.length>0?"<br>"+u:"")).openPopup(),this.fire("addpoint",{point:z,point_type:"waypoint",element:r[t]}),o.push(z)}if(o.length>1)return new L.FeatureGroup(o);if(o.length==1)return o[0]},_parse_segment:function(n,e,t,r,o){var a=n.getElementsByTagName(o);if(!a.length)return[];for(var u=[],d=[],m=[],_=null,w=0;w<a.length;w++){var T,S=new L.LatLng(a[w].getAttribute("lat"),a[w].getAttribute("lon"));S.meta={time:null,ele:null,hr:null,cad:null,atemp:null,speed:null},T=a[w].getElementsByTagName("time"),T.length>0?S.meta.time=new Date(Date.parse(T[0].textContent)):S.meta.time=new Date("1970-01-01T00:00:00");var b=_!=null?Math.abs(S.meta.time-_.meta.time):0;T=a[w].getElementsByTagName("ele"),T.length>0?S.meta.ele=parseFloat(T[0].textContent):S.meta.ele=_!=null?_.meta.ele:null;var N=_!=null?S.meta.ele-_.meta.ele:0,O=_!=null?this._dist3d(_,S):0;if(T=a[w].getElementsByTagName("speed"),T.length>0?S.meta.speed=parseFloat(T[0].textContent):S.meta.speed=b>0?1e3*O/b:0,T=a[w].getElementsByTagName("name"),T.length>0){for(var j=T[0].textContent,D=e.markers.pointMatchers||[],K=0;K<D.length;K++)if(D[K].regex.test(j)){d.push({label:j,coords:S,icon:D[K].icon,element:a[w]});break}}this._info.length+=O,T=a[w].getElementsByTagNameNS("*","hr"),T.length>0&&(S.meta.hr=parseInt(T[0].textContent),this._info.hr._points.push([this._info.length,S.meta.hr]),this._info.hr._total+=S.meta.hr),T=a[w].getElementsByTagNameNS("*","cad"),T.length>0&&(S.meta.cad=parseInt(T[0].textContent),this._info.cad._points.push([this._info.length,S.meta.cad]),this._info.cad._total+=S.meta.cad),T=a[w].getElementsByTagNameNS("*","atemp"),T.length>0&&(S.meta.atemp=parseInt(T[0].textContent),this._info.atemp._points.push([this._info.length,S.meta.atemp]),this._info.atemp._total+=S.meta.atemp),S.meta.ele>this._info.elevation.max&&(this._info.elevation.max=S.meta.ele),S.meta.ele<this._info.elevation.min&&(this._info.elevation.min=S.meta.ele),this._info.elevation._points.push([this._info.length,S.meta.ele]),S.meta.speed>this._info.speed.max&&(this._info.speed.max=S.meta.speed),this._info.speed._points.push([this._info.length,S.meta.speed]),_==null&&this._info.duration.start==null&&(this._info.duration.start=S.meta.time),this._info.duration.end=S.meta.time,this._info.duration.total+=b,b<e.max_point_interval&&(this._info.duration.moving+=b),N>0?this._info.elevation.gain+=N:this._info.elevation.loss+=Math.abs(N),_=S,u.push(S)}var ee=new L.Polyline(u,this._extract_styling(n,t,r));if(this.fire("addline",{line:ee,element:n}),m.push(ee),e.markers.startIcon){var se=new L.Marker(u[0],{clickable:e.marker_options.clickable,icon:e.markers.startIcon});this.fire("addpoint",{point:se,point_type:"start",element:a[0],line:n}),m.push(se)}if(e.markers.endIcon){var se=new L.Marker(u[u.length-1],{clickable:e.marker_options.clickable,icon:e.markers.endIcon});this.fire("addpoint",{point:se,point_type:"end",element:a[a.length-1],line:n}),m.push(se)}for(var w=0;w<d.length;w++){var se=new L.Marker(d[w].coords,{clickable:e.marker_options.clickable,title:d[w].label,icon:d[w].icon});this.fire("addpoint",{point:se,point_type:"label",element:d[w].element}),m.push(se)}return m},_get_polyline_options:function(n,e){return Array.isArray(n)?n[e]||{}:n},_extract_styling:function(n,e,t){var r=this._merge_objs(wj,e),o=n.getElementsByTagNameNS(_j,"line");if(o.length>0){var a=o[0].getElementsByTagName("color");a.length>0&&(r.color="#"+a[0].textContent);var a=o[0].getElementsByTagName("opacity");a.length>0&&(r.opacity=a[0].textContent);var a=o[0].getElementsByTagName("weight");a.length>0&&(r.weight=a[0].textContent);var a=o[0].getElementsByTagName("linecap");a.length>0&&(r.lineCap=a[0].textContent);var a=o[0].getElementsByTagName("linejoin");a.length>0&&(r.lineJoin=a[0].textContent);var a=o[0].getElementsByTagName("dasharray");a.length>0&&(r.dashArray=a[0].textContent);var a=o[0].getElementsByTagName("dashoffset");a.length>0&&(r.dashOffset=a[0].textContent)}return this._merge_objs(r,t)},_dist2d:function(n,e){var t=6371e3,r=this._deg2rad(e.lat-n.lat),o=this._deg2rad(e.lng-n.lng),a=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this._deg2rad(n.lat))*Math.cos(this._deg2rad(e.lat))*Math.sin(o/2)*Math.sin(o/2),u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),d=t*u;return d},_dist3d:function(n,e){var t=this._dist2d(n,e),r=Math.abs(e.meta.ele-n.meta.ele);return Math.sqrt(Math.pow(t,2)+Math.pow(r,2))},_deg2rad:function(n){return n*Math.PI/180}});const Tj="/assets/mapahome.png";function xj(){const n=[{id:1,nombre:"Anfiteatro",img:lj,descripcion:"Antiguo anfiteatro romano frente al mar."},{id:2,nombre:"Catedral",img:uj,descripcion:"Impresionante catedral gótica en el corazón de Tarragona."},{id:3,nombre:"Passeig Arqueològic",img:cj,descripcion:"Murallas romanas que protegían la antigua ciudad."},{id:4,nombre:"Plaça del Rei",img:hj,descripcion:"Plaza central con gran valor histórico."},{id:5,nombre:"Balcón Mediterráneo",img:dj,descripcion:"Mirador con vistas al mar Mediterráneo."}],[e,t]=U.useState(null),[r,o]=U.useState(null);return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"mapa-info-container",children:[E.jsxs("div",{className:"mapa",children:[E.jsx("h2",{children:"   Mapa de Rutas"}),E.jsx("p",{children:"     Rutas planificada para conocer Tarragona"}),E.jsx("img",{src:Tj,alt:"Ruta Romana en Tarragona",style:{width:"100%",maxWidth:"600px",margin:"1rem auto",display:"block",borderRadius:"8px"}})]}),E.jsxs("div",{className:"info",children:[E.jsx("h1",{children:"Turismo en Tarragona"}),E.jsx("p",{children:"“Una plataforma de turismo inteligente en Tarragona.”"}),E.jsx("span",{className:"servicios-label",children:"Servicios"}),E.jsx("button",{children:"Rutas y mapas interactivos"}),E.jsx("button",{children:"Eventos culturales y puntos de interés"}),E.jsx("button",{children:"FreeTours"}),E.jsx("button",{children:"Comunidad"})]})]}),E.jsx("div",{className:"slider-wrapper",children:n.map((a,u)=>E.jsx("div",{className:"slider-item-container",children:E.jsx("img",{src:a.img,alt:a.nombre,className:`slider-item ${e===u?"active":""}`,onMouseEnter:()=>t(u),onMouseLeave:()=>t(null),onClick:()=>o(a)})},u))}),r&&E.jsxs("div",{className:"card-detalle",children:[E.jsx("div",{className:"card-imagen",children:E.jsx("img",{src:r.img,alt:r.nombre})}),E.jsxs("div",{className:"card-info",children:[E.jsx("h2",{children:r.nombre}),E.jsx("p",{children:r.descripcion}),E.jsxs("p",{children:[E.jsx("strong",{children:"Detalles:"})," Este sitio es uno de los puntos más destacados de la ruta turística por Tarragona. Ideal para visitas culturales, actividades al aire libre y vistas panorámicas."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Horario:"})," 10:00 - 18:00 (todos los días)"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Ubicación:"})," Tarragona centro histórico"]})]})]})]})}const Ij="/assets/logounion.png",Sj=()=>{const[n,e]=U.useState([]);return U.useEffect(()=>{(async()=>{try{const o=(await os(Tn(nt,"creadores"))).docs.map(a=>({id:a.id,...a.data()}));e(o)}catch(r){console.error("Error al obtener creadores:",r)}})()},[]),E.jsxs("div",{className:"about-wrapper",children:[E.jsx("div",{className:"about-logo-section",children:E.jsx("img",{src:Ij,alt:"Logo TGO Tours",className:"about-logo"})}),E.jsxs("div",{className:"about-content",children:[E.jsxs("p",{children:["Bienvenido a ",E.jsx("strong",{children:"TGoTours"}),", una plataforma pensada para ayudarte a descubrir y disfrutar lo mejor de Tarragona."]}),E.jsx("h2",{children:"¿Qué encontrarás aquí?"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("img",{src:iS,alt:"icono de mapa"})," Mapas interactivos con rutas peatonales optimizadas"]}),E.jsxs("li",{children:[E.jsx("img",{src:sS,alt:"icono de lugar"})," Puntos de interés destacados con información histórica"]}),E.jsxs("li",{children:[E.jsx("img",{src:fj,alt:"icono de camara"})," Imágenes y recomendaciones de cada lugar"]}),E.jsxs("li",{children:[E.jsx("img",{src:oS,alt:"icono de foro"})," Foro donde puedes dejar tus comentarios o experiencias"]})]})]}),E.jsxs("div",{className:"content-who",children:[E.jsx("h2",{children:"¿Quiénes somos?"}),E.jsx("p",{children:"Este proyecto nace con el objetivo de facilitar el turismo local, especialmente para quienes visitan Tarragona por primera vez o desean conocerla a fondo sin usar múltiples apps."}),E.jsx("p",{children:"Nuestro equipo está formado por amantes de la historia, la cultura de Tarragona y desarroladores entusiastas. Juntos hemos creado esta plataforma con la intención de conectar tecnología y patrimonio, permitiendo a cualquier persona descubrir la ciudad a pie, a su ritmo y con información útil."}),E.jsx("p",{children:"Tarragona no solo es un museo al aire libre del pasado romano, también es mar, gastronomía, arte y vida local. Queremos ayudarte a vivir esa riqueza con rutas pensadas para que cada paso cuente una historia."}),E.jsx("h2",{children:"¿Cómo funciona?"}),E.jsx("p",{children:"Elige una ruta dependiendo de lo que desees hacer desde nuestro menú de rutas donde tendras divertidas y entretenidas opciones. Podrás ver los puntos destacados, un mapa en tiempo real y comentarios de otros visitantes."}),E.jsx("h2",{children:"¿Tienes sugerencias?"}),E.jsxs("p",{children:["Estamos en constante mejora. Si tienes ideas, correcciones o quieres colaborar, puedes escribirnos a:"," ",E.jsx("a",{href:"mailto:contacto@tgotours.com",style:{color:"#81c7ff",textDecoration:"underline"},children:"contacto@tgotours.com"})]}),E.jsx("p",{style:{marginTop:"1.5rem",fontStyle:"italic"},children:"¡Esperamos que disfrutes tu viaje por Tarragona tanto como nosotros disfrutamos construir esta plataforma!"})]}),E.jsxs("div",{className:"about-section",children:[E.jsx("h2",{children:"Sobre los creadores"}),E.jsxs("div",{className:"creator-container",children:[E.jsxs("div",{className:"creator-card",children:[E.jsx("img",{src:"/assets/adria.jpg",alt:"Foto Adrià",className:"creator.image"}),E.jsx("div",{className:"creator-name",children:"Adrià González "}),E.jsx("div",{className:"creator-role",children:"Desarrolador Backend"}),E.jsx("p",{className:"creator-bio",children:"Responsable de la base de datos y la interaccion del usuario"})]}),E.jsxs("div",{className:"creator-card",children:[E.jsx("img",{src:"/assets/dani.jpg",alt:"Foto Adrià",className:"creator.image"}),E.jsx("div",{className:"creator-name",children:"Daniel Garcia"}),E.jsx("div",{className:"creator-role",children:"Desarrolador Frontend"}),E.jsx("p",{className:"creator-bio",children:"Responsable del contenido y la interaccion del usuario"})]}),E.jsxs("div",{className:"creator-card",children:[E.jsx("img",{src:"/assets/dani.jpg",alt:"Foto Adrià",className:"creator.image"}),E.jsx("div",{className:"creator-name",children:"Nighjhurey Bueno"}),E.jsx("div",{className:"creator-role",children:"Desarroladora FullStack"}),E.jsx("p",{className:"creator-bio",children:"Responsable de la interaccion del usuario"})]}),n.map(t=>E.jsxs("div",{className:"creator-card",children:[E.jsx("img",{src:t.imagen,alt:`Foto de ${t.nombre}`,className:"creator-image"}),E.jsx("div",{className:"creator-name",children:t.nombre}),E.jsx("div",{className:"creator-role",children:t.rol}),E.jsx("p",{className:"creator-bio",children:t.bio})]},t.id))]})]})]})};function gv(n,e){const t=U.useRef(e);U.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}function Cj(n,e,t){e.center!==t.center&&n.setLatLng(e.center),e.radius!=null&&e.radius!==t.radius&&n.setRadius(e.radius)}const aS=1;function lS(n){return Object.freeze({__version:aS,map:n})}function uS(n,e){return Object.freeze({...n,...e})}const _v=U.createContext(null),vv=_v.Provider;function Th(){const n=U.useContext(_v);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function yv(n){function e(t,r){const{instance:o,context:a}=n(t).current;return U.useImperativeHandle(r,()=>o),t.children==null?null:bu.createElement(vv,{value:a},t.children)}return U.forwardRef(e)}function cS(n){function e(t,r){const[o,a]=U.useState(!1),{instance:u}=n(t,a).current;U.useImperativeHandle(r,()=>u),U.useEffect(function(){o&&u.update()},[u,o,t.children]);const d=u._contentNode;return d?wb.createPortal(t.children,d):null}return U.forwardRef(e)}function wv(n){function e(t,r){const{instance:o}=n(t).current;return U.useImperativeHandle(r,()=>o),null}return U.forwardRef(e)}function hS(n){return function(t){const r=Th(),o=n(t,r),{instance:a}=o.current,u=U.useRef(t.position),{position:d}=t;return U.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),U.useEffect(function(){d!=null&&d!==u.current&&(a.setPosition(d),u.current=d)},[a,d]),o}}function ap(n,e){const t=U.useRef();U.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function xh(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function dS(n,e){return function(r,o){const a=Th(),u=n(xh(r,a),a);return gv(a.map,r.attribution),ap(u.current,r.eventHandlers),e(u.current,a,r,o),u}}function fS(n){return n.split(" ").filter(Boolean)}function pS(n,e){fS(e).forEach(t=>{Fa.DomUtil.addClass(n,t)})}function mS(n,e){fS(e).forEach(t=>{Fa.DomUtil.removeClass(n,t)})}function Pj(n,e,t){n!=null&&t!==e&&(e!=null&&e.length>0&&mS(n,e),t!=null&&t.length>0&&pS(n,t))}function Ih(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function Ku(n,e){return e==null?function(r,o){const a=U.useRef();return a.current||(a.current=n(r,o)),a}:function(r,o){const a=U.useRef();a.current||(a.current=n(r,o));const u=U.useRef(r),{instance:d}=a.current;return U.useEffect(function(){u.current!==r&&(e(d,r,u.current),u.current=r)},[d,r,o]),a}}function Ev(n,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function Tv(n){return function(t){const r=Th(),o=n(xh(t,r),r);return gv(r.map,t.attribution),ap(o.current,t.eventHandlers),Ev(o.current,r),o}}function gS(n,e){const t=U.useRef();U.useEffect(function(){if(e.pathOptions!==t.current){const o=e.pathOptions??{};n.instance.setStyle(o),t.current=o}},[n,e])}function _S(n){return function(t){const r=Th(),o=n(xh(t,r),r);return ap(o.current,t.eventHandlers),Ev(o.current,r),gS(o.current,t),o}}function bj(n){function e(o,a){return Ih(n(o),a)}const t=Ku(e),r=hS(t);return wv(r)}function vS(n,e){const t=Ku(n,e),r=Tv(t);return yv(r)}function yS(n,e){const t=Ku(n),r=dS(t,e);return cS(r)}function Aj(n,e){const t=Ku(n,e),r=_S(t);return yv(r)}function wS(n,e){const t=Ku(n,e),r=Tv(t);return wv(r)}function ES(n,e,t){const{opacity:r,zIndex:o}=e;r!=null&&r!==t.opacity&&n.setOpacity(r),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function kj(n,e,t){e.bounds instanceof Fa.LatLngBounds&&e.bounds!==t.bounds&&n.setBounds(e.bounds),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),e.zIndex!=null&&e.zIndex!==t.zIndex&&n.setZIndex(e.zIndex)}const Rj=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:aS,LeafletContext:_v,LeafletProvider:vv,addClassName:pS,createContainerComponent:yv,createControlComponent:bj,createControlHook:hS,createDivOverlayComponent:cS,createDivOverlayHook:dS,createElementHook:Ku,createElementObject:Ih,createLayerComponent:vS,createLayerHook:Tv,createLeafComponent:wv,createLeafletContext:lS,createOverlayComponent:yS,createPathComponent:Aj,createPathHook:_S,createTileLayerComponent:wS,extendContext:uS,removeClassName:mS,updateCircle:Cj,updateClassName:Pj,updateGridLayer:ES,updateMediaOverlay:kj,useAttribution:gv,useEventHandlers:ap,useLayerLifecycle:Ev,useLeafletContext:Th,usePathOptions:gS,withPane:xh},Symbol.toStringTag,{value:"Module"}));function Mg(){return Mg=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mg.apply(this,arguments)}function Lj({bounds:n,boundsOptions:e,center:t,children:r,className:o,id:a,placeholder:u,style:d,whenReady:m,zoom:_,...w},T){const[S]=U.useState({className:o,id:a,style:d}),[b,N]=U.useState(null);U.useImperativeHandle(T,()=>b?.map??null,[b]);const O=U.useCallback(D=>{if(D!==null&&b===null){const K=new Fa.Map(D,w);t!=null&&_!=null?K.setView(t,_):n!=null&&K.fitBounds(n,e),m!=null&&K.whenReady(m),N(lS(K))}},[]);U.useEffect(()=>()=>{b?.map.remove()},[b]);const j=b?bu.createElement(vv,{value:b},r):u??null;return bu.createElement("div",Mg({},S,{ref:O}),j)}const Nj=U.forwardRef(Lj),Oj=vS(function({position:e,...t},r){const o=new Fa.Marker(e,t);return Ih(o,uS(r,{overlayContainer:o}))},function(e,t,r){t.position!==r.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==r.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==r.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==r.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),Mj=yS(function(e,t){const r=new Fa.Popup(e,t.overlayContainer);return Ih(r,t)},function(e,t,{position:r},o){U.useEffect(function(){const{instance:u}=e;function d(_){_.popup===u&&(u.update(),o(!0))}function m(_){_.popup===u&&o(!1)}return t.map.on({popupopen:d,popupclose:m}),t.overlayContainer==null?(r!=null&&u.setLatLng(r),u.openOn(t.map)):t.overlayContainer.bindPopup(u),function(){t.map.off({popupopen:d,popupclose:m}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(u)}},[e,t,o,r])}),Dj=wS(function({url:e,...t},r){const o=new Fa.TileLayer(e,xh(t,r));return Ih(o,r)},function(e,t,r){ES(e,t,r);const{url:o}=t;o!=null&&o!==r.url&&e.setUrl(o)});var $i={};const jj=If(Rj);var Dc={exports:{}},Vj=Dc.exports,EE;function Fj(){return EE||(EE=1,function(n,e){(function(t,r){r(e)})(Vj,function(t){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=a,d=this._zoom;if(a.__parent)for(;u.__parent._zoom>=d;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,u):this._animationAddLayerNonAnimated(a,u)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,u){if(!L.Util.isArray(a))return this.addLayer(a);var d=this._featureGroup,m=this._nonPointGroup,_=this.options.chunkedLoading,w=this.options.chunkInterval,T=this.options.chunkProgress,S=a.length,b=0,N=!0,O;if(this._map){var j=new Date().getTime(),D=L.bind(function(){var ee=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();b<S;b++){if(_&&b%200===0){var se=new Date().getTime()-ee;if(se>w)break}if(O=a[b],O instanceof L.LayerGroup){N&&(a=a.slice(),N=!1),this._extractNonGroupLayers(O,a),S=a.length;continue}if(!O.getLatLng){m.addLayer(O),u||this.fire("layeradd",{layer:O});continue}if(!this.hasLayer(O)&&(this._addLayer(O,this._maxZoom),u||this.fire("layeradd",{layer:O}),O.__parent&&O.__parent.getChildCount()===2)){var me=O.__parent.getAllChildMarkers(),Se=me[0]===O?me[1]:me[0];d.removeLayer(Se)}}T&&T(b,S,new Date().getTime()-j),b===S?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(D,this.options.chunkDelay)},this);D()}else for(var K=this._needsClustering;b<S;b++){if(O=a[b],O instanceof L.LayerGroup){N&&(a=a.slice(),N=!1),this._extractNonGroupLayers(O,a),S=a.length;continue}if(!O.getLatLng){m.addLayer(O);continue}this.hasLayer(O)||K.push(O)}return this},removeLayers:function(a){var u,d,m=a.length,_=this._featureGroup,w=this._nonPointGroup,T=!0;if(!this._map){for(u=0;u<m;u++){if(d=a[u],d instanceof L.LayerGroup){T&&(a=a.slice(),T=!1),this._extractNonGroupLayers(d,a),m=a.length;continue}this._arraySplice(this._needsClustering,d),w.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var S=a.slice(),b=m;for(u=0;u<b;u++){if(d=S[u],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,S),b=S.length;continue}this._unspiderfyLayer(d)}}for(u=0;u<m;u++){if(d=a[u],d instanceof L.LayerGroup){T&&(a=a.slice(),T=!1),this._extractNonGroupLayers(d,a),m=a.length;continue}if(!d.__parent){w.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),_.hasLayer(d)&&(_.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;u>=0;u--)a.extend(this._needsClustering[u].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,u){var d=this._needsClustering.slice(),m=this._needsRemoving,_,w,T;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),w=d.length-1;w>=0;w--){for(_=!0,T=m.length-1;T>=0;T--)if(m[T].layer===d[w]){_=!1;break}_&&a.call(u,d[w])}this._nonPointGroup.eachLayer(a,u)},getLayers:function(){var a=[];return this.eachLayer(function(u){a.push(u)}),a},getLayer:function(a){var u=null;return a=parseInt(a,10),this.eachLayer(function(d){L.stamp(d)===a&&(u=d)}),u},hasLayer:function(a){if(!a)return!1;var u,d=this._needsClustering;for(u=d.length-1;u>=0;u--)if(d[u]===a)return!0;for(d=this._needsRemoving,u=d.length-1;u>=0;u--)if(d[u].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,u){var d=this._map;typeof u!="function"&&(u=function(){});var m=function(){(d.hasLayer(a)||d.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",m,this),this.off("animationend",m,this),d.hasLayer(a)?u():a.__parent._icon&&(this.once("spiderfied",u,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?u():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",m,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",m,this),this.on("animationend",m,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var u,d,m;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,u=0,d=this._needsRemoving.length;u<d;u++)m=this._needsRemoving[u],m.newlatlng=m.layer._latlng,m.layer._latlng=m.latlng;for(u=0,d=this._needsRemoving.length;u<d;u++)m=this._needsRemoving[u],this._removeLayer(m.layer,!0),m.layer._latlng=m.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var u=a;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(a,u){for(var d=a.length-1;d>=0;d--)if(a[d]===u)return a.splice(d,1),!0},_removeFromGridUnclustered:function(a,u){for(var d=this._map,m=this._gridUnclustered,_=Math.floor(this._map.getMinZoom());u>=_&&m[u].removeObject(a,d.project(a.getLatLng(),u));u--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var u=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),u&&a.target.openPopup()}},_moveChild:function(a,u,d){a._latlng=u,this.removeLayer(a),a._latlng=d,this.addLayer(a)},_childMarkerDragEnd:function(a){var u=a.target.__dragStart;delete a.target.__dragStart,u&&this._moveChild(a.target,u,a.target._latlng)},_removeLayer:function(a,u,d){var m=this._gridClusters,_=this._gridUnclustered,w=this._featureGroup,T=this._map,S=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(a,this._maxZoom);var b=a.__parent,N=b._markers,O;for(this._arraySplice(N,a);b&&(b._childCount--,b._boundsNeedUpdate=!0,!(b._zoom<S));)u&&b._childCount<=1?(O=b._markers[0]===a?b._markers[1]:b._markers[0],m[b._zoom].removeObject(b,T.project(b._cLatLng,b._zoom)),_[b._zoom].addObject(O,T.project(O.getLatLng(),b._zoom)),this._arraySplice(b.__parent._childClusters,b),b.__parent._markers.push(O),O.__parent=b.__parent,b._icon&&(w.removeLayer(b),d||w.addLayer(O))):b._iconNeedsUpdate=!0,b=b.__parent;delete a.__parent},_isOrIsParent:function(a,u){for(;u;){if(a===u)return!0;u=u.parentNode}return!1},fire:function(a,u,d){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,u,d)},listens:function(a,u){return L.FeatureGroup.prototype.listens.call(this,a,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,u)},_defaultIconCreateFunction:function(a){var u=a.getChildCount(),d=" marker-cluster-";return u<10?d+="small":u<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,u=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,m=this.options.zoomToBoundsOnClick,_=this.options.spiderfyOnEveryZoom;(u||m||_)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var u=a.layer,d=u;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom,_=this._map;(a||d||m)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),_.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,m=d;typeof d!="function"&&(m=function(){return d}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var _=a;_>=u;_--)this._gridClusters[_]=new L.DistanceGrid(m(_)),this._gridUnclustered[_]=new L.DistanceGrid(m(_));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(a,u){var d=this._gridClusters,m=this._gridUnclustered,_=Math.floor(this._map.getMinZoom()),w,T;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);u>=_;u--){w=this._map.project(a.getLatLng(),u);var S=d[u].getNearObject(w);if(S){S._addChild(a),a.__parent=S;return}if(S=m[u].getNearObject(w),S){var b=S.__parent;b&&this._removeLayer(S,!1);var N=new this._markerCluster(this,u,S,a);d[u].addObject(N,this._map.project(N._cLatLng,u)),S.__parent=N,a.__parent=N;var O=N;for(T=u-1;T>b._zoom;T--)O=new this._markerCluster(this,T,O),d[T].addObject(O,this._map.project(S.getLatLng(),T));b._addChild(O),this._removeFromGridUnclustered(S,u);return}m[u].addObject(a,w)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var u=this._maxLat;return u!==void 0&&(a.getNorth()>=u&&(a._northEast.lat=1/0),a.getSouth()<=-u&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,u){if(u===a)this._featureGroup.addLayer(a);else if(u._childCount===2){u._addToMap();var d=u.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else u._updateIcon()},_extractNonGroupLayers:function(a,u){var d=a.getLayers(),m=0,_;for(u=u||[];m<d.length;m++){if(_=d[m],_ instanceof L.LayerGroup){this._extractNonGroupLayers(_,u);continue}u.push(_)}return u},_overrideMarkerIcon:function(a){var u=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return u}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,u){this._animationAddLayerNonAnimated(a,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,u){var d=this._getExpandedVisibleBounds(),m=this._featureGroup,_=Math.floor(this._map.getMinZoom()),w;this._ignoreMove=!0,this._topClusterLevel._recursively(d,a,_,function(T){var S=T._latlng,b=T._markers,N;for(d.contains(S)||(S=null),T._isSingleParent()&&a+1===u?(m.removeLayer(T),T._recursivelyAddChildrenToMap(null,u,d)):(T.clusterHide(),T._recursivelyAddChildrenToMap(S,u,d)),w=b.length-1;w>=0;w--)N=b[w],d.contains(N._latlng)||m.removeLayer(N)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,u),m.eachLayer(function(T){!(T instanceof L.MarkerCluster)&&T._icon&&T.clusterShow()}),this._topClusterLevel._recursively(d,a,u,function(T){T._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,a,_,function(T){m.removeLayer(T),T.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,u){this._animationZoomOutSingle(this._topClusterLevel,a-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,u){var d=this,m=this._featureGroup;m.addLayer(a),u!==a&&(u._childCount>2?(u._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(u.getLatLng())),a.clusterHide(),this._enqueue(function(){m.removeLayer(a),a.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,u,d){var m=this._getExpandedVisibleBounds(),_=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(m,_,u+1,d);var w=this;this._forceLayout(),a._recursivelyBecomeVisible(m,d),this._enqueue(function(){if(a._childCount===1){var T=a._markers[0];this._ignoreMove=!0,T.setLatLng(T.getLatLng()),this._ignoreMove=!1,T.clusterShow&&T.clusterShow()}else a._recursively(m,d,_,function(S){S._recursivelyRemoveChildrenFromMap(m,_,u+1)});w._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,u,d,m){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),m&&this._addChild(m)},getAllChildMarkers:function(a,u){a=a||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(a,u);for(var m=this._markers.length-1;m>=0;m--)u&&this._markers[m].__dragStart||a.push(this._markers[m]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var u=this._childClusters.slice(),d=this._group._map,m=d.getBoundsZoom(this._bounds),_=this._zoom+1,w=d.getZoom(),T;u.length>0&&m>_;){_++;var S=[];for(T=0;T<u.length;T++)S=S.concat(u[T]._childClusters);u=S}m>_?this._group._map.setView(this._latlng,_):m<=w?this._group._map.setView(this._latlng,w+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(u||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(u||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,u=this._childClusters,d=0,m=0,_=this._childCount,w,T,S,b;if(_!==0){for(this._resetBounds(),w=0;w<a.length;w++)S=a[w]._latlng,this._bounds.extend(S),d+=S.lat,m+=S.lng;for(w=0;w<u.length;w++)T=u[w],T._boundsNeedUpdate&&T._recalculateBounds(),this._bounds.extend(T._bounds),S=T._wLatLng,b=T._childCount,d+=S.lat*b,m+=S.lng*b;this._latlng=this._wLatLng=new L.LatLng(d/_,m/_),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,u,d){this._recursively(a,this._group._map.getMinZoom(),d-1,function(m){var _=m._markers,w,T;for(w=_.length-1;w>=0;w--)T=_[w],T._icon&&(T._setPos(u),T.clusterHide())},function(m){var _=m._childClusters,w,T;for(w=_.length-1;w>=0;w--)T=_[w],T._icon&&(T._setPos(u),T.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,u,d,m){this._recursively(a,m,u,function(_){_._recursivelyAnimateChildrenIn(a,_._group._map.latLngToLayerPoint(_.getLatLng()).round(),d),_._isSingleParent()&&d-1===m?(_.clusterShow(),_._recursivelyRemoveChildrenFromMap(a,u,d)):_.clusterHide(),_._addToMap()})},_recursivelyBecomeVisible:function(a,u){this._recursively(a,this._group._map.getMinZoom(),u,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(a,u,d){this._recursively(d,this._group._map.getMinZoom()-1,u,function(m){if(u!==m._zoom)for(var _=m._markers.length-1;_>=0;_--){var w=m._markers[_];d.contains(w._latlng)&&(a&&(w._backupLatlng=w.getLatLng(),w.setLatLng(a),w.clusterHide&&w.clusterHide()),m._group._featureGroup.addLayer(w))}},function(m){m._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var u=this._markers.length-1;u>=0;u--){var d=this._markers[u];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(a-1===this._zoom)for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._restorePosition();else for(var _=this._childClusters.length-1;_>=0;_--)this._childClusters[_]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,u,d,m){var _,w;this._recursively(a,u-1,d-1,function(T){for(w=T._markers.length-1;w>=0;w--)_=T._markers[w],(!m||!m.contains(_._latlng))&&(T._group._featureGroup.removeLayer(_),_.clusterShow&&_.clusterShow())},function(T){for(w=T._childClusters.length-1;w>=0;w--)_=T._childClusters[w],(!m||!m.contains(_._latlng))&&(T._group._featureGroup.removeLayer(_),_.clusterShow&&_.clusterShow())})},_recursively:function(a,u,d,m,_){var w=this._childClusters,T=this._zoom,S,b;if(u<=T&&(m&&m(this),_&&T===d&&_(this)),T<u||T<d)for(S=w.length-1;S>=0;S--)b=w[S],b._boundsNeedUpdate&&b._recalculateBounds(),a.intersects(b._bounds)&&b._recursively(a,u,d,m,_)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,u){var d=this._getCoord(u.x),m=this._getCoord(u.y),_=this._grid,w=_[m]=_[m]||{},T=w[d]=w[d]||[],S=L.Util.stamp(a);this._objectPoint[S]=u,T.push(a)},updateObject:function(a,u){this.removeObject(a),this.addObject(a,u)},removeObject:function(a,u){var d=this._getCoord(u.x),m=this._getCoord(u.y),_=this._grid,w=_[m]=_[m]||{},T=w[d]=w[d]||[],S,b;for(delete this._objectPoint[L.Util.stamp(a)],S=0,b=T.length;S<b;S++)if(T[S]===a)return T.splice(S,1),b===1&&delete w[d],!0},eachObject:function(a,u){var d,m,_,w,T,S,b,N=this._grid;for(d in N){T=N[d];for(m in T)for(S=T[m],_=0,w=S.length;_<w;_++)b=a.call(u,S[_]),b&&(_--,w--)}},getNearObject:function(a){var u=this._getCoord(a.x),d=this._getCoord(a.y),m,_,w,T,S,b,N,O,j=this._objectPoint,D=this._sqCellSize,K=null;for(m=d-1;m<=d+1;m++)if(T=this._grid[m],T){for(_=u-1;_<=u+1;_++)if(S=T[_],S)for(w=0,b=S.length;w<b;w++)N=S[w],O=this._sqDist(j[L.Util.stamp(N)],a),(O<D||O<=D&&K===null)&&(D=O,K=N)}return K},_getCoord:function(a){var u=Math.floor(a/this._cellSize);return isFinite(u)?u:a},_sqDist:function(a,u){var d=u.x-a.x,m=u.y-a.y;return d*d+m*m}},function(){L.QuickHull={getDistant:function(a,u){var d=u[1].lat-u[0].lat,m=u[0].lng-u[1].lng;return m*(a.lat-u[0].lat)+d*(a.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(a,u){var d=0,m=null,_=[],w,T,S;for(w=u.length-1;w>=0;w--){if(T=u[w],S=this.getDistant(T,a),S>0)_.push(T);else continue;S>d&&(d=S,m=T)}return{maxPoint:m,newPoints:_}},buildConvexHull:function(a,u){var d=[],m=this.findMostDistantPointFromBaseLine(a,u);return m.maxPoint?(d=d.concat(this.buildConvexHull([a[0],m.maxPoint],m.newPoints)),d=d.concat(this.buildConvexHull([m.maxPoint,a[1]],m.newPoints)),d):[a[0]]},getConvexHull:function(a){var u=!1,d=!1,m=!1,_=!1,w=null,T=null,S=null,b=null,N=null,O=null,j;for(j=a.length-1;j>=0;j--){var D=a[j];(u===!1||D.lat>u)&&(w=D,u=D.lat),(d===!1||D.lat<d)&&(T=D,d=D.lat),(m===!1||D.lng>m)&&(S=D,m=D.lng),(_===!1||D.lng<_)&&(b=D,_=D.lng)}d!==u?(O=T,N=w):(O=b,N=S);var K=[].concat(this.buildConvexHull([O,N],a),this.buildConvexHull([N,O],a));return K}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),u=[],d,m;for(m=a.length-1;m>=0;m--)d=a[m].getLatLng(),u.push(d);return L.QuickHull.getConvexHull(u)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),u=this._group,d=u._map,m=d.latLngToLayerPoint(this._latlng),_;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?_=this._group.options.spiderfyShapePositions(a.length,m):a.length>=this._circleSpiralSwitchover?_=this._generatePointsSpiral(a.length,m):(m.y+=10,_=this._generatePointsCircle(a.length,m)),this._animationSpiderfy(a,_)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,u){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),m=d/this._2PI,_=this._2PI/a,w=[],T,S;for(m=Math.max(m,35),w.length=a,T=0;T<a;T++)S=this._circleStartAngle+T*_,w[T]=new L.Point(u.x+m*Math.cos(S),u.y+m*Math.sin(S))._round();return w},_generatePointsSpiral:function(a,u){var d=this._group.options.spiderfyDistanceMultiplier,m=d*this._spiralLengthStart,_=d*this._spiralFootSeparation,w=d*this._spiralLengthFactor*this._2PI,T=0,S=[],b;for(S.length=a,b=a;b>=0;b--)b<a&&(S[b]=new L.Point(u.x+m*Math.cos(T),u.y+m*Math.sin(T))._round()),T+=_/m+b*5e-4,m+=w/T;return S},_noanimationUnspiderfy:function(){var a=this._group,u=a._map,d=a._featureGroup,m=this.getAllChildMarkers(null,!0),_,w;for(a._ignoreMove=!0,this.setOpacity(1),w=m.length-1;w>=0;w--)_=m[w],d.removeLayer(_),_._preSpiderfyLatlng&&(_.setLatLng(_._preSpiderfyLatlng),delete _._preSpiderfyLatlng),_.setZIndexOffset&&_.setZIndexOffset(0),_._spiderLeg&&(u.removeLayer(_._spiderLeg),delete _._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:m}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,u){var d=this._group,m=d._map,_=d._featureGroup,w=this._group.options.spiderLegPolylineOptions,T,S,b,N;for(d._ignoreMove=!0,T=0;T<a.length;T++)N=m.layerPointToLatLng(u[T]),S=a[T],b=new L.Polyline([this._latlng,N],w),m.addLayer(b),S._spiderLeg=b,S._preSpiderfyLatlng=S._latlng,S.setLatLng(N),S.setZIndexOffset&&S.setZIndexOffset(1e6),_.addLayer(S);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,u){var d=this,m=this._group,_=m._map,w=m._featureGroup,T=this._latlng,S=_.latLngToLayerPoint(T),b=L.Path.SVG,N=L.extend({},this._group.options.spiderLegPolylineOptions),O=N.opacity,j,D,K,ee,se,me;for(O===void 0&&(O=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),b?(N.opacity=0,N.className=(N.className||"")+" leaflet-cluster-spider-leg"):N.opacity=O,m._ignoreMove=!0,j=0;j<a.length;j++)D=a[j],me=_.layerPointToLatLng(u[j]),K=new L.Polyline([T,me],N),_.addLayer(K),D._spiderLeg=K,b&&(ee=K._path,se=ee.getTotalLength()+.1,ee.style.strokeDasharray=se,ee.style.strokeDashoffset=se),D.setZIndexOffset&&D.setZIndexOffset(1e6),D.clusterHide&&D.clusterHide(),w.addLayer(D),D._setPos&&D._setPos(S);for(m._forceLayout(),m._animationStart(),j=a.length-1;j>=0;j--)me=_.layerPointToLatLng(u[j]),D=a[j],D._preSpiderfyLatlng=D._latlng,D.setLatLng(me),D.clusterShow&&D.clusterShow(),b&&(K=D._spiderLeg,ee=K._path,ee.style.strokeDashoffset=0,K.setStyle({opacity:O}));this.setOpacity(.3),m._ignoreMove=!1,setTimeout(function(){m._animationEnd(),m.fire("spiderfied",{cluster:d,markers:a})},200)},_animationUnspiderfy:function(a){var u=this,d=this._group,m=d._map,_=d._featureGroup,w=a?m._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):m.latLngToLayerPoint(this._latlng),T=this.getAllChildMarkers(null,!0),S=L.Path.SVG,b,N,O,j,D,K;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),N=T.length-1;N>=0;N--)b=T[N],b._preSpiderfyLatlng&&(b.closePopup(),b.setLatLng(b._preSpiderfyLatlng),delete b._preSpiderfyLatlng,K=!0,b._setPos&&(b._setPos(w),K=!1),b.clusterHide&&(b.clusterHide(),K=!1),K&&_.removeLayer(b),S&&(O=b._spiderLeg,j=O._path,D=j.getTotalLength()+.1,j.style.strokeDashoffset=D,O.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var ee=0;for(N=T.length-1;N>=0;N--)b=T[N],b._spiderLeg&&ee++;for(N=T.length-1;N>=0;N--)b=T[N],b._spiderLeg&&(b.clusterShow&&b.clusterShow(),b.setZIndexOffset&&b.setZIndexOffset(0),ee>1&&_.removeLayer(b),m.removeLayer(b._spiderLeg),delete b._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:u,markers:T})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var u,d;for(u in a)for(d=a[u].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(a){var u,d;for(u in a)d=a[u],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(a,u){var d=this.options.icon;return L.setOptions(d,a),this.setIcon(d),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=r,t.MarkerCluster=o,Object.defineProperty(t,"__esModule",{value:!0})})}(Dc,Dc.exports)),Dc.exports}const Uj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",zj=Object.freeze(Object.defineProperty({__proto__:null,default:Uj},Symbol.toStringTag,{value:"Module"})),Bj=If(zj),Hj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",qj=Object.freeze(Object.defineProperty({__proto__:null,default:Hj},Symbol.toStringTag,{value:"Module"})),Wj=If(qj),$j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",Gj=Object.freeze(Object.defineProperty({__proto__:null,default:$j},Symbol.toStringTag,{value:"Module"})),Zj=If(Gj);var TE;function Kj(){if(TE)return $i;TE=1;var n=$i&&$i.__assign||function(){return n=Object.assign||function(_){for(var w,T=1,S=arguments.length;T<S;T++){w=arguments[T];for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(_[b]=w[b])}return _},n.apply(this,arguments)},e=$i&&$i.__rest||function(_,w){var T={};for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&w.indexOf(S)<0&&(T[S]=_[S]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,S=Object.getOwnPropertySymbols(_);b<S.length;b++)w.indexOf(S[b])<0&&Object.prototype.propertyIsEnumerable.call(_,S[b])&&(T[S[b]]=_[S[b]]);return T},t=$i&&$i.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty($i,"__esModule",{value:!0});var r=jj,o=t(eS());Fj(),delete o.default.Icon.Default.prototype._getIconUrl,o.default.Icon.Default.mergeOptions({iconRetinaUrl:Bj.default,iconUrl:Wj.default,shadowUrl:Zj.default});function a(_){var w={},T={};_.children;var S=e(_,["children"]);return Object.entries(S).forEach(function(b){var N,O,j=b[0],D=b[1];j.startsWith("on")?T=n(n({},T),(N={},N[j]=D,N)):w=n(n({},w),(O={},O[j]=D,O))}),{clusterProps:w,clusterEvents:T}}function u(_,w){var T=a(_),S=T.clusterProps,b=T.clusterEvents,N=new o.default.MarkerClusterGroup(S);return Object.entries(b).forEach(function(O){var j=O[0],D=O[1],K="cluster".concat(j.substring(2).toLowerCase());N.on(K,D)}),(0,r.createElementObject)(N,(0,r.extendContext)(w,{layerContainer:N}))}var d=function(_,w,T){},m=(0,r.createPathComponent)(u,d);return $i.default=m,$i}var Qj=Kj();const Yj=oh(Qj),Xj={cafeterias:new vr.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/922/922699.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),hoteles:new vr.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/139/139899.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),puntosDeInteres:new vr.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/2651/2651172.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),Casino:new vr.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/5971/5971903.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),restauranteOSM:new vr.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/3075/3075977.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),barOSM:new vr.Icon({iconUrl:"https://images.icon-icons.com/3015/PNG/512/beer_drink_glass_jar_icon_188550.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},Jj=()=>{const[n,e]=U.useState([]),[t,r]=U.useState({hoteles:!0,puntosDeInteres:!0,Casino:!0,restauranteOSM:!0,barOSM:!0}),o=async()=>(await(await fetch("https://overpass-api.de/api/interpreter",{method:"POST",body:`
    [out:json][timeout:25];
    (
      node["amenity"="restaurant"](around:1000,41.1167,1.2554);
      node["amenity"="bar"](around:1000,41.1167,1.2554);
    );
    out body;
  `})).json()).elements.filter(w=>w.tags&&w.tags.name).map(w=>({tipo:w.tags.amenity==="restaurant"?"restauranteOSM":"barOSM",nombre:w.tags.name,descripcion:w.tags.description||w.tags.cuisine&&`Tipo: ${w.tags.cuisine}`||w.tags["contact:phone"]&&`Tel: ${w.tags["contact:phone"]}`||w.tags.website&&`Web: ${w.tags.website}`||"Información no disponible",coordenadas:[w.lat,w.lon]}));return U.useEffect(()=>{(async()=>{const u=["cafeterias","hoteles","bares","puntosDeInteres","Casino"],d=[];for(const _ of u)(await os(Tn(nt,_))).forEach(T=>{const S=T.data();d.push({tipo:_,nombre:S.nombre,descripcion:S.descripcion,coordenadas:[S.coordenadas.latitude,S.coordenadas.longitude]})});const m=await o();e([...d,...m])})()},[]),E.jsxs("div",{className:"mapa-contenedor",children:[E.jsxs("p",{className:"mapa-parrafo",children:[" ","Puedes mostrar u ocultar los distintos tipos de lugares en el mapa utilizando los siguientes filtros:"]}),E.jsxs("div",{className:"mapa-filtro",children:[E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:t.hoteles,onChange:()=>r(a=>({...a,hoteles:!a.hoteles}))}),"Hoteles"]})," ",E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:t.puntosDeInteres,onChange:()=>r(a=>({...a,puntosDeInteres:!a.puntosDeInteres}))}),"Puntos de Interés"]})," ",E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:t.Casino,onChange:()=>r(a=>({...a,Casino:!a.Casino}))}),"Casino"]}),E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:t.restauranteOSM,onChange:()=>r(a=>({...a,restauranteOSM:!a.restauranteOSM}))}),"Restaurantes"]})," ",E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:t.barOSM,onChange:()=>r(a=>({...a,barOSM:!a.barOSM}))}),"Bares"]})]}),E.jsxs("div",{className:"mapa-leyenda",children:[E.jsx("strong",{children:"🗺️ Leyenda de íconos:"}),E.jsxs("ul",{style:{listStyle:"none",paddingLeft:0},children:[E.jsxs("li",{children:[E.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/139/139899.png",width:"30"})," ","Hotel"]}),E.jsxs("li",{children:[E.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2651/2651172.png",width:"30"})," ","Punto de interés"]}),E.jsxs("li",{children:[E.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5971/5971903.png",width:"30"})," ","Casino"]}),E.jsxs("li",{children:[E.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3075/3075977.png",width:"30"})," ","Restaurante"]}),E.jsxs("li",{children:[E.jsx("img",{src:"https://images.icon-icons.com/3015/PNG/512/beer_drink_glass_jar_icon_188550.png",width:"20"})," ","Bar"]})]})]}),E.jsx("div",{style:{height:"90vh",width:"90%",maxWidth:"800px",margin:"0 auto",padding:"10px",boxSizing:"border-box"},children:E.jsx("div",{className:"mapa-wrapper",children:E.jsxs(Nj,{center:[41.1167,1.2554],zoom:15,style:{height:"100%",width:"100%"},children:[E.jsx(Dj,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'© <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors & CartoDB'}),E.jsx(Yj,{maxClusterRadius:20,disableClusteringAtZoom:20,children:n.filter(a=>t[a.tipo]).map((a,u)=>E.jsx(Oj,{position:a.coordenadas,icon:Xj[a.tipo],children:E.jsxs(Mj,{children:[E.jsx("strong",{children:a.nombre}),a.descripcion!=="Información no disponible"&&a.descripcion!=="Descripción no disponible"&&E.jsxs(E.Fragment,{children:[E.jsx("br",{}),a.descripcion]})]})},u))})]})})})]})},e4="_gridContainer_kcs4w_1",t4="_card_kcs4w_19",n4="_image_kcs4w_53",r4="_contenido_kcs4w_77",i4="_tituloMes_kcs4w_147",bc={gridContainer:e4,card:t4,image:n4,contenido:r4,tituloMes:i4},xE=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],s4=()=>{const[n,e]=U.useState({});return U.useEffect(()=>{(async()=>{try{const r={};for(const o of xE){const a=ln(nt,"eventos",o),u=await Ur(a);u.exists()&&(r[o]={id:u.id,...u.data()})}e(r)}catch(r){console.error("Error al cargar eventos destacados:",r)}})()},[]),E.jsxs("div",{className:"bg-[#0B0C2A] min-h-screen text-white",children:[E.jsx("h2",{className:"text-5xl font-bold text-center pt-10 pb-10",children:"Eventos por mes"}),E.jsx("div",{className:bc.gridContainer,children:xE.map(t=>{const r=n[t];return E.jsx(bt,{to:`/eventos/${t}`,className:bc.card,children:r?.imagenUrl&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:bc.tituloMes,children:t})," ",E.jsx("img",{src:r.imagenUrl,alt:r.nombre||t,className:bc.image}),E.jsx("div",{className:bc.contenido})]})},t)})})]})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function o4(n,e,t){return(e=l4(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(t),!0).forEach(function(r){o4(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function l4(n){var e=a4(n,"string");return typeof e=="symbol"?e:e+""}const SE=()=>{};let xv={},TS={},xS=null,IS={mark:SE,measure:SE};try{typeof window<"u"&&(xv=window),typeof document<"u"&&(TS=document),typeof MutationObserver<"u"&&(xS=MutationObserver),typeof performance<"u"&&(IS=performance)}catch{}const{userAgent:CE=""}=xv.navigator||{},ka=xv,Lt=TS,PE=xS,Od=IS;ka.document;const mo=!!Lt.documentElement&&!!Lt.head&&typeof Lt.addEventListener=="function"&&typeof Lt.createElement=="function",SS=~CE.indexOf("MSIE")||~CE.indexOf("Trident/");var u4=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,c4=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,CS={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},h4={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},PS=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],qn="classic",lp="duotone",d4="sharp",f4="sharp-duotone",bS=[qn,lp,d4,f4],p4={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},m4={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},g4=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),_4={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},v4=["fak","fa-kit","fakd","fa-kit-duotone"],bE={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},y4=["kit"],w4={kit:{"fa-kit":"fak"}},E4=["fak","fakd"],T4={kit:{fak:"fa-kit"}},AE={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Md={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},x4=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],I4=["fak","fa-kit","fakd","fa-kit-duotone"],S4={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},C4={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},P4={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Dg={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},b4=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],jg=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...x4,...b4],A4=["solid","regular","light","thin","duotone","brands"],AS=[1,2,3,4,5,6,7,8,9,10],k4=AS.concat([11,12,13,14,15,16,17,18,19,20]),R4=[...Object.keys(P4),...A4,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Md.GROUP,Md.SWAP_OPACITY,Md.PRIMARY,Md.SECONDARY].concat(AS.map(n=>"".concat(n,"x"))).concat(k4.map(n=>"w-".concat(n))),L4={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const ho="___FONT_AWESOME___",Vg=16,kS="fa",RS="svg-inline--fa",Pl="data-fa-i2svg",Fg="data-fa-pseudo-element",N4="data-fa-pseudo-element-pending",Iv="data-prefix",Sv="data-icon",kE="fontawesome-i2svg",O4="async",M4=["HTML","HEAD","STYLE","SCRIPT"],LS=(()=>{try{return!0}catch{return!1}})();function Sh(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[qn]}})}const NS=ge({},CS);NS[qn]=ge(ge(ge(ge({},{"fa-duotone":"duotone"}),CS[qn]),bE.kit),bE["kit-duotone"]);const D4=Sh(NS),Ug=ge({},_4);Ug[qn]=ge(ge(ge(ge({},{duotone:"fad"}),Ug[qn]),AE.kit),AE["kit-duotone"]);const RE=Sh(Ug),zg=ge({},Dg);zg[qn]=ge(ge({},zg[qn]),T4.kit);const Cv=Sh(zg),Bg=ge({},C4);Bg[qn]=ge(ge({},Bg[qn]),w4.kit);Sh(Bg);const j4=u4,OS="fa-layers-text",V4=c4,F4=ge({},p4);Sh(F4);const U4=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],$m=h4,z4=[...y4,...R4],Gc=ka.FontAwesomeConfig||{};function B4(n){var e=Lt.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function H4(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}Lt&&typeof Lt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,r]=e;const o=H4(B4(t));o!=null&&(Gc[r]=o)});const MS={styleDefault:"solid",familyDefault:qn,cssPrefix:kS,replacementClass:RS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Gc.familyPrefix&&(Gc.cssPrefix=Gc.familyPrefix);const Vu=ge(ge({},MS),Gc);Vu.autoReplaceSvg||(Vu.observeMutations=!1);const Ne={};Object.keys(MS).forEach(n=>{Object.defineProperty(Ne,n,{enumerable:!0,set:function(e){Vu[n]=e,Zc.forEach(t=>t(Ne))},get:function(){return Vu[n]}})});Object.defineProperty(Ne,"familyPrefix",{enumerable:!0,set:function(n){Vu.cssPrefix=n,Zc.forEach(e=>e(Ne))},get:function(){return Vu.cssPrefix}});ka.FontAwesomeConfig=Ne;const Zc=[];function q4(n){return Zc.push(n),()=>{Zc.splice(Zc.indexOf(n),1)}}const pa=Vg,Qi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function W4(n){if(!n||!mo)return;const e=Lt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=Lt.head.childNodes;let r=null;for(let o=t.length-1;o>-1;o--){const a=t[o],u=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=a)}return Lt.head.insertBefore(e,r),n}const $4="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ih(){let n=12,e="";for(;n-- >0;)e+=$4[Math.random()*62|0];return e}function Qu(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Pv(n){return n.classList?Qu(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function DS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function G4(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(DS(n[t]),'" '),"").trim()}function up(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function bv(n){return n.size!==Qi.size||n.x!==Qi.x||n.y!==Qi.y||n.rotate!==Qi.rotate||n.flipX||n.flipY}function Z4(n){let{transform:e,containerWidth:t,iconWidth:r}=n;const o={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)"),m={transform:"".concat(a," ").concat(u," ").concat(d)},_={transform:"translate(".concat(r/2*-1," -256)")};return{outer:o,inner:m,path:_}}function K4(n){let{transform:e,width:t=Vg,height:r=Vg,startCentered:o=!1}=n,a="";return o&&SS?a+="translate(".concat(e.x/pa-t/2,"em, ").concat(e.y/pa-r/2,"em) "):o?a+="translate(calc(-50% + ".concat(e.x/pa,"em), calc(-50% + ").concat(e.y/pa,"em)) "):a+="translate(".concat(e.x/pa,"em, ").concat(e.y/pa,"em) "),a+="scale(".concat(e.size/pa*(e.flipX?-1:1),", ").concat(e.size/pa*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var Q4=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function jS(){const n=kS,e=RS,t=Ne.cssPrefix,r=Ne.replacementClass;let o=Q4;if(t!==n||r!==e){const a=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");o=o.replace(a,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(d,".".concat(r))}return o}let LE=!1;function Gm(){Ne.autoAddCss&&!LE&&(W4(jS()),LE=!0)}var Y4={mixout(){return{dom:{css:jS,insertCss:Gm}}},hooks(){return{beforeDOMElementCreation(){Gm()},beforeI2svg(){Gm()}}}};const fo=ka||{};fo[ho]||(fo[ho]={});fo[ho].styles||(fo[ho].styles={});fo[ho].hooks||(fo[ho].hooks={});fo[ho].shims||(fo[ho].shims=[]);var Yi=fo[ho];const VS=[],FS=function(){Lt.removeEventListener("DOMContentLoaded",FS),Ef=1,VS.map(n=>n())};let Ef=!1;mo&&(Ef=(Lt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Lt.readyState),Ef||Lt.addEventListener("DOMContentLoaded",FS));function X4(n){mo&&(Ef?setTimeout(n,0):VS.push(n))}function Ch(n){const{tag:e,attributes:t={},children:r=[]}=n;return typeof n=="string"?DS(n):"<".concat(e," ").concat(G4(t),">").concat(r.map(Ch).join(""),"</").concat(e,">")}function NE(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var Zm=function(e,t,r,o){var a=Object.keys(e),u=a.length,d=t,m,_,w;for(r===void 0?(m=1,w=e[a[0]]):(m=0,w=r);m<u;m++)_=a[m],w=d(w,e[_],_,e);return w};function J4(n){const e=[];let t=0;const r=n.length;for(;t<r;){const o=n.charCodeAt(t++);if(o>=55296&&o<=56319&&t<r){const a=n.charCodeAt(t++);(a&64512)==56320?e.push(((o&1023)<<10)+(a&1023)+65536):(e.push(o),t--)}else e.push(o)}return e}function Hg(n){const e=J4(n);return e.length===1?e[0].toString(16):null}function eV(n,e){const t=n.length;let r=n.charCodeAt(e),o;return r>=55296&&r<=56319&&t>e+1&&(o=n.charCodeAt(e+1),o>=56320&&o<=57343)?(r-55296)*1024+o-56320+65536:r}function OE(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return!!r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function qg(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=t,o=OE(e);typeof Yi.hooks.addPack=="function"&&!r?Yi.hooks.addPack(n,OE(e)):Yi.styles[n]=ge(ge({},Yi.styles[n]||{}),o),n==="fas"&&qg("fa",e)}const{styles:sh,shims:tV}=Yi,US=Object.keys(Cv),nV=US.reduce((n,e)=>(n[e]=Object.keys(Cv[e]),n),{});let Av=null,zS={},BS={},HS={},qS={},WS={};function rV(n){return~z4.indexOf(n)}function iV(n,e){const t=e.split("-"),r=t[0],o=t.slice(1).join("-");return r===n&&o!==""&&!rV(o)?o:null}const $S=()=>{const n=r=>Zm(sh,(o,a,u)=>(o[u]=Zm(a,r,{}),o),{});zS=n((r,o,a)=>(o[3]&&(r[o[3]]=a),o[2]&&o[2].filter(d=>typeof d=="number").forEach(d=>{r[d.toString(16)]=a}),r)),BS=n((r,o,a)=>(r[a]=a,o[2]&&o[2].filter(d=>typeof d=="string").forEach(d=>{r[d]=a}),r)),WS=n((r,o,a)=>{const u=o[2];return r[a]=a,u.forEach(d=>{r[d]=a}),r});const e="far"in sh||Ne.autoFetchSvg,t=Zm(tV,(r,o)=>{const a=o[0];let u=o[1];const d=o[2];return u==="far"&&!e&&(u="fas"),typeof a=="string"&&(r.names[a]={prefix:u,iconName:d}),typeof a=="number"&&(r.unicodes[a.toString(16)]={prefix:u,iconName:d}),r},{names:{},unicodes:{}});HS=t.names,qS=t.unicodes,Av=cp(Ne.styleDefault,{family:Ne.familyDefault})};q4(n=>{Av=cp(n.styleDefault,{family:Ne.familyDefault})});$S();function kv(n,e){return(zS[n]||{})[e]}function sV(n,e){return(BS[n]||{})[e]}function _l(n,e){return(WS[n]||{})[e]}function GS(n){return HS[n]||{prefix:null,iconName:null}}function oV(n){const e=qS[n],t=kv("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Ra(){return Av}const ZS=()=>({prefix:null,iconName:null,rest:[]});function aV(n){let e=qn;const t=US.reduce((r,o)=>(r[o]="".concat(Ne.cssPrefix,"-").concat(o),r),{});return bS.forEach(r=>{(n.includes(t[r])||n.some(o=>nV[r].includes(o)))&&(e=r)}),e}function cp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=qn}=e,r=D4[t][n];if(t===lp&&!n)return"fad";const o=RE[t][n]||RE[t][r],a=n in Yi.styles?n:null;return o||a||null}function lV(n){let e=[],t=null;return n.forEach(r=>{const o=iV(Ne.cssPrefix,r);o?t=o:r&&e.push(r)}),{iconName:t,rest:e}}function ME(n){return n.sort().filter((e,t,r)=>r.indexOf(e)===t)}function hp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let r=null;const o=jg.concat(I4),a=ME(n.filter(T=>o.includes(T))),u=ME(n.filter(T=>!jg.includes(T))),d=a.filter(T=>(r=T,!PS.includes(T))),[m=null]=d,_=aV(a),w=ge(ge({},lV(u)),{},{prefix:cp(m,{family:_})});return ge(ge(ge({},w),dV({values:n,family:_,styles:sh,config:Ne,canonical:w,givenPrefix:r})),uV(t,r,w))}function uV(n,e,t){let{prefix:r,iconName:o}=t;if(n||!r||!o)return{prefix:r,iconName:o};const a=e==="fa"?GS(o):{},u=_l(r,o);return o=a.iconName||u||o,r=a.prefix||r,r==="far"&&!sh.far&&sh.fas&&!Ne.autoFetchSvg&&(r="fas"),{prefix:r,iconName:o}}const cV=bS.filter(n=>n!==qn||n!==lp),hV=Object.keys(Dg).filter(n=>n!==qn).map(n=>Object.keys(Dg[n])).flat();function dV(n){const{values:e,family:t,canonical:r,givenPrefix:o="",styles:a={},config:u={}}=n,d=t===lp,m=e.includes("fa-duotone")||e.includes("fad"),_=u.familyDefault==="duotone",w=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(m||_||w)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&cV.includes(t)&&(Object.keys(a).find(S=>hV.includes(S))||u.autoFetchSvg)){const S=g4.get(t).defaultShortPrefixId;r.prefix=S,r.iconName=_l(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||o==="fa")&&(r.prefix=Ra()||"fas"),r}class fV{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const o=t.reduce(this._pullDefinitions,{});Object.keys(o).forEach(a=>{this.definitions[a]=ge(ge({},this.definitions[a]||{}),o[a]),qg(a,o[a]);const u=Cv[qn][a];u&&qg(u,o[a]),$S()})}reset(){this.definitions={}}_pullDefinitions(e,t){const r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map(o=>{const{prefix:a,iconName:u,icon:d}=r[o],m=d[2];e[a]||(e[a]={}),m.length>0&&m.forEach(_=>{typeof _=="string"&&(e[a][_]=d)}),e[a][u]=d}),e}}let DE=[],Eu={};const Pu={},pV=Object.keys(Pu);function mV(n,e){let{mixoutsTo:t}=e;return DE=n,Eu={},Object.keys(Pu).forEach(r=>{pV.indexOf(r)===-1&&delete Pu[r]}),DE.forEach(r=>{const o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(a=>{typeof o[a]=="function"&&(t[a]=o[a]),typeof o[a]=="object"&&Object.keys(o[a]).forEach(u=>{t[a]||(t[a]={}),t[a][u]=o[a][u]})}),r.hooks){const a=r.hooks();Object.keys(a).forEach(u=>{Eu[u]||(Eu[u]=[]),Eu[u].push(a[u])})}r.provides&&r.provides(Pu)}),t}function Wg(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];return(Eu[n]||[]).forEach(u=>{e=u.apply(null,[e,...r])}),e}function bl(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(Eu[n]||[]).forEach(a=>{a.apply(null,t)})}function La(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Pu[n]?Pu[n].apply(null,e):void 0}function $g(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||Ra();if(e)return e=_l(t,e)||e,NE(KS.definitions,t,e)||NE(Yi.styles,t,e)}const KS=new fV,gV=()=>{Ne.autoReplaceSvg=!1,Ne.observeMutations=!1,bl("noAuto")},_V={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return mo?(bl("beforeI2svg",n),La("pseudoElements2svg",n),La("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;Ne.autoReplaceSvg===!1&&(Ne.autoReplaceSvg=!0),Ne.observeMutations=!0,X4(()=>{yV({autoReplaceSvgRoot:e}),bl("watch",n)})}},vV={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:_l(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=cp(n[0]);return{prefix:t,iconName:_l(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(Ne.cssPrefix,"-"))>-1||n.match(j4))){const e=hp(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||Ra(),iconName:_l(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=Ra();return{prefix:e,iconName:_l(e,n)||n}}}},zr={noAuto:gV,config:Ne,dom:_V,parse:vV,library:KS,findIconDefinition:$g,toHtml:Ch},yV=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Lt}=n;(Object.keys(Yi.styles).length>0||Ne.autoFetchSvg)&&mo&&Ne.autoReplaceSvg&&zr.dom.i2svg({node:e})};function dp(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>Ch(t))}}),Object.defineProperty(n,"node",{get:function(){if(!mo)return;const t=Lt.createElement("div");return t.innerHTML=n.html,t.children}}),n}function wV(n){let{children:e,main:t,mask:r,attributes:o,styles:a,transform:u}=n;if(bv(u)&&t.found&&!r.found){const{width:d,height:m}=t,_={x:d/m/2,y:.5};o.style=up(ge(ge({},a),{},{"transform-origin":"".concat(_.x+u.x/16,"em ").concat(_.y+u.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}function EV(n){let{prefix:e,iconName:t,children:r,attributes:o,symbol:a}=n;const u=a===!0?"".concat(e,"-").concat(Ne.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ge(ge({},o),{},{id:u}),children:r}]}]}function Rv(n){const{icons:{main:e,mask:t},prefix:r,iconName:o,transform:a,symbol:u,title:d,maskId:m,titleId:_,extra:w,watchable:T=!1}=n,{width:S,height:b}=t.found?t:e,N=E4.includes(r),O=[Ne.replacementClass,o?"".concat(Ne.cssPrefix,"-").concat(o):""].filter(me=>w.classes.indexOf(me)===-1).filter(me=>me!==""||!!me).concat(w.classes).join(" ");let j={children:[],attributes:ge(ge({},w.attributes),{},{"data-prefix":r,"data-icon":o,class:O,role:w.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(S," ").concat(b)})};const D=N&&!~w.classes.indexOf("fa-fw")?{width:"".concat(S/b*16*.0625,"em")}:{};T&&(j.attributes[Pl]=""),d&&(j.children.push({tag:"title",attributes:{id:j.attributes["aria-labelledby"]||"title-".concat(_||ih())},children:[d]}),delete j.attributes.title);const K=ge(ge({},j),{},{prefix:r,iconName:o,main:e,mask:t,maskId:m,transform:a,symbol:u,styles:ge(ge({},D),w.styles)}),{children:ee,attributes:se}=t.found&&e.found?La("generateAbstractMask",K)||{children:[],attributes:{}}:La("generateAbstractIcon",K)||{children:[],attributes:{}};return K.children=ee,K.attributes=se,u?EV(K):wV(K)}function jE(n){const{content:e,width:t,height:r,transform:o,title:a,extra:u,watchable:d=!1}=n,m=ge(ge(ge({},u.attributes),a?{title:a}:{}),{},{class:u.classes.join(" ")});d&&(m[Pl]="");const _=ge({},u.styles);bv(o)&&(_.transform=K4({transform:o,startCentered:!0,width:t,height:r}),_["-webkit-transform"]=_.transform);const w=up(_);w.length>0&&(m.style=w);const T=[];return T.push({tag:"span",attributes:m,children:[e]}),a&&T.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),T}function TV(n){const{content:e,title:t,extra:r}=n,o=ge(ge(ge({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),a=up(r.styles);a.length>0&&(o.style=a);const u=[];return u.push({tag:"span",attributes:o,children:[e]}),t&&u.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),u}const{styles:Km}=Yi;function Gg(n){const e=n[0],t=n[1],[r]=n.slice(4);let o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(Ne.cssPrefix,"-").concat($m.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ne.cssPrefix,"-").concat($m.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ne.cssPrefix,"-").concat($m.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:t,icon:o}}const xV={found:!1,width:512,height:512};function IV(n,e){!LS&&!Ne.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function Zg(n,e){let t=e;return e==="fa"&&Ne.styleDefault!==null&&(e=Ra()),new Promise((r,o)=>{if(t==="fa"){const a=GS(n)||{};n=a.iconName||n,e=a.prefix||e}if(n&&e&&Km[e]&&Km[e][n]){const a=Km[e][n];return r(Gg(a))}IV(n,e),r(ge(ge({},xV),{},{icon:Ne.showMissingIcons&&n?La("missingIconAbstract")||{}:{}}))})}const VE=()=>{},Kg=Ne.measurePerformance&&Od&&Od.mark&&Od.measure?Od:{mark:VE,measure:VE},jc='FA "6.7.2"',SV=n=>(Kg.mark("".concat(jc," ").concat(n," begins")),()=>QS(n)),QS=n=>{Kg.mark("".concat(jc," ").concat(n," ends")),Kg.measure("".concat(jc," ").concat(n),"".concat(jc," ").concat(n," begins"),"".concat(jc," ").concat(n," ends"))};var Lv={begin:SV,end:QS};const Kd=()=>{};function FE(n){return typeof(n.getAttribute?n.getAttribute(Pl):null)=="string"}function CV(n){const e=n.getAttribute?n.getAttribute(Iv):null,t=n.getAttribute?n.getAttribute(Sv):null;return e&&t}function PV(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Ne.replacementClass)}function bV(){return Ne.autoReplaceSvg===!0?Qd.replace:Qd[Ne.autoReplaceSvg]||Qd.replace}function AV(n){return Lt.createElementNS("http://www.w3.org/2000/svg",n)}function kV(n){return Lt.createElement(n)}function YS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?AV:kV}=e;if(typeof n=="string")return Lt.createTextNode(n);const r=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(a){r.setAttribute(a,n.attributes[a])}),(n.children||[]).forEach(function(a){r.appendChild(YS(a,{ceFn:t}))}),r}function RV(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Qd={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(YS(t),e)}),e.getAttribute(Pl)===null&&Ne.keepOriginalSource){let t=Lt.createComment(RV(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~Pv(e).indexOf(Ne.replacementClass))return Qd.replace(n);const r=new RegExp("".concat(Ne.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const a=t[0].attributes.class.split(" ").reduce((u,d)=>(d===Ne.replacementClass||d.match(r)?u.toSvg.push(d):u.toNode.push(d),u),{toNode:[],toSvg:[]});t[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}const o=t.map(a=>Ch(a)).join(`
`);e.setAttribute(Pl,""),e.innerHTML=o}};function UE(n){n()}function XS(n,e){const t=typeof e=="function"?e:Kd;if(n.length===0)t();else{let r=UE;Ne.mutateApproach===O4&&(r=ka.requestAnimationFrame||UE),r(()=>{const o=bV(),a=Lv.begin("mutate");n.map(o),a(),t()})}}let Nv=!1;function JS(){Nv=!0}function Qg(){Nv=!1}let Tf=null;function zE(n){if(!PE||!Ne.observeMutations)return;const{treeCallback:e=Kd,nodeCallback:t=Kd,pseudoElementsCallback:r=Kd,observeMutationsRoot:o=Lt}=n;Tf=new PE(a=>{if(Nv)return;const u=Ra();Qu(a).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!FE(d.addedNodes[0])&&(Ne.searchPseudoElements&&r(d.target),e(d.target)),d.type==="attributes"&&d.target.parentNode&&Ne.searchPseudoElements&&r(d.target.parentNode),d.type==="attributes"&&FE(d.target)&&~U4.indexOf(d.attributeName))if(d.attributeName==="class"&&CV(d.target)){const{prefix:m,iconName:_}=hp(Pv(d.target));d.target.setAttribute(Iv,m||u),_&&d.target.setAttribute(Sv,_)}else PV(d.target)&&t(d.target)})}),mo&&Tf.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function LV(){Tf&&Tf.disconnect()}function NV(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((r,o)=>{const a=o.split(":"),u=a[0],d=a.slice(1);return u&&d.length>0&&(r[u]=d.join(":").trim()),r},{})),t}function OV(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"";let o=hp(Pv(n));return o.prefix||(o.prefix=Ra()),e&&t&&(o.prefix=e,o.iconName=t),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=sV(o.prefix,n.innerText)||kv(o.prefix,Hg(n.innerText))),!o.iconName&&Ne.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=n.firstChild.data)),o}function MV(n){const e=Qu(n.attributes).reduce((o,a)=>(o.name!=="class"&&o.name!=="style"&&(o[a.name]=a.value),o),{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Ne.autoA11y&&(t?e["aria-labelledby"]="".concat(Ne.replacementClass,"-title-").concat(r||ih()):(e["aria-hidden"]="true",e.focusable="false")),e}function DV(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Qi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function BE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:r,rest:o}=OV(n),a=MV(n),u=Wg("parseNodeAttributes",{},n);let d=e.styleParser?NV(n):[];return ge({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:Qi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:d,attributes:a}},u)}const{styles:jV}=Yi;function eC(n){const e=Ne.autoReplaceSvg==="nest"?BE(n,{styleParser:!1}):BE(n);return~e.extra.classes.indexOf(OS)?La("generateLayersText",n,e):La("generateSvgReplacementMutation",n,e)}function VV(){return[...v4,...jg]}function HE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!mo)return Promise.resolve();const t=Lt.documentElement.classList,r=w=>t.add("".concat(kE,"-").concat(w)),o=w=>t.remove("".concat(kE,"-").concat(w)),a=Ne.autoFetchSvg?VV():PS.concat(Object.keys(jV));a.includes("fa")||a.push("fa");const u=[".".concat(OS,":not([").concat(Pl,"])")].concat(a.map(w=>".".concat(w,":not([").concat(Pl,"])"))).join(", ");if(u.length===0)return Promise.resolve();let d=[];try{d=Qu(n.querySelectorAll(u))}catch{}if(d.length>0)r("pending"),o("complete");else return Promise.resolve();const m=Lv.begin("onTree"),_=d.reduce((w,T)=>{try{const S=eC(T);S&&w.push(S)}catch(S){LS||S.name==="MissingIcon"&&console.error(S)}return w},[]);return new Promise((w,T)=>{Promise.all(_).then(S=>{XS(S,()=>{r("active"),r("complete"),o("pending"),typeof e=="function"&&e(),m(),w()})}).catch(S=>{m(),T(S)})})}function FV(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;eC(n).then(t=>{t&&XS([t],e)})}function UV(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:$g(e||{});let{mask:o}=t;return o&&(o=(o||{}).icon?o:$g(o||{})),n(r,ge(ge({},t),{},{mask:o}))}}const zV=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Qi,symbol:r=!1,mask:o=null,maskId:a=null,title:u=null,titleId:d=null,classes:m=[],attributes:_={},styles:w={}}=e;if(!n)return;const{prefix:T,iconName:S,icon:b}=n;return dp(ge({type:"icon"},n),()=>(bl("beforeDOMElementCreation",{iconDefinition:n,params:e}),Ne.autoA11y&&(u?_["aria-labelledby"]="".concat(Ne.replacementClass,"-title-").concat(d||ih()):(_["aria-hidden"]="true",_.focusable="false")),Rv({icons:{main:Gg(b),mask:o?Gg(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:T,iconName:S,transform:ge(ge({},Qi),t),symbol:r,title:u,maskId:a,titleId:d,extra:{attributes:_,styles:w,classes:m}})))};var BV={mixout(){return{icon:UV(zV)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=HE,n.nodeCallback=FV,n}}},provides(n){n.i2svg=function(e){const{node:t=Lt,callback:r=()=>{}}=e;return HE(t,r)},n.generateSvgReplacementMutation=function(e,t){const{iconName:r,title:o,titleId:a,prefix:u,transform:d,symbol:m,mask:_,maskId:w,extra:T}=t;return new Promise((S,b)=>{Promise.all([Zg(r,u),_.iconName?Zg(_.iconName,_.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(N=>{let[O,j]=N;S([e,Rv({icons:{main:O,mask:j},prefix:u,iconName:r,transform:d,symbol:m,maskId:w,title:o,titleId:a,extra:T,watchable:!0})])}).catch(b)})},n.generateAbstractIcon=function(e){let{children:t,attributes:r,main:o,transform:a,styles:u}=e;const d=up(u);d.length>0&&(r.style=d);let m;return bv(a)&&(m=La("generateAbstractTransformGrouping",{main:o,transform:a,containerWidth:o.width,iconWidth:o.width})),t.push(m||o.icon),{children:t,attributes:r}}}},HV={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return dp({type:"layer"},()=>{bl("beforeDOMElementCreation",{assembler:n,params:e});let r=[];return n(o=>{Array.isArray(o)?o.map(a=>{r=r.concat(a.abstract)}):r=r.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(Ne.cssPrefix,"-layers"),...t].join(" ")},children:r}]})}}}},qV={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:r=[],attributes:o={},styles:a={}}=e;return dp({type:"counter",content:n},()=>(bl("beforeDOMElementCreation",{content:n,params:e}),TV({content:n.toString(),title:t,extra:{attributes:o,styles:a,classes:["".concat(Ne.cssPrefix,"-layers-counter"),...r]}})))}}}},WV={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Qi,title:r=null,classes:o=[],attributes:a={},styles:u={}}=e;return dp({type:"text",content:n},()=>(bl("beforeDOMElementCreation",{content:n,params:e}),jE({content:n,transform:ge(ge({},Qi),t),title:r,extra:{attributes:a,styles:u,classes:["".concat(Ne.cssPrefix,"-layers-text"),...o]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:r,transform:o,extra:a}=t;let u=null,d=null;if(SS){const m=parseInt(getComputedStyle(e).fontSize,10),_=e.getBoundingClientRect();u=_.width/m,d=_.height/m}return Ne.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,jE({content:e.innerHTML,width:u,height:d,transform:o,title:r,extra:a,watchable:!0})])}}};const $V=new RegExp('"',"ug"),qE=[1105920,1112319],WE=ge(ge(ge(ge({},{FontAwesome:{normal:"fas",400:"fas"}}),m4),L4),S4),Yg=Object.keys(WE).reduce((n,e)=>(n[e.toLowerCase()]=WE[e],n),{}),GV=Object.keys(Yg).reduce((n,e)=>{const t=Yg[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function ZV(n){const e=n.replace($V,""),t=eV(e,0),r=t>=qE[0]&&t<=qE[1],o=e.length===2?e[0]===e[1]:!1;return{value:Hg(o?e[0]:e),isSecondary:r||o}}function KV(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),o=isNaN(r)?"normal":r;return(Yg[t]||{})[o]||GV[t]}function $E(n,e){const t="".concat(N4).concat(e.replace(":","-"));return new Promise((r,o)=>{if(n.getAttribute(t)!==null)return r();const u=Qu(n.children).filter(S=>S.getAttribute(Fg)===e)[0],d=ka.getComputedStyle(n,e),m=d.getPropertyValue("font-family"),_=m.match(V4),w=d.getPropertyValue("font-weight"),T=d.getPropertyValue("content");if(u&&!_)return n.removeChild(u),r();if(_&&T!=="none"&&T!==""){const S=d.getPropertyValue("content");let b=KV(m,w);const{value:N,isSecondary:O}=ZV(S),j=_[0].startsWith("FontAwesome");let D=kv(b,N),K=D;if(j){const ee=oV(N);ee.iconName&&ee.prefix&&(D=ee.iconName,b=ee.prefix)}if(D&&!O&&(!u||u.getAttribute(Iv)!==b||u.getAttribute(Sv)!==K)){n.setAttribute(t,K),u&&n.removeChild(u);const ee=DV(),{extra:se}=ee;se.attributes[Fg]=e,Zg(D,b).then(me=>{const Se=Rv(ge(ge({},ee),{},{icons:{main:me,mask:ZS()},prefix:b,iconName:K,extra:se,watchable:!0})),B=Lt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(B,n.firstChild):n.appendChild(B),B.outerHTML=Se.map(M=>Ch(M)).join(`
`),n.removeAttribute(t),r()}).catch(o)}else r()}else r()})}function QV(n){return Promise.all([$E(n,"::before"),$E(n,"::after")])}function YV(n){return n.parentNode!==document.head&&!~M4.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Fg)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function GE(n){if(mo)return new Promise((e,t)=>{const r=Qu(n.querySelectorAll("*")).filter(YV).map(QV),o=Lv.begin("searchPseudoElements");JS(),Promise.all(r).then(()=>{o(),Qg(),e()}).catch(()=>{o(),Qg(),t()})})}var XV={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=GE,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=Lt}=e;Ne.searchPseudoElements&&GE(t)}}};let ZE=!1;var JV={mixout(){return{dom:{unwatch(){JS(),ZE=!0}}}},hooks(){return{bootstrap(){zE(Wg("mutationObserverCallbacks",{}))},noAuto(){LV()},watch(n){const{observeMutationsRoot:e}=n;ZE?Qg():zE(Wg("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const KE=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,r)=>{const o=r.toLowerCase().split("-"),a=o[0];let u=o.slice(1).join("-");if(a&&u==="h")return t.flipX=!0,t;if(a&&u==="v")return t.flipY=!0,t;if(u=parseFloat(u),isNaN(u))return t;switch(a){case"grow":t.size=t.size+u;break;case"shrink":t.size=t.size-u;break;case"left":t.x=t.x-u;break;case"right":t.x=t.x+u;break;case"up":t.y=t.y-u;break;case"down":t.y=t.y+u;break;case"rotate":t.rotate=t.rotate+u;break}return t},e)};var eF={mixout(){return{parse:{transform:n=>KE(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=KE(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:r,containerWidth:o,iconWidth:a}=e;const u={transform:"translate(".concat(o/2," 256)")},d="translate(".concat(r.x*32,", ").concat(r.y*32,") "),m="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),_="rotate(".concat(r.rotate," 0 0)"),w={transform:"".concat(d," ").concat(m," ").concat(_)},T={transform:"translate(".concat(a/2*-1," -256)")},S={outer:u,inner:w,path:T};return{tag:"g",attributes:ge({},S.outer),children:[{tag:"g",attributes:ge({},S.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:ge(ge({},t.icon.attributes),S.path)}]}]}}}};const Qm={x:0,y:0,width:"100%",height:"100%"};function QE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function tF(n){return n.tag==="g"?n.children:[n]}var nF={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),r=t?hp(t.split(" ").map(o=>o.trim())):ZS();return r.prefix||(r.prefix=Ra()),n.mask=r,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:r,main:o,mask:a,maskId:u,transform:d}=e;const{width:m,icon:_}=o,{width:w,icon:T}=a,S=Z4({transform:d,containerWidth:w,iconWidth:m}),b={tag:"rect",attributes:ge(ge({},Qm),{},{fill:"white"})},N=_.children?{children:_.children.map(QE)}:{},O={tag:"g",attributes:ge({},S.inner),children:[QE(ge({tag:_.tag,attributes:ge(ge({},_.attributes),S.path)},N))]},j={tag:"g",attributes:ge({},S.outer),children:[O]},D="mask-".concat(u||ih()),K="clip-".concat(u||ih()),ee={tag:"mask",attributes:ge(ge({},Qm),{},{id:D,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[b,j]},se={tag:"defs",children:[{tag:"clipPath",attributes:{id:K},children:tF(T)},ee]};return t.push(se,{tag:"rect",attributes:ge({fill:"currentColor","clip-path":"url(#".concat(K,")"),mask:"url(#".concat(D,")")},Qm)}),{children:t,attributes:r}}}},rF={provides(n){let e=!1;ka.matchMedia&&(e=ka.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],r={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:ge(ge({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=ge(ge({},o),{},{attributeName:"opacity"}),u={tag:"circle",attributes:ge(ge({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:ge(ge({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ge(ge({},a),{},{values:"1;0;1;1;0;1;"})}),t.push(u),t.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ge(ge({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:ge(ge({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ge(ge({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},iF={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),r=t===null?!1:t===""?!0:t;return n.symbol=r,n}}}},sF=[Y4,BV,HV,qV,WV,XV,JV,eF,nF,rF,iF];mV(sF,{mixoutsTo:zr});zr.noAuto;zr.config;zr.library;zr.dom;const Xg=zr.parse;zr.findIconDefinition;zr.toHtml;const oF=zr.icon;zr.layer;zr.text;zr.counter;var Ym={exports:{}},Xm,YE;function aF(){if(YE)return Xm;YE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xm=n,Xm}var Jm,XE;function lF(){if(XE)return Jm;XE=1;var n=aF();function e(){}function t(){}return t.resetWarningCache=e,Jm=function(){function r(u,d,m,_,w,T){if(T!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Jm}var JE;function uF(){return JE||(JE=1,Ym.exports=lF()()),Ym.exports}var cF=uF();const tt=oh(cF);function eT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Zi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(t),!0).forEach(function(r){Tu(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xf(n){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(n)}function Tu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hF(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function dF(n,e){if(n==null)return{};var t=hF(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Jg(n){return fF(n)||pF(n)||mF(n)||gF()}function fF(n){if(Array.isArray(n))return e_(n)}function pF(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function mF(n,e){if(n){if(typeof n=="string")return e_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return e_(n,e)}}function e_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function gF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(n){var e,t=n.beat,r=n.fade,o=n.beatFade,a=n.bounce,u=n.shake,d=n.flash,m=n.spin,_=n.spinPulse,w=n.spinReverse,T=n.pulse,S=n.fixedWidth,b=n.inverse,N=n.border,O=n.listItem,j=n.flip,D=n.size,K=n.rotation,ee=n.pull,se=(e={"fa-beat":t,"fa-fade":r,"fa-beat-fade":o,"fa-bounce":a,"fa-shake":u,"fa-flash":d,"fa-spin":m,"fa-spin-reverse":w,"fa-spin-pulse":_,"fa-pulse":T,"fa-fw":S,"fa-inverse":b,"fa-border":N,"fa-li":O,"fa-flip":j===!0,"fa-flip-horizontal":j==="horizontal"||j==="both","fa-flip-vertical":j==="vertical"||j==="both"},Tu(e,"fa-".concat(D),typeof D<"u"&&D!==null),Tu(e,"fa-rotate-".concat(K),typeof K<"u"&&K!==null&&K!==0),Tu(e,"fa-pull-".concat(ee),typeof ee<"u"&&ee!==null),Tu(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(se).map(function(me){return se[me]?me:null}).filter(function(me){return me})}function vF(n){return n=n-0,n===n}function tC(n){return vF(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var yF=["style"];function wF(n){return n.charAt(0).toUpperCase()+n.slice(1)}function EF(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var r=t.indexOf(":"),o=tC(t.slice(0,r)),a=t.slice(r+1).trim();return o.startsWith("webkit")?e[wF(o)]=a:e[o]=a,e},{})}function nC(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(m){return nC(n,m)}),o=Object.keys(e.attributes||{}).reduce(function(m,_){var w=e.attributes[_];switch(_){case"class":m.attrs.className=w,delete e.attributes.class;break;case"style":m.attrs.style=EF(w);break;default:_.indexOf("aria-")===0||_.indexOf("data-")===0?m.attrs[_.toLowerCase()]=w:m.attrs[tC(_)]=w}return m},{attrs:{}}),a=t.style,u=a===void 0?{}:a,d=dF(t,yF);return o.attrs.style=Zi(Zi({},o.attrs.style),u),n.apply(void 0,[e.tag,Zi(Zi({},o.attrs),d)].concat(Jg(r)))}var rC=!1;try{rC=!0}catch{}function TF(){if(!rC&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function tT(n){if(n&&xf(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(Xg.icon)return Xg.icon(n);if(n===null)return null;if(n&&xf(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function eg(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Tu({},n,e):{}}var nT={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},pl=bu.forwardRef(function(n,e){var t=Zi(Zi({},nT),n),r=t.icon,o=t.mask,a=t.symbol,u=t.className,d=t.title,m=t.titleId,_=t.maskId,w=tT(r),T=eg("classes",[].concat(Jg(_F(t)),Jg((u||"").split(" ")))),S=eg("transform",typeof t.transform=="string"?Xg.transform(t.transform):t.transform),b=eg("mask",tT(o)),N=oF(w,Zi(Zi(Zi(Zi({},T),S),b),{},{symbol:a,title:d,titleId:m,maskId:_}));if(!N)return TF("Could not find icon",w),null;var O=N.abstract,j={ref:e};return Object.keys(t).forEach(function(D){nT.hasOwnProperty(D)||(j[D]=t[D])}),xF(O[0],j)});pl.displayName="FontAwesomeIcon";pl.propTypes={beat:tt.bool,border:tt.bool,beatFade:tt.bool,bounce:tt.bool,className:tt.string,fade:tt.bool,flash:tt.bool,mask:tt.oneOfType([tt.object,tt.array,tt.string]),maskId:tt.string,fixedWidth:tt.bool,inverse:tt.bool,flip:tt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:tt.oneOfType([tt.object,tt.array,tt.string]),listItem:tt.bool,pull:tt.oneOf(["right","left"]),pulse:tt.bool,rotation:tt.oneOf([0,90,180,270]),shake:tt.bool,size:tt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:tt.bool,spinPulse:tt.bool,spinReverse:tt.bool,symbol:tt.oneOfType([tt.bool,tt.string]),title:tt.string,titleId:tt.string,transform:tt.oneOfType([tt.string,tt.object]),swapOpacity:tt.bool};var xF=nC.bind(null,bu.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const IF={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"]},SF={prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]},CF={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const rT={prefix:"fas",iconName:"universal-access",icon:[512,512,[],"f29a","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm161.5-86.1c-12.2-5.2-26.3 .4-31.5 12.6s.4 26.3 12.6 31.5l11.9 5.1c17.3 7.4 35.2 12.9 53.6 16.3l0 50.1c0 4.3-.7 8.6-2.1 12.6l-28.7 86.1c-4.2 12.6 2.6 26.2 15.2 30.4s26.2-2.6 30.4-15.2l24.4-73.2c1.3-3.8 4.8-6.4 8.8-6.4s7.6 2.6 8.8 6.4l24.4 73.2c4.2 12.6 17.8 19.4 30.4 15.2s19.4-17.8 15.2-30.4l-28.7-86.1c-1.4-4.1-2.1-8.3-2.1-12.6l0-50.1c18.4-3.5 36.3-8.9 53.6-16.3l11.9-5.1c12.2-5.2 17.8-19.3 12.6-31.5s-19.3-17.8-31.5-12.6L338.7 175c-26.1 11.2-54.2 17-82.7 17s-56.5-5.8-82.7-17l-11.9-5.1zM256 160a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},PF=({activarAccesibilidad:n,modoAccesible:e,leerTexto:t})=>E.jsxs("footer",{className:"footer",children:[E.jsxs("div",{className:"footer-contenedor",children:[E.jsxs("div",{className:"footer-col",children:[E.jsx("h4",{children:"Accesibilidad"}),E.jsxs("button",{className:"btn-accesibilidad",onClick:n,children:[E.jsx(pl,{icon:rT})," ",e?"Desactivar modo accesible":"Modo Accesible"]}),E.jsxs("button",{className:"btn-accesibilidad",onClick:()=>t("Bienvenido a Turismo Tarragona. Explora la historia, cultura y belleza de nuestra ciudad."),children:[E.jsx(pl,{icon:rT})," Escuchar descripción"]})]}),E.jsxs("div",{className:"footer-col",children:[E.jsx("h4",{children:"Turismo Tarragona"}),E.jsx("p",{children:"Explora la historia, cultura y belleza de nuestra ciudad."})]}),E.jsxs("div",{className:"footer-col",children:[E.jsx("h4",{children:"Enlaces útiles"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx(bt,{to:"/rutas",children:"Rutas"})}),E.jsx("li",{children:E.jsx(bt,{to:"/sobrenosotros",children:"Sobre Nosotros"})}),E.jsxs("li",{children:[E.jsx(bt,{to:"/faq",children:"Preguntas Frecuentes"}),E.jsx(bt,{to:"/sobrenosotros",children:"Sobre Nosotros"})]}),E.jsx("li",{children:E.jsx(bt,{to:"/terminos",children:"Terminos y condiciones"})})]})]}),E.jsxs("div",{className:"footer-col",children:[E.jsx("h4",{children:"Contacto"}),E.jsx("p",{children:"Email: contacto@tgotours.com"}),E.jsx("p",{children:"Teléfono: +34 656 280 412"}),E.jsx("ul",{children:E.jsx("li",{children:E.jsx(bt,{to:"/contacto",children:"Formulario de contacto"})})}),E.jsxs("div",{className:"footer-redes",children:[E.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noreferrer",children:E.jsx(pl,{icon:IF})}),E.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noreferrer",children:E.jsx(pl,{icon:CF})}),E.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noreferrer",children:E.jsx(pl,{icon:SF})})]})]})]}),E.jsx("div",{className:"footer-copy",children:E.jsxs("p",{children:["© ",new Date().getFullYear()," Turismo Tarragona. Todos los derechos reservados."]})})]}),bF="/assets/castells.jpg",AF="/assets/colla-jove.jpg",kF="/assets/xiquets-tarragona.jpg",RF="/assets/xiquets-santpere.jpg",LF="/assets/colla-serrallo.jpg",mu={titulo:"Castells semanales",descripcion:"Las collas castelleras son agrupaciones culturales que construyen torres humanas. Cada colla tiene su identidad, colores y tradiciones. Esta tradición nació en Cataluña en el siglo XVIII y simboliza cooperación, esfuerzo colectivo y orgullo local. Tarragona acoge algunas de las colles más destacadas.",imagen:bF,lugares:[{nombre:"Colla Jove Xiquets de Tarragona",imagen:AF,resumen:"Una de las colles más importantes y jóvenes.",detalles:"Fundada en 1979, destaca por sus castells de gran dificultad y por su camisa color vino.",horario:"Ensayos: Martes y Viernes 20:00",ubicacion:"Carrer del Cós del Bou, Tarragona"},{nombre:"Xiquets de Tarragona",imagen:kF,resumen:"La colla más antigua de Tarragona.",detalles:"Fundada en 1885. Conocida por su camisa blanca y sus grandes castells en la Plaça de les Cols.",horario:"Ensayos: Miércoles y Viernes 20:00",ubicacion:"Carrer Santa Anna, Tarragona"},{nombre:"Colla Castellera Sant Pere i Sant Pau",imagen:RF,resumen:"Colla del barrio de Sant Pere i Sant Pau.",detalles:"Creada en 1990, destacan por sus castells sólidos y su gran cohesión de grupo.",horario:"Ensayos: Martes y Jueves 19:30",ubicacion:"Centre cívic de SPiSP, Tarragona"},{nombre:"Colla Castellera del Serrallo",imagen:LF,resumen:"Colla del barrio marinero del Serrallo.",detalles:"Fundada en 1988. Conocida por su camisa azul marino y fuerte vinculación con el puerto.",horario:"Ensayos: Miércoles y Viernes 20:00",ubicacion:"Moll de Costa, Tarragona"}]};function NF(){const[n,e]=U.useState(mu.lugares[0]),t=kl();return E.jsxs("div",{style:{padding:"2rem"},children:[E.jsx("button",{onClick:()=>t(-1),style:{position:"fixed",top:"160px",left:"80%",transform:"translateX(-50%)",zIndex:1e3,padding:"10px 20px",backgroundColor:"#ffffff",color:"#000",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",opacity:.3,transition:"opacity 0.3s ease, transform 0.2s ease"},onMouseEnter:r=>r.currentTarget.style.opacity=1,onMouseLeave:r=>r.currentTarget.style.opacity=.3,children:"← Volver atrás"}),E.jsx("h1",{children:mu.titulo}),E.jsx("img",{src:mu.imagen,alt:mu.titulo,style:{width:"100%",maxHeight:"400px",objectFit:"cover",margin:"1rem 0"}}),E.jsx("p",{style:{fontSize:"1.2rem"},children:mu.descripcion}),E.jsxs("div",{style:{marginTop:"3rem"},children:[E.jsx("h2",{children:"Collas castelleras de Tarragona"}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",flexWrap:"wrap",marginBottom:"2rem"},children:mu.lugares.map((r,o)=>E.jsx("img",{src:r.imagen,alt:r.nombre,onClick:()=>e(r),style:{width:"120px",height:"90px",borderRadius:"10px",cursor:"pointer",border:r.nombre===n.nombre?"3px solid #0077cc":"2px solid transparent",objectFit:"cover"}},o))}),n&&E.jsxs("div",{style:{display:"flex",gap:"1.5rem",padding:"1.5rem",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",backgroundColor:"#fff",flexWrap:"wrap",alignItems:"center",color:"#000"},children:[E.jsx("img",{src:n.imagen,alt:n.nombre,style:{width:"240px",borderRadius:"12px",objectFit:"cover"}}),E.jsxs("div",{style:{maxWidth:"500px"},children:[E.jsx("h3",{style:{marginBottom:"0.5rem"},children:n.nombre}),E.jsx("p",{children:n.resumen}),E.jsxs("p",{children:[E.jsx("strong",{children:"Detalles:"})," ",n.detalles]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Horario:"})," ",n.horario]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Ubicación:"})," ",n.ubicacion]})]})]})]})]})}const OF="_contenedor_8hivc_1",MF="_mensajeVacio_8hivc_23",DF="_card_8hivc_33",jF="_imagen_8hivc_57",VF="_nombre_8hivc_71",FF="_fecha_8hivc_85",UF="_descripcion_8hivc_97",zF="_botonVolverFijo_8hivc_105",Zs={contenedor:OF,mensajeVacio:MF,card:DF,imagen:jF,nombre:VF,fecha:FF,descripcion:UF,botonVolverFijo:zF},BF=["castells","santjoan","fuegos","bailes"],HF=()=>{const{mes:n}=r_(),[e,t]=U.useState([]),r=kl();return U.useEffect(()=>{(async()=>{try{const a=[];for(const u of BF){const d=Tn(nt,`eventos/${n}/${u}`);(await os(d)).forEach(_=>{a.push(_.data())})}t(a)}catch(a){console.error("Error obteniendo eventos:",a)}})()},[n]),E.jsxs("div",{className:Zs.contenedor,children:[E.jsx("div",{className:Zs.header,children:E.jsx("button",{className:Zs.botonVolverFijo,onClick:()=>r(-1),children:"← Volver atrás"})}),e.length===0?E.jsx("p",{className:Zs.mensajeVacio,children:"No hay eventos registrados para este mes."}):e.map((o,a)=>E.jsxs("div",{className:Zs.card,children:[E.jsx("img",{src:o.imagenUrl,alt:o.nombre,className:Zs.imagen,onClick:()=>{o.nombre.toLowerCase().includes("castells")&&r("/evento/castells")},style:{cursor:"pointer"}}),E.jsx("h3",{className:Zs.nombre,children:o.nombre}),E.jsx("p",{className:Zs.fecha,children:o.fecha}),E.jsx("p",{className:Zs.descripcion,children:o.descripcion})]},a))]})};function iT(){const[n,e]=U.useState(null),[t,r]=U.useState({nombreUsuario:"",email:"",fechaRegistro:"",rol:"",fotoURL:""}),[o,a]=U.useState(null),[u,d]=U.useState(null),[m,_]=U.useState(!0),[w,T]=U.useState(!1);U.useEffect(()=>{const O=g_(Aa,async j=>{if(j){await j.reload(),e(j),T(j.emailVerified);const D=ln(nt,"usuarios",j.uid),K=await Ur(D);if(K.exists()){const ee=K.data();r({nombreUsuario:ee.nombreUsuario||"",email:ee.email||j.email,fechaRegistro:ee.fechaRegistro?.toDate().toLocaleDateString()||"",rol:ee.rol||"turista",fotoURL:ee.fotoURL||""})}}else e(null);_(!1)});return()=>O()},[]);const S=async()=>{try{if(!n?.uid||!t.fotoURL)return;const O=t.fotoURL.split("%2F")[1].split("?")[0],j=u0(yE,`fotosPerfil/${O}`);await yN(j);const D=ln(nt,"usuarios",n.uid);await $c(D,{fotoURL:""}),r(K=>({...K,fotoURL:""})),console.log("Foto de perfil eliminada")}catch(O){console.error("Error al eliminar la foto:",O)}},b=async()=>{const O=ln(nt,"usuarios",n.uid);if(await $c(O,{nombreUsuario:t.nombreUsuario}),await E1(n,{displayName:t.nombreUsuario}),o){const j=u0(yE,`fotosPerfil/${n.uid}`),D=await _N(j,o),K=await vN(D.ref);await $c(O,{fotoURL:K}),r({...t,fotoURL:K}),d(null)}alert("Perfil actualizado correctamente")},N=async()=>{try{await _1(Aa,n.email),alert("📩 Se ha enviado un correo para cambiar tu contraseña.")}catch(O){console.error(O),alert("Error al enviar el correo: "+O.message)}};return m?E.jsx("p",{children:"Cargando perfil..."}):n?E.jsxs("div",{className:"perfil-page",children:[E.jsx("h2",{children:"👤 Perfil de usuario"}),t.fotoURL&&E.jsx("div",{className:"foto-perfil",children:E.jsx("img",{src:t.fotoURL,alt:"Foto de perfil"})}),u&&E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("p",{children:"📷 Vista previa de la nueva foto:"}),E.jsx("img",{src:u,alt:"Vista previa",width:100})]}),E.jsxs("div",{className:"perfil-info",children:[E.jsx("label",{children:"Nombre de usuario"}),E.jsx("input",{type:"text",value:t.nombreUsuario,disabled:!0,style:{backgroundColor:"#eee",cursor:"not-allowed"}}),E.jsx("label",{children:"Correo electrónico"}),E.jsx("input",{type:"email",value:t.email,disabled:!0}),E.jsxs("p",{style:{marginBottom:"1rem"},children:["Estado del correo:"," ",w?"✅ Verificado":"⛔ No verificado"]}),E.jsx("label",{children:"Fecha de registro"}),E.jsx("input",{type:"text",value:t.fechaRegistro,disabled:!0}),E.jsx("label",{children:"Rol"}),E.jsx("input",{type:"text",value:t.rol,disabled:!0}),E.jsx("label",{children:"Foto de perfil"}),E.jsx("input",{type:"file",accept:"image/*",onChange:O=>{const j=O.target.files[0];j&&(a(j),d(URL.createObjectURL(j)))}}),E.jsx("button",{onClick:S,children:"🧼 Eliminar foto de perfil"}),E.jsx("button",{onClick:b,children:"💾 Guardar cambios"}),E.jsx("button",{onClick:N,children:"📩 Enviar correo para cambiar contraseña"})]})]}):E.jsx("p",{children:"No se ha iniciado sesión."})}function qF(){const[n,e]=U.useState([]),{usuario:t}=Eh(),[r,o]=U.useState({});return U.useEffect(()=>{(async()=>{const u=ju(Tn(nt,"threads"),pv("createdAt","desc")),m=(await os(u)).docs.map(w=>({id:w.id,...w.data()}));e(m);const _={};for(const w of m){ln(nt,"usuarios",w.authorId);const S=(await os(ju(Tn(nt,"usuarios")))).docs.find(b=>b.id===w.authorId);S&&S.exists()&&(_[w.authorId]=S.data())}o(_)})()},[]),E.jsxs("div",{className:"comunidad",children:[E.jsx("h1",{children:"Comunidad"}),E.jsxs("div",{className:"explicacion-comunidad",children:[E.jsx("h3",{children:"¿Qué es la comunidad?"}),E.jsx("p",{children:"La comunidad es un espacio abierto para compartir experiencias, resolver dudas y conectar con otros viajeros y guías."}),E.jsxs("div",{className:"comunidad-section",children:[E.jsx("h4",{children:"🗣️ Participa en los hilos"}),E.jsx("p",{children:"Puedes leer, comentar y crear hilos sobre cualquier tema relacionado con los tours, rutas, lugares o consejos de viaje."})]}),E.jsxs("div",{className:"comunidad-section",children:[E.jsx("h4",{children:"💡 Comparte tu conocimiento"}),E.jsx("p",{children:"¿Conoces una ruta secreta? ¿Tienes recomendaciones locales? ¡Compártelas! Tu experiencia puede ayudar a otros."})]}),E.jsxs("div",{className:"comunidad-section",children:[E.jsx("h4",{children:"🤝 Conecta con otros usuarios"}),E.jsx("p",{children:"Interactúa con guías, viajeros y curiosos. La comunidad es un punto de encuentro para todos los que aman explorar."})]})]}),t&&E.jsxs(bt,{to:"/nuevo-hilo",children:[E.jsx("button",{className:"boton-naranja crear-hilo-btn",children:"Crear hilo"})," "]}),E.jsx("ul",{children:n.map(a=>{const u=r[a.authorId],d=u?.fotoURL?u.fotoURL:`https://ui-avatars.com/api/?name=${a.authorName}&background=random&color=fff&size=128`;return E.jsxs("li",{className:"hilo-comunidad",children:[E.jsxs(bt,{to:`/hilo/${a.id}`,className:"link-hilo",children:[E.jsx("img",{src:d,alt:"Avatar",className:"avatar-comentario"}),E.jsx("strong",{className:"threadtitle",children:a.title})]}),E.jsxs("span",{className:"autor-hilo",children:["por ",a.authorName]})]},a.id)})})]})}function WF({usuario:n}){const[e,t]=U.useState(""),[r,o]=U.useState(""),a=kl(),[u,d]=U.useState(""),m=async _=>{_.preventDefault(),!(!e||!r)&&(await Gu(Tn(nt,"threads"),{title:e,content:r,authorId:n.uid,authorName:n.displayName||n.email,createdAt:Zu()}),d("✅ ¡Tu hilo ha sido publicado con éxito!"),t(""),o(""),setTimeout(()=>{a("/comunidad")},2e3))};return E.jsxs("div",{className:"nuevo-hilo",children:[E.jsx("h2",{children:"Crear nuevo hilo"}),E.jsxs("form",{onSubmit:m,children:[E.jsx("input",{type:"text",placeholder:"Título",value:e,onChange:_=>t(_.target.value)}),E.jsx("textarea",{placeholder:"Contenido",value:r,onChange:_=>o(_.target.value)}),E.jsx("button",{type:"submit",children:"Publicar hilo"}),u&&E.jsx("p",{style:{color:"green",marginTop:"0.5rem"},children:u})]})]})}function $F({usuario:n}){const{threadId:e}=r_(),[t,r]=U.useState(null),[o,a]=U.useState([]),[u,d]=U.useState(""),[m,_]=U.useState(null);U.useEffect(()=>{const S=ln(nt,"threads",e);Ur(S).then(O=>{if(O.exists()){const j=O.data();r(j);const D=ln(nt,"usuarios",j.authorId);Ur(D).then(K=>{K.exists()&&_(K.data())})}});const b=ju(Tn(nt,"threads",e,"comments"),pv("createdAt","asc")),N=XI(b,O=>{const j=O.docs.map(D=>({id:D.id,...D.data()}));a(j)});return()=>N()},[e]);const w=async S=>{try{const b=ln(nt,"threads",e,"comments",S);await YI(b),console.log("Comentario eliminado")}catch(b){console.error("Error al eliminar el comentario:",b)}},T=async S=>{if(S.preventDefault(),!u.trim()||!n?.uid)return;const b=n.fotoURL?n.fotoURL:null;await Gu(Tn(nt,"threads",e,"comments"),{content:u,authorId:n.uid,authorName:n.displayName||n.email,fotoURL:b,createdAt:Zu()}),d("")};return t?E.jsxs("div",{className:"thread-detail",children:[E.jsx("h2",{children:t.title}),E.jsx("p",{children:t.content}),E.jsxs("p",{className:"autor-hilo",children:[E.jsx("img",{src:m?.fotoURL?m.fotoURL:`https://ui-avatars.com/api/?name=${t.authorName}&background=random&color=fff&size=128`,alt:"Avatar del autor",className:"avatar-comentario"}),E.jsxs("em",{children:["Publicado por ",t.authorName]})]}),E.jsx("hr",{}),E.jsx("h3",{children:"Comentarios"}),E.jsx("ul",{children:o.map(S=>{const b=S.authorName?S.authorName[0].toUpperCase()+S.authorName.slice(-1).toUpperCase():"U",N=S.fotoURL?S.fotoURL:`https://ui-avatars.com/api/?name=${b}&background=random&color=fff&size=128`;return E.jsxs("li",{className:"comentario",children:[E.jsx("img",{src:N,alt:"Avatar",className:"avatar-comentario"}),E.jsxs("div",{children:[E.jsx("strong",{children:S.authorName}),E.jsx("p",{children:S.content}),n?.uid===S.authorId&&E.jsx("button",{onClick:()=>w(S.id),children:"🗑️ Eliminar"})]})]},S.id)})}),n?E.jsxs("form",{onSubmit:T,children:[E.jsx("textarea",{placeholder:"Escribe tu comentario...",value:u,onChange:S=>d(S.target.value)}),E.jsx("button",{type:"submit",children:"💬 Comentar"})]}):E.jsx("p",{children:"Debes iniciar sesión para comentar."})]}):E.jsx("p",{children:"Cargando hilo..."})}const GF=[{pregunta:"¿Cuál es la mejor época para visitar Tarragona?",respuesta:"La primavera y el otoño ofrecen temperaturas agradables y menos aglomeraciones. El verano es ideal para disfrutar de las playas."},{pregunta:"¿Necesito reservar para visitar los monumentos?",respuesta:"Algunos monumentos requieren reserva previa, especialmente en temporada alta. Recomendamos consultar la web oficial de turismo."},{pregunta:"¿Hay opciones de turismo accesible?",respuesta:E.jsxs(E.Fragment,{children:["Sí, muchos espacios están adaptados para personas con movilidad reducida. Además puedes activar el modo accesible o con audiodescripción en nuestra web. También recomendamos visitar la web de nuestros compañeros en accesibilidad: ",E.jsx("a",{href:"https://komuni.netlify.app/",target:"_blank",rel:"noopener noreferrer",children:"KOMUNI"})]})},{pregunta:"¿Dónde puedo encontrar rutas guiadas?",respuesta:"Ofrecemos rutas guiadas temáticas de todo tipo que puedes consultar en el apartado 'Rutas'."},{pregunta:"¿Dónde puedo reservar free tours?",respuesta:"Ofrecemos free tours de diferentes tipos, temáticas y duraciones. Puedes reservar directamente en nuestra sección 'Free Tours'."},{pregunta:"¿Puedo tambien trabajar con vosotros como guia de free tours?",respuesta:"Sí, puedes registrarte como 'guia' para poder realizar free tours con nosotros. Puedes publicar tus tours directamente en nuestra sección 'Free Tours'"}],ZF=()=>{const[n,e]=U.useState(null),t=r=>{e(n===r?null:r)};return E.jsxs("div",{className:"faq-page",children:[E.jsx("h2",{children:"❓ Preguntas Frecuentes"}),E.jsx("p",{children:"Resolvemos tus dudas más comunes sobre turismo en Tarragona."}),E.jsx("div",{className:"faq-list",children:GF.map((r,o)=>E.jsxs("div",{className:`faq-item ${n===o?"activo":""}`,onClick:()=>t(o),children:[E.jsx("div",{className:"faq-pregunta",children:r.pregunta}),n===o&&E.jsx("div",{className:"faq-respuesta",children:r.respuesta})]},o))})]})},KF=()=>{const[n,e]=U.useState({nombre:"",email:"",asunto:"",mensaje:""}),[t,r]=U.useState(!1),o=u=>{e({...n,[u.target.name]:u.target.value})},a=async u=>{u.preventDefault();try{await Gu(Tn(nt,"mensajesContacto"),{...n,fecha:kt.now()}),r(!0),e({nombre:"",email:"",asunto:"",mensaje:""})}catch(d){console.error("Error al enviar mensaje:",d),alert("Hubo un error al enviar tu mensaje. Intenta de nuevo.")}};return E.jsxs("div",{className:"contacto-page",children:[E.jsx("h2",{children:"📩 Contáctanos"}),E.jsx("p",{children:"¿Tienes dudas, sugerencias o comentarios? ¡Estamos aquí para ayudarte!"}),t&&E.jsx("p",{className:"mensaje-exito",children:"✅ Tu mensaje ha sido enviado correctamente."}),E.jsxs("form",{className:"contacto-form",onSubmit:a,children:[E.jsx("label",{children:"Nombre"}),E.jsx("input",{type:"text",name:"nombre",value:n.nombre,onChange:o,required:!0}),E.jsx("label",{children:"Correo electrónico"}),E.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,required:!0}),E.jsx("label",{children:"Asunto"}),E.jsx("input",{type:"text",name:"asunto",value:n.asunto,onChange:o,required:!0}),E.jsx("label",{children:"Mensaje"}),E.jsx("textarea",{name:"mensaje",rows:"5",value:n.mensaje,onChange:o,required:!0}),E.jsx("button",{type:"submit",children:"Enviar mensaje"})]})]})},QF=()=>E.jsxs("div",{style:{maxWidth:"800px",margin:"3rem auto",padding:"2rem",backgroundColor:"#1d203e",borderRadius:"12px",color:"#b0b3c2"},children:[E.jsx("h2",{style:{color:"#00CFEA",marginBottom:"1rem"},children:"📜 Términos y Condiciones"}),E.jsx("p",{children:"Última actualización: Julio 2025"}),E.jsxs("section",{style:{marginBottom:"2rem"},children:[E.jsx("h3",{style:{color:"#FDD835"},children:"1. Uso de la plataforma"}),E.jsx("p",{children:"Al registrarte en Turismo Tarragona, aceptas utilizar la plataforma de forma responsable y respetuosa. No se permite el uso indebido, ofensivo o fraudulento."})]}),E.jsxs("section",{style:{marginBottom:"2rem"},children:[E.jsx("h3",{style:{color:"#FDD835"},children:"2. Privacidad de datos"}),E.jsx("p",{children:"Tu información personal será tratada conforme a nuestra política de privacidad. No compartimos tus datos con terceros sin tu consentimiento."})]}),E.jsxs("section",{style:{marginBottom:"2rem"},children:[E.jsx("h3",{style:{color:"#FDD835"},children:"3. Contenido generado por usuarios"}),E.jsx("p",{children:"Los comentarios, reseñas y aportaciones deben respetar las normas de convivencia. Nos reservamos el derecho de moderar o eliminar contenido inapropiado."})]}),E.jsxs("section",{style:{marginBottom:"2rem"},children:[E.jsx("h3",{style:{color:"#FDD835"},children:"4. Propiedad intelectual"}),E.jsx("p",{children:"Todo el contenido de la web (textos, imágenes, rutas, etc.) está protegido por derechos de autor. No está permitido su uso comercial sin autorización."})]}),E.jsxs("section",{children:[E.jsx("h3",{style:{color:"#FDD835"},children:"5. Modificaciones"}),E.jsx("p",{children:"Podemos actualizar estos términos en cualquier momento. Te notificaremos los cambios relevantes a través de la plataforma."})]})]}),YF=()=>{const{usuario:n,rol:e,cargando:t}=Eh(),[r,o]=U.useState({titulo:"",descripcion:"",duracion:"",fecha:"",horaInicio:"",cupos:"",ubicacion:""}),[a,u]=U.useState("");if(t)return null;if(!n||e!=="guia")return E.jsxs("div",{className:"crear-tour",children:[E.jsx("h2",{children:"📍 Crear un Free Tour"}),E.jsx("p",{style:{color:"red"},children:"Solo los guías pueden acceder a esta sección."})]});const d=_=>{o({...r,[_.target.name]:_.target.value})},m=async _=>{if(_.preventDefault(),!n||e!=="guia"){u("Acceso denegado. Solo los guías pueden crear tours.");return}try{new Date(r.fecha).setHours(0,0,0,0),new Date(r.fecha).setHours(23,59,59,999);const S=ju(Tn(nt,"freeTours"),Lg("guiaID","==",n.uid),Lg("fecha","==",r.fecha));if((await os(S)).size>=3){u("Ya has creado 3 tours para ese día. No puedes crear más.");return}await Gu(Tn(nt,"freeTours"),{...r,guiaID:n.uid,guiaNombre:n.displayName||"Guía",guiaFoto:n.photoURL||"",creadoEn:Zu(),inscritos:[],reseñas:[]}),u("¡Tour creado con éxito!"),o({titulo:"",descripcion:"",duracion:"",fecha:"",horaInicio:"",cupos:"",ubicacion:""})}catch(w){console.error("Error al crear el tour:",w),u("Hubo un error al crear el tour.")}};return E.jsxs("div",{className:"crear-tour",children:[E.jsx("h2",{children:"📍 Crear un Free Tour"}),a&&E.jsx("p",{children:a}),E.jsxs("form",{onSubmit:m,children:[E.jsx("input",{type:"text",name:"titulo",placeholder:"Título del tour",value:r.titulo,onChange:d,required:!0}),E.jsx("textarea",{name:"descripcion",placeholder:"Descripción",value:r.descripcion,onChange:d,required:!0}),E.jsx("input",{type:"text",name:"duracion",placeholder:"Duración (ej. 2h)",value:r.duracion,onChange:d,required:!0}),E.jsx("input",{type:"date",name:"fecha",value:r.fecha,onChange:d,required:!0}),E.jsx("input",{type:"time",name:"horaInicio",value:r.horaInicio,onChange:d,required:!0}),E.jsx("input",{type:"number",name:"cupos",placeholder:"Cupos disponibles",value:r.cupos,onChange:d,required:!0}),E.jsx("input",{type:"text",name:"ubicacion",placeholder:"Ubicación",value:r.ubicacion,onChange:d,required:!0}),E.jsx("button",{type:"submit",children:"Publicar Tour"})]})]})};async function XF(n){const e=ln(nt,"freeTours",n),t=await Ur(e);if(!t.exists()){alert("El tour no existe");return}const r=t.data(),o=Aa.currentUser.uid;if(r.inscritos.includes(o)){alert("Ya estás inscrito en este tour");return}if(r.cupos<=0){alert("No hay cupos disponibles");return}return await $c(e,{inscritos:YD(o),cupos:r.cupos-1}),alert("¡Reserva realizada con éxito!"),"ok"}async function JF(n){try{const t=w_().currentUser,r=ln(nt,"freeTours",n),a=(await Ur(r)).data(),u=a.inscritos.filter(d=>d!==t.uid);return await $c(r,{inscritos:u,cupos:a.cupos+1}),"ok"}catch(e){return console.error("Error al cancelar reserva:",e),"error"}}const e3=({tourId:n})=>{const{usuario:e}=Eh(),[t,r]=U.useState([]),[o,a]=U.useState(""),[u,d]=U.useState(5),[m,_]=U.useState(!1),[w,T]=U.useState("");U.useEffect(()=>{const b=async()=>{const j=(await os(Tn(nt,"freeTours",n,"reseñas"))).docs.map(D=>D.data());r(j)};e&&(async()=>{const O=ln(nt,"freeTours",n),j=await Ur(O);if(j.exists()){const D=j.data().inscritos||[];_(D.includes(e.uid))}})(),b()},[n,e]);const S=async()=>{o.trim()&&(await Gu(Tn(nt,"freeTours",n,"reseñas"),{autor:e.displayName||e.email,estrellas:u,comentario:o.trim(),createdAt:Zu()}),a(""),d(5),T("✅ ¡Gracias por tu reseña!"),setTimeout(()=>T(""),3e3))};return E.jsxs("div",{className:"reseñas-tour",children:[E.jsx("h5",{children:"Reseñas:"}),t.length===0?E.jsx("p",{children:"No hay reseñas aún."}):t.map((b,N)=>E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("strong",{children:b.autor})," – ⭐ ",b.estrellas,E.jsx("p",{children:b.comentario})]},N)),e&&m&&E.jsxs("div",{style:{marginTop:"1rem"},children:[E.jsxs("label",{children:["Estrellas:",E.jsx("select",{value:u,onChange:b=>d(Number(b.target.value)),children:[1,2,3,4,5].map(b=>E.jsx("option",{value:b,children:b},b))})]}),E.jsx("textarea",{value:o,onChange:b=>a(b.target.value),placeholder:"Escribe tu reseña...",rows:2,style:{width:"100%",marginTop:"0.5rem"}}),E.jsx("button",{onClick:S,children:"Enviar reseña"})]}),w&&E.jsx("p",{style:{color:"green",marginTop:"0.5rem"},children:w}),e&&!m&&E.jsx("p",{style:{marginTop:"1rem",color:"gray"},children:"Solo puedes dejar una reseña si reservaste este tour."})]})},t3=()=>{const{usuario:n,rol:e,cargando:t}=Eh(),[r,o]=U.useState([]),[a,u]=U.useState(!1);return U.useEffect(()=>{(async()=>{const m=await os(Tn(nt,"freeTours")),_=await Promise.all(m.docs.map(async w=>{const T={id:w.id,...w.data()};let S="";if(T.guiaID){const b=ln(nt,"usuarios",T.guiaID),N=await Ur(b);N.exists()&&(S=N.data().fotoURL||"")}return{...T,guiaFoto:S}}));o(_)})()},[]),t?null:E.jsxs("div",{className:"free-tours",children:[E.jsx("h2",{children:"🌍 Free Tours disponibles"}),n&&e==="turista"&&E.jsx("button",{className:"crear-tour-btn",onClick:()=>u(d=>!d),style:{marginBottom:"2rem"},children:a?"🔙 Volver a tours":"⭐ Ver reseñas de tours"}),n&&e==="turista"&&E.jsxs("div",{className:"explicacion-guia",children:[E.jsx("h3",{children:"🌍 ¿Qué son los Free Tours?"}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"🎒 Explora la ciudad con guías locales"}),E.jsx("p",{children:"Los Free Tours son recorridos guiados por expertos locales que te muestran lo mejor de la ciudad: historia, cultura, curiosidades y rincones secretos. Son una forma auténtica y enriquecedora de conocer el destino."})]}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"💸 Tú decides cuánto pagar"}),E.jsx("p",{children:"Al finalizar el tour, tú decides cuánto pagar según tu experiencia y presupuesto. No hay tarifas fijas, lo que te permite disfrutar sin preocuparte por el costo inicial."})]}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"📍 Tours temáticos y personalizados"}),E.jsx("p",{children:"Puedes elegir entre diferentes tipos de tours: históricos, gastronómicos, de arte urbano, leyendas locales, rutas nocturnas y más. ¡Encuentra el que mejor se adapte a tus intereses!"})]}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"📆 Reserva fácil y rápida"}),E.jsx("p",{children:"Solo tienes que seleccionar el tour que te interesa, reservar plaza y confirmar tu reserva."})]}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"⭐ Experiencias valoradas por otros viajeros"}),E.jsx("p",{children:"Todos los tours tienen reseñas y calificaciones de otros turistas. Así puedes elegir con confianza y asegurarte una experiencia de calidad."})]})]}),n&&e==="guia"&&E.jsxs("div",{className:"explicacion-guia",children:[E.jsx("h3",{children:"🗺️ ¿Quieres ofrecer tus propios Free Tours?"}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"📌 ¿Cómo funciona?"}),E.jsx("p",{children:"Si estás enamorado de tu ciudad, conoces sus rincones y quieres compartir tu conocimiento con turistas mientras ganas dinero extra, ¡crear un tour gratuito o low cost es la opción perfecta!"})]}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"🛠️ Crea tu propio tour"}),E.jsx("p",{children:"¿Conoces lugares únicos, arte callejero, historia local o gastronomía tradicional? Sea cual sea tu especialidad, diseña un recorrido personalizado y compártelo con el mundo."})]}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"🤝 Reúnete con los visitantes"}),E.jsx("p",{children:"Encuéntrate con los viajeros en el punto de encuentro, muéstrales la ciudad, comparte historias y leyendas, y ofrece recomendaciones locales. Las buenas reseñas aumentan tu visibilidad y tus ingresos."})]}),E.jsxs("div",{className:"guia-section",children:[E.jsx("h4",{children:"💰 Gana dinero"}),E.jsx("p",{children:"Cuanto más valor aportes, más reservas recibirás. ¡Convierte tu pasión por tu ciudad en una fuente de ingresos!"})]})]}),n&&e==="guia"&&E.jsx(bt,{to:"/crear-tour",children:E.jsx("button",{className:"crear-tour-btn",children:"+ Crear nuevo tour"})}),a&&E.jsxs("div",{className:"reseñas-section",children:[E.jsx("h3",{children:"⭐ Reseñas de Free Tours finalizados"}),r.filter(d=>new Date(d.fecha)<new Date).map(d=>E.jsxs("div",{className:"tour-card",children:[E.jsx("h4",{children:d.titulo}),E.jsxs("p",{children:[E.jsx("strong",{children:"Guía:"})," ",d.guiaNombre]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Fecha:"})," ",d.fecha]}),E.jsx(e3,{tourId:d.id})]},d.id))]}),E.jsx("ul",{children:r.filter(d=>{const[m,_]=d.horaInicio.split(":").map(Number),w=new Date(d.fecha);return w.setHours(m),w.setMinutes(_),w>new Date}).map(d=>E.jsxs("li",{className:"tour-card",children:[E.jsx("h3",{children:d.titulo}),E.jsx("p",{children:d.descripcion}),E.jsxs("p",{children:[E.jsx("strong",{children:"Duración (horas) :"})," ",d.duracion]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Fecha:"})," ",d.fecha]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Hora de inicio:"})," ",d.horaInicio]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Ubicación:"})," ",d.ubicacion]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Cupos disponibles:"})," ",d.cupos]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Inscritos:"})," ",d.inscritos?.length||0]}),E.jsxs("div",{className:"guia-info",style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.guiaFoto&&E.jsx("img",{src:d.guiaFoto,alt:`Foto de ${d.guiaNombre}`,className:"guia-foto",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}),E.jsx("span",{className:"guia-nombre",children:d.guiaNombre})]}),n&&e==="turista"&&E.jsx(E.Fragment,{children:d.inscritos?.includes(n.uid)?E.jsx("button",{className:"cancelar-btn",onClick:async()=>{if(!window.confirm("¿Seguro que quieres cancelar tu inscripción?"))return;await JF(d.id)==="ok"&&o(w=>w.map(T=>T.id===d.id?{...T,cupos:T.cupos+1,inscritos:T.inscritos.filter(S=>S!==n.uid)}:T))},children:"Cancelar inscripción"}):E.jsx("button",{className:"reservar-btn",onClick:async()=>{await XF(d.id)==="ok"&&o(_=>_.map(w=>w.id===d.id?{...w,cupos:w.cupos-1,inscritos:[...w.inscritos||[],n.uid]}:w))},disabled:d.cupos<=0,children:d.cupos<=0?"Sin cupos":"Reservar plaza"})})]},d.id))}),n?.rol==="turista"&&E.jsxs("div",{className:"convertirse-guia",children:[E.jsx("h3",{children:"¿Te gustaría convertirte en guía?"}),E.jsx("p",{children:"Si te apasiona compartir tu ciudad, tu cultura o tus rutas favoritas, ¡quizás ser guía sea para ti! Regístrate como guía y empieza a crear tus propios tours."}),E.jsx(bt,{to:"/registro",className:"boton-guia",children:"Quiero ser guía"})]})]})},n3=()=>E.jsxs("div",{className:"about-wrapper",children:[E.jsxs("section",{className:"sobre-nosotros-section",children:[E.jsxs("div",{className:"sobre-nosotros-header",children:[E.jsx("img",{src:rS,alt:"Logo TGO Tours",className:"sobre-nosotros-logo"}),E.jsx("h2",{children:"Sobre Nosotros"}),E.jsxs("p",{children:["En ",E.jsx("strong",{children:"TGoTours"})," creemos que explorar Tarragona debe ser una experiencia enriquecedora, accesible y memorable."]})]}),E.jsxs("div",{className:"sobre-nosotros-cards",children:[E.jsxs("div",{className:"sobre-card",children:[E.jsx("img",{src:iS,alt:"Mapa"}),E.jsx("h3",{children:"Rutas Interactivas"}),E.jsx("p",{children:"Explora la ciudad con mapas dinámicos y recorridos optimizados para descubrir cada rincón histórico."})]}),E.jsxs("div",{className:"sobre-card",children:[E.jsx("img",{src:sS,alt:"Lugar"}),E.jsx("h3",{children:"Puntos Clave"}),E.jsx("p",{children:"Accede a información detallada sobre monumentos, plazas y espacios emblemáticos de Tarragona."})]}),E.jsxs("div",{className:"sobre-card",children:[E.jsx("img",{src:pj,alt:"Eventos"}),E.jsx("h3",{children:"Eventos"}),E.jsx("p",{children:"Consulta los eventos más emblemáticos como Tarraco Viva, Santa Tecla o el Concurs de Castells, y planifica tu visita en torno a ellos."})]}),E.jsxs("div",{className:"sobre-card",children:[E.jsx("img",{src:oS,alt:"Foro"}),E.jsx("h3",{children:"Comunidad"}),E.jsx("p",{children:"Comparte tus experiencias, consejos y opiniones con otros viajeros en nuestro foro interactivo."})]}),E.jsxs("div",{className:"sobre-card",children:[E.jsx("img",{src:mj,alt:"Free Tour"}),E.jsx("h3",{children:"Free Tours"}),E.jsx("p",{children:"Descubre Tarragona con recorridos gratuitos guiados por expertos locales. Ideal para quienes quieren explorar sin compromiso."})]})]})]}),E.jsxs("section",{className:"quienes-somos-section",children:[E.jsxs("div",{className:"quienes-somos-header",children:[E.jsx("h2",{children:"¿Quiénes somos?"}),E.jsxs("p",{children:["Somos un equipo de amantes de la historia, la cultura de Tarragona y desarrolladores entusiastas. Hemos creado esta plataforma para conectar ",E.jsx("strong",{children:"tecnología y patrimonio"}),", facilitando el turismo local de forma accesible, auténtica y enriquecedora."]})]}),E.jsxs("div",{className:"quienes-somos-cards",children:[E.jsxs("div",{className:"quienes-card",children:[E.jsx("h3",{children:"🌍 Misión"}),E.jsxs("p",{children:[E.jsx("strong",{children:"Facilitar el turismo local en Tarragona"})," ","mediante rutas accesibles y útiles, pensadas para que cualquier persona pueda descubrir la ciudad a pie, a su ritmo y sin complicaciones."]})]}),E.jsxs("div",{className:"quienes-card",children:[E.jsx("h3",{children:"🔭 Visión"}),E.jsxs("p",{children:["Ser el"," ",E.jsx("strong",{children:"referente digital del turismo cultural en Tarragona"}),", conectando tecnología y patrimonio para que cada recorrido sea una experiencia significativa."]})]}),E.jsxs("div",{className:"quienes-card",children:[E.jsx("h3",{children:"💛 Valores"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Pasión por Tarragona"}),": historia, cultura y esencia mediterránea."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Accesibilidad y simplicidad"}),": rutas pensadas para todos."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Autenticidad"}),": cada paso cuenta una historia."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Innovación con propósito"}),": tecnología al servicio del patrimonio."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Comunidad"}),": turismo que conecta personas, lugares y memorias."]})]})]})]})]}),E.jsxs("section",{className:"equipo-recuadro",children:[E.jsxs("div",{className:"equipo-funciona",children:[E.jsx("h2",{children:"🧭 ¿Cómo funciona?"}),E.jsxs("p",{children:["Elige una ruta según lo que te apetezca explorar desde nuestro menú. Encontrarás opciones divertidas y enriquecedoras, con"," ",E.jsx("strong",{children:"puntos destacados"}),",",E.jsx("strong",{children:"mapa en tiempo real"})," y"," ",E.jsx("strong",{children:"comentarios de otros visitantes"}),"."]})]}),E.jsxs("div",{className:"equipo-contacto",children:[E.jsx("h2",{children:"💬 ¿Tienes sugerencias?"}),E.jsxs("p",{children:["Estamos en constante mejora. Si tienes ideas, correcciones o quieres colaborar, puedes escribirnos a:"," ",E.jsx("a",{href:"mailto:contacto@tarracoexplorer.com",className:"equipo-mail",children:"contacto@tarracoexplorer.com"})]}),E.jsx("p",{className:"equipo-final",children:"¡Esperamos que disfrutes tu viaje por Tarragona tanto como nosotros disfrutamos construir esta plataforma!"})]})]}),E.jsxs("div",{className:"equipo-creadores",children:[E.jsx("h2",{children:"Sobre los creadores"}),E.jsxs("div",{className:"creadores-grid",children:[E.jsxs("div",{className:"creador-card",children:[E.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/webturismo-9e4b1.firebasestorage.app/o/imagenes%2Fadria.jpg?alt=media&token=7298667a-ad51-4c6d-ab0b-a3d07ac5fc59",alt:"Foto Adrià",className:"creador-img"}),E.jsx("h3",{children:"Adrià González"}),E.jsx("span",{className:"creador-rol",children:"Desarrollador Backend"}),E.jsx("p",{children:"Responsable de la base de datos y la interacción del usuario."})]}),E.jsxs("div",{className:"creador-card",children:[E.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/webturismo-9e4b1.firebasestorage.app/o/imagenes%2Fdani.jpg?alt=media&token=39a9ae5e-34cf-44a0-abee-664ea3d5bf0c",alt:"Foto Daniel",className:"creador-img"}),E.jsx("h3",{children:"Daniel Garcia"}),E.jsx("span",{className:"creador-rol",children:"Desarrollador Frontend"}),E.jsx("p",{children:"Responsable del contenido y la experiencia visual del usuario."})]}),E.jsxs("div",{className:"creador-card",children:[E.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/webturismo-9e4b1.firebasestorage.app/o/imagenes%2Fani.jpg?alt=media&token=c282db41-fa07-40ad-97c0-f7220f8b32e6",alt:"Foto Nighjhurey",className:"creador-img"}),E.jsx("h3",{children:"Nighjhurey Bueno"}),E.jsx("span",{className:"creador-rol",children:"Desarrolladora FullStack"}),E.jsx("p",{children:"Responsable de la integración y la interacción completa del sistema."})]})]})]})]});function r3(){const[n,e]=U.useState(null),[t,r]=U.useState(""),[o,a]=U.useState(!1),[u,d]=U.useState(!1),m=()=>{d(w=>{const T=!w;return T?document.body.classList.add("modo-accesible"):document.body.classList.remove("modo-accesible"),T})},_=(w=null)=>{const T=new SpeechSynthesisUtterance;if(T.lang="es-ES",w)T.text=w;else{const S=document.getElementById("main-content")?.innerText;T.text=S||"No se encontró contenido para leer."}window.speechSynthesis.cancel(),window.speechSynthesis.speak(T)};return U.useEffect(()=>{localStorage.getItem("modoAccesible")==="true"&&(document.body.classList.add("modo-accesible"),d(!0))},[]),U.useEffect(()=>{localStorage.setItem("modoAccesible",u)},[u]),U.useEffect(()=>{const w=g_(Aa,T=>{T?(e(T),console.log("Sesión activa:",T.email)):(e(null),console.log("No hay sesión iniciada"))});return()=>w()},[]),U.useEffect(()=>{(async()=>{if(n){const T=ln(nt,"usuarios",n.uid),S=await Ur(T);S.exists()&&r(S.data().nombreUsuario)}})()},[n]),U.useEffect(()=>{(async()=>{if(n?.uid){const T=ln(nt,"usuarios",n.uid),S=await Ur(T);if(S.exists()){const b=S.data();e(N=>({...N,...b}))}}})()},[n]),E.jsxs(E.Fragment,{children:[E.jsx(sj,{usuario:n,nombreUsuario:t,cerrarSesion:async()=>{const{signOut:w}=await QC(async()=>{const{signOut:T}=await Promise.resolve().then(()=>oL);return{signOut:T}},[]);try{await w(Aa),e(null),r(""),a(T=>!T),window.location.href="/"}catch(T){console.error("Error al cerrar sesión:",T)}}}),E.jsx("a",{href:"https://wa.me/34656280412",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Abrir WhatsApp",children:E.jsx("img",{src:"https://icongr.am/fontawesome/whatsapp.svg?size=32&color=ffffff",alt:"WhatsApp"})}),E.jsx(nj,{children:E.jsxs(_T,{children:[E.jsx(Ot,{path:"/",element:E.jsx(xj,{})}),E.jsx(Ot,{path:"/login",element:E.jsx(oj,{})}),E.jsx(Ot,{path:"/registro",element:E.jsx(aj,{})}),E.jsx(Ot,{path:"/rutas/*",element:E.jsx(rj,{})}),E.jsx(Ot,{path:"/mapa",element:E.jsx(Jj,{})}),E.jsx(Ot,{path:"/eventos",element:E.jsx(s4,{})}),E.jsx(Ot,{path:"/eventos/:mes",element:E.jsx(HF,{})}),E.jsx(Ot,{path:"/evento/castells",element:E.jsx(NF,{})}),E.jsx(Ot,{path:"/about",element:E.jsx(Sj,{})}),E.jsx(Ot,{path:"/perfil",element:E.jsx(iT,{})}),E.jsx(Ot,{path:"/perfil",element:E.jsx(iT,{})}),E.jsx(Ot,{path:"/comunidad",element:E.jsx(qF,{})}),E.jsx(Ot,{path:"/nuevo-hilo",element:E.jsx(WF,{usuario:n})}),E.jsx(Ot,{path:"/hilo/:threadId",element:E.jsx($F,{usuario:n})}),E.jsx(Ot,{path:"/ruta/:id",element:E.jsx(nS,{usuario:n})}),E.jsx(Ot,{path:"/faq",element:E.jsx(ZF,{})}),E.jsx(Ot,{path:"/contacto",element:E.jsx(KF,{})}),E.jsx(Ot,{path:"/terminos",element:E.jsx(QF,{})}),E.jsx(Ot,{path:"/crear-tour",element:E.jsx(YF,{user:n})}),E.jsx(Ot,{path:"/tours",element:E.jsx(t3,{user:n})}),E.jsx(Ot,{path:"/sobrenosotros",element:E.jsx(n3,{})})]})}),E.jsx(PF,{activarAccesibilidad:m,modoAccesible:u,leerTexto:_})]})}GC.createRoot(document.getElementById("root")).render(E.jsx(bu.StrictMode,{children:E.jsx(cb,{children:E.jsx(r3,{})})}));
